/*! For license information please see main.bundle.js.LICENSE.txt */
(()=>{var e,t,n,r,i={95318:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},87757:(e,t,n)=>{e.exports=n(35666)},51859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r=n(11526),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function p(e){return e.length}function d(e){return e.length}function f(e,t){return t.push(e),e}var m=1,g=1,y=0,v=0,_=0,b="";function x(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:m,column:g,length:a,return:""}}function w(e,t){return a(x("",null,null,"",null,null,0),e,{length:-e.length},t)}function E(){return _=v>0?c(b,--v):0,g--,10===_&&(g=1,m--),_}function S(){return _=v<y?c(b,v++):0,g++,10===_&&(g=1,m++),_}function C(){return c(b,v)}function T(){return v}function I(e,t){return h(b,e,t)}function k(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function P(e){return m=g=1,y=p(b=e),v=0,[]}function L(e){return b="",e}function M(e){return s(I(v-1,R(91===e?e+2:40===e?e+1:e)))}function A(e){for(;(_=C())&&_<33;)S();return k(e)>2||k(_)>3?"":" "}function O(e,t){for(;--t&&S()&&!(_<48||_>102||_>57&&_<65||_>70&&_<97););return I(e,T()+(t<6&&32==C()&&32==S()))}function R(e){for(;S();)switch(_){case e:return v;case 34:case 39:34!==e&&39!==e&&R(_);break;case 40:41===e&&R(e);break;case 92:S()}return v}function N(e,t){for(;S()&&e+_!==57&&(e+_!==84||47!==C()););return"/*"+I(t,v-1)+"*"+o(47===e?e:S())}function D(e){for(;!k(C());)S();return I(e,v)}var z="-ms-",F="-moz-",B="-webkit-",j="comm",Z="rule",U="decl",q="@keyframes";function V(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function G(e,t,n,r){switch(e.type){case"@import":case U:return e.return=e.return||e.value;case j:return"";case q:return e.return=e.value+"{"+V(e.children,r)+"}";case Z:e.value=e.props.join(",")}return p(n=V(e.children,r))?e.return=e.value+"{"+n+"}":""}function H(e,t){switch(function(e,t){return(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3)}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+F+e+z+e+e;case 6828:case 4268:return B+e+z+e+e;case 6165:return B+e+z+"flex-"+e+e;case 5187:return B+e+l(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return B+e+z+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return B+e+z+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+z+l(e,"shrink","negative")+e;case 5292:return B+e+z+l(e,"basis","preferred-size")+e;case 6060:return B+"box-"+l(e,"-grow","")+B+e+z+l(e,"grow","positive")+e;case 4554:return B+l(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+F+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?H(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,p(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+B)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+z+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+z+e+e}return e}function W(e){return L($("",null,null,null,[""],e=P(e),0,[0],e))}function $(e,t,n,r,i,a,s,c,h){for(var d=0,m=0,g=s,y=0,v=0,_=0,b=1,x=1,w=1,I=0,k="",P=i,L=a,R=r,z=k;x;)switch(_=I,I=S()){case 40:if(108!=_&&58==z.charCodeAt(g-1)){-1!=u(z+=l(M(I),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:z+=M(I);break;case 9:case 10:case 13:case 32:z+=A(_);break;case 92:z+=O(T()-1,7);continue;case 47:switch(C()){case 42:case 47:f(Y(N(S(),T()),t,n),h);break;default:z+="/"}break;case 123*b:c[d++]=p(z)*w;case 125*b:case 59:case 0:switch(I){case 0:case 125:x=0;case 59+m:v>0&&p(z)-g&&f(v>32?K(z+";",r,n,g-1):K(l(z," ","")+";",r,n,g-2),h);break;case 59:z+=";";default:if(f(R=X(z,t,n,d,m,i,c,k,P=[],L=[],g),a),123===I)if(0===m)$(z,t,R,R,P,a,g,c,L);else switch(y){case 100:case 109:case 115:$(e,R,R,r&&f(X(e,R,R,0,0,i,c,k,i,P=[],g),L),i,L,g,c,r?P:L);break;default:$(z,R,R,R,[""],L,0,c,L)}}d=m=v=0,b=w=1,k=z="",g=s;break;case 58:g=1+p(z),v=_;default:if(b<1)if(123==I)--b;else if(125==I&&0==b++&&125==E())continue;switch(z+=o(I),I*b){case 38:w=m>0?1:(z+="\f",-1);break;case 44:c[d++]=(p(z)-1)*w,w=1;break;case 64:45===C()&&(z+=M(S())),y=C(),m=g=p(k=z+=D(T())),I++;break;case 45:45===_&&2==p(z)&&(b=0)}}return a}function X(e,t,n,r,o,a,u,c,p,f,m){for(var g=o-1,y=0===o?a:[""],v=d(y),_=0,b=0,w=0;_<r;++_)for(var E=0,S=h(e,g+1,g=i(b=u[_])),C=e;E<v;++E)(C=s(b>0?y[E]+" "+S:l(S,/&\f/g,y[E])))&&(p[w++]=C);return x(e,t,n,0===o?Z:c,p,f,m)}function Y(e,t,n){return x(e,t,n,j,o(_),h(e,2,-2),0)}function K(e,t,n,r){return x(e,t,n,U,h(e,0,r),h(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(t[n]=1),!k(i);)S();return I(e,v)},Q=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Q.get(n))&&!r){Q.set(e,!0);for(var i=[],a=function(e,t){return L(function(e,t){var n=-1,r=44;do{switch(k(r)){case 0:38===r&&12===C()&&(t[n]=1),e[n]+=J(v-1,t,n);break;case 2:e[n]+=M(r);break;case 4:if(44===r){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(r)}}while(r=S());return e}(P(e),t))}(t,i),s=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<s.length;c++,u++)e.props[u]=i[l]?a[l].replace(/&\f/g,s[c]):s[c]+" "+a[l]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},ne=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case U:e.return=H(e.value,e.length);break;case q:return V([w(e,{value:l(e.value,"@","@"+B)})],r);case Z:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=/(::plac\w+|:read-\w+)/.exec(e))?e[0]:e}(t)){case":read-only":case":read-write":return V([w(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return V([w(e,{props:[l(t,/:(plac\w+)/,":-webkit-input-$1")]}),w(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),w(e,{props:[l(t,/:(plac\w+)/,z+"input-$1")]})],r)}return""}))}}];const re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i,o,a=e.stylisPlugins||ne,s={},l=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,h,p,f=[G,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],m=(h=[ee,te].concat(a,f),p=d(h),function(e,t,n,r){for(var i="",o=0;o<p;o++)i+=h[o](e,t,n,r)||"";return i});o=function(e,t,n,r){u=n,V(W(e?e+"{"+t.styles+"}":t.styles),m),r&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new r.m({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return g.sheet.hydrate(l),g}},59122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67866),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const o=(0,r.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},67866:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},5638:(e,t,n)=>{"use strict";n.d(t,{T:()=>s,w:()=>a});var r=n(67294),i=n(51859),o=(n(23817),(0,r.createContext)("undefined"!=typeof HTMLElement?(0,i.Z)({key:"css"}):null));o.Provider;var a=function(e){return(0,r.forwardRef)((function(t,n){var i=(0,r.useContext)(o);return e(t,i,n)}))},s=(0,r.createContext)({})},23817:(e,t,n)=>{"use strict";n.d(t,{O:()=>m});const r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};var i=n(40351),o=n(67866),a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},c=(0,o.Z)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),h=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(s,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i.Z[e]||l(e)||"number"!=typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=p(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":u(a)&&(r+=c(o)+":"+h(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=p(e,t,a);switch(o){case"animation":case"animationName":r+=c(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)u(a[l])&&(r+=c(o)+":"+h(o,a[l])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,o=n(e);return d=i,p(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var d,f=/label:\s*([^\s;\n{]+)\s*(;|$)/g,m=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";d=void 0;var a=e[0];null==a||void 0===a.raw?(i=!1,o+=p(n,t,a)):o+=a[0];for(var s=1;s<e.length;s++)o+=p(n,t,e[s]),i&&(o+=a[s]);f.lastIndex=0;for(var l,u="";null!==(l=f.exec(o));)u+="-"+l[1];return{name:r(o)+u,styles:o,next:d}}},11526:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},40351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},70444:(e,t,n)=>{"use strict";function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}n.d(t,{M:()=>i,f:()=>r});var i=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}},7447:(e,t,n)=>{"use strict";var r=n(95318);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12-4-4h8l-4 4z"}),"ArrowDropDownCircle");t.Z=a},15498:(e,t,n)=>{"use strict";var r=n(95318);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"}),"BarChart");t.Z=a},44510:(e,t,n)=>{"use strict";var r=n(95318);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");t.Z=a},59622:(e,t,n)=>{"use strict";var r=n(95318);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}),"ContentPaste");t.Z=a},74721:(e,t,n)=>{"use strict";var r=n(95318);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.Z=a},11359:(e,t,n)=>{"use strict";var r=n(95318);t.Z=void 0;var i=r(n(64938)),o=n(85893),a=(0,i.default)((0,o.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share");t.Z=a},64938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(51699)},60713:(e,t,n)=>{"use strict";function r(e,t,n){const r={};return Object.keys(e).forEach((i=>{r[i]=e[i].reduce(((e,r)=>(r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e)),[]).join(" ")})),r}n.d(t,{Z:()=>r})},50252:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const r=e=>e,i=(()=>{let e=r;return{configure(t){e=t},generate:t=>e(t),reset(){e=r}}})()},68919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(50252);const i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function o(e,t){return i[t]||`${r.Z.generate(e)}-${t}`}},86288:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68919);function i(e,t){const n={};return t.forEach((t=>{n[t]=(0,r.Z)(e,t)})),n}},63023:(e,t)=>{"use strict";if("function"==typeof Symbol&&Symbol.for){var n=Symbol.for;n("react.element"),n("react.portal"),n("react.fragment"),n("react.strict_mode"),n("react.profiler"),n("react.provider"),n("react.context"),n("react.forward_ref"),n("react.suspense"),n("react.suspense_list"),n("react.memo"),n("react.lazy"),n("react.block"),n("react.server.block"),n("react.fundamental"),n("react.debug_trace_mode"),n("react.legacy_hidden")}},76607:(e,t,n)=>{"use strict";n(63023)},24345:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ne});var r=n(87462),i=n(63366),o=n(59766),a=n(86268),s=n(71387),l=n(41796);const u={black:"#000",white:"#fff"},c={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h="#f3e5f5",p="#ce93d8",d="#ba68c8",f="#ab47bc",m="#9c27b0",g="#7b1fa2",y="#e57373",v="#ef5350",_="#f44336",b="#d32f2f",x="#c62828",w="#ffb74d",E="#ffa726",S="#ff9800",C="#f57c00",T="#e65100",I="#e3f2fd",k="#90caf9",P="#42a5f5",L="#1976d2",M="#1565c0",A="#4fc3f7",O="#29b6f6",R="#03a9f4",N="#0288d1",D="#01579b",z="#81c784",F="#66bb6a",B="#4caf50",j="#388e3c",Z="#2e7d32",U="#1b5e20",q=["mode","contrastThreshold","tonalOffset"],V={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},G={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function H(e,t,n,r){const i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,o)))}const W=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"],$={textTransform:"uppercase"},X='"Roboto", "Helvetica", "Arial", sans-serif';function Y(e,t){const n="function"==typeof t?t(e):t,{fontFamily:a=X,fontSize:s=14,fontWeightLight:l=300,fontWeightRegular:u=400,fontWeightMedium:c=500,fontWeightBold:h=700,htmlFontSize:p=16,allVariants:d,pxToRem:f}=n,m=(0,i.Z)(n,W),g=s/14,y=f||(e=>e/p*g+"rem"),v=(e,t,n,i,o)=>{return(0,r.Z)({fontFamily:a,fontWeight:e,fontSize:y(t),lineHeight:n},a===X?{letterSpacing:(s=i/t,Math.round(1e5*s)/1e5+"em")}:{},o,d);var s},_={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(u,48,1.167,0),h4:v(u,34,1.235,.25),h5:v(u,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(u,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(u,16,1.5,.15),body2:v(u,14,1.43,.15),button:v(c,14,1.75,.4,$),caption:v(u,12,1.66,.4),overline:v(u,12,2.66,1,$)};return(0,o.Z)((0,r.Z)({htmlFontSize:p,pxToRem:y,fontFamily:a,fontSize:s,fontWeightLight:l,fontWeightRegular:u,fontWeightMedium:c,fontWeightBold:h},_),m,{clone:!1})}function K(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,0.2)`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,0.14)`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,0.12)`].join(",")}const J=["none",K(0,2,1,-1,0,1,1,0,0,1,3,0),K(0,3,1,-2,0,2,2,0,0,1,5,0),K(0,3,3,-2,0,3,4,0,0,1,8,0),K(0,2,4,-1,0,4,5,0,0,1,10,0),K(0,3,5,-1,0,5,8,0,0,1,14,0),K(0,3,5,-1,0,6,10,0,0,1,18,0),K(0,4,5,-2,0,7,10,1,0,2,16,1),K(0,5,5,-3,0,8,10,1,0,3,14,2),K(0,5,6,-3,0,9,12,1,0,3,16,2),K(0,6,6,-3,0,10,14,1,0,4,18,3),K(0,6,7,-4,0,11,15,1,0,4,20,3),K(0,7,8,-4,0,12,17,2,0,5,22,4),K(0,7,8,-4,0,13,19,2,0,5,24,4),K(0,7,9,-4,0,14,21,2,0,5,26,4),K(0,8,9,-5,0,15,22,2,0,6,28,5),K(0,8,10,-5,0,16,24,2,0,6,30,5),K(0,8,11,-5,0,17,26,2,0,6,32,5),K(0,9,11,-5,0,18,28,2,0,7,34,6),K(0,9,12,-6,0,19,29,2,0,7,36,6),K(0,10,13,-6,0,20,31,3,0,8,38,7),K(0,10,13,-6,0,21,33,3,0,8,40,7),K(0,10,14,-6,0,22,35,3,0,8,42,7),K(0,11,14,-7,0,23,36,3,0,9,44,8),K(0,11,15,-7,0,24,38,3,0,9,46,8)];var Q=n(96067);const ee={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},te=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const ne=function(e={},...t){const{mixins:n={},palette:W={},transitions:$={},typography:X={}}=e,K=(0,i.Z)(e,te),ne=function(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:a=.2}=e,W=(0,i.Z)(e,q),$=e.primary||function(e="light"){return"dark"===e?{main:k,light:I,dark:P}:{main:L,light:P,dark:M}}(t),X=e.secondary||function(e="light"){return"dark"===e?{main:p,light:h,dark:f}:{main:m,light:d,dark:g}}(t),Y=e.error||function(e="light"){return"dark"===e?{main:_,light:y,dark:b}:{main:b,light:v,dark:x}}(t),K=e.info||function(e="light"){return"dark"===e?{main:O,light:A,dark:N}:{main:N,light:R,dark:D}}(t),J=e.success||function(e="light"){return"dark"===e?{main:F,light:z,dark:j}:{main:Z,light:B,dark:U}}(t),Q=e.warning||function(e="light"){return"dark"===e?{main:E,light:w,dark:C}:{main:"#ed6c02",light:S,dark:T}}(t);function ee(e){return(0,l.mi)(e,G.text.primary)>=n?G.text.primary:V.text.primary}const te=({color:e,name:t,mainShade:n=500,lightShade:i=300,darkShade:o=700})=>{if(!(e=(0,r.Z)({},e)).main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error((0,s.Z)(11,t?` (${t})`:"",n));if("string"!=typeof e.main)throw new Error((0,s.Z)(12,t?` (${t})`:"",JSON.stringify(e.main)));return H(e,"light",i,a),H(e,"dark",o,a),e.contrastText||(e.contrastText=ee(e.main)),e},ne={dark:G,light:V};return(0,o.Z)((0,r.Z)({common:u,mode:t,primary:te({color:$,name:"primary"}),secondary:te({color:X,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:te({color:Y,name:"error"}),warning:te({color:Q,name:"warning"}),info:te({color:K,name:"info"}),success:te({color:J,name:"success"}),grey:c,contrastThreshold:n,getContrastText:ee,augmentColor:te,tonalOffset:a},ne[t]),W)}(W),re=(0,a.Z)(e);let ie=(0,o.Z)(re,{mixins:(oe=re.breakpoints,re.spacing,ae=n,(0,r.Z)({toolbar:{minHeight:56,[`${oe.up("xs")} and (orientation: landscape)`]:{minHeight:48},[oe.up("sm")]:{minHeight:64}}},ae)),palette:ne,shadows:J.slice(),typography:Y(ne,X),transitions:(0,Q.ZP)($),zIndex:(0,r.Z)({},ee)});var oe,ae;return ie=(0,o.Z)(ie,K),ie=t.reduce(((e,t)=>(0,o.Z)(e,t)),ie),ie}},96067:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,x9:()=>s});var r=n(63366),i=n(87462);const o=["duration","easing","delay"],a={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},s={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function l(e){return`${Math.round(e)}ms`}function u(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function c(e){const t=(0,i.Z)({},a,e.easing),n=(0,i.Z)({},s,e.duration);return(0,i.Z)({getAutoHeightDuration:u,create:(e=["all"],i={})=>{const{duration:a=n.standard,easing:s=t.easeInOut,delay:u=0}=i;return(0,r.Z)(i,o),(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"==typeof a?a:l(a)} ${s} ${"string"==typeof u?u:l(u)}`)).join(",")}},e,{easing:t,duration:n})}},90247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(24345).Z)()},29602:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>w,FO:()=>_,Dz:()=>b});var r=n(87462),i=n(63366),o=n(62357),a=n(86268),s=n(28320);const l=["variant"];function u(e){return 0===e.length}function c(e){const{variant:t}=e,n=(0,i.Z)(e,l);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?u(r)?e[t]:(0,s.Z)(e[t]):`${u(r)?t:(0,s.Z)(t)}${(0,s.Z)(e[t].toString())}`})),r}var h=n(86523);const p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],d=["theme"],f=["theme"];function m(e){return 0===Object.keys(e).length}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const y=(0,a.Z)();var v=n(90247);const _=e=>g(e)&&"classes"!==e,b=g,x=function(e={}){const{defaultTheme:t=y,rootShouldForwardProp:n=g,slotShouldForwardProp:a=g,styleFunctionSx:s=h.Z}=e;return(e,l={})=>{const{name:u,slot:h,skipVariantsResolver:y,skipSx:v,overridesResolver:_}=l,b=(0,i.Z)(l,p),x=void 0!==y?y:h&&"Root"!==h||!1,w=v||!1;let E=g;"Root"===h?E=n:h&&(E=a);const S=(0,o.ZP)(e,(0,r.Z)({shouldForwardProp:E,label:void 0},b)),C=(e,...n)=>{const o=n?n.map((e=>"function"==typeof e&&e.__emotion_real!==e?n=>{let{theme:o}=n,a=(0,i.Z)(n,d);return e((0,r.Z)({theme:m(o)?t:o},a))}:e)):[];let a=e;u&&_&&o.push((e=>{const n=m(e.theme)?t:e.theme,i=((e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null)(u,n);if(i){const t={};return Object.entries(i).forEach((([i,o])=>{t[i]="function"==typeof o?o((0,r.Z)({},e,{theme:n})):o})),_(e,t)}return null})),u&&!x&&o.push((e=>{const n=m(e.theme)?t:e.theme;return((e,t,n,r)=>{var i,o;const{ownerState:a={}}=e,s=[],l=null==n||null==(i=n.components)||null==(o=i[r])?void 0:o.variants;return l&&l.forEach((n=>{let r=!0;Object.keys(n.props).forEach((t=>{a[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[c(n.props)])})),s})(e,((e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach((e=>{const t=c(e.props);r[t]=e.style})),r})(u,n),n,u)})),w||o.push((e=>{const n=m(e.theme)?t:e.theme;return s((0,r.Z)({},e,{theme:n}))}));const l=o.length-n.length;if(Array.isArray(e)&&l>0){const t=new Array(l).fill("");a=[...e,...t],a.raw=[...e.raw,...t]}else"function"==typeof e&&e.__emotion_real!==e&&(a=n=>{let{theme:o}=n,a=(0,i.Z)(n,f);return e((0,r.Z)({theme:m(o)?t:o},a))});return S(a,...o)};return S.withConfig&&(C.withConfig=S.withConfig),C}}({defaultTheme:v.Z,rootShouldForwardProp:_}),w=x},89130:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(20539),i=n(96682),o=n(90247);function a({props:e,name:t}){return function({props:e,name:t,defaultTheme:n}){const o=(0,i.Z)(n);return(0,r.Z)({theme:o,name:t,props:e})}({props:e,name:t,defaultTheme:o.Z})}},98216:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(28320).Z},15949:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(87462),i=n(67294),o=n(63366),a=n(86010),s=n(60713),l=n(98216),u=n(89130),c=n(29602),h=n(68919);function p(e){return(0,h.Z)("MuiSvgIcon",e)}(0,n(86288).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var d=n(85893);const f=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${(0,l.Z)(n.color)}`],t[`fontSize${(0,l.Z)(n.fontSize)}`]]}})((({theme:e,ownerState:t})=>{var n,r;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter}),fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(35)}[t.fontSize],color:null!=(n=null==(r=e.palette[t.color])?void 0:r.main)?n:{action:e.palette.action.active,disabled:e.palette.action.disabled,inherit:void 0}[t.color]}})),g=i.forwardRef((function(e,t){const n=(0,u.Z)({props:e,name:"MuiSvgIcon"}),{children:i,className:c,color:h="inherit",component:g="svg",fontSize:y="medium",htmlColor:v,inheritViewBox:_=!1,titleAccess:b,viewBox:x="0 0 24 24"}=n,w=(0,o.Z)(n,f),E=(0,r.Z)({},n,{color:h,component:g,fontSize:y,inheritViewBox:_,viewBox:x}),S={};_||(S.viewBox=x);const C=(e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root","inherit"!==t&&`color${(0,l.Z)(t)}`,`fontSize${(0,l.Z)(n)}`]};return(0,s.Z)(i,p,r)})(E);return(0,d.jsxs)(m,(0,r.Z)({as:g,className:(0,a.Z)(C.root,c),ownerState:E,focusable:"false",color:v,"aria-hidden":!b||void 0,role:b?"img":void 0,ref:t},S,w,{children:[i,b?(0,d.jsx)("title",{children:b}):null]}))}));g.muiName="SvgIcon";const y=g;function v(e,t){const n=(n,i)=>(0,d.jsx)(y,(0,r.Z)({"data-testid":`${t}Icon`,ref:i},n,{children:e}));return n.muiName=y.muiName,i.memo(i.forwardRef(n))}},57144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(87596).Z},51699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{capitalize:()=>r.Z,createChainedFunction:()=>i,createSvgIcon:()=>o.Z,debounce:()=>a.Z,deprecatedPropType:()=>s,isMuiElement:()=>l.Z,ownerDocument:()=>u.Z,ownerWindow:()=>c.Z,requirePropFactory:()=>h,setRef:()=>p,unstable_ClassNameGenerator:()=>b.Z,unstable_useEnhancedEffect:()=>d.Z,unstable_useId:()=>f.Z,unsupportedProp:()=>m,useControlled:()=>g.Z,useEventCallback:()=>y.Z,useForkRef:()=>v.Z,useIsFocusVisible:()=>_.Z});var r=n(98216);const i=n(49064).Z;var o=n(15949),a=n(57144);const s=function(e,t){return()=>null};var l=n(48502),u=n(8038),c=n(5340);n(87462);const h=function(e,t){return()=>null},p=n(7960).Z;var d=n(58974),f=n(27909);const m=function(e,t,n,r,i){return null};var g=n(72893),y=n(2068),v=n(51705),_=n(13511),b=n(50252)},48502:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8038:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(57094).Z},5340:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(58290).Z},72893:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i=function({controlled:e,default:t,name:n,state:i="value"}){const{current:o}=r.useRef(void 0!==e),[a,s]=r.useState(t);return[o?e:a,r.useCallback((e=>{o||s(e)}),[])]}},58974:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(16600).Z},2068:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(73633).Z},51705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(30067).Z},27909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(57579).Z},13511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(67294);let i,o=!0,a=!1;const s={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function l(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function u(){o=!1}function c(){"hidden"===this.visibilityState&&a&&(o=!0)}const h=function(){const e=r.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",l,!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=r.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!function(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(e){}return o||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!s[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,window.clearTimeout(i),i=window.setTimeout((()=>{a=!1}),100),t.current=!1,!0)},ref:e}}},44819:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(67294).createContext(null)},56760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(44819);function o(){return r.useContext(i.Z)}},62357:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>g});var r=n(67294),i=n(87462),o=n(59122),a=n(5638),s=n(70444),l=n(23817),u=o.Z,c=function(e){return"theme"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?u:c},p=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},d=function(){return null};var f=function e(t,n){var o,u,c=t.__emotion_real===t,f=c&&t.__emotion_base||t;void 0!==n&&(o=n.label,u=n.target);var m=p(t,n,c),g=m||h(f),y=!g("as");return function(){var v=arguments,_=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&_.push("label:"+o+";"),null==v[0]||void 0===v[0].raw)_.push.apply(_,v);else{_.push(v[0][0]);for(var b=v.length,x=1;x<b;x++)_.push(v[x],v[0][x])}var w=(0,a.w)((function(e,t,n){var i=y&&e.as||f,o="",c=[],p=e;if(null==e.theme){for(var v in p={},e)p[v]=e[v];p.theme=(0,r.useContext)(a.T)}"string"==typeof e.className?o=(0,s.f)(t.registered,c,e.className):null!=e.className&&(o=e.className+" ");var b=(0,l.O)(_.concat(c),t.registered,p);(0,s.M)(t,b,"string"==typeof i),o+=t.key+"-"+b.name,void 0!==u&&(o+=" "+u);var x=y&&void 0===m?h(i):g,w={};for(var E in e)y&&"as"===E||x(E)&&(w[E]=e[E]);w.className=o,w.ref=n;var S=(0,r.createElement)(i,w),C=(0,r.createElement)(d,null);return(0,r.createElement)(r.Fragment,null,C,S)}));return w.displayName=void 0!==o?o:"Styled("+("string"==typeof f?f:f.displayName||f.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=f,w.__emotion_styles=_,w.__emotion_forwardProp=m,Object.defineProperty(w,"toString",{value:function(){return"."+u}}),w.withComponent=function(t,r){return e(t,(0,i.Z)({},n,r,{shouldForwardProp:p(w,r,!0)})).apply(void 0,_)},w}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){f[e]=f(e)}));const m=f;function g(e,t){return m(e,t)}},95408:(e,t,n)=>{"use strict";n.d(t,{L7:()=>s,P$:()=>l,VO:()=>r,W8:()=>a,k9:()=>o});const r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${r[e]}px)`};function o(e,t,n){const o=e.theme||{};if(Array.isArray(t)){const e=o.breakpoints||i;return t.reduce(((r,i,o)=>(r[e.up(e.keys[o])]=n(t[o]),r)),{})}if("object"==typeof t){const e=o.breakpoints||i;return Object.keys(t).reduce(((i,o)=>{if(-1!==Object.keys(e.values||r).indexOf(o))i[e.up(o)]=n(t[o],o);else{const e=o;i[e]=t[e]}return i}),{})}return n(t)}function a(e={}){var t;return(null==e||null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function s(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function l({values:e,breakpoints:t,base:n}){const r=n||function(e,t){if("object"!=typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach(((t,r)=>{r<e.length&&(n[t]=!0)})):r.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(e,t),i=Object.keys(r);if(0===i.length)return e;let o;return i.reduce(((t,n,r)=>(Array.isArray(e)?(t[n]=null!=e[r]?e[r]:e[o],o=r):(t[n]=null!=e[n]?e[n]:e[o]||e,o=n),t)),{})}},41796:(e,t,n)=>{"use strict";n.d(t,{$n:()=>h,Fq:()=>u,_j:()=>c,mi:()=>l});var r=n(71387);function i(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));let i,a=e.substring(t+1,e.length-1);if("color"===n){if(a=a.split(" "),i=a.shift(),4===a.length&&"/"===a[3].charAt(0)&&(a[3]=a[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else a=a.split(",");return a=a.map((e=>parseFloat(e))),{type:n,values:a,colorSpace:i}}function a(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return-1!==t.indexOf("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),r=-1!==t.indexOf("color")?`${n} ${r.join(" ")}`:`${r.join(", ")}`,`${t}(${r})`}function s(e){let t="hsl"===(e=o(e)).type?o(function(e){e=o(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),l=(e,t=(e+n/30)%12)=>i-s*Math.max(Math.min(t-3,9-t,1),-1);let u="rgb";const c=[Math.round(255*l(0)),Math.round(255*l(8)),Math.round(255*l(4))];return"hsla"===e.type&&(u+="a",c.push(t[3])),a({type:u,values:c})}(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function l(e,t){const n=s(e),r=s(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,a(e)}function c(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function h(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return a(e)}},86268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(87462),i=n(63366),o=n(59766);const a=["values","unit","step"];const s={borderRadius:4};var l=n(62605);const u=["breakpoints","palette","spacing","shape"],c=function(e={},...t){const{breakpoints:n={},palette:c={},spacing:h,shape:p={}}=e,d=(0,i.Z)(e,u),f=function(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:o=5}=e,s=(0,i.Z)(e,a),l=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,r.Z)({},e,{[t.key]:t.val})),{})})(t),u=Object.keys(l);function c(e){return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n})`}function h(e){return`@media (max-width:${("number"==typeof t[e]?t[e]:e)-o/100}${n})`}function p(e,r){const i=u.indexOf(r);return`@media (min-width:${"number"==typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==i&&"number"==typeof t[u[i]]?t[u[i]]:r)-o/100}${n})`}return(0,r.Z)({keys:u,values:l,up:c,down:h,between:p,only:function(e){return u.indexOf(e)+1<u.length?p(e,u[u.indexOf(e)+1]):c(e)},not:function(e){const t=u.indexOf(e);return 0===t?c(u[1]):t===u.length-1?h(u[t]):p(e,u[u.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},s)}(n),m=function(e=8){if(e.mui)return e;const t=(0,l.hB)({spacing:e}),n=(...e)=>(0===e.length?[1]:e).map((e=>{const n=t(e);return"number"==typeof n?`${n}px`:n})).join(" ");return n.mui=!0,n}(h);let g=(0,o.Z)({breakpoints:f,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},c),spacing:m,shape:(0,r.Z)({},s,p)},d);return g=t.reduce(((e,t)=>(0,o.Z)(e,t)),g),g}},74178:(e,t,n)=>{"use strict";n.d(t,{Gc:()=>X,G$:()=>$});var r=n(54844),i=n(47730);const o=function(...e){const t=e.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),n=e=>Object.keys(e).reduce(((n,r)=>t[r]?(0,i.Z)(n,t[r](e)):n),{});return n.propTypes={},n.filterProps=e.reduce(((e,t)=>e.concat(t.filterProps)),[]),n};var a=n(62605),s=n(95408);function l(e){return"number"!=typeof e?e:`${e}px solid`}const u=(0,r.Z)({prop:"border",themeKey:"borders",transform:l}),c=(0,r.Z)({prop:"borderTop",themeKey:"borders",transform:l}),h=(0,r.Z)({prop:"borderRight",themeKey:"borders",transform:l}),p=(0,r.Z)({prop:"borderBottom",themeKey:"borders",transform:l}),d=(0,r.Z)({prop:"borderLeft",themeKey:"borders",transform:l}),f=(0,r.Z)({prop:"borderColor",themeKey:"palette"}),m=(0,r.Z)({prop:"borderTopColor",themeKey:"palette"}),g=(0,r.Z)({prop:"borderRightColor",themeKey:"palette"}),y=(0,r.Z)({prop:"borderBottomColor",themeKey:"palette"}),v=(0,r.Z)({prop:"borderLeftColor",themeKey:"palette"}),_=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,a.eI)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,a.NA)(t,e)});return(0,s.k9)(e,e.borderRadius,n)}return null};_.propTypes={},_.filterProps=["borderRadius"];const b=o(u,c,h,p,d,f,m,g,y,v,_),x=o((0,r.Z)({prop:"displayPrint",cssProperty:!1,transform:e=>({"@media print":{display:e}})}),(0,r.Z)({prop:"display"}),(0,r.Z)({prop:"overflow"}),(0,r.Z)({prop:"textOverflow"}),(0,r.Z)({prop:"visibility"}),(0,r.Z)({prop:"whiteSpace"})),w=o((0,r.Z)({prop:"flexBasis"}),(0,r.Z)({prop:"flexDirection"}),(0,r.Z)({prop:"flexWrap"}),(0,r.Z)({prop:"justifyContent"}),(0,r.Z)({prop:"alignItems"}),(0,r.Z)({prop:"alignContent"}),(0,r.Z)({prop:"order"}),(0,r.Z)({prop:"flex"}),(0,r.Z)({prop:"flexGrow"}),(0,r.Z)({prop:"flexShrink"}),(0,r.Z)({prop:"alignSelf"}),(0,r.Z)({prop:"justifyItems"}),(0,r.Z)({prop:"justifySelf"})),E=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,a.eI)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,a.NA)(t,e)});return(0,s.k9)(e,e.gap,n)}return null};E.propTypes={},E.filterProps=["gap"];const S=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,a.eI)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,a.NA)(t,e)});return(0,s.k9)(e,e.columnGap,n)}return null};S.propTypes={},S.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,a.eI)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,a.NA)(t,e)});return(0,s.k9)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];const T=o(E,S,C,(0,r.Z)({prop:"gridColumn"}),(0,r.Z)({prop:"gridRow"}),(0,r.Z)({prop:"gridAutoFlow"}),(0,r.Z)({prop:"gridAutoColumns"}),(0,r.Z)({prop:"gridAutoRows"}),(0,r.Z)({prop:"gridTemplateColumns"}),(0,r.Z)({prop:"gridTemplateRows"}),(0,r.Z)({prop:"gridTemplateAreas"}),(0,r.Z)({prop:"gridArea"})),I=o((0,r.Z)({prop:"position"}),(0,r.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,r.Z)({prop:"top"}),(0,r.Z)({prop:"right"}),(0,r.Z)({prop:"bottom"}),(0,r.Z)({prop:"left"})),k=o((0,r.Z)({prop:"color",themeKey:"palette"}),(0,r.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,r.Z)({prop:"backgroundColor",themeKey:"palette"})),P=(0,r.Z)({prop:"boxShadow",themeKey:"shadows"});function L(e){return e<=1&&0!==e?100*e+"%":e}const M=(0,r.Z)({prop:"width",transform:L}),A=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||s.VO[t]||L(t)}};return(0,s.k9)(e,e.maxWidth,t)}return null};A.filterProps=["maxWidth"];const O=(0,r.Z)({prop:"minWidth",transform:L}),R=(0,r.Z)({prop:"height",transform:L}),N=(0,r.Z)({prop:"maxHeight",transform:L}),D=(0,r.Z)({prop:"minHeight",transform:L}),z=((0,r.Z)({prop:"size",cssProperty:"width",transform:L}),(0,r.Z)({prop:"size",cssProperty:"height",transform:L}),o(M,A,O,R,N,D,(0,r.Z)({prop:"boxSizing"}))),F=(0,r.Z)({prop:"fontFamily",themeKey:"typography"}),B=(0,r.Z)({prop:"fontSize",themeKey:"typography"}),j=(0,r.Z)({prop:"fontStyle",themeKey:"typography"}),Z=(0,r.Z)({prop:"fontWeight",themeKey:"typography"}),U=(0,r.Z)({prop:"letterSpacing"}),q=(0,r.Z)({prop:"textTransform"}),V=(0,r.Z)({prop:"lineHeight"}),G=(0,r.Z)({prop:"textAlign"}),H=o((0,r.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,B,j,Z,U,V,G,q),W={borders:b.filterProps,display:x.filterProps,flexbox:w.filterProps,grid:T.filterProps,positions:I.filterProps,palette:k.filterProps,shadows:P.filterProps,sizing:z.filterProps,spacing:a.ZP.filterProps,typography:H.filterProps},$={borders:b,display:x,flexbox:w,grid:T,positions:I,palette:k,shadows:P,sizing:z,spacing:a.ZP,typography:H},X=Object.keys(W).reduce(((e,t)=>(W[t].forEach((n=>{e[n]=$[t]})),e)),{})},47730:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(59766);const i=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},62605:(e,t,n)=>{"use strict";n.d(t,{hB:()=>f,eI:()=>d,ZP:()=>b,NA:()=>m});var r=n(95408),i=n(54844),o=n(47730);const a={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},u=function(e){const t={};return e=>(void 0===t[e]&&(t[e]=(e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),r=a[t],i=s[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})(e)),t[e])}(),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[...c,...h];function d(e,t,n,r){var o;const a=null!=(o=(0,i.D)(e,t))?o:n;return"number"==typeof a?e=>"string"==typeof e?e:a*e:Array.isArray(a)?e=>"string"==typeof e?e:a[e]:"function"==typeof a?a:()=>{}}function f(e){return d(e,"spacing",8)}function m(e,t){if("string"==typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"==typeof n?-n:`-${n}`}function g(e,t){const n=f(e.theme);return Object.keys(e).map((i=>function(e,t,n,i){if(-1===t.indexOf(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=m(t,n),e)),{})}(u(n),i),a=e[n];return(0,r.k9)(e,a,o)}(e,t,i,n))).reduce(o.Z,{})}function y(e){return g(e,c)}function v(e){return g(e,h)}function _(e){return g(e,p)}y.propTypes={},y.filterProps=c,v.propTypes={},v.filterProps=h,_.propTypes={},_.filterProps=p;const b=_},54844:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Z:()=>s});var r=n(28320),i=n(95408);function o(e,t){if(!t||"string"!=typeof t)return null;if(e&&e.vars){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function a(e,t,n,r=n){let i;return i="function"==typeof e?e(n):Array.isArray(e)?e[n]||r:o(e,n)||r,t&&(i=t(i)),i}const s=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:s,transform:l}=e,u=e=>{if(null==e[t])return null;const u=e[t],c=o(e.theme,s)||{};return(0,i.k9)(e,u,(e=>{let i=a(c,l,e);return e===i&&"string"==typeof e&&(i=a(c,l,`${t}${"default"===e?"":(0,r.Z)(e)}`,e)),!1===n?i:{[n]:i}}))};return u.propTypes={},u.filterProps=[t],u}},86523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(47730),i=n(74178),o=n(95408);const a=function(e=i.G$){const t=Object.keys(e).reduce(((t,n)=>(e[n].filterProps.forEach((r=>{t[r]=e[n]})),t)),{});function n(e,n,r){const i={[e]:n,theme:r},o=t[e];return o?o(i):{[e]:n}}return function e(i){const{sx:a,theme:s={}}=i||{};if(!a)return null;function l(i){let a=i;if("function"==typeof i)a=i(s);else if("object"!=typeof i)return i;if(!a)return null;const l=(0,o.W8)(s.breakpoints),u=Object.keys(l);let c=l;return Object.keys(a).forEach((i=>{const l="function"==typeof(u=a[i])?u(s):u;var u;if(null!=l)if("object"==typeof l)if(t[i])c=(0,r.Z)(c,n(i,l,s));else{const t=(0,o.k9)({theme:s},l,(e=>({[i]:e})));!function(...e){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]),n=new Set(t);return e.every((e=>n.size===Object.keys(e).length))}(t,l)?c=(0,r.Z)(c,t):c[i]=e({sx:l,theme:s})}else c=(0,r.Z)(c,n(i,l,s))})),(0,o.L7)(u,c)}return Array.isArray(a)?a.map(l):l(a)}}();a.filterProps=["sx"];const s=a},96682:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(86268),i=n(34168);const o=(0,r.Z)(),a=function(e=o){return(0,i.Z)(e)}},20539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(47925);function i(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}},34168:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(56760);const i=function(e=null){const t=(0,r.Z)();return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},28320:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(71387);function i(e){if("string"!=typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},49064:(e,t,n)=>{"use strict";function r(...e){return e.reduce(((e,t)=>null==t?e:function(...n){e.apply(this,n),t.apply(this,n)}),(()=>{}))}n.d(t,{Z:()=>r})},87596:(e,t,n)=>{"use strict";function r(e,t=166){let n;function r(...r){clearTimeout(n),n=setTimeout((()=>{e.apply(this,r)}),t)}return r.clear=()=>{clearTimeout(n)},r}n.d(t,{Z:()=>r})},59766:(e,t,n)=>{"use strict";n.d(t,{P:()=>i,Z:()=>o});var r=n(87462);function i(e){return null!==e&&"object"==typeof e&&e.constructor===Object}function o(e,t,n={clone:!0}){const a=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((r=>{"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?a[r]=o(e[r],t[r],n):a[r]=t[r])})),a}},71387:(e,t,n)=>{"use strict";function r(e){let t="https://mui.com/production-error/?code="+e;for(let e=1;e<arguments.length;e+=1)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:()=>r})},57094:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},58290:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(57094);function i(e){return(0,r.Z)(e).defaultView||window}},47925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(87462);function i(e,t){const n=(0,r.Z)({},t);return Object.keys(e).forEach((t=>{void 0===n[t]&&(n[t]=e[t])})),n}},7960:(e,t,n)=>{"use strict";function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:()=>r})},16600:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(67294);const i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},73633:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(16600);function o(e){const t=r.useRef(e);return(0,i.Z)((()=>{t.current=e})),r.useCallback(((...e)=>(0,t.current)(...e)),[])}},30067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(67294),i=n(7960);function o(e,t){return r.useMemo((()=>null==e&&null==t?null:n=>{(0,i.Z)(e,n),(0,i.Z)(t,n)}),[e,t])}},57579:(e,t,n)=>{"use strict";var r;n.d(t,{Z:()=>s});var i=n(67294);let o=0;const a=(r||(r=n.t(i,2))).useId;function s(e){if(void 0!==a){const t=a();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),r=e||t;return i.useEffect((()=>{null==t&&(o+=1,n(`mui-${o}`))}),[t]),r}(e)}},1898:(e,t,n)=>{"use strict";n.d(t,{jQ:()=>Ie,BX:()=>Mn});var r=n(87462),i=n(63366),o=n(70069),a=Object.prototype.toString;function s(e){return"function"==typeof e||"[object Function]"===a.call(e)}var l=Math.pow(2,53)-1;function u(e,t){var n=Array,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");if(void 0!==t&&!s(t))throw new TypeError("Array.from: when provided, the second argument must be a function");for(var i,o=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),l)}(r.length),a=s(n)?Object(new n(o)):new Array(o),u=0;u<o;)i=r[u],a[u]=t?t(i,u):i,u+=1;return a.length=o,a}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="undefined"==typeof Set?Set:function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(this,e),p(this,"items",void 0),this.items=t}var t,n;return t=e,(n=[{key:"add",value:function(e){return!1===this.has(e)&&this.items.push(e),this}},{key:"clear",value:function(){this.items=[]}},{key:"delete",value:function(e){var t=this.items.length;return this.items=this.items.filter((function(t){return t!==e})),t!==this.items.length}},{key:"forEach",value:function(e){var t=this;this.items.forEach((function(n){e(n,n,t)}))}},{key:"has",value:function(e){return-1!==this.items.indexOf(e)}},{key:"size",get:function(){return this.items.length}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){var t;return null!==(t=e.localName)&&void 0!==t?t:e.tagName.toLowerCase()}var m={article:"article",aside:"complementary",button:"button",datalist:"listbox",dd:"definition",details:"group",dialog:"dialog",dt:"term",fieldset:"group",figure:"figure",form:"form",footer:"contentinfo",h1:"heading",h2:"heading",h3:"heading",h4:"heading",h5:"heading",h6:"heading",header:"banner",hr:"separator",html:"document",legend:"legend",li:"listitem",math:"math",main:"main",menu:"list",nav:"navigation",ol:"list",optgroup:"group",option:"option",output:"status",progress:"progressbar",section:"region",summary:"button",table:"table",tbody:"rowgroup",textarea:"textbox",tfoot:"rowgroup",td:"cell",th:"columnheader",thead:"rowgroup",tr:"row",ul:"list"},g={caption:new Set(["aria-label","aria-labelledby"]),code:new Set(["aria-label","aria-labelledby"]),deletion:new Set(["aria-label","aria-labelledby"]),emphasis:new Set(["aria-label","aria-labelledby"]),generic:new Set(["aria-label","aria-labelledby","aria-roledescription"]),insertion:new Set(["aria-label","aria-labelledby"]),paragraph:new Set(["aria-label","aria-labelledby"]),presentation:new Set(["aria-label","aria-labelledby"]),strong:new Set(["aria-label","aria-labelledby"]),subscript:new Set(["aria-label","aria-labelledby"]),superscript:new Set(["aria-label","aria-labelledby"])};function y(e,t){return function(e,t){return["aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-dropeffect","aria-flowto","aria-grabbed","aria-hidden","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription"].some((function(n){var r;return e.hasAttribute(n)&&!(null!==(r=g[t])&&void 0!==r&&r.has(n))}))}(e,t)}function v(e){return null!==e&&e.nodeType===e.ELEMENT_NODE}function _(e){return v(e)&&"caption"===f(e)}function b(e){return v(e)&&"input"===f(e)}function x(e){return v(e)&&"optgroup"===f(e)}function w(e){return v(e)&&"table"===f(e)}function E(e){var t=(null===e.ownerDocument?e:e.ownerDocument).defaultView;if(null===t)throw new TypeError("no window available");return t}function S(e){return v(e)&&"fieldset"===f(e)}function C(e){return v(e)&&"legend"===f(e)}function T(e){return v(e)&&"slot"===f(e)}function I(e){return v(e)&&"svg"===f(e)}function k(e){return function(e){return v(e)&&void 0!==e.ownerSVGElement}(e)&&"title"===f(e)}function P(e,t){if(v(e)&&e.hasAttribute(t)){var n=e.getAttribute(t).split(" "),r=e.getRootNode?e.getRootNode():e.ownerDocument;return n.map((function(e){return r.getElementById(e)})).filter((function(e){return null!==e}))}return[]}function L(e,t){return!!v(e)&&-1!==t.indexOf(function(e){var t=function(e){var t=e.getAttribute("role");if(null!==t){var n=t.trim().split(" ")[0];if(n.length>0)return n}return null}(e);if(null===t||"presentation"===t){var n=function(e){var t=m[f(e)];if(void 0!==t)return t;switch(f(e)){case"a":case"area":case"link":if(e.hasAttribute("href"))return"link";break;case"img":return""!==e.getAttribute("alt")||y(e,"img")?"img":"presentation";case"input":var n=e.type;switch(n){case"button":case"image":case"reset":case"submit":return"button";case"checkbox":case"radio":return n;case"range":return"slider";case"email":case"tel":case"text":case"url":return e.hasAttribute("list")?"combobox":"textbox";case"search":return e.hasAttribute("list")?"combobox":"searchbox";case"number":return"spinbutton";default:return null}case"select":return e.hasAttribute("multiple")||e.size>1?"listbox":"combobox"}return null}(e);if("presentation"!==t||y(e,n||""))return n}return t}(e))}function M(e){return e.trim().replace(/\s\s+/g," ")}function A(e,t){if(!v(e))return!1;if(e.hasAttribute("hidden")||"true"===e.getAttribute("aria-hidden"))return!0;var n=t(e);return"none"===n.getPropertyValue("display")||"hidden"===n.getPropertyValue("visibility")}function O(e){return L(e,["button","combobox","listbox","textbox"])||R(e,"range")}function R(e,t){if(!v(e))return!1;if("range"===t)return L(e,["meter","progressbar","scrollbar","slider","spinbutton"]);throw new TypeError("No knowledge about abstract role '".concat(t,"'. This is likely a bug :("))}function N(e,t){var n=u(e.querySelectorAll(t));return P(e,"aria-owns").forEach((function(e){n.push.apply(n,u(e.querySelectorAll(t)))})),n}function D(e){return v(t=e)&&"select"===f(t)?e.selectedOptions||N(e,"[selected]"):N(e,'[aria-selected="true"]');var t}function z(e){return L(e,["none","presentation"])}function F(e){return _(e)}function B(e){return L(e,["button","cell","checkbox","columnheader","gridcell","heading","label","legend","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"])}function j(e){return b(e)||v(t=e)&&"textarea"===f(t)?e.value:e.textContent||"";var t}function Z(e){var t=e.getPropertyValue("content");return/^["'].*["']$/.test(t)?t.slice(1,-1):""}function U(e){var t=f(e);return"button"===t||"input"===t&&"hidden"!==e.getAttribute("type")||"meter"===t||"output"===t||"progress"===t||"select"===t||"textarea"===t}function q(e){if(U(e))return e;var t=null;return e.childNodes.forEach((function(e){if(null===t&&v(e)){var n=q(e);null!==n&&(t=n)}})),t}function V(e){if(void 0!==e.control)return e.control;var t=e.getAttribute("for");return null!==t?e.ownerDocument.getElementById(t):q(e)}function G(e){var t=e.labels;return null===t?t:void 0!==t?u(t):U(e)?u(e.ownerDocument.querySelectorAll("label")).filter((function(t){return V(t)===e})):null}function H(e){var t=e.assignedNodes();return 0===t.length?u(e.childNodes):t}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new d,r=E(e),i=t.compute,o=void 0===i?"name":i,a=t.computedStyleSupportsPseudoElements,s=void 0===a?void 0!==t.getComputedStyle:a,l=t.getComputedStyle,c=void 0===l?r.getComputedStyle.bind(r):l,h=t.hidden,p=void 0!==h&&h;function m(e,t){var n="";if(v(e)&&s){var r=Z(c(e,"::before"));n="".concat(r," ").concat(n)}if((T(e)?H(e):u(e.childNodes).concat(P(e,"aria-owns"))).forEach((function(e){var r=y(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0}),i="inline"!==(v(e)?c(e).getPropertyValue("display"):"inline")?" ":"";n+="".concat(i).concat(r).concat(i)})),v(e)&&s){var i=Z(c(e,"::after"));n="".concat(n," ").concat(i)}return n.trim()}function g(e){if(!v(e))return null;function t(e,t){var r=e.getAttributeNode(t);return null===r||n.has(r)||""===r.value.trim()?null:(n.add(r),r.value)}if(S(e)){n.add(e);for(var r=u(e.childNodes),i=0;i<r.length;i+=1){var o=r[i];if(C(o))return y(o,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else if(w(e)){n.add(e);for(var a=u(e.childNodes),s=0;s<a.length;s+=1){var l=a[s];if(_(l))return y(l,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else{if(I(e)){n.add(e);for(var c=u(e.childNodes),h=0;h<c.length;h+=1){var p=c[h];if(k(p))return p.textContent}return null}if("img"===f(e)||"area"===f(e)){var d=t(e,"alt");if(null!==d)return d}else if(x(e)){var g=t(e,"label");if(null!==g)return g}}if(b(e)&&("button"===e.type||"submit"===e.type||"reset"===e.type)){var E=t(e,"value");if(null!==E)return E;if("submit"===e.type)return"Submit";if("reset"===e.type)return"Reset"}var T=G(e);if(null!==T&&0!==T.length)return n.add(e),u(T).map((function(e){return y(e,{isEmbeddedInLabel:!0,isReferenced:!1,recursion:!0})})).filter((function(e){return e.length>0})).join(" ");if(b(e)&&"image"===e.type){var P=t(e,"alt");if(null!==P)return P;var M=t(e,"title");return null!==M?M:"Submit Query"}if(L(e,["button"])){var A=m(e,{isEmbeddedInLabel:!1,isReferenced:!1});return""!==A?A:t(e,"title")}return t(e,"title")}function y(e,t){if(n.has(e))return"";if(!p&&A(e,c)&&!t.isReferenced)return n.add(e),"";var r=P(e,"aria-labelledby");if("name"===o&&!t.isReferenced&&r.length>0)return r.map((function(e){return y(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!0,recursion:!1})})).join(" ");var i=t.recursion&&O(e)&&"name"===o;if(!i){var a=(v(e)&&e.getAttribute("aria-label")||"").trim();if(""!==a&&"name"===o)return n.add(e),a;if(!z(e)){var s=g(e);if(null!==s)return n.add(e),s}}if(L(e,["menu"]))return n.add(e),"";if(i||t.isEmbeddedInLabel||t.isReferenced){if(L(e,["combobox","listbox"])){n.add(e);var l=D(e);return 0===l.length?b(e)?e.value:"":u(l).map((function(e){return y(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0})})).join(" ")}if(R(e,"range"))return n.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext"):e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow"):e.getAttribute("value")||"";if(L(e,["textbox"]))return n.add(e),j(e)}return B(e)||v(e)&&t.isReferenced||F(e)?(n.add(e),m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1})):e.nodeType===e.TEXT_NODE?(n.add(e),e.textContent||""):t.recursion?(n.add(e),m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1})):(n.add(e),"")}return M(y(e,{isEmbeddedInLabel:!1,isReferenced:"description"===o,recursion:!1}))}function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=P(e,"aria-describedby").map((function(e){return W(e,X(X({},t),{},{compute:"description"}))})).join(" ");if(""===n){var r=e.getAttribute("title");n=null===r?"":r}return n}function J(e){return L(e,["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])}function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return J(e)?"":W(e,t)}var ee=n(12461),te=n(15861),ne=n(87757),re=n.n(ne),ie=n(26961);function oe(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}e=n.hmd(e);var ae=function(e,t){var n=t.colors.content;return n.open+oe(e)+n.close},se=/^((HTML|SVG)\w*)?Element$/;function le(e){return 11===e.nodeType}function ue(e){return{test:function(e){var t;return(null==e||null==(t=e.constructor)?void 0:t.name)&&function(e){var t=e.constructor.name,n=e.nodeType,r=e.tagName,i="string"==typeof r&&r.includes("-")||"function"==typeof e.hasAttribute&&e.hasAttribute("is");return 1===n&&(se.test(t)||i)||3===n&&"Text"===t||8===n&&"Comment"===t||11===n&&"DocumentFragment"===t}(e)},serialize:function(t,n,r,i,o,a){if(function(e){return 3===e.nodeType}(t))return ae(t.data,n);if(function(e){return 8===e.nodeType}(t))return function(e,t){var n=t.colors.comment;return n.open+"\x3c!--"+oe(e)+"--\x3e"+n.close}(t.data,n);var s=le(t)?"DocumentFragment":t.tagName.toLowerCase();return++i>n.maxDepth?function(e,t){var n=t.colors.tag;return n.open+"<"+e+n.close+" …"+n.open+" />"+n.close}(s,n):function(e,t,n,r,i){var o=r.colors.tag;return o.open+"<"+e+(t&&o.close+t+r.spacingOuter+i+o.open)+(n?">"+o.close+n+r.spacingOuter+i+o.open+"</"+e:(t&&!r.min?"":" ")+"/")+">"+o.close}(s,function(e,t,n,r,i,o,a){var s=r+n.indent,l=n.colors;return e.map((function(e){var u=t[e],c=a(u,n,s,i,o);return"string"!=typeof u&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")}(le(t)?[]:Array.from(t.attributes).map((function(e){return e.name})).sort(),le(t)?{}:Array.from(t.attributes).reduce((function(e,t){return e[t.name]=t.value,e}),{}),n,r+n.indent,i,o,a),function(e,t,n,r,i,o){return e.map((function(e){var a="string"==typeof e?ae(e,t):o(e,t,n,r,i);return""===a&&"object"==typeof e&&null!==e&&3!==e.nodeType?"":t.spacingOuter+n+a})).join("")}(Array.prototype.slice.call(t.childNodes||t.children).filter(e),n,r+n.indent,i,o,a),n,r)}}}var ce=null,he=null,pe=null;try{var de=e&&e.require;he=de.call(e,"fs").readFileSync,pe=de.call(e,"@babel/code-frame").codeFrameColumns,ce=de.call(e,"chalk")}catch(e){}function fe(){return he&&pe?function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.slice(t,n),i=r.split(":"),o=[i[0],parseInt(i[1],10),parseInt(i[2],10)],a=o[0],s=o[1],l=o[2],u="";try{u=he(a,"utf-8")}catch(e){return""}var c=pe(u,{start:{line:s,column:l}},{highlightCode:!0,linesBelow:0});return ce.dim(r)+"\n"+c+"\n"}((new Error).stack.split("\n").slice(1).find((function(e){return!e.includes("node_modules/")}))):""}function me(){return"undefined"!=typeof jest&&null!==jest&&(!0===setTimeout._isMockFunction||Object.prototype.hasOwnProperty.call(setTimeout,"clock"))}function ge(){if("undefined"==typeof window)throw new Error("Could not find default container");return window.document}function ye(e){if(e.defaultView)return e.defaultView;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument.defaultView;if(e.window)return e.window;throw e.ownerDocument&&null===e.ownerDocument.defaultView?new Error("It looks like the window object is not available for the provided node."):e.then instanceof Function?new Error("It looks like you passed a Promise object instead of a DOM node. Did you do something like `fireEvent.click(screen.findBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`, or await the findBy query `fireEvent.click(await screen.findBy...`?"):Array.isArray(e)?new Error("It looks like you passed an Array instead of a DOM node. Did you do something like `fireEvent.click(screen.getAllBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`?"):"function"==typeof e.debug&&"function"==typeof e.logTestingPlaygroundURL?new Error("It looks like you passed a `screen` object. Did you do something like `fireEvent.click(screen, ...` when you meant to use a query, e.g. `fireEvent.click(screen.getBy..., `?"):new Error("The given node is not an Element, the node type is: "+typeof e+".")}function ve(e){if(!e||"function"!=typeof e.querySelector||"function"!=typeof e.querySelectorAll)throw new TypeError("Expected container to be an Element, a Document or a DocumentFragment but got "+(("object"==typeof(t=e)?null===t?"null":t.constructor.name:typeof t)+"."));var t}var _e="script, style",be=["filterNode"],xe=o.Gr.DOMCollection;function we(e){return 8!==e.nodeType&&(1!==e.nodeType||!e.matches(_e))}function Ee(e,t,n){if(void 0===n&&(n={}),e||(e=ge().body),"number"!=typeof t&&(t="undefined"!=typeof process&&process.env.DEBUG_PRINT_LIMIT||7e3),0===t)return"";e.documentElement&&(e=e.documentElement);var a=typeof e;if("object"===a?a=e.constructor.name:e={},!("outerHTML"in e))throw new TypeError("Expected an element or document but got "+a);var s=n,l=s.filterNode,u=void 0===l?we:l,c=(0,i.Z)(s,be),h=o.WU(e,(0,r.Z)({plugins:[ue(u),xe],printFunctionName:!1,highlight:"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node},c));return void 0!==t&&e.outerHTML.length>t?h.slice(0,t)+"...":h}var Se=function(){var e=fe();e?console.log(Ee.apply(void 0,arguments)+"\n\n"+e):console.log(Ee.apply(void 0,arguments))},Ce={testIdAttribute:"data-testid",asyncUtilTimeout:1e3,asyncWrapper:function(e){return e()},unstable_advanceTimersWrapper:function(e){return e()},eventWrapper:function(e){return e()},defaultHidden:!1,showOriginalStackTrace:!1,throwSuggestions:!1,getElementError:function(e,t){var n=Ee(t),r=new Error([e,"Ignored nodes: comments, <script />, <style />\n"+n].filter(Boolean).join("\n\n"));return r.name="TestingLibraryElementError",r},_disableExpensiveErrorDiagnostics:!1,computedStyleSupportsPseudoElements:!1};function Te(e){try{return Ce._disableExpensiveErrorDiagnostics=!0,e()}finally{Ce._disableExpensiveErrorDiagnostics=!1}}function Ie(e){"function"==typeof e&&(e=e(Ce)),Ce=(0,r.Z)({},Ce,e)}function ke(){return Ce}var Pe=["button","meter","output","progress","select","textarea","input"];function Le(e){return Pe.includes(e.nodeName.toLowerCase())?"":3===e.nodeType?e.textContent:Array.from(e.childNodes).map((function(e){return Le(e)})).join("")}function Me(e){return"label"===e.tagName.toLowerCase()?Le(e):e.value||e.textContent}function Ae(e){var t;if(void 0!==e.labels)return null!=(t=e.labels)?t:[];if(!function(e){return/BUTTON|METER|OUTPUT|PROGRESS|SELECT|TEXTAREA/.test(e.tagName)||"INPUT"===e.tagName&&"hidden"!==e.getAttribute("type")}(e))return[];var n=e.ownerDocument.querySelectorAll("label");return Array.from(n).filter((function(t){return t.control===e}))}function Oe(e,t,n){var r=(void 0===n?{}:n).selector,i=void 0===r?"*":r,o=t.getAttribute("aria-labelledby"),a=o?o.split(" "):[];return a.length?a.map((function(t){var n=e.querySelector('[id="'+t+'"]');return n?{content:Me(n),formControl:null}:{content:"",formControl:null}})):Array.from(Ae(t)).map((function(e){return{content:Me(e),formControl:Array.from(e.querySelectorAll("button, input, meter, output, progress, select, textarea")).filter((function(e){return e.matches(i)}))[0]}}))}function Re(e){if(null==e)throw new Error("It looks like "+e+" was passed instead of a matcher. Did you do something like getByText("+e+")?")}function Ne(e,t,n,r){if("string"!=typeof e)return!1;Re(n);var i=r(e);return"string"==typeof n||"number"==typeof n?i.toLowerCase().includes(n.toString().toLowerCase()):"function"==typeof n?n(i,t):Be(n,i)}function De(e,t,n,r){if("string"!=typeof e)return!1;Re(n);var i=r(e);return n instanceof Function?n(i,t):n instanceof RegExp?Be(n,i):i===String(n)}function ze(e){var t=void 0===e?{}:e,n=t.trim,r=void 0===n||n,i=t.collapseWhitespace,o=void 0===i||i;return function(e){var t=e;return t=r?t.trim():t,o?t.replace(/\s+/g," "):t}}function Fe(e){var t=e.trim,n=e.collapseWhitespace,r=e.normalizer;if(!r)return ze({trim:t,collapseWhitespace:n});if(void 0!==t||void 0!==n)throw new Error('trim and collapseWhitespace are not supported with a normalizer. If you want to use the default trim and collapseWhitespace logic in your normalizer, use "getDefaultNormalizer({trim, collapseWhitespace})" and compose that into your normalizer');return r}function Be(e,t){var n=e.test(t);return e.global&&0!==e.lastIndex&&(console.warn("To match all elements we had to reset the lastIndex of the RegExp because the global flag is enabled. We encourage to remove the global flag from the RegExp."),e.lastIndex=0),n}function je(e){return e.matches("input[type=submit], input[type=button], input[type=reset]")?e.value:Array.from(e.childNodes).filter((function(e){return 3===e.nodeType&&Boolean(e.textContent)})).map((function(e){return e.textContent})).join("")}function Ze(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ue(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=function(e){function t(e){return function(t){var n,i=e.attributes,o=void 0===i?[]:i,a=o.findIndex((function(e){return e.value&&"type"===e.name&&"text"===e.value}));return!(a>=0&&(o=[].concat(o.slice(0,a),o.slice(a+1)),"text"!==t.type))&&t.matches(""+(n=(0,r.Z)({},e,{attributes:o})).name+n.attributes.map((function(e){var t=e.name,n=e.value,r=e.constraints;return-1!==(void 0===r?[]:r).indexOf("undefined")?":not(["+t+"])":n?"["+t+'="'+n+'"]':"["+t+"]"})).join(""))}}for(var n,i=[],o=Ze(e.entries());!(n=o()).done;){var a=n.value,s=a[0],l=a[1];i=[].concat(i,[{match:t(s),roles:Array.from(l),specificity:(u=s,void 0,c=u.attributes,(void 0===c?[]:c).length)}])}var u,c;return i.sort((function(e,t){var n=e.specificity;return t.specificity-n}))}(ee.Qv);function Ve(e){return!0===e.hidden||"true"===e.getAttribute("aria-hidden")||"none"===e.ownerDocument.defaultView.getComputedStyle(e).display}function Ge(e,t){void 0===t&&(t={});var n=t.isSubtreeInaccessible,r=void 0===n?Ve:n;if("hidden"===e.ownerDocument.defaultView.getComputedStyle(e).visibility)return!0;for(var i=e;i;){if(r(i))return!0;i=i.parentElement}return!1}function He(e){for(var t,n=Ze(qe);!(t=n()).done;){var r=t.value,i=r.match,o=r.roles;if(i(e))return[].concat(o)}return[]}function We(e,t){var n=e.getAttribute(t);return"true"===n||"false"!==n&&void 0}var $e=ze();function Xe(e){return new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.toLowerCase()),"i")}function Ye(e,t,n,r){var i=r.variant,o=r.name,a="",s={},l=[["Role","TestId"].includes(e)?n:Xe(n)];o&&(s.name=Xe(o)),"Role"===e&&Ge(t)&&(s.hidden=!0,a="Element is inaccessible. This means that the element and all its children are invisible to screen readers.\n    If you are using the aria-hidden prop, make sure this is the right choice for your case.\n    "),Object.keys(s).length>0&&l.push(s);var u=i+"By"+e;return{queryName:e,queryMethod:u,queryArgs:l,variant:i,warning:a,toString:function(){a&&console.warn(a);var e=l[0],t=l[1];return e="string"==typeof e?"'"+e+"'":e,t=t?", { "+Object.entries(t).map((function(e){return e[0]+": "+e[1]})).join(", ")+" }":"",u+"("+e+t+")"}}}function Ke(e,t,n){return n&&(!t||t.toLowerCase()===e.toLowerCase())}function Je(e,t,n){var r,i;if(void 0===t&&(t="get"),!e.matches(_e)){var o=null!=(r=e.getAttribute("role"))?r:null==(i=He(e))?void 0:i[0];if("generic"!==o&&Ke("Role",n,o))return Ye("Role",e,o,{variant:t,name:Q(e,{computedStyleSupportsPseudoElements:ke().computedStyleSupportsPseudoElements})});var a=Oe(document,e).map((function(e){return e.content})).join(" ");if(Ke("LabelText",n,a))return Ye("LabelText",e,a,{variant:t});var s=e.getAttribute("placeholder");if(Ke("PlaceholderText",n,s))return Ye("PlaceholderText",e,s,{variant:t});var l=$e(je(e));if(Ke("Text",n,l))return Ye("Text",e,l,{variant:t});if(Ke("DisplayValue",n,e.value))return Ye("DisplayValue",e,$e(e.value),{variant:t});var u=e.getAttribute("alt");if(Ke("AltText",n,u))return Ye("AltText",e,u,{variant:t});var c=e.getAttribute("title");if(Ke("Title",n,c))return Ye("Title",e,c,{variant:t});var h=e.getAttribute(ke().testIdAttribute);return Ke("TestId",n,h)?Ye("TestId",e,h,{variant:t}):void 0}}function Qe(e,t){e.stack=t.stack.replace(t.message,e.message)}function et(e,t){return ke().getElementError(e,t)}function tt(e,t){return et(e+"\n\n(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).",t)}function nt(e,t,n,r){var i=void 0===r?{}:r,o=i.exact,a=void 0===o||o,s=i.collapseWhitespace,l=i.trim,u=i.normalizer,c=a?De:Ne,h=Fe({collapseWhitespace:s,trim:l,normalizer:u});return Array.from(t.querySelectorAll("["+e+"]")).filter((function(t){return c(t.getAttribute(e),t,n,h)}))}function rt(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=e.apply(void 0,[n].concat(i));if(a.length>1){var s=a.map((function(e){return et(null,e).message})).join("\n\n");throw tt(t.apply(void 0,[n].concat(i))+"\n\nHere are the matching elements:\n\n"+s,n)}return a[0]||null}}function it(e,t){return ke().getElementError("A better query is available, try this:\n"+e.toString()+"\n",t)}function ot(e){return function(t,n,i,o){return function(e,t){var n=new Error("STACK_TRACE_MESSAGE");return ke().asyncWrapper((function(){return function(e,t){var n=t.container,r=void 0===n?ge():n,i=t.timeout,o=void 0===i?ke().asyncUtilTimeout:i,a=t.showOriginalStackTrace,s=void 0===a?ke().showOriginalStackTrace:a,l=t.stackTraceError,u=t.interval,c=void 0===u?50:u,h=t.onTimeout,p=void 0===h?function(e){return e.message=ke().getElementError(e.message,r).message,e}:h,d=t.mutationObserverOptions,f=void 0===d?{subtree:!0,childList:!0,attributes:!0,characterData:!0}:d;if("function"!=typeof e)throw new TypeError("Received `callback` arg must be a function");return new Promise(function(){var t=(0,te.Z)(re().mark((function t(n,i){var a,u,h,d,m,g,y,v,_,b,x,w,E,S,C,T;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T=function(){var e;a?(e=a,s||"TestingLibraryElementError"!==e.name||Qe(e,l)):(e=new Error("Timed out in waitFor."),s||Qe(e,l)),E(p(e),null)},C=function(){if("pending"!==m)try{var t=Te(e);"function"==typeof(null==t?void 0:t.then)?(m="pending",t.then((function(e){m="resolved",E(null,e)}),(function(e){m="rejected",a=e}))):E(null,t)}catch(e){a=e}},S=function(){if(me()){var e=new Error("Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return s||Qe(e,l),i(e)}return C()},E=function(e,t){d=!0,clearTimeout(g),y||(clearInterval(u),h.disconnect()),e?i(e):n(t)},d=!1,m="idle",g=setTimeout(T,o),!(y=me())){t.next=27;break}v=ke(),_=v.unstable_advanceTimersWrapper,C();case 11:if(d){t.next=25;break}if(me()){t.next=17;break}return b=new Error("Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830"),s||Qe(b,l),i(b),t.abrupt("return");case 17:if(_((function(){jest.advanceTimersByTime(c)})),C(),!d){t.next=21;break}return t.abrupt("break",25);case 21:return t.next=23,_((0,te.Z)(re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,0),jest.advanceTimersByTime(0)}));case 2:case"end":return e.stop()}}),e)}))));case 23:t.next=11;break;case 25:t.next=40;break;case 27:t.prev=27,ve(r),t.next=35;break;case 31:return t.prev=31,t.t0=t.catch(27),i(t.t0),t.abrupt("return");case 35:u=setInterval(S,c),x=ye(r),w=x.MutationObserver,(h=new w(S)).observe(r,f),C();case 40:case"end":return t.stop()}}),t,null,[[27,31]])})));return function(e,n){return t.apply(this,arguments)}}())}(e,(0,r.Z)({stackTraceError:n},t))}))}((function(){return e(t,n,i)}),(0,r.Z)({container:t},o))}}var at=function(e,t,n){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=e.apply(void 0,[r].concat(o)),l=o.slice(-1),u=l[0],c=(u=void 0===u?{}:u).suggest,h=void 0===c?ke().throwSuggestions:c;if(s&&h){var p=Je(s,n);if(p&&!t.endsWith(p.queryName))throw it(p.toString(),r)}return s}},st=function(e,t,n){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=e.apply(void 0,[r].concat(o)),l=o.slice(-1),u=l[0],c=(u=void 0===u?{}:u).suggest,h=void 0===c?ke().throwSuggestions:c;if(s.length&&h){var p=[].concat(new Set(s.map((function(e){var t;return null==(t=Je(e,n))?void 0:t.toString()}))));if(1===p.length&&!t.endsWith(Je(s[0],n).queryName))throw it(p[0],r)}return s}};function lt(e,t,n){var r=at(rt(e,t),e.name,"query"),i=function(e,t){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=e.apply(void 0,[n].concat(i));if(!a.length)throw ke().getElementError(t.apply(void 0,[n].concat(i)),n);return a}}(e,n),o=rt(i,t),a=at(o,e.name,"get");return[r,st(i,e.name.replace("query","get"),"getAll"),a,ot(st(i,e.name,"findAll")),ot(at(o,e.name,"find"))]}var ut=function(e,t,n){var r=void 0===n?{}:n,i=r.exact,o=void 0===i||i,a=r.trim,s=r.collapseWhitespace,l=r.normalizer,u=o?De:Ne,c=Fe({collapseWhitespace:s,trim:a,normalizer:l}),h=function(e){return Array.from(e.querySelectorAll("label,input")).map((function(e){return{node:e,textToMatch:Me(e)}})).filter((function(e){return null!==e.textToMatch}))}(e);return h.filter((function(e){var n=e.node,r=e.textToMatch;return u(r,n,t,c)})).map((function(e){return e.node}))},ct=function(e,t,n){var r=void 0===n?{}:n,i=r.selector,o=void 0===i?"*":i,a=r.exact,s=void 0===a||a,l=r.collapseWhitespace,u=r.trim,c=r.normalizer;ve(e);var h=s?De:Ne,p=Fe({collapseWhitespace:l,trim:u,normalizer:c}),d=Array.from(e.querySelectorAll("*")).filter((function(e){return Ae(e).length||e.hasAttribute("aria-labelledby")})).reduce((function(n,r){var i=Oe(e,r,{selector:o});i.filter((function(e){return Boolean(e.formControl)})).forEach((function(e){h(e.content,e.formControl,t,p)&&e.formControl&&n.push(e.formControl)}));var a=i.filter((function(e){return Boolean(e.content)})).map((function(e){return e.content}));return h(a.join(" "),r,t,p)&&n.push(r),a.length>1&&a.forEach((function(e,i){h(e,r,t,p)&&n.push(r);var o=[].concat(a);o.splice(i,1),o.length>1&&h(o.join(" "),r,t,p)&&n.push(r)})),n}),[]).concat(nt("aria-label",e,t,{exact:s,normalizer:p}));return Array.from(new Set(d)).filter((function(e){return e.matches(o)}))},ht=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=ct.apply(void 0,[e,t].concat(r));if(!o.length){var a=ut.apply(void 0,[e,t].concat(r));if(a.length){var s=a.map((function(t){return pt(e,t)})).filter((function(e){return!!e}));throw s.length?ke().getElementError(s.map((function(e){return"Found a label with the text of: "+t+", however the element associated with this label (<"+e+" />) is non-labellable [https://html.spec.whatwg.org/multipage/forms.html#category-label]. If you really need to label a <"+e+" />, you can use aria-label or aria-labelledby instead."})).join("\n\n"),e):ke().getElementError("Found a label with the text of: "+t+', however no form control was found associated to that label. Make sure you\'re using the "for" attribute or "aria-labelledby" attribute correctly.',e)}throw ke().getElementError("Unable to find a label with the text of: "+t,e)}return o};function pt(e,t){var n=t.getAttribute("for");if(!n)return null;var r=e.querySelector('[id="'+n+'"]');return r?r.tagName.toLowerCase():null}var dt=function(e,t){return"Found multiple elements with the text of: "+t},ft=at(rt(ct,dt),ct.name,"query"),mt=rt(ht,dt),gt=ot(st(ht,ht.name,"findAll")),yt=ot(at(mt,ht.name,"find")),vt=st(ht,ht.name,"getAll"),_t=at(mt,ht.name,"get"),bt=st(ct,ct.name,"queryAll"),xt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ve(t[0]),nt.apply(void 0,["placeholder"].concat(t))},wt=st(xt,xt.name,"queryAll"),Et=lt(xt,(function(e,t){return"Found multiple elements with the placeholder text of: "+t}),(function(e,t){return"Unable to find an element with the placeholder text of: "+t})),St=Et[0],Ct=Et[1],Tt=Et[2],It=Et[3],kt=Et[4],Pt=function(e,t,n){var r=void 0===n?{}:n,i=r.selector,o=void 0===i?"*":i,a=r.exact,s=void 0===a||a,l=r.collapseWhitespace,u=r.trim,c=r.ignore,h=void 0===c?_e:c,p=r.normalizer;ve(e);var d=s?De:Ne,f=Fe({collapseWhitespace:l,trim:u,normalizer:p}),m=[];return"function"==typeof e.matches&&e.matches(o)&&(m=[e]),[].concat(m,Array.from(e.querySelectorAll(o))).filter((function(e){return!h||!e.matches(h)})).filter((function(e){return d(je(e),e,t,f)}))},Lt=st(Pt,Pt.name,"queryAll"),Mt=lt(Pt,(function(e,t){return"Found multiple elements with the text: "+t}),(function(e,t,n){void 0===n&&(n={});var r=n,i=Fe({collapseWhitespace:r.collapseWhitespace,trim:r.trim,normalizer:r.normalizer})(t.toString());return"Unable to find an element with the text: "+(i!==t.toString()?i+" (normalized from '"+t+"')":t)+". This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible."})),At=Mt[0],Ot=Mt[1],Rt=Mt[2],Nt=Mt[3],Dt=Mt[4],zt=function(e,t,n){var r=void 0===n?{}:n,i=r.exact,o=void 0===i||i,a=r.collapseWhitespace,s=r.trim,l=r.normalizer;ve(e);var u=o?De:Ne,c=Fe({collapseWhitespace:a,trim:s,normalizer:l});return Array.from(e.querySelectorAll("input,textarea,select")).filter((function(e){return"SELECT"===e.tagName?Array.from(e.options).filter((function(e){return e.selected})).some((function(e){return u(je(e),e,t,c)})):u(e.value,e,t,c)}))},Ft=st(zt,zt.name,"queryAll"),Bt=lt(zt,(function(e,t){return"Found multiple elements with the display value: "+t+"."}),(function(e,t){return"Unable to find an element with the display value: "+t+"."})),jt=Bt[0],Zt=Bt[1],Ut=Bt[2],qt=Bt[3],Vt=Bt[4],Gt=/^(img|input|area|.+-.+)$/i,Ht=function(e,t,n){return void 0===n&&(n={}),ve(e),nt("alt",e,t,n).filter((function(e){return Gt.test(e.tagName)}))},Wt=st(Ht,Ht.name,"queryAll"),$t=lt(Ht,(function(e,t){return"Found multiple elements with the alt text: "+t}),(function(e,t){return"Unable to find an element with the alt text: "+t})),Xt=$t[0],Yt=$t[1],Kt=$t[2],Jt=$t[3],Qt=$t[4],en=function(e,t,n){var r=void 0===n?{}:n,i=r.exact,o=void 0===i||i,a=r.collapseWhitespace,s=r.trim,l=r.normalizer;ve(e);var u=o?De:Ne,c=Fe({collapseWhitespace:a,trim:s,normalizer:l});return Array.from(e.querySelectorAll("[title], svg > title")).filter((function(e){return u(e.getAttribute("title"),e,t,c)||function(e){var t;return"title"===e.tagName.toLowerCase()&&"svg"===(null==(t=e.parentElement)?void 0:t.tagName.toLowerCase())}(e)&&u(je(e),e,t,c)}))},tn=st(en,en.name,"queryAll"),nn=lt(en,(function(e,t){return"Found multiple elements with the title: "+t+"."}),(function(e,t){return"Unable to find an element with the title: "+t+"."})),rn=nn[0],on=nn[1],an=nn[2],sn=nn[3],ln=nn[4];function un(e,t,n){var r=void 0===n?{}:n,i=r.exact,o=void 0===i||i,a=r.collapseWhitespace,s=r.hidden,l=void 0===s?ke().defaultHidden:s,u=r.name,c=r.description,h=r.trim,p=r.normalizer,d=r.queryFallbacks,f=void 0!==d&&d,m=r.selected,g=r.checked,y=r.pressed,v=r.current,_=r.level,b=r.expanded;ve(e);var x,w,E,S,C,T=o?De:Ne,I=Fe({collapseWhitespace:a,trim:h,normalizer:p});if(void 0!==m&&void 0===(null==(x=ee.uJ.get(t))?void 0:x.props["aria-selected"]))throw new Error('"aria-selected" is not supported on role "'+t+'".');if(void 0!==g&&void 0===(null==(w=ee.uJ.get(t))?void 0:w.props["aria-checked"]))throw new Error('"aria-checked" is not supported on role "'+t+'".');if(void 0!==y&&void 0===(null==(E=ee.uJ.get(t))?void 0:E.props["aria-pressed"]))throw new Error('"aria-pressed" is not supported on role "'+t+'".');if(void 0!==v&&void 0===(null==(S=ee.uJ.get(t))?void 0:S.props["aria-current"]))throw new Error('"aria-current" is not supported on role "'+t+'".');if(void 0!==_&&"heading"!==t)throw new Error('Role "'+t+'" cannot have "level" property.');if(void 0!==b&&void 0===(null==(C=ee.uJ.get(t))?void 0:C.props["aria-expanded"]))throw new Error('"aria-expanded" is not supported on role "'+t+'".');var k=new WeakMap;function P(e){return k.has(e)||k.set(e,Ve(e)),k.get(e)}return Array.from(e.querySelectorAll(function(e,t,n){var r;if("string"!=typeof e)return"*";var i=t&&!n?'*[role~="'+e+'"]':"*[role]",o=null!=(r=ee.UN.get(e))?r:new Set,a=new Set(Array.from(o).map((function(e){return e.name})));return[i].concat(Array.from(a)).join(",")}(t,o,p?I:void 0))).filter((function(e){if(e.hasAttribute("role")){var n=e.getAttribute("role");if(f)return n.split(" ").filter(Boolean).some((function(n){return T(n,e,t,I)}));if(p)return T(n,e,t,I);var r=n.split(" ")[0];return T(r,e,t,I)}return He(e).some((function(n){return T(n,e,t,I)}))})).filter((function(e){return void 0!==m?m===function(e){return"OPTION"===e.tagName?e.selected:We(e,"aria-selected")}(e):void 0!==g?g===function(e){if(!("indeterminate"in e)||!e.indeterminate)return"checked"in e?e.checked:We(e,"aria-checked")}(e):void 0!==y?y===function(e){return We(e,"aria-pressed")}(e):void 0!==v?v===function(e){var t,n;return null!=(t=null!=(n=We(e,"aria-current"))?n:e.getAttribute("aria-current"))&&t}(e):void 0!==b?b===function(e){return We(e,"aria-expanded")}(e):void 0===_||_===function(e){return e.getAttribute("aria-level")&&Number(e.getAttribute("aria-level"))||{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[e.tagName]}(e)})).filter((function(e){return void 0===u||De(Q(e,{computedStyleSupportsPseudoElements:ke().computedStyleSupportsPseudoElements}),e,u,(function(e){return e}))})).filter((function(e){return void 0===c||De(K(e,{computedStyleSupportsPseudoElements:ke().computedStyleSupportsPseudoElements}),e,c,(function(e){return e}))})).filter((function(e){return!1!==l||!1===Ge(e,{isSubtreeInaccessible:P})}))}var cn=st(un,un.name,"queryAll"),hn=lt(un,(function(e,t,n){var r=(void 0===n?{}:n).name;return'Found multiple elements with the role "'+t+'"'+(void 0===r?"":"string"==typeof r?' and name "'+r+'"':" and name `"+r+"`")}),(function(e,t,n){var i=void 0===n?{}:n,o=i.hidden,a=void 0===o?ke().defaultHidden:o,s=i.name,l=i.description;if(ke()._disableExpensiveErrorDiagnostics)return'Unable to find role="'+t+'"';var u,c="";return Array.from(e.children).forEach((function(e){c+=function(e,t){var n=t.hidden,i=t.includeDescription,o=function(e,t){var n=(void 0===t?{}:t).hidden,i=void 0!==n&&n;return function e(t){return[t].concat(Array.from(t.children).reduce((function(t,n){return[].concat(t,e(n))}),[]))}(e).filter((function(e){return!1!==i||!1===Ge(e)})).reduce((function(e,t){return(t.hasAttribute("role")?t.getAttribute("role").split(" ").slice(0,1):He(t)).reduce((function(e,n){var i,o;return Array.isArray(e[n])?(0,r.Z)({},e,((i={})[n]=[].concat(e[n],[t]),i)):(0,r.Z)({},e,((o={})[n]=[t],o))}),e)}),{})}(e,{hidden:n});return Object.entries(o).filter((function(e){return"generic"!==e[0]})).map((function(e){var t=e[0],n=e[1],r="-".repeat(50);return t+":\n\n"+n.map((function(e){var t='Name "'+Q(e,{computedStyleSupportsPseudoElements:ke().computedStyleSupportsPseudoElements})+'":\n',n=Ee(e.cloneNode(!1));return i?t+'Description "'+K(e,{computedStyleSupportsPseudoElements:ke().computedStyleSupportsPseudoElements})+'":\n'+n:""+t+n})).join("\n\n")+"\n\n"+r})).join("\n")}(e,{hidden:a,includeName:void 0!==s,includeDescription:void 0!==l})})),u=0===c.length?!1===a?"There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole":"There are no available roles.":("\nHere are the "+(!1===a?"accessible":"available")+" roles:\n\n  "+c.replace(/\n/g,"\n  ").replace(/\n\s\s\n/g,"\n\n")+"\n").trim(),("\nUnable to find an "+(!1===a?"accessible ":"")+'element with the role "'+t+'"'+(void 0===s?"":"string"==typeof s?' and name "'+s+'"':" and name `"+s+"`")+(void 0===l?"":"string"==typeof l?' and description "'+l+'"':" and description `"+l+"`")+"\n\n"+u).trim()})),pn=hn[0],dn=hn[1],fn=hn[2],mn=hn[3],gn=hn[4],yn=function(){return ke().testIdAttribute},vn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ve(t[0]),nt.apply(void 0,[yn()].concat(t))},_n=st(vn,vn.name,"queryAll"),bn=lt(vn,(function(e,t){return"Found multiple elements by: ["+yn()+'="'+t+'"]'}),(function(e,t){return"Unable to find an element by: ["+yn()+'="'+t+'"]'})),xn=bn[0],wn=bn[1],En=bn[2],Sn=bn[3],Cn=bn[4],Tn=Object.freeze({__proto__:null,queryAllByLabelText:bt,queryByLabelText:ft,getAllByLabelText:vt,getByLabelText:_t,findAllByLabelText:gt,findByLabelText:yt,queryByPlaceholderText:St,queryAllByPlaceholderText:wt,getByPlaceholderText:Tt,getAllByPlaceholderText:Ct,findAllByPlaceholderText:It,findByPlaceholderText:kt,queryByText:At,queryAllByText:Lt,getByText:Rt,getAllByText:Ot,findAllByText:Nt,findByText:Dt,queryByDisplayValue:jt,queryAllByDisplayValue:Ft,getByDisplayValue:Ut,getAllByDisplayValue:Zt,findAllByDisplayValue:qt,findByDisplayValue:Vt,queryByAltText:Xt,queryAllByAltText:Wt,getByAltText:Kt,getAllByAltText:Yt,findAllByAltText:Jt,findByAltText:Qt,queryByTitle:rn,queryAllByTitle:tn,getByTitle:an,getAllByTitle:on,findAllByTitle:sn,findByTitle:ln,queryByRole:pn,queryAllByRole:cn,getAllByRole:dn,getByRole:fn,findAllByRole:mn,findByRole:gn,queryByTestId:xn,queryAllByTestId:_n,getByTestId:En,getAllByTestId:wn,findAllByTestId:Sn,findByTestId:Cn}),In={copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionEnd:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionStart:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionUpdate:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyDown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyPress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyUp:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusIn:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusOut:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},invalid:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!0}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},reset:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},click:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,button:0,composed:!0}},contextMenu:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblClick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drag:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragEnd:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragEnter:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragExit:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragLeave:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragOver:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragStart:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drop:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseDown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseEnter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseLeave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseMove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOut:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOver:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseUp:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},select:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},touchCancel:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},touchEnd:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchMove:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchStart:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},resize:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},scroll:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},wheel:{EventType:"WheelEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},abort:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlay:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlayThrough:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},durationChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},emptied:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},encrypted:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},ended:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedData:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedMetadata:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadStart:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},pause:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},play:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},playing:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},progress:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},rateChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeked:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeking:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},stalled:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},suspend:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},timeUpdate:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},volumeChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},waiting:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},load:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},error:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},animationStart:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationEnd:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationIteration:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionCancel:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionEnd:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!0}},transitionRun:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionStart:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},pointerOver:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerEnter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerDown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerMove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerUp:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerCancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerOut:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerLeave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},gotPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},lostPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},popState:{EventType:"PopStateEvent",defaultInit:{bubbles:!0,cancelable:!1}}},kn={doubleClick:"dblClick"},Pn=["value","files"],Ln=["bubbles","cancelable","detail"];function Mn(e,t){return ke().eventWrapper((function(){if(!t)throw new Error("Unable to fire an event - please provide an event object.");if(!e)throw new Error('Unable to fire a "'+t.type+'" event - please provide a DOM element.');return e.dispatchEvent(t)}))}function An(e,t,n,o){var a=void 0===o?{}:o,s=a.EventType,l=void 0===s?"Event":s,u=a.defaultInit,c=void 0===u?{}:u;if(!t)throw new Error('Unable to fire a "'+e+'" event - please provide a DOM element.');var h=(0,r.Z)({},c,n),p=h.target,d=(p=void 0===p?{}:p).value,f=p.files,m=(0,i.Z)(p,Pn);void 0!==d&&function(e,t){var n=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,r=Object.getPrototypeOf(e),i=(Object.getOwnPropertyDescriptor(r,"value")||{}).set;if(i&&n!==i)i.call(e,t);else{if(!n)throw new Error("The given element does not have a value setter");n.call(e,t)}}(t,d),void 0!==f&&Object.defineProperty(t,"files",{configurable:!0,enumerable:!0,writable:!0,value:f}),Object.assign(t,m);var g,y=ye(t),v=y[l]||y.Event;if("function"==typeof v)g=new v(e,h);else{g=y.document.createEvent(l);var _=h.bubbles,b=h.cancelable,x=h.detail,w=(0,i.Z)(h,Ln);g.initEvent(e,_,b,x),Object.keys(w).forEach((function(e){g[e]=w[e]}))}return["dataTransfer","clipboardData"].forEach((function(e){var t=h[e];"object"==typeof t&&("function"==typeof y.DataTransfer?Object.defineProperty(g,e,{value:Object.getOwnPropertyNames(t).reduce((function(e,n){return Object.defineProperty(e,n,{value:t[n]}),e}),new y.DataTransfer)}):Object.defineProperty(g,e,{value:t}))})),g}Object.keys(In).forEach((function(e){var t=In[e],n=t.EventType,r=t.defaultInit,i=e.toLowerCase();An[e]=function(e,t){return An(i,e,t,{EventType:n,defaultInit:r})},Mn[e]=function(t,n){return Mn(t,An[e](t,n))}})),Object.keys(kn).forEach((function(e){var t=kn[e];Mn[e]=function(){return Mn[t].apply(Mn,arguments)}}));var On={debug:function(e,t,n){return Array.isArray(e)?e.forEach((function(e){return Se(e,t,n)})):Se(e,t,n)},logTestingPlaygroundURL:function(e){var t,n;void 0===e&&(e=ge().body),e&&"innerHTML"in e?e.innerHTML?console.log("Open this URL in your browser\n\n"+(t=e.innerHTML,"https://testing-playground.com/#markup="+(n=t,(0,ie.compressToEncodedURIComponent)(n.replace(/[ \t]*[\n][ \t]*/g,"\n"))))):console.log("The provided element doesn't have any children."):console.log("The element you're providing isn't a valid DOM element.")}};"undefined"!=typeof document&&document.body?function(e,t,n){void 0===t&&(t=Tn),void 0===n&&(n={}),Object.keys(t).reduce((function(n,r){var i=t[r];return n[r]=i.bind(null,e),n}),n)}(document.body,Tn,On):Object.keys(Tn).reduce((function(e,t){return e[t]=function(){throw new TypeError("For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error")},e}),On)},31382:e=>{"use strict";e.exports=({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}},47871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printIteratorEntries=function(e,t,n,r,i,o,a=": "){let s="",l=e.next();if(!l.done){s+=t.spacingOuter;const u=n+t.indent;for(;!l.done;){s+=u+o(l.value[0],t,u,r,i)+a+o(l.value[1],t,u,r,i),l=e.next(),l.done?t.min||(s+=","):s+=","+t.spacingInner}s+=t.spacingOuter+n}return s},t.printIteratorValues=function(e,t,n,r,i,o){let a="",s=e.next();if(!s.done){a+=t.spacingOuter;const l=n+t.indent;for(;!s.done;)a+=l+o(s.value,t,l,r,i),s=e.next(),s.done?t.min||(a+=","):a+=","+t.spacingInner;a+=t.spacingOuter+n}return a},t.printListItems=function(e,t,n,r,i,o){let a="";if(e.length){a+=t.spacingOuter;const s=n+t.indent;for(let n=0;n<e.length;n++)a+=s,n in e&&(a+=o(e[n],t,s,r,i)),n<e.length-1?a+=","+t.spacingInner:t.min||(a+=",");a+=t.spacingOuter+n}return a},t.printObjectProperties=function(e,t,n,r,i,o){let a="";const s=((e,t)=>{const n=Object.keys(e).sort(t);return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach((t=>{Object.getOwnPropertyDescriptor(e,t).enumerable&&n.push(t)})),n})(e,t.compareKeys);if(s.length){a+=t.spacingOuter;const l=n+t.indent;for(let n=0;n<s.length;n++){const u=s[n];a+=l+o(u,t,l,r,i)+": "+o(e[u],t,l,r,i),n<s.length-1?a+=","+t.spacingInner:t.min||(a+=",")}a+=t.spacingOuter+n}return a}},70069:(e,t,n)=>{"use strict";t.WU=function(e,t){if(t&&(function(e){if(Object.keys(e).forEach((e=>{if(!M.hasOwnProperty(e))throw new Error(`pretty-format: Unknown option "${e}".`)})),e.min&&void 0!==e.indent&&0!==e.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==e.theme){if(null===e.theme)throw new Error('pretty-format: Option "theme" must not be null.');if("object"!=typeof e.theme)throw new Error(`pretty-format: Option "theme" must be of type "object" but instead received "${typeof e.theme}".`)}}(t),t.plugins)){const n=I(t.plugins,e);if(null!==n)return T(n,e,D(t),"",0,[])}const n=S(e,O(t),R(t),N(t));return null!==n?n:C(e,D(t),"",0,[])},t.Gr=void 0;var r=p(n(84409)),i=n(47871),o=p(n(59481)),a=p(n(67243)),s=p(n(47173)),l=p(n(57916)),u=p(n(97704)),c=p(n(29067)),h=p(n(16347));function p(e){return e&&e.__esModule?e:{default:e}}const d=Object.prototype.toString,f=Date.prototype.toISOString,m=Error.prototype.toString,g=RegExp.prototype.toString,y=e=>"function"==typeof e.constructor&&e.constructor.name||"Object",v=/^Symbol\((.*)\)(.*)$/,_=/\n/gi;class b extends Error{constructor(e,t){super(e),this.stack=t,this.name=this.constructor.name}}function x(e,t){return t?"[Function "+(e.name||"anonymous")+"]":"[Function]"}function w(e){return String(e).replace(v,"Symbol($1)")}function E(e){return"["+m.call(e)+"]"}function S(e,t,n,r){if(!0===e||!1===e)return""+e;if(void 0===e)return"undefined";if(null===e)return"null";const i=typeof e;if("number"===i)return function(e){return Object.is(e,-0)?"-0":String(e)}(e);if("bigint"===i)return function(e){return String(`${e}n`)}(e);if("string"===i)return r?'"'+e.replace(/"|\\/g,"\\$&")+'"':'"'+e+'"';if("function"===i)return x(e,t);if("symbol"===i)return w(e);const o=d.call(e);return"[object WeakMap]"===o?"WeakMap {}":"[object WeakSet]"===o?"WeakSet {}":"[object Function]"===o||"[object GeneratorFunction]"===o?x(e,t):"[object Symbol]"===o?w(e):"[object Date]"===o?isNaN(+e)?"Date { NaN }":f.call(e):"[object Error]"===o?E(e):"[object RegExp]"===o?n?g.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):g.call(e):e instanceof Error?E(e):null}function C(e,t,n,r,o,a){if(-1!==o.indexOf(e))return"[Circular]";(o=o.slice()).push(e);const s=++r>t.maxDepth,l=t.min;if(t.callToJSON&&!s&&e.toJSON&&"function"==typeof e.toJSON&&!a)return k(e.toJSON(),t,n,r,o,!0);const u=d.call(e);return"[object Arguments]"===u?s?"[Arguments]":(l?"":"Arguments ")+"["+(0,i.printListItems)(e,t,n,r,o,k)+"]":function(e){return"[object Array]"===e||"[object ArrayBuffer]"===e||"[object DataView]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object Int8Array]"===e||"[object Int16Array]"===e||"[object Int32Array]"===e||"[object Uint8Array]"===e||"[object Uint8ClampedArray]"===e||"[object Uint16Array]"===e||"[object Uint32Array]"===e}(u)?s?"["+e.constructor.name+"]":(l?"":t.printBasicPrototype||"Array"!==e.constructor.name?e.constructor.name+" ":"")+"["+(0,i.printListItems)(e,t,n,r,o,k)+"]":"[object Map]"===u?s?"[Map]":"Map {"+(0,i.printIteratorEntries)(e.entries(),t,n,r,o,k," => ")+"}":"[object Set]"===u?s?"[Set]":"Set {"+(0,i.printIteratorValues)(e.values(),t,n,r,o,k)+"}":s||(e=>"undefined"!=typeof window&&e===window)(e)?"["+y(e)+"]":(l?"":t.printBasicPrototype||"Object"!==y(e)?y(e)+" ":"")+"{"+(0,i.printObjectProperties)(e,t,n,r,o,k)+"}"}function T(e,t,n,r,i,o){let a;try{a=function(e){return null!=e.serialize}(e)?e.serialize(t,n,r,i,o,k):e.print(t,(e=>k(e,n,r,i,o)),(e=>{const t=r+n.indent;return t+e.replace(_,"\n"+t)}),{edgeSpacing:n.spacingOuter,min:n.min,spacing:n.spacingInner},n.colors)}catch(e){throw new b(e.message,e.stack)}if("string"!=typeof a)throw new Error(`pretty-format: Plugin must return type "string" but instead returned "${typeof a}".`);return a}function I(e,t){for(let n=0;n<e.length;n++)try{if(e[n].test(t))return e[n]}catch(e){throw new b(e.message,e.stack)}return null}function k(e,t,n,r,i,o){const a=I(t.plugins,e);if(null!==a)return T(a,e,t,n,r,i);const s=S(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==s?s:C(e,t,n,r,i,o)}const P={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},L=Object.keys(P),M={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:P},A=e=>L.reduce(((t,n)=>{const i=e.theme&&void 0!==e.theme[n]?e.theme[n]:P[n],o=i&&r.default[i];if(!o||"string"!=typeof o.close||"string"!=typeof o.open)throw new Error(`pretty-format: Option "theme" has a key "${n}" whose value "${i}" is undefined in ansi-styles.`);return t[n]=o,t}),Object.create(null)),O=e=>e&&void 0!==e.printFunctionName?e.printFunctionName:M.printFunctionName,R=e=>e&&void 0!==e.escapeRegex?e.escapeRegex:M.escapeRegex,N=e=>e&&void 0!==e.escapeString?e.escapeString:M.escapeString,D=e=>{var t,n;return{callToJSON:e&&void 0!==e.callToJSON?e.callToJSON:M.callToJSON,colors:e&&e.highlight?A(e):L.reduce(((e,t)=>(e[t]={close:"",open:""},e)),Object.create(null)),compareKeys:e&&"function"==typeof e.compareKeys?e.compareKeys:M.compareKeys,escapeRegex:R(e),escapeString:N(e),indent:e&&e.min?"":(n=e&&void 0!==e.indent?e.indent:M.indent,new Array(n+1).join(" ")),maxDepth:e&&void 0!==e.maxDepth?e.maxDepth:M.maxDepth,min:e&&void 0!==e.min?e.min:M.min,plugins:e&&void 0!==e.plugins?e.plugins:M.plugins,printBasicPrototype:null===(t=null==e?void 0:e.printBasicPrototype)||void 0===t||t,printFunctionName:O(e),spacingInner:e&&e.min?" ":"\n",spacingOuter:e&&e.min?"":"\n"}};const z={AsymmetricMatcher:o.default,ConvertAnsi:a.default,DOMCollection:s.default,DOMElement:l.default,Immutable:u.default,ReactElement:c.default,ReactTestComponent:h.default};t.Gr=z},59481:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(47871),i="undefined"!=typeof globalThis?globalThis:void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),o=i["jest-symbol-do-not-touch"]||i.Symbol;const a="function"==typeof o&&o.for?o.for("jest.asymmetricMatcher"):1267621,s=(e,t,n,i,o,a)=>{const s=e.toString();return"ArrayContaining"===s||"ArrayNotContaining"===s?++i>t.maxDepth?"["+s+"]":s+" ["+(0,r.printListItems)(e.sample,t,n,i,o,a)+"]":"ObjectContaining"===s||"ObjectNotContaining"===s?++i>t.maxDepth?"["+s+"]":s+" {"+(0,r.printObjectProperties)(e.sample,t,n,i,o,a)+"}":"StringMatching"===s||"StringNotMatching"===s||"StringContaining"===s||"StringNotContaining"===s?s+" "+a(e.sample,t,n,i,o):e.toAsymmetricMatcher()};t.serialize=s;const l=e=>e&&e.$$typeof===a;t.test=l;var u={serialize:s,test:l};t.default=u},67243:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=o(n(31382)),i=o(n(84409));function o(e){return e&&e.__esModule?e:{default:e}}const a=e=>"string"==typeof e&&!!e.match((0,r.default)());t.test=a;const s=(e,t,n,o,a,s)=>s(e.replace((0,r.default)(),(e=>{switch(e){case i.default.red.close:case i.default.green.close:case i.default.cyan.close:case i.default.gray.close:case i.default.white.close:case i.default.yellow.close:case i.default.bgRed.close:case i.default.bgGreen.close:case i.default.bgYellow.close:case i.default.inverse.close:case i.default.dim.close:case i.default.bold.close:case i.default.reset.open:case i.default.reset.close:return"</>";case i.default.red.open:return"<red>";case i.default.green.open:return"<green>";case i.default.cyan.open:return"<cyan>";case i.default.gray.open:return"<gray>";case i.default.white.open:return"<white>";case i.default.yellow.open:return"<yellow>";case i.default.bgRed.open:return"<bgRed>";case i.default.bgGreen.open:return"<bgGreen>";case i.default.bgYellow.open:return"<bgYellow>";case i.default.inverse.open:return"<inverse>";case i.default.dim.open:return"<dim>";case i.default.bold.open:return"<bold>";default:return""}})),t,n,o,a);t.serialize=s;var l={serialize:s,test:a};t.default=l},47173:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(47871);const i=["DOMStringMap","NamedNodeMap"],o=/^(HTML\w*Collection|NodeList)$/,a=e=>{return e&&e.constructor&&!!e.constructor.name&&(t=e.constructor.name,-1!==i.indexOf(t)||o.test(t));var t};t.test=a;const s=(e,t,n,o,a,s)=>{const l=e.constructor.name;return++o>t.maxDepth?"["+l+"]":(t.min?"":l+" ")+(-1!==i.indexOf(l)?"{"+(0,r.printObjectProperties)((e=>"NamedNodeMap"===e.constructor.name)(e)?Array.from(e).reduce(((e,t)=>(e[t.name]=t.value,e)),{}):{...e},t,n,o,a,s)+"}":"["+(0,r.printListItems)(Array.from(e),t,n,o,a,s)+"]")};t.serialize=s;var l={serialize:s,test:a};t.default=l},57916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(67366);const i=/^((HTML|SVG)\w*)?Element$/,o=e=>{var t;return(null==e||null===(t=e.constructor)||void 0===t?void 0:t.name)&&(e=>{const t=e.constructor.name,{nodeType:n,tagName:r}=e,o="string"==typeof r&&r.includes("-")||(e=>{try{return"function"==typeof e.hasAttribute&&e.hasAttribute("is")}catch{return!1}})(e);return 1===n&&(i.test(t)||o)||3===n&&"Text"===t||8===n&&"Comment"===t||11===n&&"DocumentFragment"===t})(e)};function a(e){return 11===e.nodeType}t.test=o;const s=(e,t,n,i,o,s)=>{if(function(e){return 3===e.nodeType}(e))return(0,r.printText)(e.data,t);if(function(e){return 8===e.nodeType}(e))return(0,r.printComment)(e.data,t);const l=a(e)?"DocumentFragment":e.tagName.toLowerCase();return++i>t.maxDepth?(0,r.printElementAsLeaf)(l,t):(0,r.printElement)(l,(0,r.printProps)(a(e)?[]:Array.from(e.attributes).map((e=>e.name)).sort(),a(e)?{}:Array.from(e.attributes).reduce(((e,t)=>(e[t.name]=t.value,e)),{}),t,n+t.indent,i,o,s),(0,r.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,n+t.indent,i,o,s),t,n)};t.serialize=s;var l={serialize:s,test:o};t.default=l},97704:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(47871);const i="@@__IMMUTABLE_ORDERED__@@",o=e=>"Immutable."+e,a=e=>"["+e+"]",s=" ",l=(e,t,n,i,l,u,c)=>++i>t.maxDepth?a(o(c)):o(c)+s+"["+(0,r.printIteratorValues)(e.values(),t,n,i,l,u)+"]",u=(e,t,n,u,c,h)=>e["@@__IMMUTABLE_MAP__@@"]?((e,t,n,i,l,u,c)=>++i>t.maxDepth?a(o(c)):o(c)+s+"{"+(0,r.printIteratorEntries)(e.entries(),t,n,i,l,u)+"}")(e,t,n,u,c,h,e[i]?"OrderedMap":"Map"):e["@@__IMMUTABLE_LIST__@@"]?l(e,t,n,u,c,h,"List"):e["@@__IMMUTABLE_SET__@@"]?l(e,t,n,u,c,h,e[i]?"OrderedSet":"Set"):e["@@__IMMUTABLE_STACK__@@"]?l(e,t,n,u,c,h,"Stack"):e["@@__IMMUTABLE_SEQ__@@"]?((e,t,n,i,l,u)=>{const c=o("Seq");return++i>t.maxDepth?a(c):e["@@__IMMUTABLE_KEYED__@@"]?c+s+"{"+(e._iter||e._object?(0,r.printIteratorEntries)(e.entries(),t,n,i,l,u):"…")+"}":c+s+"["+(e._iter||e._array||e._collection||e._iterable?(0,r.printIteratorValues)(e.values(),t,n,i,l,u):"…")+"]"})(e,t,n,u,c,h):((e,t,n,i,l,u)=>{const c=o(e._name||"Record");return++i>t.maxDepth?a(c):c+s+"{"+(0,r.printIteratorEntries)(function(e){let t=0;return{next(){if(t<e._keys.length){const n=e._keys[t++];return{done:!1,value:[n,e.get(n)]}}return{done:!0,value:void 0}}}}(e),t,n,i,l,u)+"}"})(e,t,n,u,c,h);t.serialize=u;const c=e=>e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"]);t.test=c;var h={serialize:u,test:c};t.default=h},29067:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(r,a,s):r[a]=e[a]}return r.default=e,n&&n.set(e,r),r}(n(41719)),i=n(67366);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const a=(e,t=[])=>(Array.isArray(e)?e.forEach((e=>{a(e,t)})):null!=e&&!1!==e&&t.push(e),t),s=e=>{const t=e.type;if("string"==typeof t)return t;if("function"==typeof t)return t.displayName||t.name||"Unknown";if(r.isFragment(e))return"React.Fragment";if(r.isSuspense(e))return"React.Suspense";if("object"==typeof t&&null!==t){if(r.isContextProvider(e))return"Context.Provider";if(r.isContextConsumer(e))return"Context.Consumer";if(r.isForwardRef(e)){if(t.displayName)return t.displayName;const e=t.render.displayName||t.render.name||"";return""!==e?"ForwardRef("+e+")":"ForwardRef"}if(r.isMemo(e)){const e=t.displayName||t.type.displayName||t.type.name||"";return""!==e?"Memo("+e+")":"Memo"}}return"UNDEFINED"},l=(e,t,n,r,o,l)=>++r>t.maxDepth?(0,i.printElementAsLeaf)(s(e),t):(0,i.printElement)(s(e),(0,i.printProps)((e=>{const{props:t}=e;return Object.keys(t).filter((e=>"children"!==e&&void 0!==t[e])).sort()})(e),e.props,t,n+t.indent,r,o,l),(0,i.printChildren)(a(e.props.children),t,n+t.indent,r,o,l),t,n);t.serialize=l;const u=e=>null!=e&&r.isElement(e);t.test=u;var c={serialize:l,test:u};t.default=c},16347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var r=n(67366),i="undefined"!=typeof globalThis?globalThis:void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),o=i["jest-symbol-do-not-touch"]||i.Symbol;const a="function"==typeof o&&o.for?o.for("react.test.json"):245830487,s=(e,t,n,i,o,a)=>++i>t.maxDepth?(0,r.printElementAsLeaf)(e.type,t):(0,r.printElement)(e.type,e.props?(0,r.printProps)((e=>{const{props:t}=e;return t?Object.keys(t).filter((e=>void 0!==t[e])).sort():[]})(e),e.props,t,n+t.indent,i,o,a):"",e.children?(0,r.printChildren)(e.children,t,n+t.indent,i,o,a):"",t,n);t.serialize=s;const l=e=>e&&e.$$typeof===a;t.test=l;var u={serialize:s,test:l};t.default=u},62209:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},67366:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printText=t.printProps=t.printElementAsLeaf=t.printElement=t.printComment=t.printChildren=void 0;var r,i=(r=n(62209))&&r.__esModule?r:{default:r};t.printProps=(e,t,n,r,i,o,a)=>{const s=r+n.indent,l=n.colors;return e.map((e=>{const u=t[e];let c=a(u,n,s,i,o);return"string"!=typeof u&&(-1!==c.indexOf("\n")&&(c=n.spacingOuter+s+c+n.spacingOuter+r),c="{"+c+"}"),n.spacingInner+r+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")},t.printChildren=(e,t,n,r,i,a)=>e.map((e=>t.spacingOuter+n+("string"==typeof e?o(e,t):a(e,t,n,r,i)))).join("");const o=(e,t)=>{const n=t.colors.content;return n.open+(0,i.default)(e)+n.close};t.printText=o,t.printComment=(e,t)=>{const n=t.colors.comment;return n.open+"\x3c!--"+(0,i.default)(e)+"--\x3e"+n.close},t.printElement=(e,t,n,r,i)=>{const o=r.colors.tag;return o.open+"<"+e+(t&&o.close+t+r.spacingOuter+i+o.open)+(n?">"+o.close+n+r.spacingOuter+i+o.open+"</"+e:(t&&!r.min?"":" ")+"/")+">"+o.close},t.printElementAsLeaf=(e,t)=>{const n=t.colors.tag;return n.open+"<"+e+n.close+" …"+n.open+" />"+n.close}},84409:(e,t,n)=>{"use strict";e=n.nmd(e);const r=(e=0)=>t=>`[${38+e};5;${t}m`,i=(e=0)=>(t,n,r)=>`[${38+e};2;${t};${n};${r}m`;Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[n,r]of Object.entries(t)){for(const[n,i]of Object.entries(r))t[n]={open:`[${i[0]}m`,close:`[${i[1]}m`},r[n]=t[n],e.set(i[0],i[1]);Object.defineProperty(t,n,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",t.color.ansi256=r(),t.color.ansi16m=i(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=i(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:n}=t.groups;3===n.length&&(n=n.split("").map((e=>e+e)).join(""));const r=Number.parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},73364:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,u=60112,c=60113,h=60120,p=60115,d=60116,f=60121,m=60122,g=60117,y=60129,v=60131;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;n=_("react.element"),r=_("react.portal"),i=_("react.fragment"),o=_("react.strict_mode"),a=_("react.profiler"),s=_("react.provider"),l=_("react.context"),u=_("react.forward_ref"),c=_("react.suspense"),h=_("react.suspense_list"),p=_("react.memo"),d=_("react.lazy"),f=_("react.block"),m=_("react.server.block"),g=_("react.fundamental"),y=_("react.debug_trace_mode"),v=_("react.legacy_hidden")}function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case d:case p:case s:return e;default:return t}}case r:return t}}}var x=s,w=n,E=u,S=i,C=d,T=p,I=r,k=a,P=o,L=c;t.ContextConsumer=l,t.ContextProvider=x,t.Element=w,t.ForwardRef=E,t.Fragment=S,t.Lazy=C,t.Memo=T,t.Portal=I,t.Profiler=k,t.StrictMode=P,t.Suspense=L,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===u},t.isFragment=function(e){return b(e)===i},t.isLazy=function(e){return b(e)===d},t.isMemo=function(e){return b(e)===p},t.isPortal=function(e){return b(e)===r},t.isProfiler=function(e){return b(e)===a},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===c},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===a||e===y||e===o||e===c||e===h||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===g||e.$$typeof===f||e[0]===m)},t.typeOf=b},41719:(e,t,n)=>{"use strict";e.exports=n(73364)},9705:(e,t,n)=>{"use strict";var r=n(31540);function i(e){var t=[1/0,1/0,-1/0,-1/0];return r.coordEach(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}i.default=i,t.Z=i},84102:(e,t)=>{"use strict";function n(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function r(e,t,r){if(void 0===r&&(r={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!d(e[0])||!d(e[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:e},t,r)}function i(e,t,r){void 0===r&&(r={});for(var i=0,o=e;i<o.length;i++){var a=o[i];if(a.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<a[a.length-1].length;s++)if(a[a.length-1][s]!==a[0][s])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function o(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function a(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function s(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function l(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function c(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e*r}function h(e,n){void 0===n&&(n="kilometers");var r=t.factors[n];if(!r)throw new Error(n+" units is invalid");return e/r}function p(e){return e%(2*Math.PI)*180/Math.PI}function d(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:1.0936*t.earthRadius},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1.0936133},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=function(e,t,n){switch(void 0===n&&(n={}),e){case"Point":return r(t).geometry;case"LineString":return o(t).geometry;case"Polygon":return i(t).geometry;case"MultiPoint":return l(t).geometry;case"MultiLineString":return s(t).geometry;case"MultiPolygon":return u(t).geometry;default:throw new Error(e+" is invalid")}},t.point=r,t.points=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return r(e,t)})),n)},t.polygon=i,t.polygons=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return i(e,t)})),n)},t.lineString=o,t.lineStrings=function(e,t,n){return void 0===n&&(n={}),a(e.map((function(e){return o(e,t)})),n)},t.featureCollection=a,t.multiLineString=s,t.multiPoint=l,t.multiPolygon=u,t.geometryCollection=function(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)},t.round=function(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n},t.radiansToLength=c,t.lengthToRadians=h,t.lengthToDegrees=function(e,t){return p(h(e,t))},t.bearingToAzimuth=function(e){var t=e%360;return t<0&&(t+=360),t},t.radiansToDegrees=p,t.degreesToRadians=function(e){return e%360*Math.PI/180},t.convertLength=function(e,t,n){if(void 0===t&&(t="kilometers"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return c(h(e,t),n)},t.convertArea=function(e,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("area must be a positive number");var i=t.areaFactors[n];if(!i)throw new Error("invalid original units");var o=t.areaFactors[r];if(!o)throw new Error("invalid final units");return e/i*o},t.isNumber=d,t.isObject=function(e){return!!e&&e.constructor===Object},t.validateBBox=function(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach((function(e){if(!d(e))throw new Error("bbox must only contain numbers")}))},t.validateId=function(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}},31540:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(84102);function i(e,t,n){if(null!==e)for(var r,o,a,s,l,u,c,h,p=0,d=0,f=e.type,m="FeatureCollection"===f,g="Feature"===f,y=m?e.features.length:1,v=0;v<y;v++){l=(h=!!(c=m?e.features[v].geometry:g?e.geometry:e)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var _=0;_<l;_++){var b=0,x=0;if(null!==(s=h?c.geometries[_]:c)){u=s.coordinates;var w=s.type;switch(p=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(u,d,v,b,x))return!1;d++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<u.length;r++){if(!1===t(u[r],d,v,b,x))return!1;d++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<u.length;r++){for(o=0;o<u[r].length-p;o++){if(!1===t(u[r][o],d,v,b,x))return!1;d++}"MultiLineString"===w&&b++,"Polygon"===w&&x++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<u.length;r++){for(x=0,o=0;o<u[r].length;o++){for(a=0;a<u[r][o].length-p;a++){if(!1===t(u[r][o][a],d,v,b,x))return!1;d++}x++}b++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(!1===i(s.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&!1!==t(e.features[n].properties,n);n++);break;case"Feature":t(e.properties,0)}}function a(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function s(e,t){var n,r,i,o,a,s,l,u,c,h,p=0,d="FeatureCollection"===e.type,f="Feature"===e.type,m=d?e.features.length:1;for(n=0;n<m;n++){for(s=d?e.features[n].geometry:f?e.geometry:e,u=d?e.features[n].properties:f?e.properties:{},c=d?e.features[n].bbox:f?e.bbox:void 0,h=d?e.features[n].id:f?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,u,c,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,u,c,h))return!1;p++}}function l(e,t){s(e,(function(e,n,i,o,a){var s,l=null===e?null:e.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==t(r.feature(e,i,{bbox:o,id:a}),n,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<e.coordinates.length;u++){var c={type:s,coordinates:e.coordinates[u]};if(!1===t(r.feature(c,i),n,u))return!1}}))}function u(e,t){l(e,(function(e,n,o){var a=0;if(e.geometry){var s=e.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,u=0,c=0,h=0;return!1!==i(e,(function(i,s,p,d,f){if(void 0===l||n>u||d>c||f>h)return l=i,u=n,c=d,h=f,void(a=0);var m=r.lineString([l,i],e.properties);if(!1===t(m,n,o,f,a))return!1;a++,l=i}))&&void 0}}}))}function c(e,t){if(!e)throw new Error("geojson is required");l(e,(function(e,n,i){if(null!==e.geometry){var o=e.geometry.type,a=e.geometry.coordinates;switch(o){case"LineString":if(!1===t(e,n,i,0,0))return!1;break;case"Polygon":for(var s=0;s<a.length;s++)if(!1===t(r.lineString(a[s],e.properties),n,i,s))return!1}}}))}t.coordAll=function(e){var t=[];return i(e,(function(e){t.push(e)})),t},t.coordEach=i,t.coordReduce=function(e,t,n,r){var o=n;return i(e,(function(e,r,i,a,s){o=0===r&&void 0===n?e:t(o,e,r,i,a,s)}),r),o},t.featureEach=a,t.featureReduce=function(e,t,n){var r=n;return a(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},t.findPoint=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),l=l||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":return r.point(u,l,t);case"MultiPoint":return o<0&&(o=u.length+o),r.point(u[o],l,t);case"LineString":return s<0&&(s=u.length+s),r.point(u[s],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s),r.point(u[a][s],l,t);case"MultiLineString":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),r.point(u[o][s],l,t);case"MultiPolygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),s<0&&(s=u[o][a].length-s),r.point(u[o][a][s],l,t)}throw new Error("geojson is invalid")},t.findSegment=function(e,t){if(t=t||{},!r.isObject(t))throw new Error("options is invalid");var n,i=t.featureIndex||0,o=t.multiFeatureIndex||0,a=t.geometryIndex||0,s=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":i<0&&(i=e.features.length+i),l=l||e.features[i].properties,n=e.features[i].geometry;break;case"Feature":l=l||e.properties,n=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=e;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var u=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),r.lineString([u[s],u[s+1]],l,t);case"Polygon":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s-1),r.lineString([u[a][s],u[a][s+1]],l,t);case"MultiLineString":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),r.lineString([u[o][s],u[o][s+1]],l,t);case"MultiPolygon":return o<0&&(o=u.length+o),a<0&&(a=u[o].length+a),s<0&&(s=u[o][a].length-s-1),r.lineString([u[o][a][s],u[o][a][s+1]],l,t)}throw new Error("geojson is invalid")},t.flattenEach=l,t.flattenReduce=function(e,t,n){var r=n;return l(e,(function(e,i,o){r=0===i&&0===o&&void 0===n?e:t(r,e,i,o)})),r},t.geomEach=s,t.geomReduce=function(e,t,n){var r=n;return s(e,(function(e,i,o,a,s){r=0===i&&void 0===n?e:t(r,e,i,o,a,s)})),r},t.lineEach=c,t.lineReduce=function(e,t,n){var r=n;return c(e,(function(e,i,o,a){r=0===i&&void 0===n?e:t(r,e,i,o,a)})),r},t.propEach=o,t.propReduce=function(e,t,n){var r=n;return o(e,(function(e,i){r=0===i&&void 0===n?e:t(r,e,i)})),r},t.segmentEach=u,t.segmentReduce=function(e,t,n){var r=n,i=!1;return u(e,(function(e,o,a,s,l){r=!1===i&&void 0===n?e:t(r,e,o,a,s,l),i=!0})),r}},47457:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=[["aria-activedescendant",{type:"id"}],["aria-atomic",{type:"boolean"}],["aria-autocomplete",{type:"token",values:["inline","list","both","none"]}],["aria-busy",{type:"boolean"}],["aria-checked",{type:"tristate"}],["aria-colcount",{type:"integer"}],["aria-colindex",{type:"integer"}],["aria-colspan",{type:"integer"}],["aria-controls",{type:"idlist"}],["aria-current",{type:"token",values:["page","step","location","date","time",!0,!1]}],["aria-describedby",{type:"idlist"}],["aria-details",{type:"id"}],["aria-disabled",{type:"boolean"}],["aria-dropeffect",{type:"tokenlist",values:["copy","execute","link","move","none","popup"]}],["aria-errormessage",{type:"id"}],["aria-expanded",{type:"boolean",allowundefined:!0}],["aria-flowto",{type:"idlist"}],["aria-grabbed",{type:"boolean",allowundefined:!0}],["aria-haspopup",{type:"token",values:[!1,!0,"menu","listbox","tree","grid","dialog"]}],["aria-hidden",{type:"boolean",allowundefined:!0}],["aria-invalid",{type:"token",values:["grammar",!1,"spelling",!0]}],["aria-keyshortcuts",{type:"string"}],["aria-label",{type:"string"}],["aria-labelledby",{type:"idlist"}],["aria-level",{type:"integer"}],["aria-live",{type:"token",values:["assertive","off","polite"]}],["aria-modal",{type:"boolean"}],["aria-multiline",{type:"boolean"}],["aria-multiselectable",{type:"boolean"}],["aria-orientation",{type:"token",values:["vertical","undefined","horizontal"]}],["aria-owns",{type:"idlist"}],["aria-placeholder",{type:"string"}],["aria-posinset",{type:"integer"}],["aria-pressed",{type:"tristate"}],["aria-readonly",{type:"boolean"}],["aria-relevant",{type:"tokenlist",values:["additions","all","removals","text"]}],["aria-required",{type:"boolean"}],["aria-roledescription",{type:"string"}],["aria-rowcount",{type:"integer"}],["aria-rowindex",{type:"integer"}],["aria-rowspan",{type:"integer"}],["aria-selected",{type:"boolean",allowundefined:!0}],["aria-setsize",{type:"integer"}],["aria-sort",{type:"token",values:["ascending","descending","none","other"]}],["aria-valuemax",{type:"number"}],["aria-valuemin",{type:"number"}],["aria-valuenow",{type:"number"}],["aria-valuetext",{type:"string"}]],o={entries:function(){return i},get:function(e){var t=i.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return i.map((function(e){return n(e,1)[0]}))},values:function(){return i.map((function(e){return n(e,2)[1]}))}};t.default=o},37549:(e,t)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=[["a",{reserved:!1}],["abbr",{reserved:!1}],["acronym",{reserved:!1}],["address",{reserved:!1}],["applet",{reserved:!1}],["area",{reserved:!1}],["article",{reserved:!1}],["aside",{reserved:!1}],["audio",{reserved:!1}],["b",{reserved:!1}],["base",{reserved:!0}],["bdi",{reserved:!1}],["bdo",{reserved:!1}],["big",{reserved:!1}],["blink",{reserved:!1}],["blockquote",{reserved:!1}],["body",{reserved:!1}],["br",{reserved:!1}],["button",{reserved:!1}],["canvas",{reserved:!1}],["caption",{reserved:!1}],["center",{reserved:!1}],["cite",{reserved:!1}],["code",{reserved:!1}],["col",{reserved:!0}],["colgroup",{reserved:!0}],["content",{reserved:!1}],["data",{reserved:!1}],["datalist",{reserved:!1}],["dd",{reserved:!1}],["del",{reserved:!1}],["details",{reserved:!1}],["dfn",{reserved:!1}],["dialog",{reserved:!1}],["dir",{reserved:!1}],["div",{reserved:!1}],["dl",{reserved:!1}],["dt",{reserved:!1}],["em",{reserved:!1}],["embed",{reserved:!1}],["fieldset",{reserved:!1}],["figcaption",{reserved:!1}],["figure",{reserved:!1}],["font",{reserved:!1}],["footer",{reserved:!1}],["form",{reserved:!1}],["frame",{reserved:!1}],["frameset",{reserved:!1}],["h1",{reserved:!1}],["h2",{reserved:!1}],["h3",{reserved:!1}],["h4",{reserved:!1}],["h5",{reserved:!1}],["h6",{reserved:!1}],["head",{reserved:!0}],["header",{reserved:!1}],["hgroup",{reserved:!1}],["hr",{reserved:!1}],["html",{reserved:!0}],["i",{reserved:!1}],["iframe",{reserved:!1}],["img",{reserved:!1}],["input",{reserved:!1}],["ins",{reserved:!1}],["kbd",{reserved:!1}],["keygen",{reserved:!1}],["label",{reserved:!1}],["legend",{reserved:!1}],["li",{reserved:!1}],["link",{reserved:!0}],["main",{reserved:!1}],["map",{reserved:!1}],["mark",{reserved:!1}],["marquee",{reserved:!1}],["menu",{reserved:!1}],["menuitem",{reserved:!1}],["meta",{reserved:!0}],["meter",{reserved:!1}],["nav",{reserved:!1}],["noembed",{reserved:!0}],["noscript",{reserved:!0}],["object",{reserved:!1}],["ol",{reserved:!1}],["optgroup",{reserved:!1}],["option",{reserved:!1}],["output",{reserved:!1}],["p",{reserved:!1}],["param",{reserved:!0}],["picture",{reserved:!0}],["pre",{reserved:!1}],["progress",{reserved:!1}],["q",{reserved:!1}],["rp",{reserved:!1}],["rt",{reserved:!1}],["rtc",{reserved:!1}],["ruby",{reserved:!1}],["s",{reserved:!1}],["samp",{reserved:!1}],["script",{reserved:!0}],["section",{reserved:!1}],["select",{reserved:!1}],["small",{reserved:!1}],["source",{reserved:!0}],["spacer",{reserved:!1}],["span",{reserved:!1}],["strike",{reserved:!1}],["strong",{reserved:!1}],["style",{reserved:!0}],["sub",{reserved:!1}],["summary",{reserved:!1}],["sup",{reserved:!1}],["table",{reserved:!1}],["tbody",{reserved:!1}],["td",{reserved:!1}],["textarea",{reserved:!1}],["tfoot",{reserved:!1}],["th",{reserved:!1}],["thead",{reserved:!1}],["time",{reserved:!1}],["title",{reserved:!0}],["tr",{reserved:!1}],["track",{reserved:!0}],["tt",{reserved:!1}],["u",{reserved:!1}],["ul",{reserved:!1}],["var",{reserved:!1}],["video",{reserved:!1}],["wbr",{reserved:!1}],["xmp",{reserved:!1}]],o={entries:function(){return i},get:function(e){var t=i.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return i.map((function(e){return n(e,1)[0]}))},values:function(){return i.map((function(e){return n(e,2)[1]}))}};t.default=o},43217:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(33913))&&r.__esModule?r:{default:r};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var s=[],l=i.default.keys(),u=0;u<l.length;u++){var c=l[u],h=i.default.get(c);if(h)for(var p=[].concat(h.baseConcepts,h.relatedConcepts),d=0;d<p.length;d++){var f=p[d];if("HTML"===f.module){var m=f.concept;m&&function(){var e=JSON.stringify(m),t=s.find((function(t){return JSON.stringify(t[0])===e})),n=void 0;n=t?t[1]:[];for(var r=!0,i=0;i<n.length;i++)if(n[i]===c){r=!1;break}r&&n.push(c),s.push([m,n])}()}}}var g={entries:function(){return s},get:function(e){var t=s.find((function(t){return JSON.stringify(t[0])===JSON.stringify(e)}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return s.map((function(e){return o(e,1)[0]}))},values:function(){return s.map((function(e){return o(e,2)[1]}))}};t.default=g},44329:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]}},51185:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]}},98173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null},relatedConcepts:[{concept:{name:"input"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]}},22328:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},46238:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},96678:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{"aria-atomic":null,"aria-busy":null,"aria-controls":null,"aria-current":null,"aria-describedby":null,"aria-details":null,"aria-dropeffect":null,"aria-flowto":null,"aria-grabbed":null,"aria-hidden":null,"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-live":null,"aria-owns":null,"aria-relevant":null,"aria-roledescription":null},relatedConcepts:[{concept:{name:"rel"},module:"HTML"},{concept:{name:"role"},module:"XHTML"},{concept:{name:"type"},module:"Dublin Core"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]}},84799:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"frontmatter"},module:"DTB"},{concept:{name:"level"},module:"DTB"},{concept:{name:"level"},module:"SMIL"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},71656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},21804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","group"]]}},30520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]}},98733:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]}},10047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-modal":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]}},86138:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=m(n(44329)),i=m(n(51185)),o=m(n(98173)),a=m(n(22328)),s=m(n(46238)),l=m(n(96678)),u=m(n(84799)),c=m(n(71656)),h=m(n(21804)),p=m(n(30520)),d=m(n(98733)),f=m(n(10047));function m(e){return e&&e.__esModule?e:{default:e}}var g=[["command",r.default],["composite",i.default],["input",o.default],["landmark",a.default],["range",s.default],["roletype",l.default],["section",u.default],["sectionhead",c.default],["select",h.default],["structure",p.default],["widget",d.default],["window",f.default]];t.default=g},45302:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=U(n(30481)),i=U(n(35410)),o=U(n(53821)),a=U(n(42222)),s=U(n(45493)),l=U(n(37507)),u=U(n(11410)),c=U(n(73456)),h=U(n(83881)),p=U(n(4277)),d=U(n(38556)),f=U(n(90945)),m=U(n(44658)),g=U(n(60244)),y=U(n(20212)),v=U(n(61111)),_=U(n(17171)),b=U(n(74552)),x=U(n(58373)),w=U(n(50711)),E=U(n(63612)),S=U(n(66909)),C=U(n(76361)),T=U(n(80745)),I=U(n(36871)),k=U(n(53035)),P=U(n(96498)),L=U(n(97364)),M=U(n(66589)),A=U(n(24216)),O=U(n(80386)),R=U(n(2554)),N=U(n(65885)),D=U(n(82186)),z=U(n(60805)),F=U(n(53135)),B=U(n(44174)),j=U(n(25903)),Z=U(n(3535));function U(e){return e&&e.__esModule?e:{default:e}}var q=[["doc-abstract",r.default],["doc-acknowledgments",i.default],["doc-afterword",o.default],["doc-appendix",a.default],["doc-backlink",s.default],["doc-biblioentry",l.default],["doc-bibliography",u.default],["doc-biblioref",c.default],["doc-chapter",h.default],["doc-colophon",p.default],["doc-conclusion",d.default],["doc-cover",f.default],["doc-credit",m.default],["doc-credits",g.default],["doc-dedication",y.default],["doc-endnote",v.default],["doc-endnotes",_.default],["doc-epigraph",b.default],["doc-epilogue",x.default],["doc-errata",w.default],["doc-example",E.default],["doc-footnote",S.default],["doc-foreword",C.default],["doc-glossary",T.default],["doc-glossref",I.default],["doc-index",k.default],["doc-introduction",P.default],["doc-noteref",L.default],["doc-notice",M.default],["doc-pagebreak",A.default],["doc-pagelist",O.default],["doc-part",R.default],["doc-preface",N.default],["doc-prologue",D.default],["doc-pullquote",z.default],["doc-qna",F.default],["doc-subtitle",B.default],["doc-tip",j.default],["doc-toc",Z.default]];t.default=q},89081:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=Me(n(53737)),i=Me(n(61412)),o=Me(n(30968)),a=Me(n(78466)),s=Me(n(48496)),l=Me(n(82540)),u=Me(n(20034)),c=Me(n(70589)),h=Me(n(30981)),p=Me(n(87064)),d=Me(n(49882)),f=Me(n(20948)),m=Me(n(74978)),g=Me(n(36246)),y=Me(n(28844)),v=Me(n(21463)),_=Me(n(39174)),b=Me(n(98422)),x=Me(n(92686)),w=Me(n(3477)),E=Me(n(87089)),S=Me(n(40949)),C=Me(n(15e3)),T=Me(n(3204)),I=Me(n(56481)),k=Me(n(19782)),P=Me(n(66974)),L=Me(n(68458)),M=Me(n(2589)),A=Me(n(74046)),O=Me(n(28186)),R=Me(n(32339)),N=Me(n(85448)),D=Me(n(7297)),z=Me(n(92573)),F=Me(n(30397)),B=Me(n(7116)),j=Me(n(36718)),Z=Me(n(88581)),U=Me(n(83874)),q=Me(n(25880)),V=Me(n(31549)),G=Me(n(54092)),H=Me(n(17305)),W=Me(n(71216)),$=Me(n(95344)),X=Me(n(36541)),Y=Me(n(19845)),K=Me(n(94955)),J=Me(n(23289)),Q=Me(n(23721)),ee=Me(n(36669)),te=Me(n(33855)),ne=Me(n(35715)),re=Me(n(77397)),ie=Me(n(43046)),oe=Me(n(98666)),ae=Me(n(42544)),se=Me(n(44064)),le=Me(n(25722)),ue=Me(n(39983)),ce=Me(n(92646)),he=Me(n(34208)),pe=Me(n(66368)),de=Me(n(2497)),fe=Me(n(47575)),me=Me(n(54357)),ge=Me(n(45957)),ye=Me(n(8917)),ve=Me(n(38743)),_e=Me(n(71053)),be=Me(n(61599)),xe=Me(n(83193)),we=Me(n(34665)),Ee=Me(n(221)),Se=Me(n(75313)),Ce=Me(n(50221)),Te=Me(n(83316)),Ie=Me(n(19304)),ke=Me(n(73538)),Pe=Me(n(5627)),Le=Me(n(28425));function Me(e){return e&&e.__esModule?e:{default:e}}var Ae=[["alert",r.default],["alertdialog",i.default],["application",o.default],["article",a.default],["banner",s.default],["blockquote",l.default],["button",u.default],["caption",c.default],["cell",h.default],["checkbox",p.default],["code",d.default],["columnheader",f.default],["combobox",m.default],["complementary",g.default],["contentinfo",y.default],["definition",v.default],["deletion",_.default],["dialog",b.default],["directory",x.default],["document",w.default],["emphasis",E.default],["feed",S.default],["figure",C.default],["form",T.default],["generic",I.default],["grid",k.default],["gridcell",P.default],["group",L.default],["heading",M.default],["img",A.default],["insertion",O.default],["link",R.default],["list",N.default],["listbox",D.default],["listitem",z.default],["log",F.default],["main",B.default],["marquee",j.default],["math",Z.default],["menu",U.default],["menubar",q.default],["menuitem",V.default],["menuitemcheckbox",G.default],["menuitemradio",H.default],["meter",W.default],["navigation",$.default],["none",X.default],["note",Y.default],["option",K.default],["paragraph",J.default],["presentation",Q.default],["progressbar",ee.default],["radio",te.default],["radiogroup",ne.default],["region",re.default],["row",ie.default],["rowgroup",oe.default],["rowheader",ae.default],["scrollbar",se.default],["search",le.default],["searchbox",ue.default],["separator",ce.default],["slider",he.default],["spinbutton",pe.default],["status",de.default],["strong",fe.default],["subscript",me.default],["superscript",ge.default],["switch",ye.default],["tab",ve.default],["table",_e.default],["tablist",be.default],["tabpanel",xe.default],["term",we.default],["textbox",Ee.default],["time",Se.default],["timer",Ce.default],["toolbar",Te.default],["tooltip",Ie.default],["tree",ke.default],["treegrid",Pe.default],["treeitem",Le.default]];t.default=Ae},30481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"abstract [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},35410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"acknowledgments [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},53821:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"afterword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},42222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"appendix [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},45493:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","content"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"referrer [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]}},37507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"EPUB biblioentry [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-bibliography"],requiredContextRole:["doc-bibliography"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]}},11410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"bibliography [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-biblioentry"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},73456:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"biblioref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]}},83881:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"chapter [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},4277:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"colophon [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},38556:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"conclusion [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},90945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"cover [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]}},44658:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credit [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},60244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credits [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},20212:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"dedication [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},61111:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-endnotes"],requiredContextRole:["doc-endnotes"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]}},17171:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnotes [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-endnote"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},74552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epigraph [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},58373:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epilogue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},50711:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"errata [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},63612:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},66909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"footnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},76361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"foreword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},80745:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossary [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["definition"],["term"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},36871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]}},53035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"index [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]}},96498:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"introduction [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},97364:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"noteref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]}},66589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"notice [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]}},24216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"pagebreak [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","separator"]]}},80386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"page-list [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]}},2554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"part [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},65885:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"preface [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},82186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"prologue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},60805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"pullquote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["none"]]}},53135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"qna [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},44174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"subtitle [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"]]}},25903:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"help [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]}},3535:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"toc [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]}},53737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"assertive"},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},61412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","alert"],["roletype","window","dialog"]]}},30968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},78466:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"article"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]}},48496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"header"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},82540:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},20034:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-pressed":null},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-pressed"},{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"false"}],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"true"}],constraints:["direct descendant of details element with the open attribute defined"],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"type",value:"button"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"image"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"reset"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"submit"}],name:"input"},module:"HTML"},{concept:{name:"button"},module:"HTML"},{concept:{name:"trigger"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]}},70589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:["figure","grid","table"],requiredContextRole:["figure","grid","table"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},30981:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-colspan":null,"aria-rowindex":null,"aria-rowspan":null},relatedConcepts:[{concept:{constraints:["descendant of table"],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},87064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]}},49882:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},20948:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{attributes:[{name:"scope",value:"col"}],concept:{name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]}},74978:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-expanded":"false","aria-haspopup":"listbox"},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{constraints:["undefined"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{name:"size",value:1}],name:"select"},module:"HTML"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-expanded":"false"},superClass:[["roletype","widget","input"]]}},36246:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"aside"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},28844:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"footer"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},21463:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dd"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},39174:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},98422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dialog"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","window"]]}},92686:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{module:"DAISY Guide"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","list"]]}},3477:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}},{concept:{name:"body"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},87089:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},40949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["article"]],requiredProps:{},superClass:[["roletype","structure","section","list"]]}},15e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"figure"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},3204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"name"}],name:"form"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},56481:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[{concept:{name:"span"},module:"HTML"},{concept:{name:"div"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},19782:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-multiselectable":null,"aria-readonly":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"grid"}],name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","table"]]}},66974:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-selected":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"gridcell"}],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","widget"]]}},68458:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[{concept:{name:"details"},module:"HTML"},{concept:{name:"fieldset"},module:"HTML"},{concept:{name:"optgroup"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},2589:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-level":"2"},relatedConcepts:[{concept:{name:"h1"},module:"HTML"},{concept:{name:"h2"},module:"HTML"},{concept:{name:"h3"},module:"HTML"},{concept:{name:"h4"},module:"HTML"},{concept:{name:"h5"},module:"HTML"},{concept:{name:"h6"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-level":"2"},superClass:[["roletype","structure","sectionhead"]]}},74046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"alt"}],name:"img"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"alt"}],name:"img"},module:"HTML"},{concept:{name:"imggroup"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},28186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},32339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[{concept:{attributes:[{name:"href"}],name:"a"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"area"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"link"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]}},85448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menu"},module:"HTML"},{concept:{name:"ol"},module:"HTML"},{concept:{name:"ul"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["listitem"]],requiredProps:{},superClass:[["roletype","structure","section"]]}},7297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-multiselectable":null,"aria-readonly":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[{concept:{attributes:[{constraints:[">1"],name:"size"},{name:"multiple"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:[">1"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{name:"multiple"}],name:"select"},module:"HTML"},{concept:{name:"datalist"},module:"HTML"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["option","group"],["option"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]}},92573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{constraints:["direct descendant of ol, ul or menu"],name:"li"},module:"HTML"},{concept:{name:"item"},module:"XForms"}],requireContextRole:["directory","list"],requiredContextRole:["directory","list"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},30397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-live":"polite"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},7116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"main"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},36718:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},88581:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"math"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},83874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"vertical"},relatedConcepts:[{concept:{name:"MENU"},module:"JAPI"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"},{concept:{name:"sidebar"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]}},25880:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"toolbar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select","menu"],["roletype","structure","section","group","select","menu"]]}},31549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"MENU_ITEM"},module:"JAPI"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"menuitem"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]}},54092:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"],["roletype","widget","command","menuitem"]]}},17305:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox","menuitemcheckbox"],["roletype","widget","command","menuitem","menuitemcheckbox"],["roletype","widget","input","radio"]]}},71216:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null,"aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","structure","range"]]}},95344:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"nav"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},36541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]}},19845:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},94955:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[{concept:{name:"item"},module:"XForms"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"option"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-selected":"false"},superClass:[["roletype","widget","input"]]}},23289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},23721:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},36669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null},relatedConcepts:[{concept:{name:"progress"},module:"HTML"},{concept:{name:"status"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","range"],["roletype","widget"]]}},33855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"radio"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]}},35715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{name:"list"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["radio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]}},77397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"section"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"section"},module:"HTML"},{concept:{name:"Device Independence Glossart perceivable unit"}},{concept:{name:"frame"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},43046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-expanded":null,"aria-level":null,"aria-posinset":null,"aria-rowindex":null,"aria-selected":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"tr"},module:"HTML"}],requireContextRole:["grid","rowgroup","table","treegrid"],requiredContextRole:["grid","rowgroup","table","treegrid"],requiredOwnedElements:[["cell"],["columnheader"],["gridcell"],["rowheader"]],requiredProps:{},superClass:[["roletype","structure","section","group"],["roletype","widget"]]}},98666:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"tbody"},module:"HTML"},{concept:{name:"tfoot"},module:"HTML"},{concept:{name:"thead"},module:"HTML"}],requireContextRole:["grid","table","treegrid"],requiredContextRole:["grid","table","treegrid"],requiredOwnedElements:[["row"]],requiredProps:{},superClass:[["roletype","structure"]]}},42544:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{concept:{attributes:[{name:"scope",value:"row"}],name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]}},44064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-valuetext":null,"aria-orientation":"vertical","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-valuenow":null},superClass:[["roletype","structure","range"],["roletype","widget"]]}},25722:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]}},39983:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input","textbox"]]}},92646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":null,"aria-valuetext":null},relatedConcepts:[{concept:{name:"hr"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]}},34208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-valuetext":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"range"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","widget","input"],["roletype","structure","range"]]}},66368:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-valuetext":null,"aria-valuenow":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"number"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","widget","input"],["roletype","structure","range"]]}},2497:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"polite"},relatedConcepts:[{concept:{name:"output"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},47575:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},54357:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},45957:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},8917:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"button"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"]]}},38743:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[],requireContextRole:["tablist"],requiredContextRole:["tablist"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"],["roletype","widget"]]}},71053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-colcount":null,"aria-rowcount":null},relatedConcepts:[{concept:{name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","structure","section"]]}},61599:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-multiselectable":null,"aria-orientation":"horizontal"},relatedConcepts:[{module:"DAISY",concept:{name:"guide"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["tab"]],requiredProps:{},superClass:[["roletype","widget","composite"]]}},83193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},34665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dfn"},module:"HTML"},{concept:{name:"dt"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-multiline":null,"aria-placeholder":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"type"},{constraints:["undefined"],name:"list"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{name:"input"},module:"XForms"},{concept:{name:"textarea"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input"]]}},75313:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},50221:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","status"]]}},83316:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"menubar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]}},19304:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]}},73538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-multiselectable":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["treeitem","group"],["treeitem"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]}},5627:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite","grid"],["roletype","structure","section","table","grid"],["roletype","widget","composite","select","tree"],["roletype","structure","section","group","select","tree"]]}},28425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[],requireContextRole:["group","tree"],requiredContextRole:["group","tree"],requiredOwnedElements:[],requiredProps:{"aria-selected":null},superClass:[["roletype","structure","section","listitem"],["roletype","widget","input","option"]]}},12461:(e,t,n)=>{"use strict";t.UN=t.Qv=t.uJ=void 0;var r=l(n(47457)),i=l(n(37549)),o=l(n(33913)),a=l(n(43217)),s=l(n(36433));function l(e){return e&&e.__esModule?e:{default:e}}r.default,i.default;var u=o.default;t.uJ=u;var c=a.default;t.Qv=c;var h=s.default;t.UN=h},36433:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(33913))&&r.__esModule?r:{default:r};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}for(var s=[],l=i.default.keys(),u=function(e){var t=l[e],n=i.default.get(t);if(n)for(var r=[].concat(n.baseConcepts,n.relatedConcepts),o=0;o<r.length;o++){var a=r[o];if("HTML"===a.module){var u=a.concept;if(u){var c=s.find((function(e){return e[0]===t})),h=void 0;(h=c?c[1]:[]).push(u),s.push([t,h])}}}},c=0;c<l.length;c++)u(c);var h={entries:function(){return s},get:function(e){var t=s.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return s.map((function(e){return o(e,1)[0]}))},values:function(){return s.map((function(e){return o(e,2)[1]}))}};t.default=h},33913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(86138)),i=a(n(89081)),o=a(n(45302));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=[].concat(r.default,i.default,o.default);h.forEach((function(e){var t,n=l(e,2)[1],r=s(n.superClass);try{for(r.s();!(t=r.n()).done;){var i,o=s(t.value);try{var a=function(){var e,t,r,o=i.value,a=h.find((function(e){return l(e,1)[0]===o}));if(a)for(var s=a[1],u=0,c=Object.keys(s.props);u<c.length;u++){var p=c[u];Object.prototype.hasOwnProperty.call(n.props,p)||Object.assign(n.props,(e={},t=p,r=s.props[p],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e))}};for(o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}}}catch(e){r.e(e)}finally{r.f()}}));var p={entries:function(){return h},get:function(e){var t=h.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!this.get(e)},keys:function(){return h.map((function(e){return l(e,1)[0]}))},values:function(){return h.map((function(e){return l(e,2)[1]}))}};t.default=p},79742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=l(e),a=o[0],s=o[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,u[c++]=255&t),1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(u(e,s,s+a>l?l:s+a));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48764:(e,t,n)=>{"use strict";const r=n(79742),i=n(80645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,n)}function u(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=s(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return p(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),s(e<0?0:0|f(e))}function p(e){const t=e.length<0?0:0|f(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(i)return r?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return L(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return k(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){let o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let r=-1;for(o=n;o<s;o++)if(u(e,o)===u(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*a}else-1!==r&&(o-=o-r),r=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(u(e,o+r)!==u(t,r)){n=!1;break}if(n)return o}return-1}function b(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let a;for(r>o/2&&(r=o/2),a=0;a<r;++a){const r=parseInt(t.substr(2*a,2),16);if(Y(r))return a;e[n+a]=r}return a}function x(e,t,n,r){return $(H(t,e.length-n),e,n,r)}function w(e,t,n,r){return $(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function E(e,t,n,r){return $(W(t),e,n,r)}function S(e,t,n,r){return $(function(e,t){let n,r,i;const o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=n){let n,r,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],s=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&s,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,a=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=a}return function(e){const t=e.length;if(t<=I)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=I));return n}(r)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return u(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n);for(let e=0;e<s;++e)if(u[e]!==c[e]){o=u[e],a=c[e];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function k(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function L(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=K[e[r]];return i}function M(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i){U(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function N(e,t,n,r,i){U(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function z(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=J((function(e){q(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||O(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=J((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=J((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let i=0,o=1,a=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let i=n-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=J((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=J((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return z(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return z(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),a=o.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%a]}return this};const B={};function j(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function Z(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function U(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,i,o)}function q(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw q(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}j("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),j("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),j("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=Z(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=Z(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let a=0;a<r;++a){if(n=e.charCodeAt(a),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function W(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const K=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},21924:(e,t,n)=>{"use strict";var r=n(40210),i=n(55559),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?i(n):n}},55559:(e,t,n)=>{"use strict";var r=n(58612),i=n(40210),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=s(r,a,arguments);if(l&&u){var n=l(t,"length");n.configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))})}return t};var h=function(){return s(r,o,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},94184:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},86010:(e,t,n)=>{"use strict";function r(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:()=>i})},72273:(e,t,n)=>{"use strict";var r=n(81662),i=n(43842),o=n(26960),a=n(88639).orient2d;function s(e,t,n){t=Math.max(0,void 0===t?2:t),n=n||0;var i=function(e){for(var t=e[0],n=e[0],r=e[0],i=e[0],a=0;a<e.length;a++){var s=e[a];s[0]<t[0]&&(t=s),s[0]>r[0]&&(r=s),s[1]<n[1]&&(n=s),s[1]>i[1]&&(i=s)}var l=[t,n,r,i],u=l.slice();for(a=0;a<e.length;a++)o(e[a],l)||u.push(e[a]);return function(e){e.sort(_);for(var t=[],n=0;n<e.length;n++){for(;t.length>=2&&d(t[t.length-2],t[t.length-1],e[n])<=0;)t.pop();t.push(e[n])}for(var r=[],i=e.length-1;i>=0;i--){for(;r.length>=2&&d(r[r.length-2],r[r.length-1],e[i])<=0;)r.pop();r.push(e[i])}return r.pop(),t.pop(),t.concat(r)}(u)}(e),a=new r(16);a.toBBox=function(e){return{minX:e[0],minY:e[1],maxX:e[0],maxY:e[1]}},a.compareMinX=function(e,t){return e[0]-t[0]},a.compareMinY=function(e,t){return e[1]-t[1]},a.load(e);for(var s,u=[],c=0;c<i.length;c++){var h=i[c];a.remove(h),s=m(h,s),u.push(s)}var p=new r(16);for(c=0;c<u.length;c++)p.insert(f(u[c]));for(var y=t*t,v=n*n;u.length;){var b=u.shift(),x=b.p,w=b.next.p,E=g(x,w);if(!(E<v)){var S=E/y;(h=l(a,b.prev.p,x,w,b.next.next.p,S,p))&&Math.min(g(h,x),g(h,w))<=S&&(u.push(b),u.push(m(h,b)),a.remove(h),p.remove(b),p.insert(f(b)),p.insert(f(b.next)))}}b=s;var C=[];do{C.push(b.p),b=b.next}while(b!==s);return C.push(b.p),C}function l(e,t,n,r,o,a,s){for(var l=new i([],u),h=e.data;h;){for(var d=0;d<h.children.length;d++){var f=h.children[d],m=h.leaf?y(f,n,r):c(n,r,f);m>a||l.push({node:f,dist:m})}for(;l.length&&!l.peek().node.children;){var g=l.pop(),v=g.node,_=y(v,t,n),b=y(v,r,o);if(g.dist<_&&g.dist<b&&p(n,v,s)&&p(r,v,s))return v}(h=l.pop())&&(h=h.node)}return null}function u(e,t){return e.dist-t.dist}function c(e,t,n){if(h(e,n)||h(t,n))return 0;var r=v(e[0],e[1],t[0],t[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=v(e[0],e[1],t[0],t[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=v(e[0],e[1],t[0],t[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var a=v(e[0],e[1],t[0],t[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===a?0:Math.min(r,i,o,a)}function h(e,t){return e[0]>=t.minX&&e[0]<=t.maxX&&e[1]>=t.minY&&e[1]<=t.maxY}function p(e,t,n){for(var r,i,o,a,s=Math.min(e[0],t[0]),l=Math.min(e[1],t[1]),u=Math.max(e[0],t[0]),c=Math.max(e[1],t[1]),h=n.search({minX:s,minY:l,maxX:u,maxY:c}),p=0;p<h.length;p++)if(r=h[p].p,i=h[p].next.p,o=e,r!==(a=t)&&i!==o&&d(r,i,o)>0!=d(r,i,a)>0&&d(o,a,r)>0!=d(o,a,i)>0)return!1;return!0}function d(e,t,n){return a(e[0],e[1],t[0],t[1],n[0],n[1])}function f(e){var t=e.p,n=e.next.p;return e.minX=Math.min(t[0],n[0]),e.minY=Math.min(t[1],n[1]),e.maxX=Math.max(t[0],n[0]),e.maxY=Math.max(t[1],n[1]),e}function m(e,t){var n={p:e,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return t?(n.next=t.next,n.prev=t,t.next.prev=n,t.next=n):(n.prev=n,n.next=n),n}function g(e,t){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r}function y(e,t,n){var r=t[0],i=t[1],o=n[0]-r,a=n[1]-i;if(0!==o||0!==a){var s=((e[0]-r)*o+(e[1]-i)*a)/(o*o+a*a);s>1?(r=n[0],i=n[1]):s>0&&(r+=o*s,i+=a*s)}return(o=e[0]-r)*o+(a=e[1]-i)*a}function v(e,t,n,r,i,o,a,s){var l,u,c,h,p=n-e,d=r-t,f=a-i,m=s-o,g=e-i,y=t-o,v=p*p+d*d,_=p*f+d*m,b=f*f+m*m,x=p*g+d*y,w=f*g+m*y,E=v*b-_*_,S=E,C=E;0===E?(u=0,S=1,h=w,C=b):(h=v*w-_*x,(u=_*w-b*x)<0?(u=0,h=w,C=b):u>S&&(u=S,h=w+_,C=b)),h<0?(h=0,-x<0?u=0:-x>v?u=S:(u=-x,S=v)):h>C&&(h=C,-x+_<0?u=0:-x+_>v?u=S:(u=-x+_,S=v));var T=(1-(c=0===h?0:h/C))*i+c*a-((1-(l=0===u?0:u/S))*e+l*n),I=(1-c)*o+c*s-((1-l)*t+l*r);return T*T+I*I}function _(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]-t[0]}i.default&&(i=i.default),e.exports=s,e.exports.default=s},81662:function(e){e.exports=function(){"use strict";function e(e,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var p=n[r],d=i,f=o;for(t(n,i,r),a(n[o],p)>0&&t(n,i,o);d<f;){for(t(n,d,f),d++,f--;a(n[d],p)<0;)d++;for(;a(n[f],p)>0;)f--}0===a(n[i],p)?t(n,i,f):t(n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(e,r,i||0,o||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(i,e.leaf?r(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!d(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;d(e,s)&&(t.leaf?n.push(a):p(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(d(e,o)){if(t.leaf||p(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=f([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,a=n-t+1,s=this._maxEntries;if(a<=s)return o(i=f(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=f([])).leaf=!1,i.height=r;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));m(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var h=Math.min(c+u-1,n);m(e,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var d=Math.min(p+l-1,h);i.children.push(this._build(e,p,d,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(p=e,d=l,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u);h<o?(o=h,i=u<i?u:i,a=l):h===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}var p,d;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),s(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=f(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,s,l,u,h,p=1/0,d=1/0,f=t;f<=n-t;f++){var m=a(e,0,f,this.toBBox),g=a(e,f,n,this.toBBox),y=(i=m,o=g,void 0,void 0,void 0,void 0,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),v=c(m)+c(g);y<p?(p=y,r=f,d=v<d?v:d):y===p&&v<d&&(d=v,r=f)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,n-t,n,i),u=h(o)+h(l),c=t;c<n-t;c++){var p=e.children[c];s(o,e.leaf?i(p):p),u+=h(o)}for(var d=n-t-1;d>=t;d--){var f=e.children[d];s(l,e.leaf?i(f):f),u+=h(l)}return u},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r}()},33258:e=>{var t={px:{px:1,cm:96/2.54,mm:96/25.4,in:96,pt:96/72,pc:16},cm:{px:2.54/96,cm:1,mm:.1,in:2.54,pt:2.54/72,pc:2.54/6},mm:{px:25.4/96,cm:10,mm:1,in:25.4,pt:25.4/72,pc:25.4/6},in:{px:1/96,cm:1/2.54,mm:1/25.4,in:1,pt:1/72,pc:1/6},pt:{px:.75,cm:72/2.54,mm:72/25.4,in:72,pt:1,pc:12},pc:{px:6/96,cm:6/2.54,mm:6/25.4,in:6,pt:6/72,pc:1},deg:{deg:1,grad:.9,rad:180/Math.PI,turn:360},grad:{deg:400/360,grad:1,rad:200/Math.PI,turn:400},rad:{deg:Math.PI/180,grad:Math.PI/200,rad:1,turn:2*Math.PI},turn:{deg:1/360,grad:1/400,rad:.5/Math.PI,turn:1},s:{s:1,ms:.001},ms:{s:1e3,ms:1},Hz:{Hz:1,kHz:1e3},kHz:{Hz:.001,kHz:1},dpi:{dpi:1,dpcm:1/2.54,dppx:1/96},dpcm:{dpi:2.54,dpcm:1,dppx:2.54/96},dppx:{dpi:96,dpcm:96/2.54,dppx:1}};e.exports=function(e,n,r,i){if(!t.hasOwnProperty(r))throw new Error("Cannot convert to "+r);if(!t[r].hasOwnProperty(n))throw new Error("Cannot convert from "+n+" to "+r);var o=t[r][n]*e;return!1!==i?(i=Math.pow(10,parseInt(i)||5),Math.round(o*i)/i):o}},29887:function(e,t,n){var r;!function(i){"use strict";var o,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},l=!0,u="[DecimalError] ",c=u+"Invalid argument: ",h=u+"Exponent out of range: ",p=Math.floor,d=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,m=1e7,g=p(1286742750677284.5),y={};function v(e,t){var n,r,i,o,a,s,u,c,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),l?k(t,p):t;if(u=e.d,c=t.d,a=e.e,i=t.e,u=u.slice(),o=a-i){for(o<0?(r=u,o=-o,s=c.length):(r=c,i=a,s=u.length),o>(s=(a=Math.ceil(p/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=u.length)-(o=c.length)<0&&(o=s,r=c,c=u,u=r),n=0;o;)n=(u[--o]=u[o]+c[o]+n)/m|0,u[o]%=m;for(n&&(u.unshift(n),++i),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=i,l?k(t,p):t}function _(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function b(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=C(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=C(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return x(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return k(x(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return E(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(o))throw Error(u+"NaN");if(n.s<1)throw Error(u+(n.s?"NaN":"-Infinity"));return n.eq(o)?new r(0):(l=!1,t=x(T(n,a),T(e,a),a),l=!0,k(t,i))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(u+"NaN");return n.s?(l=!1,t=x(n,e,0,1).times(e),l=!0,n.minus(t)):k(new r(n),i)},y.naturalExponential=y.exp=function(){return w(this)},y.naturalLogarithm=y.ln=function(){return T(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):P(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=E(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,o,a,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(u+"NaN")}for(e=E(s),l=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=b(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=p((e+1)/2)-(e<0||e%2),r=new c(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new c(i.toString()),i=a=(n=c.precision)+3;;)if(r=(o=r).plus(x(s,o,a+2)).times(.5),b(o.d).slice(0,a)===(t=b(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(k(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return l=!0,k(r,n)},y.times=y.mul=function(e){var t,n,r,i,o,a,s,u,c,h=this,p=h.constructor,d=h.d,f=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,(u=d.length)<(c=f.length)&&(o=d,d=f,f=o,a=u,u=c,c=a),o=[],r=a=u+c;r--;)o.push(0);for(r=c;--r>=0;){for(t=0,i=u+r;i>r;)s=o[i]+f[r]*d[i-r-1]+t,o[i--]=s%m|0,t=s/m|0;o[i]=(o[i]+t)%m|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,l?k(e,p.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(_(e,0,a),void 0===t?t=r.rounding:_(t,0,8),k(n,e+E(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=L(r,!0):(_(e,0,a),void 0===t?t=i.rounding:_(t,0,8),n=L(r=k(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?L(i):(_(e,0,a),void 0===t?t=o.rounding:_(t,0,8),n=L((r=k(new o(i),e+E(i)+1,t)).abs(),!1,e+E(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return k(new t(e),E(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,i,a,s,c=this,h=c.constructor,d=+(e=new h(e));if(!e.s)return new h(o);if(!(c=new h(c)).s){if(e.s<1)throw Error(u+"Infinity");return c}if(c.eq(o))return c;if(r=h.precision,e.eq(o))return k(c,r);if(s=(t=e.e)>=(n=e.d.length-1),a=c.s,s){if((n=d<0?-d:d)<=9007199254740991){for(i=new h(o),t=Math.ceil(r/7+4),l=!1;n%2&&M((i=i.times(c)).d,t),0!==(n=p(n/2));)M((c=c.times(c)).d,t);return l=!0,e.s<0?new h(o).div(i):k(i,r)}}else if(a<0)throw Error(u+"NaN");return a=a<0&&1&e.d[Math.max(t,n)]?-1:1,c.s=1,l=!1,i=e.times(T(c,r+12)),l=!0,(i=w(i)).s=a,i},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=L(i,(n=E(i))<=o.toExpNeg||n>=o.toExpPos):(_(e,1,a),void 0===t?t=o.rounding:_(t,0,8),r=L(i=k(new o(i),e,t),e<=(n=E(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(_(e,1,a),void 0===t?t=n.rounding:_(t,0,8)),k(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=E(e),n=e.constructor;return L(e,t<=n.toExpNeg||t>=n.toExpPos)};var x=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%m|0,r=n/m|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*m+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,c,h,p,d,f,g,y,v,_,b,x,w,S,C,T,I,P=r.constructor,L=r.s==i.s?1:-1,M=r.d,A=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(u+"Division by zero");for(l=r.e-i.e,T=A.length,S=M.length,g=(f=new P(L)).d=[],c=0;A[c]==(M[c]||0);)++c;if(A[c]>(M[c]||0)&&--l,(b=null==o?o=P.precision:a?o+(E(r)-E(i))+1:o)<0)return new P(0);if(b=b/7+2|0,c=0,1==T)for(h=0,A=A[0],b++;(c<S||h)&&b--;c++)x=h*m+(M[c]||0),g[c]=x/A|0,h=x%A|0;else{for((h=m/(A[0]+1)|0)>1&&(A=e(A,h),M=e(M,h),T=A.length,S=M.length),w=T,v=(y=M.slice(0,T)).length;v<T;)y[v++]=0;(I=A.slice()).unshift(0),C=A[0],A[1]>=m/2&&++C;do{h=0,(s=t(A,y,T,v))<0?(_=y[0],T!=v&&(_=_*m+(y[1]||0)),(h=_/C|0)>1?(h>=m&&(h=m-1),1==(s=t(p=e(A,h),y,d=p.length,v=y.length))&&(h--,n(p,T<d?I:A,d))):(0==h&&(s=h=1),p=A.slice()),(d=p.length)<v&&p.unshift(0),n(y,p,v),-1==s&&(s=t(A,y,T,v=y.length))<1&&(h++,n(y,T<v?I:A,v)),v=y.length):0===s&&(h++,y=[0]),g[c++]=h,s&&y[0]?y[v++]=M[w]||0:(y=[M[w]],v=1)}while((w++<S||void 0!==y[0])&&b--)}return g[0]||g.shift(),f.e=l,k(f,a?o+E(f)+1:o)}}();function w(e,t){var n,r,i,a,s,u=0,c=0,p=e.constructor,f=p.precision;if(E(e)>16)throw Error(h+E(e));if(!e.s)return new p(o);for(null==t?(l=!1,s=f):s=t,a=new p(.03125);e.abs().gte(.1);)e=e.times(a),c+=5;for(s+=Math.log(d(2,c))/Math.LN10*2+5|0,n=r=i=new p(o),p.precision=s;;){if(r=k(r.times(e),s),n=n.times(++u),b((a=i.plus(x(r,n,s))).d).slice(0,s)===b(i.d).slice(0,s)){for(;c--;)i=k(i.times(i),s);return p.precision=f,null==t?(l=!0,k(i,f)):i}i=a}}function E(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function S(e,t,n){if(t>e.LN10.sd())throw l=!0,n&&(e.precision=n),Error(u+"LN10 precision limit exceeded");return k(new e(e.LN10),t)}function C(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,i,a,s,c,h,p,d,f=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(u+(m.s?"NaN":"-Infinity"));if(m.eq(o))return new y(0);if(null==t?(l=!1,p=v):p=t,m.eq(10))return null==t&&(l=!0),S(y,p);if(p+=10,y.precision=p,r=(n=b(g)).charAt(0),a=E(m),!(Math.abs(a)<15e14))return h=S(y,p+2,v).times(a+""),m=T(new y(r+"."+n.slice(1)),p-10).plus(h),y.precision=v,null==t?(l=!0,k(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=b((m=m.times(e)).d)).charAt(0),f++;for(a=E(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),c=s=m=x(m.minus(o),m.plus(o),p),d=k(m.times(m),p),i=3;;){if(s=k(s.times(d),p),b((h=c.plus(x(s,new y(i),p))).d).slice(0,p)===b(c.d).slice(0,p))return c=c.times(2),0!==a&&(c=c.plus(S(y,p+2,v).times(a+""))),c=x(c,new y(f),p),y.precision=v,null==t?(l=!0,k(c,v)):c;c=h,i+=2}}function I(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=p(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),l&&(e.e>g||e.e<-g))throw Error(h+n)}else e.s=0,e.e=0,e.d=[0];return e}function k(e,t,n){var r,i,o,a,s,u,c,f,y=e.d;for(a=1,o=y[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,c=y[f=0];else{if((f=Math.ceil((r+1)/7))>=(o=y.length))return e;for(c=o=y[f],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=c/(o=d(10,a-i-1))%10|0,u=t<0||void 0!==y[f+1]||c%o,u=n<4?(s||u)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||u||6==n&&(r>0?i>0?c/d(10,a-i):0:y[f-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return u?(o=E(e),y.length=1,t=t-o-1,y[0]=d(10,(7-t%7)%7),e.e=p(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=f,o=1,f--):(y.length=f+1,o=d(10,7-r),y[f]=i>0?(c/d(10,a-i)%d(10,i)|0)*o:0),u)for(;;){if(0==f){(y[0]+=o)==m&&(y[0]=1,++e.e);break}if(y[f]+=o,y[f]!=m)break;y[f--]=0,o=1}for(r=y.length;0===y[--r];)y.pop();if(l&&(e.e>g||e.e<-g))throw Error(h+E(e));return e}function P(e,t){var n,r,i,o,a,s,u,c,h,p,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),l?k(t,f):t;if(u=e.d,p=t.d,r=t.e,c=e.e,u=u.slice(),a=c-r){for((h=a<0)?(n=u,a=-a,s=p.length):(n=p,r=c,s=u.length),a>(i=Math.max(Math.ceil(f/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((h=(i=u.length)<(s=p.length))&&(s=i),i=0;i<s;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}a=0}for(h&&(n=u,u=p,p=n,t.s=-t.s),s=u.length,i=p.length-s;i>0;--i)u[s++]=0;for(i=p.length;i>a;){if(u[--i]<p[i]){for(o=i;o&&0===u[--o];)u[o]=m-1;--u[o],u[i]+=m}u[i]-=p[i]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--r;return u[0]?(t.d=u,t.e=r,l?k(t,f):t):new d(0)}function L(e,t,n){var r,i=E(e),o=b(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+C(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+C(-i-1)+o,n&&(r=n-a)>0&&(o+=C(r))):i>=a?(o+=C(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+C(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=C(r))),e.s<0?"-"+o:o}function M(e,t){if(e.length>t)return e.length=t,!0}function A(e){if(!e||"object"!=typeof e)throw Error(u+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(p(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}(s=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):I(t,e.toString())}if("string"!=typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);I(t,e)}if(o.prototype=y,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=A,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(s)).default=s.Decimal=s,o=new s(1),void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},10251:(e,t,n)=>{var r=n(82215),i=n(82584),o=n(20609),a=n(98420),s=n(2847),l=n(18923),u=Date.prototype.getTime;function c(e){return null==e}function h(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}e.exports=function e(t,n,p){var d=p||{};return!!(d.strict?o(t,n):t===n)||(!t||!n||"object"!=typeof t&&"object"!=typeof n?d.strict?o(t,n):t==n:function(t,n,o){var p,d;if(typeof t!=typeof n)return!1;if(c(t)||c(n))return!1;if(t.prototype!==n.prototype)return!1;if(i(t)!==i(n))return!1;var f=a(t),m=a(n);if(f!==m)return!1;if(f||m)return t.source===n.source&&s(t)===s(n);if(l(t)&&l(n))return u.call(t)===u.call(n);var g=h(t),y=h(n);if(g!==y)return!1;if(g||y){if(t.length!==n.length)return!1;for(p=0;p<t.length;p++)if(t[p]!==n[p])return!1;return!0}if(typeof t!=typeof n)return!1;try{var v=r(t),_=r(n)}catch(e){return!1}if(v.length!==_.length)return!1;for(v.sort(),_.sort(),p=v.length-1;p>=0;p--)if(v[p]!=_[p])return!1;for(p=v.length-1;p>=0;p--)if(!e(t[d=v[p]],n[d],o))return!1;return!0}(t,n,d))}},4289:(e,t,n)=>{"use strict";var r=n(82215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=n(31044)(),u=s&&l,c=function(e,t,n,r){var i;(!(t in e)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n)},h=function(e,t){var n=arguments.length>2?arguments[2]:{},o=r(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)c(e,o[s],t[o[s]],n[o[s]])};h.supportsDescriptors=!!u,e.exports=h},68317:e=>{function t(e,t,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(e,t,n,r)}t.prototype.run=function(e,t,n,r){this._init(e,t,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var a=this.clusters.length;this.clusters.push([]),this._addToCluster(i,a),this._expandCluster(a,o)}}return this.clusters},t.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this.noise=[],this._datasetLength=e.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},t.prototype._expandCluster=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(t=this._mergeArrays(t,i))}1!==this._assigned[r]&&this._addToCluster(r,e)}},t.prototype._addToCluster=function(e,t){this.clusters[t].push(e),this._assigned[e]=1},t.prototype._regionQuery=function(e){for(var t=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[e],this.dataset[n])<this.epsilon&&t.push(n);return t},t.prototype._mergeArrays=function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r];e.indexOf(i)<0&&e.push(i)}return e},t.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=t)},63781:e=>{function t(e,t,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(e,t,n)}t.prototype.init=function(e,t,n){this.assignments=[],this.centroids=[],void 0!==e&&(this.dataset=e),void 0!==t&&(this.k=t),void 0!==n&&(this.distance=n)},t.prototype.run=function(e,t){this.init(e,t);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var a=new Array(c),s=0,l=0;l<c;l++)a[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(o===this.assignments[u]){for(l=0;l<c;l++)a[l]+=this.dataset[u][l];s++}}if(s>0){for(l=0;l<c;l++)a[l]/=s;this.centroids[o]=a}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},t.prototype.randomCentroid=function(){var e,t,n=this.dataset.length-1;do{t=Math.round(Math.random()*n),e=this.dataset[t]}while(this.centroids.indexOf(e)>=0);return e},t.prototype.assign=function(){for(var e,t=!1,n=this.dataset.length,r=0;r<n;r++)(e=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=e,t=!0);return t},t.prototype.getClusters=function(){for(var e,t=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===t[e=this.assignments[n]]&&(t[e]=[]),t[e].push(n);return t},t.prototype.argmin=function(e,t,n){for(var r,i=Number.MAX_VALUE,o=0,a=t.length,s=0;s<a;s++)(r=n(e,t[s]))<i&&(i=r,o=s);return o},t.prototype.distance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;){var i=e[r]-t[r];n+=i*i}return Math.sqrt(n)},e.exports&&(e.exports=t)},73763:(e,t,n)=>{if(e.exports)var r=n(57985);function i(e,t,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(e,t,n,r)}i.prototype.run=function(e,t,n,i){this._init(e,t,n,i);for(var o=0,a=this.dataset.length;o<a;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var s=this.clusters.length-1;this._orderedList.push(o);var l=new r(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,l),this._expandCluster(s,l))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var e=[],t=0,n=this._orderedList.length;t<n;t++){var r=this._orderedList[t],i=this._reachability[r];e.push([r,i])}return e},i.prototype._init=function(e,t,n,r){if(e){if(!(e instanceof Array))throw Error("Dataset must be of type array, "+typeof e+" given");this.dataset=e,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}t&&(this.epsilon=t),n&&(this.minPts=n),r&&(this.distance=r)},i.prototype._updateQueue=function(e,t,n){var r=this;this._coreDistance=this._distanceToCore(e),t.forEach((function(t){if(void 0===r._processed[t]){var i=r.distance(r.dataset[e],r.dataset[t]),o=Math.max(r._coreDistance,i);void 0===r._reachability[t]?(r._reachability[t]=o,n.insert(t,o)):o<r._reachability[t]&&(r._reachability[t]=o,n.remove(t),n.insert(t,o))}}))},i.prototype._expandCluster=function(e,t){for(var n=t.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var a=this._regionQuery(o);this._processed[o]=1,this.clusters[e].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,a,t),this._expandCluster(e,t))}}},i.prototype._distanceToCore=function(e){for(var t=this.epsilon,n=0;n<t;n++)if(this._regionQuery(e,n).length>=this.minPts)return n},i.prototype._regionQuery=function(e,t){t=t||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[e],this.dataset[r])<t&&n.push(r);return n},i.prototype._euclideanDistance=function(e,t){for(var n=0,r=Math.min(e.length,t.length);r--;)n+=(e[r]-t[r])*(e[r]-t[r]);return Math.sqrt(n)},e.exports&&(e.exports=i)},57985:e=>{function t(e,t,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(e,t,n)}t.prototype.insert=function(e,t){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?t>i&&(n=r):t<i&&(n=r)}this._insertAt(e,t,n)},t.prototype.remove=function(e){for(var t=this._queue.length;t--;)if(e===this._queue[t]){this._queue.splice(t,1),this._priorities.splice(t,1);break}},t.prototype.forEach=function(e){this._queue.forEach(e)},t.prototype.getElements=function(){return this._queue},t.prototype.getElementPriority=function(e){return this._priorities[e]},t.prototype.getPriorities=function(){return this._priorities},t.prototype.getElementsWithPriorities=function(){for(var e=[],t=0,n=this._queue.length;t<n;t++)e.push([this._queue[t],this._priorities[t]]);return e},t.prototype._init=function(e,t,n){if(e&&t){if(this._queue=[],this._priorities=[],e.length!==t.length)throw new Error("Arrays must have the same length");for(var r=0;r<e.length;r++)this.insert(e[r],t[r])}n&&(this._sorting=n)},t.prototype._insertAt=function(e,t,n){this._queue.length===n?(this._queue.push(e),this._priorities.push(t)):(this._queue.splice(n,0,e),this._priorities.splice(n,0,t))},e.exports&&(e.exports=t)},52606:(e,t,n)=>{e.exports&&(e.exports={DBSCAN:n(68317),KMEANS:n(63781),OPTICS:n(73763),PriorityQueue:n(57985)})},9187:e=>{"use strict";function t(e,t,r){r=r||2;var o,a,s,l,h,p,f,m=t&&t.length,g=m?t[0]*r:e.length,y=n(e,0,g,r,!0),v=[];if(!y||y.next===y.prev)return v;if(m&&(y=function(e,t,r,i){var o,a,s,l=[];for(o=0,a=t.length;o<a;o++)(s=n(e,t[o]*i,o<a-1?t[o+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),l.push(d(s));for(l.sort(u),o=0;o<l.length;o++)r=c(l[o],r);return r}(e,t,y,r)),e.length>80*r){o=s=e[0],a=l=e[1];for(var _=r;_<g;_+=r)(h=e[_])<o&&(o=h),(p=e[_+1])<a&&(a=p),h>s&&(s=h),p>l&&(l=p);f=0!==(f=Math.max(s-o,l-a))?32767/f:0}return i(y,v,r,o,a,f,0),v}function n(e,t,n,r,i){var o,a;if(i===T(e,t,n,r)>0)for(o=t;o<n;o+=r)a=E(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=E(o,e[o],e[o+1],a);return a&&y(a,a.next)&&(S(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!y(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(S(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,u,c,h,d){if(e){!d&&h&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=p(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,u,c,h);for(var f,m,g=e;e.prev!==e.next;)if(f=e.prev,m=e.next,h?a(e,u,c,h):o(e))t.push(f.i/n|0),t.push(e.i/n|0),t.push(m.i/n|0),S(e),e=m.next,g=m.next;else if((e=m)===g){d?1===d?i(e=s(r(e),t,n),t,n,u,c,h,2):2===d&&l(e,t,n,u,c,h):i(r(e),t,n,u,c,h,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(g(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,h=s<l?s<u?s:u:l<u?l:u,p=i>o?i>a?i:a:o>a?o:a,d=s>l?s>u?s:u:l>u?l:u,m=r.next;m!==t;){if(m.x>=c&&m.x<=p&&m.y>=h&&m.y<=d&&f(i,s,o,l,a,u,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(g(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,u=a.x,c=i.y,h=o.y,d=a.y,m=s<l?s<u?s:u:l<u?l:u,y=c<h?c<d?c:d:h<d?h:d,v=s>l?s>u?s:u:l>u?l:u,_=c>h?c>d?c:d:h>d?h:d,b=p(m,y,t,n,r),x=p(v,_,t,n,r),w=e.prevZ,E=e.nextZ;w&&w.z>=b&&E&&E.z<=x;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=_&&w!==i&&w!==a&&f(s,c,l,h,u,d,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;if(w=w.prevZ,E.x>=m&&E.x<=v&&E.y>=y&&E.y<=_&&E!==i&&E!==a&&f(s,c,l,h,u,d,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.nextZ}for(;w&&w.z>=b;){if(w.x>=m&&w.x<=v&&w.y>=y&&w.y<=_&&w!==i&&w!==a&&f(s,c,l,h,u,d,w.x,w.y)&&g(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=x;){if(E.x>=m&&E.x<=v&&E.y>=y&&E.y<=_&&E!==i&&E!==a&&f(s,c,l,h,u,d,E.x,E.y)&&g(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!y(o,a)&&v(o,i,i.next,a)&&x(o,a)&&x(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),S(i),S(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function l(e,t,n,o,a,s){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&m(l,u)){var c=w(l,u);return l=r(l,l.next),c=r(c,c.next),i(l,t,n,o,a,s,0),void i(c,t,n,o,a,s,0)}u=u.next}l=l.next}while(l!==e)}function u(e,t){return e.x-t.x}function c(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,p=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&f(o<p?i:a,o,c,p,o<p?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),x(r,e)&&(l<d||l===d&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,d=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var i=w(n,e);return r(i,i.next),r(n,n.next)}function h(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function p(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function d(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function f(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function m(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&v(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(x(e,t)&&x(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||y(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function y(e,t){return e.x===t.x&&e.y===t.y}function v(e,t,n,r){var i=b(g(e,t,n)),o=b(g(e,t,r)),a=b(g(n,r,e)),s=b(g(n,r,t));return i!==o&&a!==s||!(0!==i||!_(e,n,t))||!(0!==o||!_(e,r,t))||!(0!==a||!_(n,e,r))||!(0!==s||!_(n,t,r))}function _(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function b(e){return e>0?1:e<0?-1:0}function x(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function w(e,t){var n=new C(e.i,e.x,e.y),r=new C(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function E(e,t,n,r){var i=new C(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(T(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var u=t[s]*n,c=s<l-1?t[s+1]*n:e.length;a-=Math.abs(T(e,u,c,n))}var h=0;for(s=0;s<r.length;s+=3){var p=r[s]*n,d=r[s+1]*n,f=r[s+2]*n;h+=Math.abs((e[p]-e[f])*(e[d+1]-e[p+1])-(e[p]-e[d])*(e[f+1]-e[p+1]))}return 0===a&&0===h?0:Math.abs((h-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},23733:function(e,t,n){!function(e,t,n,r){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=i(r);function a(e,t,r){/^https?:\/\//.test(e)&&/\/VectorTileServer\/?$/.test(e)?l(e,t,r):function(e,t,r){var i=t.portalUrl+"/sharing/rest/content/items/"+e+"/resources/styles/root.json";u(i,t,(function(o,a){!function(e,t,r){var i=t.token?{token:t.token}:{},o=t.portalUrl+"/sharing/rest/content/items/"+e;n.request(o,i,r)}(e,t,o?function(e,n){e&&console.error(e),l(n.url,t,r)}:function(e,n){e&&console.error(e),s(n.url,t,(function(e,t){r(e,a,i,t,n.url)}))})}))}(e,t,r)}function s(e,t,r){var i=t.token?{token:t.token}:{};n.request(e,i,r)}function l(e,t,n){s(e,t,(function(r,i){r&&console.error(r);var o,a=e;"/"===e.charAt(e.length-1)&&(a=e.slice(0,e.length-1)),u(o="/"===i.defaultStyles.charAt(0)?a+i.defaultStyles+"/root.json":a+"/"+i.defaultStyles+"/root.json",t,(function(t,r){t&&console.error(t),n(null,r,o,i,e)}))}))}function u(e,t,r){var i=t.token?{token:t.token}:{};n.request(e,i,r)}function c(e,r){n.Support.cors&&n.request(e,{},(function(e,i){if(!e){r._esriAttributions=r._esriAttributions||[];for(var o=0;o<i.contributors.length;o++)for(var a=i.contributors[o],s=0;s<a.coverageAreas.length;s++){var l=a.coverageAreas[s],u=t.latLng(l.bbox[0],l.bbox[1]),c=t.latLng(l.bbox[2],l.bbox[3]);r._esriAttributions.push({attribution:a.attribution,score:l.score,bounds:t.latLngBounds(u,c),minZoom:l.zoomMin,maxZoom:l.zoomMax})}r._esriAttributions.sort((function(e,t){return t.score-e.score}));var h={target:r};n.Util._updateMapAttribution(h)}}))}const h=[3857,102100,102113];var p=t.Layer.extend({options:{updateInterval:32,padding:.1,interactive:!1,pane:"tilePane"},initialize:function(e){t.setOptions(this,e),this._throttledUpdate=t.Util.throttle(this._update,this.options.updateInterval,this)},onAdd:function(e){this._container||this._initContainer();var n=this.getPaneName();e.getPane(n).appendChild(this._container),this._initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),e.options.zoomAnimation&&t.DomEvent.on(e._proxy,t.DomUtil.TRANSITION_END,this._transitionEnd,this)},onRemove:function(e){this._map._proxy&&this._map.options.zoomAnimation&&t.DomEvent.off(this._map._proxy,t.DomUtil.TRANSITION_END,this._transitionEnd,this);var n=this.getPaneName();e.getPane(n).removeChild(this._container),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this._animateZoom,zoom:this._pinchZoom,zoomstart:this._zoomStart,zoomend:this._zoomEnd,resize:this._resize}},getMaplibreMap:function(){return this._glMap},getCanvas:function(){return this._glMap.getCanvas()},getSize:function(){return this._map.getSize().multiplyBy(1+2*this.options.padding)},getOpacity:function(){return this.options.opacity},setOpacity:function(e){this.options.opacity=e,this._container.style.opacity=e},getBounds:function(){var e=this.getSize().multiplyBy(.5),n=this._map.latLngToContainerPoint(this._map.getCenter());return t.latLngBounds(this._map.containerPointToLatLng(n.subtract(e)),this._map.containerPointToLatLng(n.add(e)))},getContainer:function(){return this._container},getPaneName:function(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},_initContainer:function(){var e=this._container=t.DomUtil.create("div","leaflet-gl-layer"),n=this.getSize(),r=this._map.getSize().multiplyBy(this.options.padding);e.style.width=n.x+"px",e.style.height=n.y+"px";var i=this._map.containerPointToLayerPoint([0,0]).subtract(r);t.DomUtil.setPosition(e,i)},_initGL:function(){var e=this._map.getCenter(),n=t.extend({},this.options,{container:this._container,center:[e.lng,e.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new o.default.Map(n),this._glMap.once("styledata",function(e){this.fire("styleLoaded")}.bind(this)),this._glMap.transform.latRange=null,this._glMap.transform.maxValidLatitude=1/0,this._transformGL(this._glMap),this._glMap._canvas.canvas?this._glMap._actualCanvas=this._glMap._canvas.canvas:this._glMap._actualCanvas=this._glMap._canvas;var r=this._glMap._actualCanvas;t.DomUtil.addClass(r,"leaflet-image-layer"),t.DomUtil.addClass(r,"leaflet-zoom-animated"),this.options.interactive&&t.DomUtil.addClass(r,"leaflet-interactive"),this.options.className&&t.DomUtil.addClass(r,this.options.className)},_update:function(e){if(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming){var n=this.getSize(),r=this._container,i=this._glMap,o=this._map.getSize().multiplyBy(this.options.padding),a=this._map.containerPointToLayerPoint([0,0]).subtract(o);t.DomUtil.setPosition(r,a),this._transformGL(i),i.transform.width!==n.x||i.transform.height!==n.y?(r.style.width=n.x+"px",r.style.height=n.y+"px",null!==i._resize&&void 0!==i._resize?i._resize():i.resize()):null!==i._update&&void 0!==i._update?i._update():i.update()}},_transformGL:function(e){var t=this._map.getCenter(),n=e.transform;n.center=o.default.LngLat.convert([t.lng,t.lat]),n.zoom=this._map.getZoom()-1},_pinchZoom:function(e){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),r=this._map.getSize().multiplyBy(this.options.padding*n),i=this.getSize()._divideBy(2),o=this._map.project(e.center,e.zoom)._subtract(i)._add(this._map._getMapPanePos().add(r))._round(),a=this._map.project(this._map.getBounds().getNorthWest(),e.zoom)._subtract(o);t.DomUtil.setTransform(this._glMap._actualCanvas,a.subtract(this._offset),n)},_zoomStart:function(e){this._zooming=!0},_zoomEnd:function(){var e=this._map.getZoomScale(this._map.getZoom());t.DomUtil.setTransform(this._glMap._actualCanvas,null,e),this._zooming=!1,this._update()},_transitionEnd:function(e){t.Util.requestAnimFrame((function(){var e=this._map.getZoom(),n=this._map.getCenter(),r=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());t.DomUtil.setTransform(this._glMap._actualCanvas,r,1),this._glMap.once("moveend",t.Util.bind((function(){this._zoomEnd()}),this)),this._glMap.jumpTo({center:n,zoom:e-1})}),this)}});function d(e){return new p(e)}var f=t.Layer.extend({options:{key:"ArcGIS:Streets"},initialize:function(e,n){if(n&&t.setOptions(this,n),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.token&&(this.options.apikey=this.options.token),!this.options.apikey&&!this.options.token)throw new Error("API Key or token is required for vectorBasemapLayer.");e&&(this.options.key=e),this._createLayer()},_createLayer:function(){var e,t,n,r=(e=this.options.key,t=this.options.apikey,n="https://basemaps-api.arcgis.com/arcgis/rest/services/styles/"+e+"?type=style",t&&(n=n+"&apiKey="+t),n);this._maplibreGL=d({style:r,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0),this._maplibreGL.on("styleLoaded",function(e){this._setupAttribution()}.bind(this))},_setupAttribution:function(){var e=this._map;if(n.Util.setEsriAttribution(e),32===this.options.key.length){var t=this._maplibreGL.getMaplibreMap().style.stylesheet.sources,r=[];Object.keys(t).forEach((function(e){r.push(t[e].attribution),t[e].copyrightText&&t[e].copyrightText&&""!==t[e].copyrightText&&t[e].attribution!==t[e].copyrightText&&r.push(t[e].copyrightText)})),e.attributionControl.addAttribution('<span class="">'+r.join(", ")+"</span>")}else if(this.options.attributionUrls||(this.options.attributionUrls=this._getAttributionUrls(this.options.key)),this._map&&this.options.attributionUrls){if(this._map.attributionControl){for(let t=0;t<this.options.attributionUrls.length;t++)c(this.options.attributionUrls[t],e);e.attributionControl.addAttribution('<span class="esri-dynamic-attribution"></span>')}n.Util._updateMapAttribution({target:this._map})}},_getAttributionUrls:function(e){return 0===e.indexOf("OSM:")?["https://static.arcgis.com/attribution/Vector/OpenStreetMap_v2"]:0===e.indexOf("ArcGIS:Imagery")?["https://static.arcgis.com/attribution/World_Imagery","https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]:["https://static.arcgis.com/attribution/Vector/World_Basemap_v2"]},onAdd:function(e){this._map=e,this._initPane(),this._ready?this._asyncAdd():this.once("ready",(function(){this._asyncAdd()}),this)},_initPane:function(){if(this.options.pane||(this.options.key.indexOf(":Labels")>-1?this.options.pane="esri-labels":this.options.pane="tilePane"),!this._map.getPane(this.options.pane)){var e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex="esri-labels"===this.options.pane?550:500}},onRemove:function(e){if(e.off("moveend",n.Util._updateMapAttribution),e.removeLayer(this._maplibreGL),e.attributionControl){var t=document.getElementsByClassName("esri-dynamic-attribution");if(t&&t.length>0){var r=t[0].outerHTML;e.attributionControl.removeAttribution(r)}}},_asyncAdd:function(){var e=this._map;e.on("moveend",n.Util._updateMapAttribution),this._maplibreGL.addTo(e,this)}});var m=t.Layer.extend({options:{pane:"overlayPane",portalUrl:"https://www.arcgis.com"},initialize:function(e,n){if(n&&t.setOptions(this,n),this.options.apiKey&&(this.options.apikey=this.options.apiKey),this.options.apikey&&(this.options.token=this.options.apikey),!e)throw new Error("An ITEM ID or SERVICE URL is required for vectorTileLayer.");e&&(this.options.key=e),this._createLayer()},_createLayer:function(){a(this.options.key,this.options,function(e,t,n,r){if(e)throw new Error(e);if(o=r.tileInfo.spatialReference.wkid,h.indexOf(o)>=0||console.warn('This layer is not guaranteed to display properly because its service does not use the Web Mercator projection. The "tileInfo.spatialReference" property is:',r.tileInfo.spatialReference,"\nMore information is available at https://github.com/maplibre/maplibre-gl-js/issues/168 and https://github.com/Esri/esri-leaflet-vector/issues/94."),t=function(e,t,n,r){for(var i=Object.keys(e.sources),o=0;o<i.length;o++){var a=e.sources[i[o]];-1===a.url.indexOf("http")&&(a.url=t.replace("/resources/styles/root.json","")),"/"===a.url.charAt(a.url.length-1)&&(a.url=a.url.slice(0,a.url.length-1)),a.tiles||(n.tiles&&"/"!==n.tiles[0].charAt(0)&&(n.tiles[0]="/"+n.tiles[0]),a.tiles=[a.url+n.tiles[0]]),a.url+="?f=json",a.url+=r?"&token="+r:"",a.tiles[0]+=r?"?token="+r:"",a.minzoom=n.tileInfo.lods[0].level,a.maxzoom=n.tileInfo.lods[n.tileInfo.lods.length-1].level}var s=e.sources[i[i.length-1]];s.attribution=n.copyrightText||"",s.copyrightText=n.copyrightText||"";for(var l=0;l<e.layers.length;l++){var u=e.layers[l];u.layout&&u.layout["text-font"]&&u.layout["text-font"].length>1&&(u.layout["text-font"]=[u.layout["text-font"][0]])}return e.sprite&&-1===e.sprite.indexOf("http")&&(e.sprite=t.replace("styles/root.json",e.sprite.replace("../","")),e.sprite+=r?"?token="+r:""),e.glyphs&&-1===e.glyphs.indexOf("http")&&(e.glyphs=t.replace("styles/root.json",e.glyphs.replace("../","")),e.glyphs+=r?"?token="+r:""),e}(t,n,r,this.options.token),!this.getAttribution()){var i=Object.keys(t.sources);this.options.attribution=t.sources[i[i.length-1]].attribution,this._map&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution())}var o;this.options.style&&"function"==typeof this.options.style&&(t=this.options.style(t)),this._maplibreGL=d({style:t,pane:this.options.pane,opacity:this.options.opacity}),this._ready=!0,this.fire("ready",{},!0)}.bind(this))},onAdd:function(e){this._map=e,this._ready?this._asyncAdd():this.once("ready",(function(){this._asyncAdd()}),this)},onRemove:function(e){e.removeLayer(this._maplibreGL)},_asyncAdd:function(){var e=this._map;this._maplibreGL.addTo(e,this)}});e.VERSION="4.0.0",e.VectorBasemapLayer=f,e.VectorTileLayer=m,e.vectorBasemapLayer=function(e,t){return new f(e,t)},e.vectorTileLayer=function(e,t){return new m(e,t)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(45243),n(86214),n(24613))},86214:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BasemapLayer:()=>xe,DynamicMapLayer:()=>Pe,FeatureLayer:()=>Ne,FeatureLayerService:()=>ye,FeatureManager:()=>Re,Find:()=>J,Identify:()=>te,IdentifyFeatures:()=>re,IdentifyImage:()=>ae,ImageMapLayer:()=>Ie,ImageService:()=>fe,MapService:()=>he,Query:()=>X,RasterLayer:()=>Te,Service:()=>ue,Support:()=>o,Task:()=>W,TiledMapLayer:()=>Ee,Util:()=>H,VERSION:()=>ze,basemapLayer:()=>we,dynamicMapLayer:()=>Le,featureLayer:()=>De,featureLayerService:()=>ve,find:()=>Q,get:()=>m,identify:()=>ne,identifyFeatures:()=>ie,identifyImage:()=>se,imageMapLayer:()=>ke,imageService:()=>me,mapService:()=>pe,options:()=>a,post:()=>h,query:()=>Y,request:()=>d,service:()=>ce,task:()=>$,tiledMapLayer:()=>Se});var r=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,i=""===document.documentElement.style.pointerEvents,o={cors:r,pointerEvents:i},a={attributionWidthOffset:55},s=n(45243),l=0;function u(e){var t="";for(var n in e.f=e.f||"json",e)if(Object.prototype.hasOwnProperty.call(e,n)){var r,i=e[n],o=Object.prototype.toString.call(i);t.length&&(t+="&"),r="[object Array]"===o?"[object Object]"===Object.prototype.toString.call(i[0])?JSON.stringify(i):i.join(","):"[object Object]"===o?JSON.stringify(i):"[object Date]"===o?i.valueOf():i,t+=encodeURIComponent(n)+"="+encodeURIComponent(r)}return t}function c(e,t){var n=new window.XMLHttpRequest;return n.onerror=function(r){n.onreadystatechange=s.Util.falseFn,e.call(t,{error:{code:500,message:"XMLHttpRequest error"}},null)},n.onreadystatechange=function(){var r,i;if(4===n.readyState){try{r=JSON.parse(n.responseText)}catch(e){r=null,i={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!i&&r.error&&(i=r.error,r=null),n.onerror=s.Util.falseFn,e.call(t,i,r)}},n.ontimeout=function(){this.onerror()},n}function h(e,t,n,r){var i=c(n,r);return i.open("POST",e),null!=r&&void 0!==r.options&&(i.timeout=r.options.timeout),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(u(t)),i}function p(e,t,n,r){var i=c(n,r);return i.open("GET",e+"?"+u(t),!0),null!=r&&void 0!==r.options&&(i.timeout=r.options.timeout,r.options.withCredentials&&(i.withCredentials=!0)),i.send(null),i}function d(e,t,n,r){var i=u(t),a=c(n,r),s=(e+"?"+i).length;if(s<=2e3&&o.cors?a.open("GET",e+"?"+i):s>2e3&&o.cors&&(a.open("POST",e),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),null!=r&&void 0!==r.options&&(a.timeout=r.options.timeout,r.options.withCredentials&&(a.withCredentials=!0)),s<=2e3&&o.cors)a.send(null);else{if(!(s>2e3&&o.cors))return s<=2e3&&!o.cors?f(e,t,n,r):void g("a request to "+e+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy https://developers.arcgis.com/esri-leaflet/api-reference/request/");a.send(i)}return a}function f(e,t,n,r){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var i="c"+l;t.callback="window._EsriLeafletCallbacks."+i,window._EsriLeafletCallbacks[i]=function(e){if(!0!==window._EsriLeafletCallbacks[i]){var t,o=Object.prototype.toString.call(e);"[object Object]"!==o&&"[object Array]"!==o&&(t={error:{code:500,message:"Expected array or object as JSONP response"}},e=null),!t&&e.error&&(t=e,e=null),n.call(r,t,e),window._EsriLeafletCallbacks[i]=!0}};var o=s.DomUtil.create("script",null,document.body);return o.type="text/javascript",o.src=e+"?"+u(t),o.id=i,o.onerror=function(e){e&&!0!==window._EsriLeafletCallbacks[i]&&(n.call(r,{error:{code:500,message:"An unknown error occurred"}}),window._EsriLeafletCallbacks[i]=!0)},s.DomUtil.addClass(o,"esri-leaflet-jsonp"),l++,{id:i,url:o.src,abort:function(){window._EsriLeafletCallbacks._callback[i]({code:0,message:"Request aborted."})}}}var m=o.cors?p:f;function g(){console&&console.warn&&console.warn.apply(console,arguments)}m.CORS=p,m.JSONP=f;const y={request:d,get:m,post:h};var v=function(e,t,n,r){var i=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),o=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),a=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(0!==a){var s=i/a,l=o/a;if(s>=0&&s<=1&&l>=0&&l<=1)return!0}return!1},_=function(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(v(e[n],e[n+1],t[r],t[r+1]))return!0;return!1},b=function(e){return function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(e[0],e[e.length-1])||e.push(e[0]),e},x=function(e){for(var t,n=0,r=0,i=e.length,o=e[r];r<i-1;r++)n+=((t=e[r+1])[0]-o[0])*(t[1]+o[1]),o=t;return n>=0},w=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},E=function(e,t){var n=_(e,t),r=function(e,t){for(var n=!1,r=-1,i=e.length,o=i-1;++r<i;o=r)(e[r][1]<=t[1]&&t[1]<e[o][1]||e[o][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[o][0]-e[r][0])*(t[1]-e[r][1])/(e[o][1]-e[r][1])+e[r][0]&&(n=!n);return n}(e,t[0]);return!(n||!r)},S=function e(t,n){var r={};if(t.features){r.type="FeatureCollection",r.features=[];for(var i=0;i<t.features.length;i++)r.features.push(e(t.features[i],n))}if("number"==typeof t.x&&"number"==typeof t.y&&(r.type="Point",r.coordinates=[t.x,t.y],"number"==typeof t.z&&r.coordinates.push(t.z)),t.points&&(r.type="MultiPoint",r.coordinates=t.points.slice(0)),t.paths&&(1===t.paths.length?(r.type="LineString",r.coordinates=t.paths[0].slice(0)):(r.type="MultiLineString",r.coordinates=t.paths.slice(0))),t.rings&&(r=function(e){for(var t,n,r,i=[],o=[],a=0;a<e.length;a++){var s=b(e[a].slice(0));if(!(s.length<4))if(x(s)){var l=[s.slice().reverse()];i.push(l)}else o.push(s.slice().reverse())}for(var u=[];o.length;){r=o.pop();var c=!1;for(t=i.length-1;t>=0;t--)if(n=i[t][0],E(n,r)){i[t].push(r),c=!0;break}c||u.push(r)}for(;u.length;){r=u.pop();var h=!1;for(t=i.length-1;t>=0;t--)if(n=i[t][0],_(n,r)){i[t].push(r),h=!0;break}h||i.push([r.reverse()])}return 1===i.length?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}(t.rings.slice(0))),"number"==typeof t.xmin&&"number"==typeof t.ymin&&"number"==typeof t.xmax&&"number"==typeof t.ymax&&(r.type="Polygon",r.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.geometry||t.attributes)&&(r.type="Feature",r.geometry=t.geometry?e(t.geometry):null,r.properties=t.attributes?w(t.attributes):null,t.attributes))try{r.id=function(e,t){for(var n=t?[t,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<n.length;r++){var i=n[r];if(i in e&&("string"==typeof e[i]||"number"==typeof e[i]))return e[i]}throw Error("No valid id attribute found")}(t.attributes,n)}catch(e){}return JSON.stringify(r.geometry)===JSON.stringify({})&&(r.geometry=null),t.spatialReference&&t.spatialReference.wkid&&4326!==t.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(t.spatialReference)),r},C=function(e){var t=[],n=e.slice(0),r=b(n.shift().slice(0));if(r.length>=4){x(r)||r.reverse(),t.push(r);for(var i=0;i<n.length;i++){var o=b(n[i].slice(0));o.length>=4&&(x(o)&&o.reverse(),t.push(o))}}return t},T=function e(t,n){n=n||"OBJECTID";var r,i={wkid:4326},o={};switch(t.type){case"Point":o.x=t.coordinates[0],o.y=t.coordinates[1],null!=t.coordinates[2]&&(o.z=t.coordinates[2]),o.spatialReference=i;break;case"MultiPoint":o.points=t.coordinates.slice(0),null!=t.coordinates[0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"LineString":o.paths=[t.coordinates.slice(0)],null!=t.coordinates[0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"MultiLineString":o.paths=t.coordinates.slice(0),null!=t.coordinates[0][0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"Polygon":o.rings=C(t.coordinates.slice(0)),null!=t.coordinates[0][0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"MultiPolygon":o.rings=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=C(e[n]),i=r.length-1;i>=0;i--){var o=r[i].slice(0);t.push(o)}return t}(t.coordinates.slice(0)),null!=t.coordinates[0][0][0][2]&&(o.hasZ=!0),o.spatialReference=i;break;case"Feature":t.geometry&&(o.geometry=e(t.geometry,n)),o.attributes=t.properties?w(t.properties):{},t.id&&(o.attributes[n]=t.id);break;case"FeatureCollection":for(o=[],r=0;r<t.features.length;r++)o.push(e(t.features[r],n));break;case"GeometryCollection":for(o=[],r=0;r<t.geometries.length;r++)o.push(e(t.geometries[r],n))}return o},I='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>';function k(e,t){return T(e,t)}function P(e,t){return S(e,t)}function L(e){if("NaN"!==e.xmin&&"NaN"!==e.ymin&&"NaN"!==e.xmax&&"NaN"!==e.ymax){var t=(0,s.latLng)(e.ymin,e.xmin),n=(0,s.latLng)(e.ymax,e.xmax);return(0,s.latLngBounds)(t,n)}return null}function M(e){return{xmin:(e=(0,s.latLngBounds)(e)).getSouthWest().lng,ymin:e.getSouthWest().lat,xmax:e.getNorthEast().lng,ymax:e.getNorthEast().lat,spatialReference:{wkid:4326}}}var A=/^(OBJECTID|FID|OID|ID)$/i;function O(e){var t;if(e.objectIdFieldName)t=e.objectIdFieldName;else if(e.fields){for(var n=0;n<=e.fields.length-1;n++)if("esriFieldTypeOID"===e.fields[n].type){t=e.fields[n].name;break}if(!t)for(n=0;n<=e.fields.length-1;n++)if(e.fields[n].name.match(A)){t=e.fields[n].name;break}}return t}function R(e){for(var t in e.attributes)if(t.match(A))return t}function N(e,t){var n,r=e.features||e.results,i=r&&r.length;n=t||O(e);var o={type:"FeatureCollection",features:[]};if(i)for(var a=r.length-1;a>=0;a--){var s=P(r[a],n||R(r[a]));o.features.push(s)}return o}function D(e){return"/"!==(e=s.Util.trim(e))[e.length-1]&&(e+="/"),e}function z(e){if(-1!==e.url.indexOf("?")){e.requestParams=e.requestParams||{};var t=e.url.substring(e.url.indexOf("?")+1);e.url=e.url.split("?")[0],e.requestParams=JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return e.url=D(e.url.split("?")[0]),e}function F(e){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(e)}function B(e){var t;switch(e){case"Point":t="esriGeometryPoint";break;case"MultiPoint":t="esriGeometryMultipoint";break;case"LineString":case"MultiLineString":t="esriGeometryPolyline";break;case"Polygon":case"MultiPolygon":t="esriGeometryPolygon"}return t}function j(e){return e.getSize().x-a.attributionWidthOffset+"px"}function Z(e){if(e.attributionControl){if(e.attributionControl._esriAttributionLayerCount||(e.attributionControl._esriAttributionLayerCount=0),0===e.attributionControl._esriAttributionLayerCount){if(!e.attributionControl._esriAttributionAddedOnce){var t=document.createElement("style");t.type="text/css",t.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(t);var n=document.createElement("style");n.type="text/css",n.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+j(e)+";}",document.getElementsByTagName("head")[0].appendChild(n),e.on("resize",(function(t){e.attributionControl&&(e.attributionControl._container.style.maxWidth=j(t.target))})),e.attributionControl._esriAttributionAddedOnce=!0}e.attributionControl.setPrefix(I+' | Powered by <a href="https://www.esri.com">Esri</a>'),s.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution:hover"),s.DomUtil.addClass(e.attributionControl._container,"esri-truncated-attribution")}e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount+1}}function U(e){e.attributionControl&&(e.attributionControl._esriAttributionLayerCount&&1===e.attributionControl._esriAttributionLayerCount&&(e.attributionControl.setPrefix(I),s.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution:hover"),s.DomUtil.removeClass(e.attributionControl._container,"esri-truncated-attribution")),e.attributionControl._esriAttributionLayerCount=e.attributionControl._esriAttributionLayerCount-1)}function q(e){var t={geometry:null,geometryType:null};return e instanceof s.LatLngBounds?(t.geometry=M(e),t.geometryType="esriGeometryEnvelope",t):(e.getLatLng&&(e=e.getLatLng()),e instanceof s.LatLng&&(e={type:"Point",coordinates:[e.lng,e.lat]}),e instanceof s.GeoJSON&&(e=e.getLayers()[0].feature.geometry,t.geometry=k(e),t.geometryType=B(e.type)),e.toGeoJSON&&(e=e.toGeoJSON()),"Feature"===e.type&&(e=e.geometry),"Point"===e.type||"LineString"===e.type||"Polygon"===e.type||"MultiPolygon"===e.type?(t.geometry=k(e),t.geometryType=B(e.type),t):void g("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function V(e,t){o.cors&&d(e,{},s.Util.bind((function(e,n){if(!e){t._esriAttributions=[];for(var r=0;r<n.contributors.length;r++)for(var i=n.contributors[r],o=0;o<i.coverageAreas.length;o++){var a=i.coverageAreas[o],l=(0,s.latLng)(a.bbox[0],a.bbox[1]),u=(0,s.latLng)(a.bbox[2],a.bbox[3]);t._esriAttributions.push({attribution:i.attribution,score:a.score,bounds:(0,s.latLngBounds)(l,u),minZoom:a.zoomMin,maxZoom:a.zoomMax})}t._esriAttributions.sort((function(e,t){return t.score-e.score})),G({target:t})}}),this))}function G(e){var t=e.target,n=t._esriAttributions;if(t&&t.attributionControl){var r=t.attributionControl._container.querySelector(".esri-dynamic-attribution");if(r&&n){for(var i="",o=t.getBounds(),a=(0,s.latLngBounds)(o.getSouthWest().wrap(),o.getNorthEast().wrap()),l=t.getZoom(),u=0;u<n.length;u++){var c=n[u],h=c.attribution;!i.match(h)&&c.bounds.intersects(a)&&l>=c.minZoom&&l<=c.maxZoom&&(i+=", "+h)}i=i.substr(2),r.innerHTML=i,r.style.maxWidth=j(t),t.fire("attributionupdated",{attribution:i})}}}var H={warn:g,cleanUrl:D,getUrlParams:z,isArcgisOnline:F,geojsonTypeToArcGIS:B,responseToFeatureCollection:N,geojsonToArcGIS:k,arcgisToGeoJSON:P,boundsToExtent:M,extentToBounds:L,calcAttributionWidth:j,setEsriAttribution:Z,_setGeometry:q,_getAttributionData:V,_updateMapAttribution:G,_findIdAttributeFromFeature:R,_findIdAttributeFromResponse:O},W=s.Class.extend({options:{proxy:!1,useCors:r},generateSetter:function(e,t){return s.Util.bind((function(t){return this.params[e]=t,this}),t)},initialize:function(e){if(e.request&&e.options?(this._service=e,s.Util.setOptions(this,e.options)):(s.Util.setOptions(this,e),this.options.url=D(e.url)),this.params=s.Util.extend({},this.params||{}),this.setters)for(var t in this.setters){var n=this.setters[t];this[t]=this.generateSetter(n,this)}},token:function(e){return this._service?this._service.authenticate(e):this.params.token=e,this},apikey:function(e){return this.token(e)},format:function(e){return this.params.returnUnformattedValues=!e,this},request:function(e,t){return this.options.requestParams&&s.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,e,t):this._request("request",this.path,this.params,e,t)},_request:function(e,t,n,r,i){var o=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return"get"!==e&&"request"!==e||this.options.useCors?y[e](o,n,r,i):y.get.JSONP(o,n,r,i)}});function $(e){return e=z(e),new W(e)}var X=W.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(e){return this._setGeometryParams(e),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(e,t){return e=(0,s.latLng)(e),this.params.geometry=[e.lng,e.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=t,this.params.inSR=4326,this},where:function(e){return this.params.where=e,this},between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},orderBy:function(e,t){return t=t||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[e,t].join(" "),this},run:function(e,t){return this._cleanParams(),this.options.isModern||F(this.options.url)&&void 0===this.options.isModern?(this.params.f="geojson",this.request((function(n,r){this._trapSQLerrors(n),e.call(t,n,r,r)}),this)):this.request((function(n,r){this._trapSQLerrors(n),e.call(t,n,r&&N(r),r)}),this)},count:function(e,t){return this._cleanParams(),this.params.returnCountOnly=!0,this.request((function(t,n){e.call(this,t,n&&n.count,n)}),t)},ids:function(e,t){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request((function(t,n){e.call(this,t,n&&n.objectIds,n)}),t)},bounds:function(e,t){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request((function(n,r){r&&r.extent&&L(r.extent)?e.call(t,n,L(r.extent),r):(n={message:"Invalid Bounds"},e.call(t,n,null,r))}),t)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(e){var t=(0,s.point)(e);return this.params.pixelSize=[t.x,t.y],this},layer:function(e){return this.path=e+"/query",this},_trapSQLerrors:function(e){e&&"400"===e.code&&g("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(e){this.params.inSR=4326;var t=q(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function Y(e){return new X(e)}const K=Y;var J=W.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request((function(n,r){e.call(t,n,r&&N(r),r)}),t)}});function Q(e){return new J(e)}const ee=Q;var te=W.extend({path:"identify",between:function(e,t){return this.params.time=[e.valueOf(),t.valueOf()],this}});function ne(e){return new te(e)}var re=te.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(e){var t=M(e.getBounds()),n=e.getSize();return this.params.imageDisplay=[n.x,n.y,96],this.params.mapExtent=[t.xmin,t.ymin,t.xmax,t.ymax],this},at:function(e){return 2===e.length&&(e=(0,s.latLng)(e)),this._setGeometryParams(e),this},layerDef:function(e,t){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[e,t].join(":"),this},simplify:function(e,t){var n=Math.abs(e.getBounds().getWest()-e.getBounds().getEast());return this.params.maxAllowableOffset=n/e.getSize().y*t,this},run:function(e,t){return this.request((function(n,r){if(n)e.call(t,n,void 0,r);else{var i=N(r);r.results=r.results.reverse();for(var o=0;o<i.features.length;o++)i.features[o].layerId=r.results[o].layerId;e.call(t,void 0,i,r)}}))},_setGeometryParams:function(e){var t=q(e);this.params.geometry=t.geometry,this.params.geometryType=t.geometryType}});function ie(e){return new re(e)}const oe=ie;var ae=te.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(e){return e=(0,s.latLng)(e),this.params.geometry=JSON.stringify({x:e.lng,y:e.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(e,t){return this.request((function(n,r){e.call(t,n,r&&this._responseToGeoJSON(r),r)}),this)},_responseToGeoJSON:function(e){var t=e.location,n=e.catalogItems,r=e.catalogItemVisibilities,i={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[t.x,t.y]},crs:{type:"EPSG",properties:{code:t.spatialReference.wkid}},properties:{OBJECTID:e.objectId,name:e.name,value:e.value},id:e.objectId}};if(e.properties&&e.properties.Values&&(i.pixel.properties.values=e.properties.Values),n&&n.features&&(i.catalogItems=N(n),r&&r.length===i.catalogItems.features.length))for(var o=r.length-1;o>=0;o--)i.catalogItems.features[o].properties.catalogItemVisibility=r[o];return i}});function se(e){return new ae(e)}const le=se;var ue=s.Evented.extend({options:{proxy:!1,useCors:r,timeout:0},initialize:function(e){e=e||{},this._requestQueue=[],this._authenticating=!1,s.Util.setOptions(this,e),this.options.url=D(this.options.url)},get:function(e,t,n,r){return this._request("get",e,t,n,r)},post:function(e,t,n,r){return this._request("post",e,t,n,r)},request:function(e,t,n,r){return this._request("request",e,t,n,r)},metadata:function(e,t){return this._request("get","",{},e,t)},authenticate:function(e){return this._authenticating=!1,this.options.token=e,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(e){this.options.timeout=e},_request:function(e,t,n,r,i){this.fire("requeststart",{url:this.options.url+t,params:n,method:e},!0);var o=this._createServiceCallback(e,t,n,r,i);if(this.options.token&&(n.token=this.options.token),this.options.requestParams&&s.Util.extend(n,this.options.requestParams),!this._authenticating){var a=this.options.proxy?this.options.proxy+"?"+this.options.url+t:this.options.url+t;return"get"!==e&&"request"!==e||this.options.useCors?y[e](a,n,o,i):y.get.JSONP(a,n,o,i)}this._requestQueue.push([e,t,n,r,i])},_createServiceCallback:function(e,t,n,r,i){return s.Util.bind((function(o,a){!o||499!==o.code&&498!==o.code||(this._authenticating=!0,this._requestQueue.push([e,t,n,r,i]),this.fire("authenticationrequired",{authenticate:s.Util.bind(this.authenticate,this)},!0),o.authenticate=s.Util.bind(this.authenticate,this)),r.call(i,o,a),o?this.fire("requesterror",{url:this.options.url+t,params:n,message:o.message,code:o.code,method:e},!0):this.fire("requestsuccess",{url:this.options.url+t,params:n,response:a,method:e},!0),this.fire("requestend",{url:this.options.url+t,params:n,method:e},!0)}),this)},_runQueue:function(){for(var e=this._requestQueue.length-1;e>=0;e--){var t=this._requestQueue[e];this[t.shift()].apply(this,t)}this._requestQueue=[]}});function ce(e){return e=z(e),new ue(e)}var he=ue.extend({identify:function(){return oe(this)},find:function(){return ee(this)},query:function(){return K(this)}});function pe(e){return new he(e)}const de=pe;var fe=ue.extend({query:function(){return K(this)},identify:function(){return le(this)}});function me(e){return new fe(e)}const ge=me;var ye=ue.extend({options:{idAttribute:"OBJECTID"},query:function(){return K(this)},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){for(var r=e.features?e.features:[e],i=r.length-1;i>=0;i--)delete r[i].id;return e=k(e),e=r.length>1?e:[e],this.post("addFeatures",{features:e},(function(e,r){var i=r&&r.addResults?r.addResults.length>1?r.addResults:r.addResults[0]:void 0;t&&t.call(n,e||r.addResults[0].error,i)}),n)},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var r=e.features?e.features:[e];return e=k(e,this.options.idAttribute),e=r.length>1?e:[e],this.post("updateFeatures",{features:e},(function(e,r){var i=r&&r.updateResults?r.updateResults.length>1?r.updateResults:r.updateResults[0]:void 0;t&&t.call(n,e||r.updateResults[0].error,i)}),n)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.post("deleteFeatures",{objectIds:e},(function(e,r){var i=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;t&&t.call(n,e||r.deleteResults[0].error,i)}),n)}});function ve(e){return new ye(e)}const _e=ve;var be="https:"!==window.location.protocol?"http:":"https:",xe=s.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:be+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:be+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:i?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:be+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:be+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:be+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:be+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(e,t){var n;if("object"==typeof e&&e.urlTemplate&&e.options)n=e;else{if("string"!=typeof e||!xe.TILES[e])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');n=xe.TILES[e]}var r=s.Util.extend(n.options,t);s.Util.setOptions(this,r),this.options.ignoreDeprecationWarning||console.warn("WARNING: L.esri.BasemapLayer uses data services that are in mature support and are not being updated. Please use L.esri.Vector.vectorBasemapLayer instead. More info: https://esriurl.com/esri-leaflet-basemap"),this.options.token&&-1===n.urlTemplate.indexOf("token=")&&(n.urlTemplate+="?token="+this.options.token),this.options.proxy&&(n.urlTemplate=this.options.proxy+"?"+n.urlTemplate),s.TileLayer.prototype.initialize.call(this,n.urlTemplate,r)},onAdd:function(e){Z(e),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&V((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,e),e.on("moveend",G),s.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){U(e),e.off("moveend",G),s.TileLayer.prototype.onRemove.call(this,e)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var e=this._map.createPane(this.options.pane);e.style.pointerEvents="none",e.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var e='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return e}});function we(e,t){return new xe(e,t)}var Ee=s.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(e){e=z(e=s.Util.setOptions(this,e)),this.tileUrl=(e.proxy?e.proxy+"?":"")+e.url+"tile/{z}/{y}/{x}"+(e.requestParams&&Object.keys(e.requestParams).length>0?s.Util.getParamString(e.requestParams):""),-1!==e.url.indexOf("{s}")&&e.subdomains&&(e.url=e.url.replace("{s}",e.subdomains[0])),this.service=de(e),this.service.addEventParent(this),new RegExp(/tiles.arcgis(online)?\.com/g).test(e.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),e.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),s.TileLayer.prototype.initialize.call(this,this.tileUrl,e)},getTileUrl:function(e){var t=this._getZoomForUrl();return s.Util.template(this.tileUrl,s.Util.extend({s:this._getSubdomain(e),x:e.x,y:e.y,z:this._lodMap&&this._lodMap[t]?this._lodMap[t]:t},this.options))},createTile:function(e,t){var n=document.createElement("img");return s.DomEvent.on(n,"load",s.Util.bind(this._tileOnLoad,this,t,n)),s.DomEvent.on(n,"error",s.Util.bind(this._tileOnError,this,t,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?n.src=this.getTileUrl(e):this.once("lodmap",(function(){n.src=this.getTileUrl(e)}),this),n},onAdd:function(e){Z(e),this._lodMap||this.metadata((function(t,n){if(!t&&n.spatialReference){var r=n.spatialReference.latestWkid||n.spatialReference.wkid;if(!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution())),e.options.crs!==s.CRS.EPSG3857||102100!==r&&3857!==r)e.options.crs&&e.options.crs.code&&e.options.crs.code.indexOf(r)>-1||g("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet https://developers.arcgis.com/esri-leaflet/samples/non-mercator-projection/");else{this._lodMap={};for(var i=n.tileInfo.lods,o=Ee.MercatorZoomLevels,a=0;a<i.length;a++){var l=i[a];for(var u in o){var c=o[u];if(this._withinPercentage(l.resolution,c,this.options.zoomOffsetAllowance)){this._lodMap[u]=l.level;break}}}this.fire("lodmap")}}}),this),s.TileLayer.prototype.onAdd.call(this,e)},onRemove:function(e){U(e),s.TileLayer.prototype.onRemove.call(this,e)},metadata:function(e,t){return this.service.metadata(e,t),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(e){var t="?token="+e;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,t):this.tileUrl+t,this.options.token=e,this.service.authenticate(e),this},_withinPercentage:function(e,t,n){return Math.abs(e/t-1)<n}});function Se(e,t){return new Ee(e,t)}var Ce=s.ImageOverlay.extend({onAdd:function(e){this._topLeft=e.getPixelBounds().min,s.ImageOverlay.prototype.onAdd.call(this,e)},_reset:function(){this._map.options.crs===s.CRS.EPSG3857?s.ImageOverlay.prototype._reset.call(this):s.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),Te=s.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:r,attribution:null,interactive:!1,alt:""},onAdd:function(e){Z(e),this.options.zIndex&&(this.options.position=null),this._update=s.Util.throttle(this._update,this.options.updateInterval,this),e.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?e.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata((function(t,n){!t&&!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}),this)},onRemove:function(e){U(e),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(e,t){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=(0,s.popup)(t),this._popupFunction=e,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(e){return this.options.zIndex=e,this._currentImage&&this._currentImage.setZIndex(e),this},_setAutoZIndex:function(e){if(this._currentImage){for(var t,n=this._currentImage.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._currentImage._image&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(e){return this.options.opacity=e,this._currentImage&&this._currentImage.setOpacity(e),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t){return this.options.from=e,this.options.to=t,this._update(),this},metadata:function(e,t){return this.service.metadata(e,t),this},authenticate:function(e){return this.service.authenticate(e),this},redraw:function(){this._update()},_renderImage:function(e,t,n){if(this._map){if(n&&(e="data:"+n+";base64,"+e),!e)return;var r=new Ce(e,t,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),i=function(){this._map.removeLayer(r),this.fire("error"),r.off("load",o,this)},o=function(e){if(r.off("error",i,this),this._map){var n=e.target,o=this._currentImage;n._bounds.equals(t)&&n._bounds.equals(this._map.getBounds())?(this._currentImage=n,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),o&&this._map&&this._map.removeLayer(o),o&&o._map&&o._map.removeLayer(o)):this._map.removeLayer(n)}this.fire("load",{bounds:t})};r.once("error",i,this),r.once("load",o,this)}},_update:function(){if(this._map){var e=this._map.getZoom(),t=this._map.getBounds();if(!(this._animatingZoom||this._map._panTransition&&this._map._panTransition._inProgress))if(e>this.options.maxZoom||e<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var n=this._buildExportParams();s.Util.extend(n,this.options.requestParams),n?(this._requestExport(n,t),this.fire("loading",{bounds:t})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(e,t,n,r){if(e=(0,s.latLng)(e),this._shouldRenderPopup&&this._lastClick.equals(e)){var i=this._popupFunction(t,n,r);i&&this._popup.setLatLng(e).setContent(i).openOn(this._map)}},_resetPopupState:function(e){this._shouldRenderPopup=!1,this._lastClick=e.latlng},_calculateBbox:function(){var e=this._map.getPixelBounds(),t=this._map.unproject(e.getBottomLeft()),n=this._map.unproject(e.getTopRight()),r=this._map.options.crs.project(n),i=this._map.options.crs.project(t),o=(0,s.bounds)(r,i);return[o.getBottomLeft().x,o.getBottomLeft().y,o.getTopRight().x,o.getTopRight().y].join(",")},_calculateImageSize:function(){var e=this._map.getPixelBounds(),t=this._map.getSize(),n=this._map.unproject(e.getBottomLeft()),r=this._map.unproject(e.getTopRight()),i=this._map.latLngToLayerPoint(r).y,o=this._map.latLngToLayerPoint(n).y;return(i>0||o<t.y)&&(t.y=o-i),t.x+","+t.y}}),Ie=Te.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(e){e=z(e),this.service=ge(e),this.service.addEventParent(this),s.Util.setOptions(this,e)},setPixelType:function(e){return this.options.pixelType=e,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(e){return s.Util.isArray(e)?this.options.bandIds=e.join(","):this.options.bandIds=e.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(e,t){return s.Util.isArray(e)?this.options.noData=e.join(","):this.options.noData=e.toString(),t&&(this.options.noDataInterpretation=t),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(e){this.options.renderingRule=e,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(e){this.options.mosaicRule=e,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(e){var t=s.Util.bind((function(t,n,r){t||setTimeout(s.Util.bind((function(){this._renderPopup(e.latlng,t,n,r)}),this),300)}),this),n=this.identify().at(e.latlng);this.options.mosaicRule&&n.setMosaicRule(this.options.mosaicRule),n.run(t),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};return this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(t.pixelType=this.options.pixelType),this.options.interpolation&&(t.interpolation=this.options.interpolation),this.options.compressionQuality&&(t.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(t.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(t.noData=this.options.noData),this.options.noDataInterpretation&&(t.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(t.token=this.service.options.token),this.options.renderingRule&&(t.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(t.mosaicRule=JSON.stringify(this.options.mosaicRule)),t},_requestExport:function(e,t){if("json"===this.options.f)this.service.request("exportImage",e,(function(e,n){e||(this.options.token&&(n.href+="?token="+this.options.token),this.options.proxy&&(n.href=this.options.proxy+"?"+n.href),this._renderImage(n.href,t))}),this);else{e.f="image";var n=this.options.url+"exportImage"+s.Util.getParamString(e);this.options.proxy&&(n=this.options.proxy+"?"+n),this._renderImage(n,t)}}});function ke(e,t){return new Ie(e,t)}var Pe=Te.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(e){e=z(e),this.service=de(e),this.service.addEventParent(this),s.Util.setOptions(this,e)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(e){return this.options.dynamicLayers=e,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(e){return this.options.layers=e,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(e){return this.options.layerDefs=e,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(e){return this.options.timeOptions=e,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(e){var t,n=s.Util.bind((function(t,n,r){t||setTimeout(s.Util.bind((function(){this._renderPopup(e.latlng,t,n,r)}),this),300)}),this);if((t=this.options.popup?this.options.popup.on(this._map).at(e.latlng):this.identify().on(this._map).at(e.latlng)).params.maxAllowableOffset||t.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?t.layers("visible:"+this.options.layers.join(",")):t.layers("visible")),this.options.layerDefs&&"string"!=typeof this.options.layerDefs&&!t.params.layerDefs)for(var r in this.options.layerDefs)Object.prototype.hasOwnProperty.call(this.options.layerDefs,r)&&t.layerDef(r,this.options.layerDefs[r]);t.run(n),this._shouldRenderPopup=!0,this._lastClick=e.latlng},_buildExportParams:function(){var e=parseInt(this._map.options.crs.code.split(":")[1],10),t={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:e,imageSR:e};if(this.options.dynamicLayers&&(t.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;t.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(t.layerDefs="string"==typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(t.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(t.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(t.token=this.service.options.token),this.options.proxy&&(t.proxy=this.options.proxy),this.options.disableCache&&(t._ts=Date.now()),t},_requestExport:function(e,t){if("json"===this.options.f)this.service.request("export",e,(function(e,n){e||(this.options.token&&n.href&&(n.href+="?token="+this.options.token),this.options.proxy&&n.href&&(n.href=this.options.proxy+"?"+n.href),n.href?this._renderImage(n.href,t):this._renderImage(n.imageData,t,n.contentType))}),this);else{e.f="image";var n=this.options.url+"export"+s.Util.getParamString(e);this.options.proxy&&(n=this.options.proxy+"?"+n),this._renderImage(n,t)}}});function Le(e,t){return new Pe(e,t)}var Me=s.Layer.extend({options:{cellSize:512,updateWhenIdle:s.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(e){s.Util.setOptions(this,e)},onAdd:function(e){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(e){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),e},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var e=this.options.cellSize;return e instanceof s.Point?e:new s.Point(e,e)},_pruneCells:function(){if(this._map){var e,t;for(e in this._cells)(t=this._cells[e]).retain=t.current;for(e in this._cells)if((t=this._cells[e]).current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._cells)this._cells[e].retain||this._removeCell(e)}},_removeAllCells:function(){for(var e in this._cells)this._removeCell(e)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,l=new s.Point(+i,+o);l.z=+a;var u=this._cellCoordsToKey(l),c=this._cells[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new s.Point(i,o);a.z=n+1;var l=this._cellCoordsToKey(a),u=this._cells[l];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);t||this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_setView:function(e,t,n,r){var i=Math.round(t);r||(this._cellZoom=i,this._abortLoading&&this._abortLoading(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneCells(),this._noPrune=!!n)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._cellSize=this.getCellSize(),r=this._cellZoom,i=this._map.getPixelWorldBounds(this._cellZoom);i&&(this._globalCellRange=this._pxBoundsToCellRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(e){e&&(e.pinch||e.flyTo)||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._cellZoom),i=t.project(e,this._cellZoom).floor(),o=t.getSize().divideBy(2*r);return new s.Bounds(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=Math.round(t.getZoom());void 0===e&&(e=t.getCenter());var r=this._getCelldPixelBounds(e),i=this._pxBoundsToCellRange(r),o=i.getCenter(),a=[],l=this.options.keepBuffer,u=new s.Bounds(i.getBottomLeft().subtract([l,-l]),i.getTopRight().add([l,-l]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var c in this._cells){var h=this._cells[c].coords;h.z===this._cellZoom&&u.contains(new s.Point(h.x,h.y))||(this._cells[c].current=!1)}if(Math.abs(n-this._cellZoom)>1)this._setView(e,n);else{for(var p=i.min.y;p<=i.max.y;p++)for(var d=i.min.x;d<=i.max.x;d++){var f=new s.Point(d,p);if(f.z=this._cellZoom,this._isValidCell(f)){var m=this._cells[this._cellCoordsToKey(f)];m?m.current=!0:a.push(f)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length)for(this._loading||(this._loading=!0),d=0;d<a.length;d++){var g=this._cellCoordsToKey(a[d]),y=this._keyToCellCoords(g);this._activeCells[y]?this._reuseCell(a[d]):this._createCell(a[d])}}}},_isValidCell:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalCellRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._cellCoordsToBounds(e);return(0,s.toLatLngBounds)(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._cellCoordsToBounds(this._keyToCellCoords(e))},_cellCoordsToNwSe:function(e){var t=this._map,n=this.getCellSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_cellCoordsToBounds:function(e){var t=this._cellCoordsToNwSe(e),n=new s.LatLngBounds(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_cellCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToCellCoords:function(e){var t=e.split(":"),n=new s.Point(+t[0],+t[1]);return n.z=+t[2],n},_removeCell:function(e){var t=this._cells[e];if(t){var n=this._keyToCellCoords(e),r=this._wrapCoords(n),i=this._cellCoordsToBounds(this._wrapCoords(n));t.current=!1,delete this._cells[e],this._activeCells[e]=t,this.cellLeave(i,r,e),this.fire("cellleave",{key:e,coords:r,bounds:i})}},_reuseCell:function(e){var t=this._cellCoordsToKey(e);this._cells[t]=this._activeCells[t],this._cells[t].current=!0;var n=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.cellEnter(r,n,t),this.fire("cellenter",{key:t,coords:n,bounds:r})},_createCell:function(e){var t=this._cellCoordsToKey(e),n=this._wrapCoords(e),r=this._cellCoordsToBounds(this._wrapCoords(e));this.createCell(r,n,t),this.fire("cellcreate",{key:t,coords:n,bounds:r}),this._cells[t]={coords:e,current:!0},s.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(e,t,n){var r=this._cellCoordsToKey(e);(n=this._cells[r])&&(n.loaded=+new Date,n.active=!0)},_getCellPos:function(e){return e.scaleBy(this.getCellSize())},_wrapCoords:function(e){var t=new s.Point(this._wrapX?s.Util.wrapNum(e.x,this._wrapX):e.x,this._wrapY?s.Util.wrapNum(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToCellRange:function(e){var t=this.getCellSize();return new s.Bounds(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))}});function Ae(e){this.values=[].concat(e||[])}Ae.prototype.query=function(e){var t=this.getIndex(e);return this.values[t]},Ae.prototype.getIndex=function(e){this.dirty&&this.sort();for(var t,n,r=0,i=this.values.length-1;r<=i;)if(t=(r+i)/2|0,+(n=this.values[Math.round(t)]).value<+e)r=t+1;else{if(!(+n.value>+e))return t;i=t-1}return Math.abs(~i)},Ae.prototype.between=function(e,t){var n=this.getIndex(e),r=this.getIndex(t);if(0===n&&0===r)return[];for(;this.values[n-1]&&this.values[n-1].value===e;)n--;for(;this.values[r+1]&&this.values[r+1].value===t;)r++;return this.values[r]&&this.values[r].value===t&&this.values[r+1]&&r++,this.values.slice(n,r)},Ae.prototype.insert=function(e){return this.values.splice(this.getIndex(e.value),0,e),this},Ae.prototype.bulkAdd=function(e,t){return this.values=this.values.concat([].concat(e||[])),t?this.sort():this.dirty=!0,this},Ae.prototype.sort=function(){return this.values.sort((function(e,t){return+t.value-+e.value})).reverse(),this.dirty=!1,this};const Oe=Ae;var Re=Me.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(e){if(Me.prototype.initialize.call(this,e),e=z(e),e=s.Util.setOptions(this,e),this.service=_e(e),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var t=!1,n=0;n<this.options.fields.length;n++)this.options.fields[n].match(/^(OBJECTID|FID|OID|ID)$/i)&&(t=!0);!1===t&&g("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Oe,this._endTimeIndex=new Oe):this.options.timeField&&(this._timeIndex=new Oe),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(e){return Z(e),this.service.metadata((function(t,n){if(!t){var r=n.supportedQueryFormats,i=!1;(!1===this.service.options.isModern||this.options.fetchAllFeatures)&&(i=!0),!i&&r&&-1!==r.indexOf("geoJSON")&&(this.service.options.isModern=!0),n.objectIdField&&(this.service.options.idAttribute=n.objectIdField),!this.options.attribution&&e.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,e.attributionControl.addAttribution(this.getAttribution()))}}),this),e.on("zoomend",this._handleZoomChange,this),Me.prototype.onAdd.call(this,e)},onRemove:function(e){return U(e),e.off("zoomend",this._handleZoomChange,this),Me.prototype.onRemove.call(this,e)},getAttribution:function(){return this.options.attribution},createCell:function(e,t){this._visibleZoom()&&this._requestFeatures(e,t)},_requestFeatures:function(e,t,n,r){this._activeRequests++,r=r||0;var i=this.options.where;return 1===this._activeRequests&&this.fire("loading",{bounds:e},!0),this._buildQuery(e,r).run((function(o,a,l){l&&l.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===i&&(!o&&a&&a.features.length&&s.Util.requestAnimFrame(s.Util.bind((function(){this._addFeatures(a.features,t),this._postProcessFeatures(e)}),this)),o||!a||a.features.length||this._postProcessFeatures(e),o&&this._postProcessFeatures(e),n&&n.call(this,o,a),l&&(l.exceededTransferLimit||l.properties&&l.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(e,t,n,r+a.features.length))}),this)},_postProcessFeatures:function(e){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:e})},_cacheKey:function(e){return e.z+":"+e.x+":"+e.y},_addFeatures:function(e,t){if(t){var n=this._cacheKey(t);this._cache[n]=this._cache[n]||[]}for(var r=e.length-1;r>=0;r--){var i=e[r].id;-1===this._currentSnapshot.indexOf(i)&&this._currentSnapshot.push(i),void 0!==n&&-1===this._cache[n].indexOf(i)&&this._cache[n].push(i)}this.options.timeField&&this._buildTimeIndexes(e),this.createLayers(e)},_buildQuery:function(e,t){var n=this.service.query().intersects(e).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(t))&&(n=n.offset(t)),n.params.resultType="tile",this.options.requestParams&&s.Util.extend(n.params,this.options.requestParams),this.options.simplifyFactor&&n.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&n.between(this.options.from,this.options.to),n},setWhere:function(e,t,n){this.options.where=e&&e.length?e:"1=1";for(var r=[],i=[],o=0,a=null,l=s.Util.bind((function(l,u){if(l&&(a=l),u)for(var c=u.features.length-1;c>=0;c--)i.push(u.features[c].id);--o<=0&&this._visibleZoom()&&e===this.options.where&&(this._currentSnapshot=i,s.Util.requestAnimFrame(s.Util.bind((function(){this.removeLayers(r),this.addLayers(i),t&&t.call(n,a)}),this)))}),this),u=this._currentSnapshot.length-1;u>=0;u--)r.push(this._currentSnapshot[u]);for(var c in this._cache={},this._cells){o++;var h=this._keyToCellCoords(c),p=this._cellCoordsToBounds(h);this._requestFeatures(p,h,l)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(e,t,n,r){var i=this.options.from,o=this.options.to,a=0,l=null,u=s.Util.bind((function(s){s&&(l=s),this._filterExistingFeatures(i,o,e,t),a--,n&&a<=0&&n.call(r,l)}),this);if(this.options.from=e,this.options.to=t,this._filterExistingFeatures(i,o,e,t),"server"===this.options.timeFilterMode)for(var c in this._cells){a++;var h=this._keyToCellCoords(c),p=this._cellCoordsToBounds(h);this._requestFeatures(p,h,u)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(e,t,n,r){var i=e&&t?this._getFeaturesInTimeRange(e,t):this._currentSnapshot,o=this._getFeaturesInTimeRange(n,r);if(o.indexOf)for(var a=0;a<o.length;a++){var l=i.indexOf(o[a]);l>=0&&i.splice(l,1)}s.Util.requestAnimFrame(s.Util.bind((function(){this.removeLayers(i),this.addLayers(o)}),this))},_getFeaturesInTimeRange:function(e,t){var n,r=[];if(this.options.timeField.start&&this.options.timeField.end){var i=this._startTimeIndex.between(e,t),o=this._endTimeIndex.between(e,t);n=i.concat(o)}else{if(!this._timeIndex)return g("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];n=this._timeIndex.between(e,t)}for(var a=n.length-1;a>=0;a--)r.push(n[a].id);return r},_buildTimeIndexes:function(e){var t,n;if(this.options.timeField.start&&this.options.timeField.end){var r=[],i=[];for(t=e.length-1;t>=0;t--)n=e[t],r.push({id:n.id,value:new Date(n.properties[this.options.timeField.start])}),i.push({id:n.id,value:new Date(n.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r),this._endTimeIndex.bulkAdd(i)}else{var o=[];for(t=e.length-1;t>=0;t--)n=e[t],o.push({id:n.id,value:new Date(n.properties[this.options.timeField])});this._timeIndex.bulkAdd(o)}},_featureWithinTimeRange:function(e){if(!this.options.from||!this.options.to)return!0;var t=+this.options.from.valueOf(),n=+this.options.to.valueOf();if("string"==typeof this.options.timeField){var r=+e.properties[this.options.timeField];return r>=t&&r<=n}if(this.options.timeField.start&&this.options.timeField.end){var i=+e.properties[this.options.timeField.start],o=+e.properties[this.options.timeField.end];return i>=t&&i<=n||o>=t&&o<=n||i<=t&&o>=n}},_visibleZoom:function(){if(!this._map)return!1;var e=this._map.getZoom();return!(e>this.options.maxZoom||e<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var e in this._cells){var t=this._cells[e].coords,n=this._cacheKey(t);this._cache[n]&&this.addLayers(this._cache[n])}else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(e){return this.service.authenticate(e),this},metadata:function(e,t){return this.service.metadata(e,t),this},query:function(){return this.service.query()},_getMetadata:function(e){this._metadata?e(void 0,this._metadata):this.metadata(s.Util.bind((function(t,n){this._metadata=n,e(t,this._metadata)}),this))},addFeature:function(e,t,n){this.addFeatures(e,t,n)},addFeatures:function(e,t,n){this._getMetadata(s.Util.bind((function(r,i){if(r)t&&t.call(this,r,null);else{var o=e.features?e.features:[e];this.service.addFeatures(e,s.Util.bind((function(e,r){if(!e){for(var a=o.length-1;a>=0;a--)o[a].properties[i.objectIdField]=o.length>1?r[a].objectId:r.objectId,o[a].id=o.length>1?r[a].objectId:r.objectId;this._addFeatures(o)}t&&t.call(n,e,r)}),this))}}),this))},updateFeature:function(e,t,n){this.updateFeatures(e,t,n)},updateFeatures:function(e,t,n){var r=e.features?e.features:[e];this.service.updateFeatures(e,(function(e,i){if(!e){for(var o=r.length-1;o>=0;o--)this.removeLayers([r[o].id],!0);this._addFeatures(r)}t&&t.call(n,e,i)}),this)},deleteFeature:function(e,t,n){this.deleteFeatures(e,t,n)},deleteFeatures:function(e,t,n){return this.service.deleteFeatures(e,(function(e,r){var i=r.length?r:[r];if(!e&&i.length>0)for(var o=i.length-1;o>=0;o--)this.removeLayers([i[o].objectId],!0);t&&t.call(n,e,r)}),this)}}),Ne=Re.extend({options:{cacheLayers:!0},initialize:function(e){e.apikey&&(e.token=e.apikey),Re.prototype.initialize.call(this,e),this._originalStyle=this.options.style,this._layers={}},onRemove:function(e){for(var t in this._layers)e.removeLayer(this._layers[t]),this.fire("removefeature",{feature:this._layers[t].feature,permanent:!1},!0);return Re.prototype.onRemove.call(this,e)},createNewLayer:function(e){var t=s.GeoJSON.geometryToLayer(e,this.options);return t&&(t.defaultOptions=t.options),t},_updateLayer:function(e,t){var n=[],r=this.options.coordsToLatLng||s.GeoJSON.coordsToLatLng;switch(t.properties&&(e.feature.properties=t.properties),t.geometry.type){case"Point":n=s.GeoJSON.coordsToLatLng(t.geometry.coordinates),e.setLatLng(n);break;case"LineString":n=s.GeoJSON.coordsToLatLngs(t.geometry.coordinates,0,r),e.setLatLngs(n);break;case"MultiLineString":case"Polygon":n=s.GeoJSON.coordsToLatLngs(t.geometry.coordinates,1,r),e.setLatLngs(n);break;case"MultiPolygon":n=s.GeoJSON.coordsToLatLngs(t.geometry.coordinates,2,r),e.setLatLngs(n)}this.redraw(e.feature.id)},createLayers:function(e){for(var t=e.length-1;t>=0;t--){var n,r=e[t],i=this._layers[r.id];!this._visibleZoom()||!i||this._map.hasLayer(i)||this.options.timeField&&!this._featureWithinTimeRange(r)||(this._map.addLayer(i),this.fire("addfeature",{feature:i.feature},!0)),i&&(i.setLatLngs||i.setLatLng)&&this._updateLayer(i,r),i||((n=this.createNewLayer(r))?(n.feature=r,n.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(n.feature,n),this._layers[n.feature.id]=n,this.setFeatureStyle(n.feature.id,this.options.style),this.fire("createfeature",{feature:n.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(r))&&this._map.addLayer(n)):g("invalid GeoJSON encountered"))}},addLayers:function(e){for(var t=e.length-1;t>=0;t--){var n=this._layers[e[t]];!n||this.options.timeField&&!this._featureWithinTimeRange(n.feature)||(this._map.addLayer(n),this.fire("addfeature",{feature:n.feature},!0))}},removeLayers:function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n],i=this._layers[r];i&&(this.fire("removefeature",{feature:i.feature,permanent:t},!0),this._map.removeLayer(i)),i&&t&&delete this._layers[r]}},cellEnter:function(e,t){this._visibleZoom()&&!this._zooming&&this._map&&s.Util.requestAnimFrame(s.Util.bind((function(){var e=this._cacheKey(t),n=this._cellCoordsToKey(t),r=this._cache[e];this._activeCells[n]&&r&&this.addLayers(r)}),this))},cellLeave:function(e,t){this._zooming||s.Util.requestAnimFrame(s.Util.bind((function(){if(this._map){var e=this._cacheKey(t),n=this._cellCoordsToKey(t),r=this._cache[e],i=this._map.getBounds();if(!this._activeCells[n]&&r){for(var o=!0,a=0;a<r.length;a++){var s=this._layers[r[a]];s&&s.getBounds&&i.intersects(s.getBounds())&&(o=!1)}o&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&o&&(delete this._cache[e],delete this._cells[n],delete this._activeCells[n])}}}),this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature((function(e){this.resetFeatureStyle(e.feature.id)}),this),this},setStyle:function(e){return this.options.style=e,this.eachFeature((function(t){this.setFeatureStyle(t.feature.id,e)}),this),this},resetFeatureStyle:function(e){var t=this._layers[e],n=this._originalStyle||s.Path.prototype.options;return t&&(s.Util.extend(t.options,t.defaultOptions),this.setFeatureStyle(e,n)),this},setFeatureStyle:function(e,t){var n=this._layers[e];return"function"==typeof t&&(t=t(n.feature)),n.setStyle&&n.setStyle(t),this},eachActiveFeature:function(e,t){if(this._map){var n=this._map.getBounds();for(var r in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[r].feature.id)&&("function"==typeof this._layers[r].getLatLng&&n.contains(this._layers[r].getLatLng())||"function"==typeof this._layers[r].getBounds&&n.intersects(this._layers[r].getBounds()))&&e.call(t,this._layers[r])}return this},eachFeature:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getFeature:function(e){return this._layers[e]},bringToBack:function(){this.eachFeature((function(e){e.bringToBack&&e.bringToBack()}))},bringToFront:function(){this.eachFeature((function(e){e.bringToFront&&e.bringToFront()}))},redraw:function(e){return e&&this._redraw(e),this},_redraw:function(e){var t=this._layers[e],n=t.feature;if(t&&t.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var r=this.options.pointToLayer(n,(0,s.latLng)(n.geometry.coordinates[1],n.geometry.coordinates[0])).options.icon;t.setIcon(r)}if(t&&t.setStyle&&this.options.pointToLayer){var i=this.options.pointToLayer(n,(0,s.latLng)(n.geometry.coordinates[1],n.geometry.coordinates[0])).options;this.setFeatureStyle(n.id,i)}t&&t.setStyle&&this.options.style&&this.resetStyle(n.id)}});function De(e){return new Ne(e)}var ze="3.0.8"},26729:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],h=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),h){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(h-1);u<h;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var p,d=c.length;for(u=0;u<d;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),h){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(p=1,l=new Array(h-1);p<h;p++)l[p-1]=arguments[p];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},64063:e=>{"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!=t&&n!=n}},58367:function(e,t){!function(e){"use strict";var t="function"==typeof WeakSet,n=Object.keys;function r(e,t){return e===t||e!=e&&t!=t}function i(e){return e.constructor===Object||null==e.constructor}function o(e){return!!e&&"function"==typeof e.then}function a(e){return!(!e||!e.$$typeof)}var s=t?function(){return new WeakSet}:function(){var e=[];return{add:function(t){e.push(t)},has:function(t){return-1!==e.indexOf(t)}}};function l(e){return function(t){var n=e||t;return function(e,t,r){void 0===r&&(r=s());var i=!!e&&"object"==typeof e,o=!!t&&"object"==typeof t;if(i||o){var a=i&&r.has(e),l=o&&r.has(t);if(a||l)return a&&l;i&&r.add(e),o&&r.add(t)}return n(e,t,r)}}}var u=Function.prototype.bind.call(Function.prototype.call,Object.prototype.hasOwnProperty);function c(e,t,r,i){var o=n(e),s=o.length;if(n(t).length!==s)return!1;if(s)for(var l=void 0;s-- >0;){if("_owner"===(l=o[s])){var c=a(e),h=a(t);if((c||h)&&c!==h)return!1}if(!u(t,l)||!r(e[l],t[l],i))return!1}return!0}var h="function"==typeof Map,p="function"==typeof Set;function d(e){var t="function"==typeof e?e(n):n;function n(e,n,a){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(i(e)&&i(n))return c(e,n,t,a);var s=Array.isArray(e),l=Array.isArray(n);return s||l?s===l&&function(e,t,n,r){var i=e.length;if(t.length!==i)return!1;for(;i-- >0;)if(!n(e[i],t[i],r))return!1;return!0}(e,n,t,a):(s=e instanceof Date,l=n instanceof Date,s||l?s===l&&r(e.getTime(),n.getTime()):(s=e instanceof RegExp,l=n instanceof RegExp,s||l?s===l&&function(e,t){return e.source===t.source&&e.global===t.global&&e.ignoreCase===t.ignoreCase&&e.multiline===t.multiline&&e.unicode===t.unicode&&e.sticky===t.sticky&&e.lastIndex===t.lastIndex}(e,n):o(e)||o(n)?e===n:h&&(s=e instanceof Map,l=n instanceof Map,s||l)?s===l&&function(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(e,a){if(i){var s=!1,l=0;t.forEach((function(t,i){s||o[l]||(s=n(a,i,r)&&n(e,t,r))&&(o[l]=!0),l++})),i=s}}))}return i}(e,n,t,a):p&&(s=e instanceof Set,l=n instanceof Set,s||l)?s===l&&function(e,t,n,r){var i=e.size===t.size;if(i&&e.size){var o={};e.forEach((function(e){if(i){var a=!1,s=0;t.forEach((function(t){a||o[s]||(a=n(e,t,r))&&(o[s]=!0),s++})),i=a}}))}return i}(e,n,t,a):c(e,n,t,a)))}return e!=e&&n!=n}return n}var f=d(),m=d((function(){return r})),g=d(l()),y=d(l(r));e.circularDeepEqual=g,e.circularShallowEqual=y,e.createCustomEqual=d,e.deepEqual=f,e.sameValueZeroEqual=r,e.shallowEqual=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},17648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||r.call(o)!==i)throw new TypeError(t+o);for(var a,s=n.call(arguments,1),l=function(){if(this instanceof a){var t=o.apply(this,s.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(n.call(arguments)))},u=Math.max(0,o.length-s.length),c=[],h=0;h<u;h++)c.push("$"+h);if(a=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var p=function(){};p.prototype=o.prototype,a.prototype=new p,p.prototype=null}return a}},58612:(e,t,n)=>{"use strict";var r=n(17648);e.exports=Function.prototype.bind||r},25972:e=>{"use strict";var t=function(){return"string"==typeof function(){}.name},n=Object.getOwnPropertyDescriptor;if(n)try{n([],"length")}catch(e){n=null}t.functionsHaveConfigurableNames=function(){if(!t()||!n)return!1;var e=n((function(){}),"name");return!!e&&!!e.configurable};var r=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof r&&""!==function(){}.bind().name},e.exports=t},29657:(e,t,n)=>{var r=n(10251),i=function(e){this.precision=e&&e.precision?e.precision:17,this.direction=!(!e||!e.direction)&&e.direction,this.pseudoNode=!(!e||!e.pseudoNode)&&e.pseudoNode,this.objectComparator=e&&e.objectComparator?e.objectComparator:s};function o(e){return e.coordinates.map((function(t){return{type:e.type.replace("Multi",""),coordinates:t}}))}function a(e,t){return e.hasOwnProperty("coordinates")?e.coordinates.length===t.coordinates.length:e.length===t.length}function s(e,t){return r(e,t,{strict:!0})}i.prototype.compare=function(e,t){if(e.type!==t.type||!a(e,t))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,t.coordinates);case"LineString":return this.compareLine(e.coordinates,t.coordinates,0,!1);case"Polygon":return this.comparePolygon(e,t);case"Feature":return this.compareFeature(e,t);default:if(0===e.type.indexOf("Multi")){var n=this,r=o(e),i=o(t);return r.every((function(e){return this.some((function(t){return n.compare(e,t)}))}),i)}}return!1},i.prototype.compareCoord=function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n].toFixed(this.precision)!==t[n].toFixed(this.precision))return!1;return!0},i.prototype.compareLine=function(e,t,n,r){if(!a(e,t))return!1;var i=this.pseudoNode?e:this.removePseudo(e),o=this.pseudoNode?t:this.removePseudo(t);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var s=this.compareCoord(i[n],o[n]);return this.direction||s?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},i.prototype.fixStartIndex=function(e,t){for(var n,r=-1,i=0;i<e.length;i++)if(this.compareCoord(e[i],t[0])){r=i;break}return r>=0&&(n=[].concat(e.slice(r,e.length),e.slice(1,r+1))),n},i.prototype.comparePath=function(e,t){var n=this;return e.every((function(e,t){return n.compareCoord(e,this[t])}),t)},i.prototype.comparePolygon=function(e,t){if(this.compareLine(e.coordinates[0],t.coordinates[0],1,!0)){var n=e.coordinates.slice(1,e.coordinates.length),r=t.coordinates.slice(1,t.coordinates.length),i=this;return n.every((function(e){return this.some((function(t){return i.compareLine(e,t,1,!0)}))}),r)}return!1},i.prototype.compareFeature=function(e,t){return!(e.id!==t.id||!this.objectComparator(e.properties,t.properties)||!this.compareBBox(e,t))&&this.compare(e.geometry,t.geometry)},i.prototype.compareBBox=function(e,t){return!!(!e.bbox&&!t.bbox||e.bbox&&t.bbox&&this.compareCoord(e.bbox,t.bbox))},i.prototype.removePseudo=function(e){return e},e.exports=i},51787:(e,t,n)=>{var r=n(24056),i=n(84102),o=n(31540),a=n(9705).Z,s=o.featureEach,l=(o.coordEach,i.polygon,i.featureCollection);function u(e){var t=new r(e);return t.insert=function(e){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.insert.call(this,e)},t.load=function(e){var t=[];return Array.isArray(e)?e.forEach((function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})):s(e,(function(e){if("Feature"!==e.type)throw new Error("invalid features");e.bbox=e.bbox?e.bbox:a(e),t.push(e)})),r.prototype.load.call(this,t)},t.remove=function(e,t){if("Feature"!==e.type)throw new Error("invalid feature");return e.bbox=e.bbox?e.bbox:a(e),r.prototype.remove.call(this,e,t)},t.clear=function(){return r.prototype.clear.call(this)},t.search=function(e){var t=r.prototype.search.call(this,this.toBBox(e));return l(t)},t.collides=function(e){return r.prototype.collides.call(this,this.toBBox(e))},t.all=function(){var e=r.prototype.all.call(this);return l(e)},t.toJSON=function(){return r.prototype.toJSON.call(this)},t.fromJSON=function(e){return r.prototype.fromJSON.call(this,e)},t.toBBox=function(e){var t;if(e.bbox)t=e.bbox;else if(Array.isArray(e)&&4===e.length)t=e;else if(Array.isArray(e)&&6===e.length)t=[e[0],e[1],e[3],e[4]];else if("Feature"===e.type)t=a(e);else{if("FeatureCollection"!==e.type)throw new Error("invalid geojson");t=a(e)}return{minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]}},t}e.exports=u,e.exports.default=u},24056:function(e){e.exports=function(){"use strict";function e(e,r,i,o,a){!function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var p=n[r],d=i,f=o;for(t(n,i,r),a(n[o],p)>0&&t(n,i,o);d<f;){for(t(n,d,f),d++,f--;a(n[d],p)<0;)d++;for(;a(n[f],p)>0;)f--}0===a(n[i],p)?t(n,i,f):t(n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}(e,r,i||0,o||e.length-1,a||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){a(e,0,e.children.length,t,e)}function a(e,t,n,r,i){i||(i=f(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];s(i,e.leaf?r(a):a)}return i}function s(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function l(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function p(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function d(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function f(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,r,i,o){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;e(t,s,n,r,o),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!d(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?r(a):a;d(e,s)&&(t.leaf?n.push(a):p(e,s)?this._all(a,n):i.push(a))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!d(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(d(e,o)){if(t.leaf||p(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=f([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,a=this.data,s=this.toBBox(e),l=[],u=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=u.pop(),o=!0),a.leaf){var c=i(e,a.children,t);if(-1!==c)return a.children.splice(c,1),l.push(a),this._condense(l),this}o||a.leaf||!p(a,s)?r?(n++,a=r.children[n],o=!1):a=null:(l.push(a),u.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,a=n-t+1,s=this._maxEntries;if(a<=s)return o(i=f(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(i=f([])).leaf=!1,i.height=r;var l=Math.ceil(a/s),u=l*Math.ceil(Math.sqrt(s));m(e,t,n,u,this.compareMinX);for(var c=t;c<=n;c+=u){var h=Math.min(c+u-1,n);m(e,c,h,l,this.compareMinY);for(var p=c;p<=h;p+=l){var d=Math.min(p+l-1,h);i.children.push(this._build(e,p,d,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=c(l),h=(p=e,d=l,(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u);h<o?(o=h,i=u<i?u:i,a=l):h===o&&u<i&&(i=u,a=l)}t=a||t.children[0]}var p,d;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),s(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var a=this._chooseSplitIndex(n,i,r),s=f(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,o(n,this.toBBox),o(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(e,t){this.data=f([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,s,l,u,h,p=1/0,d=1/0,f=t;f<=n-t;f++){var m=a(e,0,f,this.toBBox),g=a(e,f,n,this.toBBox),y=(i=m,o=g,void 0,void 0,void 0,void 0,s=Math.max(i.minX,o.minX),l=Math.max(i.minY,o.minY),u=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,u-s)*Math.max(0,h-l)),v=c(m)+c(g);y<p?(p=y,r=f,d=v<d?v:d):y===p&&v<d&&(d=v,r=f)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:l,i=e.leaf?this.compareMinY:u;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=a(e,0,t,i),l=a(e,n-t,n,i),u=h(o)+h(l),c=t;c<n-t;c++){var p=e.children[c];s(o,e.leaf?i(p):p),u+=h(o)}for(var d=n-t-1;d>=t;d--){var f=e.children[d];s(l,e.leaf?i(f):f),u+=h(l)}return u},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)s(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r}()},40210:(e,t,n)=>{"use strict";var r,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var u=function(){throw new a},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(e){return u}}}():u,h=n(41405)(),p=Object.getPrototypeOf||function(e){return e.__proto__},d={},f="undefined"==typeof Uint8Array?r:p(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?p(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=s("async function () {}");else if("%GeneratorFunction%"===t)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=s("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(n=p(i.prototype))}return m[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(58612),_=n(17642),b=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,T=function(e){var t=E(e,0,1),n=E(e,-1);if("%"===t&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(e,S,(function(e,t,n,i){r[r.length]=n?w(i,C,"$1"):t||e})),r},I=function(e,t){var n,r=e;if(_(y,r)&&(r="%"+(n=y[r])[0]+"%"),_(m,r)){var o=m[r];if(o===d&&(o=g(r)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');var n=T(e),r=n.length>0?n[0]:"",o=I("%"+r+"%",t),s=o.name,u=o.value,c=!1,h=o.alias;h&&(r=h[0],x(n,b([0,1],h)));for(var p=1,d=!0;p<n.length;p+=1){var f=n[p],g=E(f,0,1),y=E(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===y||"'"===y||"`"===y)&&g!==y)throw new i("property names with quotes must have matching quotes");if("constructor"!==f&&d||(c=!0),_(m,s="%"+(r+="."+f)+"%"))u=m[s];else if(null!=u){if(!(f in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&p+1>=n.length){var v=l(u,f);u=(d=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[f]}else d=_(u,f),u=u[f];d&&!c&&(m[s]=u)}}return u}},31044:(e,t,n)=>{"use strict";var r=n(40210)("%Object.defineProperty%",!0),i=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},41405:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(55419);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&i()}},55419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},96410:(e,t,n)=>{"use strict";var r=n(55419);e.exports=function(){return r()&&!!Symbol.toStringTag}},17642:(e,t,n)=>{"use strict";var r=n(58612);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},8679:(e,t,n)=>{"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=d(n);i&&i!==f&&e(t,i,r)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!(o[y]||r&&r[y]||m&&m[y]||s&&s[y])){var v=p(n,y);try{u(t,y,v)}catch(e){}}}}return t}},80645:(e,t)=>{t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=f,a/=256,u-=8);e[n+d-f]|=128*m}},82584:(e,t,n)=>{"use strict";var r=n(96410)(),i=n(21924)("Object.prototype.toString"),o=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},18923:(e,t,n)=>{"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o=n(96410)();e.exports=function(e){return"object"==typeof e&&null!==e&&(o?function(e){try{return r.call(e),!0}catch(e){return!1}}(e):"[object Date]"===i.call(e))}},98420:(e,t,n)=>{"use strict";var r,i,o,a,s=n(21924),l=n(96410)();if(l){r=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var u=function(){throw o};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=s("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!=typeof e)return!1;var t=h(e,"lastIndex");if(!t||!r(t,"value"))return!1;try{i(e,a)}catch(e){return e===o}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c(e)}},55733:(e,t,n)=>{var r=n(48764).Buffer;e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var o=void 0,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,a,s,l,u,c=[],h=0,p=e.length,d=p,f="string"!==r.getTypeOf(e);h<e.length;)d=p-h,i=f?(t=e[h++],n=h<p?e[h++]:0,h<p?e[h++]:0):(t=e.charCodeAt(h++),n=h<p?e.charCodeAt(h++):0,h<p?e.charCodeAt(h++):0),a=t>>2,s=(3&t)<<4|n>>4,l=1<d?(15&n)<<2|i>>6:64,u=2<d?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,a,s,l,u=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var p,d=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,r=(3&s)<<6|(l=o.indexOf(e.charAt(u++))),p[c++]=t,64!==s&&(p[c++]=n),64!==l&&(p[c++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length):function(e,t,n,r){var o=i,a=0+n;e^=-1;for(var s=0;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=r?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,a,c){var h,p,d=e.file,f=e.compression,m=c!==s.utf8encode,g=o.transformTo("string",c(d.name)),y=o.transformTo("string",s.utf8encode(d.name)),v=d.comment,_=o.transformTo("string",c(v)),b=o.transformTo("string",s.utf8encode(v)),x=y.length!==d.name.length,w=b.length!==v.length,E="",S="",C="",T=d.dir,I=d.date,k={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(k.crc32=e.crc32,k.compressedSize=e.compressedSize,k.uncompressedSize=e.uncompressedSize);var P=0;t&&(P|=8),m||!x&&!w||(P|=2048);var L=0,M=0;T&&(L|=16),"UNIX"===a?(M=798,L|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(d.unixPermissions,T)):(M=20,L|=function(e){return 63&(e||0)}(d.dosPermissions)),h=I.getUTCHours(),h<<=6,h|=I.getUTCMinutes(),h<<=5,h|=I.getUTCSeconds()/2,p=I.getUTCFullYear()-1980,p<<=4,p|=I.getUTCMonth()+1,p<<=5,p|=I.getUTCDate(),x&&(S=r(1,1)+r(l(g),4)+y,E+="up"+r(S.length,2)+S),w&&(C=r(1,1)+r(l(_),4)+b,E+="uc"+r(C.length,2)+C);var A="";return A+="\n\0",A+=r(P,2),A+=f.magic,A+=r(h,2),A+=r(p,2),A+=r(k.crc32,4),A+=r(k.compressedSize,4),A+=r(k.uncompressedSize,4),A+=r(g.length,2),A+=r(E.length,2),{fileRecord:u.LOCAL_FILE_HEADER+A+g+E,dirRecord:u.CENTRAL_FILE_HEADER+r(M,2)+A+r(_.length,2)+"\0\0\0\0"+r(L,4)+r(i,4)+g+E+_}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,n,r){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,a),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,a){var s=o.transformTo("string",a(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(s.length,2)+s}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new s);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(u(r[o]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,u=r.resolve(s.fileNameStr);n.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(n.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:void 0!==r,newBufferFrom:function(e,t){if(r.from&&r.from!==Uint8Array.from)return r.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new r(e,t)},allocBuffer:function(e){if(r.alloc)return r.alloc(e);var t=new r(e);return t.fill(0),t},isBuffer:function(e){return r.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),s=o.extend(n||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(r=f(e))&&g.call(this,r,!0);var h="string"===i&&!1===s.binary&&!1===s.base64;n&&void 0!==n.binary||(s.binary=!h),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var y;y=t instanceof u||t instanceof a?t:p.isNode&&p.isStream(t)?new d(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new c(e,y,s);this.files[e]=v}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),h=e("./generate"),p=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(y(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(e){(t=new a("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),o=e("./ConvertWorker"),a=e("./GenericWorker"),s=e("../base64"),l=e("../support"),u=e("../external"),c=null;if(l.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function h(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new o(r)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return function(e,t){return new u.Promise((function(n,o){var a=[],l=e._internalType,u=e._outputType,c=e._mimeType;e.on("data",(function(e,n){a.push(e),t&&t(n)})).on("error",(function(e){a=[],o(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return i.transformTo(e,t)}}(u,function(e,t){var n,i=0,o=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(o=new Uint8Array(a),n=0;n<t.length;n++)o.set(t[n],i),i+=t[n].length;return o;case"nodebuffer":return r.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(l,a),c);n(e)}catch(e){o(e)}a=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==r,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),n.blob=0===o.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,a=e.length,l=new Array(2*a);for(t=n=0;t<a;)if((i=e[t++])<128)l[n++]=i;else if(4<(o=s[i]))l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,a),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var p={};p.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},p.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return p[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,u){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c=n.getTypeOf(t);return c?("arraybuffer"===c?t=n.transformTo("uint8array",t):"string"===c&&(u?t=i.decode(t):o&&!0!==s&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)r.prototype[u[h]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var a=f((function(){t(i,r)}));"error"===a.status&&r(a.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(u,a))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var r,a=-1,s=new this(i);++a<t;)r=e[a],this.resolve(r).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var c;if(c="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=r.deflateSetDictionary(this.strm,c)))throw new Error(a[n]);this._dict_set=!0}}function c(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==a||(this.onEnd(0),!(s.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=u,n.deflate=c,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,c(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,l,u,h,p,d=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(p="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),u=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=u,d.avail_out=f-u,u&&i.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=p,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=a=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,s=t||e.length,u=new Array(2*s);for(n=r=0;n<s;)if((i=e[n++])<128)u[r++]=i;else if(4<(o=a[i]))u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<s;)i=i<<6|63&e[n++],o--;1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=-2,c=258,h=262,p=113;function d(e,t){return e.msg=l[t],t}function f(e){return(e<<1)-(4<e?9:0)}function m(e){for(var t=e.length;0<=--t;)e[t]=0}function g(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function y(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,g(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function _(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function b(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,u=e.window,p=e.w_mask,d=e.prev,f=e.strstart+c,m=u[o+a-1],g=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===g&&u[n+a-1]===m&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(r=c-(f-o),o=f-c,a<r){if(e.match_start=t,s<=(a=r))break;m=u[o+a-1],g=u[o+a]}}}while((t=d[t&p])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function x(e){var t,n,r,o,l,u,c,p,d,f,m=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){for(i.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=n=e.hash_size;r=e.head[--t],e.head[t]=m<=r?r-m:0,--n;);for(t=n=m;r=e.prev[--t],e.prev[t]=m<=r?r-m:0,--n;);o+=m}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,p=e.strstart+e.lookahead,f=void 0,(d=o)<(f=u.avail_in)&&(f=d),n=0===f?0:(u.avail_in-=f,i.arraySet(c,u.input,u.next_in,f,p),1===u.state.wrap?u.adler=a(u.adler,c,f,p):2===u.state.wrap&&(u.adler=s(u.adler,c,f,p)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function w(e,t){for(var n,r;;){if(e.lookahead<h){if(x(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-h&&(e.match_length=b(e,n)),e.match_length>=3)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function E(e,t){for(var n,r,i;;){if(e.lookahead<h){if(x(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-h&&(e.match_length=b(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-3,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(y(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&y(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),m(this.dyn_ltree),m(this.dyn_dtree),m(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),m(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),m(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:p,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):d(e,u)}function I(e){var t=T(e);return 0===t&&function(e){e.window_size=2*e.w_size,m(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function k(e,t,n,r,o,a){if(!e)return u;var s=1;if(-1===t&&(t=6),r<0?(s=0,r=-r):15<r&&(s=2,r-=16),o<1||9<o||8!==n||r<8||15<r||t<0||9<t||a<0||4<a)return d(e,u);8===r&&(r=9);var l=new C;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,I(e)}r=[new S(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(x(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,y(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(y(e,!1),e.strm.avail_out),1)})),new S(4,4,8,4,w),new S(4,5,16,8,w),new S(4,6,32,32,w),new S(4,4,16,16,E),new S(8,16,32,32,E),new S(8,16,128,128,E),new S(8,32,128,256,E),new S(32,128,258,1024,E),new S(32,258,258,4096,E)],n.deflateInit=function(e,t){return k(e,t,8,15,8,0)},n.deflateInit2=k,n.deflateReset=I,n.deflateResetKeep=T,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?u:(e.state.gzhead=t,0):u},n.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||5<t||t<0)return e?d(e,u):u;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return d(e,0===e.avail_out?-5:u);if(i.strm=e,n=i.last_flush,i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,v(i,31),v(i,139),v(i,8),i.gzhead?(v(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),v(i,255&i.gzhead.time),v(i,i.gzhead.time>>8&255),v(i,i.gzhead.time>>16&255),v(i,i.gzhead.time>>24&255),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(v(i,255&i.gzhead.extra.length),v(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(v(i,0),v(i,0),v(i,0),v(i,0),v(i,0),v(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),v(i,3),i.status=p);else{var h=8+(i.w_bits-8<<4)<<8;h|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(h|=32),h+=31-h%31,i.status=p,_(i,h),0!==i.strstart&&(_(i,e.adler>>>16),_(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),g(e),a=i.pending,i.pending!==i.pending_buf_size));)v(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),g(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),g(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,v(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&g(e),i.pending+2<=i.pending_buf_size&&(v(i,255&e.adler),v(i,e.adler>>8&255),e.adler=0,i.status=p)):i.status=p),0!==i.pending){if(g(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(n)&&4!==t)return d(e,-5);if(666===i.status&&0!==e.avail_in)return d(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var b=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(x(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=c){if(x(e),e.lookahead<=c&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+c;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=c-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(y(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(y(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(y(e,!1),0===e.strm.avail_out)?1:2}(i,t):r[i.level].func(i,t);if(3!==b&&4!==b||(i.status=666),1===b||3===b)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===b&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(m(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),g(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(v(i,255&e.adler),v(i,e.adler>>8&255),v(i,e.adler>>16&255),v(i,e.adler>>24&255),v(i,255&e.total_in),v(i,e.total_in>>8&255),v(i,e.total_in>>16&255),v(i,e.total_in>>24&255)):(_(i,e.adler>>>16),_(i,65535&e.adler)),g(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==p&&666!==t?d(e,u):(e.state=null,t===p?d(e,-3):0):u},n.deflateSetDictionary=function(e,t){var n,r,o,s,l,c,h,p,d=t.length;if(!e||!e.state)return u;if(2===(s=(n=e.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&(m(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new i.Buf8(n.w_size),i.arraySet(p,t,d-n.w_size,n.w_size,0),t=p,d=n.w_size),l=e.avail_in,c=e.next_in,h=e.input,e.avail_in=d,e.next_in=0,e.input=t,x(n);n.lookahead>=3;){for(r=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=2,x(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=c,e.input=h,e.avail_in=l,n.wrap=s,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,a,s,l,u,c,h,p,d,f,m,g,y,v,_,b,x,w,E,S,C,T;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,T=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,p=n.window,d=n.hold,f=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(d+=C[r++]<<f,f+=8,d+=C[r++]<<f,f+=8),_=m[d&y];t:for(;;){if(d>>>=b=_>>>24,f-=b,0==(b=_>>>16&255))T[o++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=m[(65535&_)+(d&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}x=65535&_,(b&=15)&&(f<b&&(d+=C[r++]<<f,f+=8),x+=d&(1<<b)-1,d>>>=b,f-=b),f<15&&(d+=C[r++]<<f,f+=8,d+=C[r++]<<f,f+=8),_=g[d&v];n:for(;;){if(d>>>=b=_>>>24,f-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=g[(65535&_)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&_,f<(b&=15)&&(d+=C[r++]<<f,(f+=8)<b&&(d+=C[r++]<<f,f+=8)),l<(w+=d&(1<<b)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=b,f-=b,(b=o-a)<w){if(c<(b=w-b)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=p,(E=0)===h){if(E+=u-b,b<x){for(x-=b;T[o++]=p[E++],--b;);E=o-w,S=T}}else if(h<b){if(E+=u+h-b,(b-=h)<x){for(x-=b;T[o++]=p[E++],--b;);if(E=0,h<x){for(x-=b=h;T[o++]=p[E++],--b;);E=o-w,S=T}}}else if(E+=h-b,b<x){for(x-=b;T[o++]=p[E++],--b;);E=o-w,S=T}for(;2<x;)T[o++]=S[E++],T[o++]=S[E++],T[o++]=S[E++],x-=3;x&&(T[o++]=S[E++],1<x&&(T[o++]=S[E++]))}else{for(E=o-w;T[o++]=T[E++],T[o++]=T[E++],T[o++]=T[E++],2<(x-=3););x&&(T[o++]=T[E++],1<x&&(T[o++]=T[E++]))}break}}break}}while(r<i&&o<s);r-=x=f>>3,d&=(1<<(f-=x<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=d,n.bits=f}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=-2;function u(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(852),t.distcode=t.distdyn=new r.Buf32(592),t.sane=1,t.back=-1,0):l}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):l}function d(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,p(e))):l}function f(e,t){var n,r;return e?(r=new c,(e.state=r).window=null,0!==(n=d(e,t))&&(e.state=null),n):l}var m,g,y=!0;function v(e){if(y){var t;for(m=new r.Buf32(512),g=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,g,0,e.work,{bits:5}),y=!1}e.lencode=m,e.lenbits=9,e.distcode=g,e.distbits=5}function _(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=p,n.inflateReset2=d,n.inflateResetKeep=h,n.inflateInit=function(e){return f(e,15)},n.inflateInit2=f,n.inflate=function(e,t){var n,c,h,p,d,f,m,g,y,b,x,w,E,S,C,T,I,k,P,L,M,A,O,R,N=0,D=new r.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),d=e.next_out,h=e.output,m=e.avail_out,p=e.next_in,c=e.input,f=e.avail_in,g=n.hold,y=n.bits,b=f,x=m,A=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;y<16;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(2&n.wrap&&35615===g){D[n.check=0]=255&g,D[1]=g>>>8&255,n.check=o(n.check,D,2,0),y=g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){e.msg="unknown compression method",n.mode=30;break}if(y-=4,M=8+(15&(g>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&g?10:12,y=g=0;break;case 2:for(;y<16;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(n.flags=g,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,n.check=o(n.check,D,2,0)),y=g=0,n.mode=3;case 3:for(;y<32;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}n.head&&(n.head.time=g),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,D[2]=g>>>16&255,D[3]=g>>>24&255,n.check=o(n.check,D,4,0)),y=g=0,n.mode=4;case 4:for(;y<16;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,n.check=o(n.check,D,2,0)),y=g=0,n.mode=5;case 5:if(1024&n.flags){for(;y<16;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,n.check=o(n.check,D,2,0)),y=g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f<(w=n.length)&&(w=f),w&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,p,w,M)),512&n.flags&&(n.check=o(n.check,c,w,p)),f-=w,p+=w,n.length-=w),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break e;for(w=0;M=c[p+w++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M)),M&&w<f;);if(512&n.flags&&(n.check=o(n.check,c,w,p)),f-=w,p+=w,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break e;for(w=0;M=c[p+w++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M)),M&&w<f;);if(512&n.flags&&(n.check=o(n.check,c,w,p)),f-=w,p+=w,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;y<16;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(g!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}y=g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;y<32;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}e.adler=n.check=u(g),y=g=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=d,e.avail_out=m,e.next_in=p,e.avail_in=f,n.hold=g,n.bits=y,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){g>>>=7&y,y-=7&y,n.mode=27;break}for(;y<3;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}switch(n.last=1&g,y-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;g>>>=2,y-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}g>>>=2,y-=2;break;case 14:for(g>>>=7&y,y-=7&y;y<32;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if((65535&g)!=(g>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,y=g=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(w=n.length){if(f<w&&(w=f),m<w&&(w=m),0===w)break e;r.arraySet(h,c,p,w,d),f-=w,p+=w,m-=w,d+=w,n.length-=w;break}n.mode=12;break;case 17:for(;y<14;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(n.nlen=257+(31&g),g>>>=5,y-=5,n.ndist=1+(31&g),g>>>=5,y-=5,n.ncode=4+(15&g),g>>>=4,y-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;y<3;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}n.lens[z[n.have++]]=7&g,g>>>=3,y-=3}for(;n.have<19;)n.lens[z[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,O={bits:n.lenbits},A=s(0,n.lens,0,19,n.lencode,0,n.work,O),n.lenbits=O.bits,A){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(N=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,I=65535&N,!((C=N>>>24)<=y);){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(I<16)g>>>=C,y-=C,n.lens[n.have++]=I;else{if(16===I){for(R=C+2;y<R;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(g>>>=C,y-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}M=n.lens[n.have-1],w=3+(3&g),g>>>=2,y-=2}else if(17===I){for(R=C+3;y<R;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}y-=C,M=0,w=3+(7&(g>>>=C)),g>>>=3,y-=3}else{for(R=C+7;y<R;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}y-=C,M=0,w=11+(127&(g>>>=C)),g>>>=7,y-=7}if(n.have+w>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=M}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,O={bits:n.lenbits},A=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,O),n.lenbits=O.bits,A){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,O={bits:n.distbits},A=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O),n.distbits=O.bits,A){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=f&&258<=m){e.next_out=d,e.avail_out=m,e.next_in=p,e.avail_in=f,n.hold=g,n.bits=y,a(e,x),d=e.next_out,h=e.output,m=e.avail_out,p=e.next_in,c=e.input,f=e.avail_in,g=n.hold,y=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(N=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,I=65535&N,!((C=N>>>24)<=y);){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(T&&0==(240&T)){for(k=C,P=T,L=I;T=(N=n.lencode[L+((g&(1<<k+P)-1)>>k)])>>>16&255,I=65535&N,!(k+(C=N>>>24)<=y);){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}g>>>=k,y-=k,n.back+=k}if(g>>>=C,y-=C,n.back+=C,n.length=I,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(R=n.extra;y<R;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(N=n.distcode[g&(1<<n.distbits)-1])>>>16&255,I=65535&N,!((C=N>>>24)<=y);){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(0==(240&T)){for(k=C,P=T,L=I;T=(N=n.distcode[L+((g&(1<<k+P)-1)>>k)])>>>16&255,I=65535&N,!(k+(C=N>>>24)<=y);){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}g>>>=k,y-=k,n.back+=k}if(g>>>=C,y-=C,n.back+=C,64&T){e.msg="invalid distance code",n.mode=30;break}n.offset=I,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(R=n.extra;y<R;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,y-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===m)break e;if(w=x-m,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}E=w>n.wnext?(w-=n.wnext,n.wsize-w):n.wnext-w,w>n.length&&(w=n.length),S=n.window}else S=h,E=d-n.offset,w=n.length;for(m<w&&(w=m),m-=w,n.length-=w;h[d++]=S[E++],--w;);0===n.length&&(n.mode=21);break;case 26:if(0===m)break e;h[d++]=n.length,m--,n.mode=21;break;case 27:if(n.wrap){for(;y<32;){if(0===f)break e;f--,g|=c[p++]<<y,y+=8}if(x-=m,e.total_out+=x,n.total+=x,x&&(e.adler=n.check=n.flags?o(n.check,h,x,d-x):i(n.check,h,x,d-x)),x=m,(n.flags?g:u(g))!==n.check){e.msg="incorrect data check",n.mode=30;break}y=g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;y<32;){if(0===f)break e;f--,g+=c[p++]<<y,y+=8}if(g!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}y=g=0}n.mode=29;case 29:A=1;break e;case 30:A=-3;break e;case 31:return-4;default:return l}return e.next_out=d,e.avail_out=m,e.next_in=p,e.avail_in=f,n.hold=g,n.bits=y,(n.wsize||x!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&_(e,e.output,e.next_out,x-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,x-=e.avail_out,e.total_in+=b,e.total_out+=x,n.total+=x,n.wrap&&x&&(e.adler=n.check=n.flags?o(n.check,h,x,e.next_out-x):i(n.check,h,x,e.next_out-x)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===x||4===t)&&0===A&&(A=-5),A)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:((n.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&i(1,t,r,0)!==n.check?-3:_(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,h,p){var d,f,m,g,y,v,_,b,x,w=p.bits,E=0,S=0,C=0,T=0,I=0,k=0,P=0,L=0,M=0,A=0,O=null,R=0,N=new r.Buf16(16),D=new r.Buf16(16),z=null,F=0;for(E=0;E<=15;E++)N[E]=0;for(S=0;S<l;S++)N[t[n+S]]++;for(I=w,T=15;1<=T&&0===N[T];T--);if(T<I&&(I=T),0===T)return u[c++]=20971520,u[c++]=20971520,p.bits=1,0;for(C=1;C<T&&0===N[C];C++);for(I<C&&(I=C),E=L=1;E<=15;E++)if(L<<=1,(L-=N[E])<0)return-1;if(0<L&&(0===e||1!==T))return-1;for(D[1]=0,E=1;E<15;E++)D[E+1]=D[E]+N[E];for(S=0;S<l;S++)0!==t[n+S]&&(h[D[t[n+S]]++]=S);if(v=0===e?(O=z=h,19):1===e?(O=i,R-=257,z=o,F-=257,256):(O=a,z=s,-1),E=C,y=c,P=S=A=0,m=-1,g=(M=1<<(k=I))-1,1===e&&852<M||2===e&&592<M)return 1;for(;;){for(_=E-P,x=h[S]<v?(b=0,h[S]):h[S]>v?(b=z[F+h[S]],O[R+h[S]]):(b=96,0),d=1<<E-P,C=f=1<<k;u[y+(A>>P)+(f-=d)]=_<<24|b<<16|x|0,0!==f;);for(d=1<<E-1;A&d;)d>>=1;if(0!==d?(A&=d-1,A+=d):A=0,S++,0==--N[E]){if(E===T)break;E=t[n+h[S]]}if(I<E&&(A&g)!==m){for(0===P&&(P=I),y+=C,L=1<<(k=E-P);k+P<T&&!((L-=N[k+P])<=0);)k++,L<<=1;if(M+=1<<k,1===e&&852<M||2===e&&592<M)return 1;u[m=A&g]=I<<24|k<<16|y-c|0}}return 0!==A&&(u[y+A]=E-P<<24|64<<16|0),p.bits=I,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common");function i(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,a=286,s=30,l=15,u=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],p=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);i(d);var f=new Array(60);i(f);var m=new Array(512);i(m);var g=new Array(256);i(g);var y=new Array(29);i(y);var v,_,b,x=new Array(s);function w(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function E(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?m[e]:m[256+(e>>>7)]}function C(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function I(e,t,n){T(e,n[2*t],n[2*t+1])}function k(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function P(e,t,n){var r,i,o=new Array(16),a=0;for(r=1;r<=l;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=k(o[s]++,s))}}function L(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?C(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function A(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function O(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&A(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!A(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function R(e,t,n){var r,i,a,s,l=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],i=e.pending_buf[e.l_buf+l],l++,0===r?I(e,i,t):(I(e,(a=g[i])+o+1,t),0!==(s=u[a])&&T(e,i-=y[a],s),I(e,a=S(--r),n),0!==(s=c[a])&&T(e,r-=x[a],s)),l<e.last_lit;);I(e,256,t)}function N(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,u=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)O(e,o,n);for(i=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],O(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,O(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,u=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,p=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(o=u[2*u[2*(r=e.heap[n])+1]+1]+1)&&(o=m,g++),u[2*r+1]=o,c<r||(e.bl_count[o]++,a=0,f<=r&&(a=d[r-f]),s=u[2*r],e.opt_len+=s*(o+a),p&&(e.static_len+=s*(h[2*r+1]+a)));if(0!==g){do{for(o=m-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(o=m;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(i=e.heap[--n])||(u[2*i+1]!==o&&(e.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),r--)}}(e,t),P(o,c,e.bl_count)}function D(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=i,u=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function z(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<u)for(;I(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(I(e,i,e.bl_tree),s--),I(e,16,e.bl_tree),T(e,s-3,2)):s<=10?(I(e,17,e.bl_tree),T(e,s-3,3)):(I(e,18,e.bl_tree),T(e,s-11,7));o=i,u=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}i(x);var F=!1;function B(e,t,n,i){T(e,0+(i?1:0),3),function(e,t,n,i){M(e),C(e,n),C(e,~n),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,r,i,o=new Array(16);for(r=n=0;r<28;r++)for(y[r]=n,e=0;e<1<<u[r];e++)g[n++]=r;for(g[n-1]=r,r=i=0;r<16;r++)for(x[r]=i,e=0;e<1<<c[r];e++)m[i++]=r;for(i>>=7;r<s;r++)for(x[r]=i<<7,e=0;e<1<<c[r]-7;e++)m[256+i++]=r;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,o[8]++;for(;e<=255;)d[2*e+1]=9,e++,o[9]++;for(;e<=279;)d[2*e+1]=7,e++,o[7]++;for(;e<=287;)d[2*e+1]=8,e++,o[8]++;for(P(d,287,o),e=0;e<s;e++)f[2*e+1]=5,f[2*e]=k(e,5);v=new w(d,u,257,a,l),_=new w(f,c,0,s,l),b=new w(new Array(0),h,0,19,7)}(),F=!0),e.l_desc=new E(e.dyn_ltree,v),e.d_desc=new E(e.dyn_dtree,_),e.bl_desc=new E(e.bl_tree,b),e.bi_buf=0,e.bi_valid=0,L(e)},n._tr_stored_block=B,n._tr_flush_block=function(e,t,n,r){var i,a,s=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),N(e,e.l_desc),N(e,e.d_desc),s=function(e){var t;for(D(e,e.dyn_ltree,e.l_desc.max_code),D(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*p[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==t?B(e,t,n,r):4===e.strategy||a===i?(T(e,2+(r?1:0),3),R(e,d,f)):(T(e,4+(r?1:0),3),function(e,t,n,r){var i;for(T(e,t-257,5),T(e,n-1,5),T(e,r-4,4),i=0;i<r;i++)T(e,e.bl_tree[2*p[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),R(e,e.dyn_ltree,e.dyn_dtree)),L(e),r&&M(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){T(e,2,3),I(e,256,d),function(e){16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,a=1,s={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){p(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",d,!1):e.attachEvent("onmessage",d),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){p(e.data)},function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(p,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return s[a]=i,n(a),a++},c.clearImmediate=h}function h(e){delete s[e]}function p(e){if(l)setTimeout(p,0,e);else{var t=s[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{h(e),l=!1}}}}function d(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&p(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},21787:()=>{var e,t;e=window,t=document,L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(e,t){this._map=e,this._container=e._container,this._overlayPane=e._panes.overlayPane,this._popupPane=e._panes.popupPane,t&&t.shapeOptions&&(t.shapeOptions=L.Util.extend({},this.options.shapeOptions,t.shapeOptions)),L.setOptions(this,t);var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(L.DomUtil.disableTextSelection(),e.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(e){L.setOptions(this,e)},_fireCreatedEvent:function(e){this._map.fire(L.Draw.Event.CREATED,{layer:e,layerType:this.type})},_cancelDrawing:function(e){27===e.keyCode&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(e,t){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,t&&t.drawError&&(t.drawError=L.Util.extend({},this.options.drawError,t.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var e=this._markers.pop(),t=this._poly,n=t.getLatLngs(),r=n.splice(-1,1)[0];this._poly.setLatLngs(n),this._markerGroup.removeLayer(e),t.getLatLngs().length<2&&this._map.removeLayer(t),this._vertexChanged(r,!1)}},addVertex:function(e){this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(e)?this._showErrorTooltip():(this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(e)),this._poly.addLatLng(e),2===this._poly.getLatLngs().length&&this._map.addLayer(this._poly),this._vertexChanged(e,!0))},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var e=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),t=this._poly.newLatLngIntersects(e[e.length-1]);!this.options.allowIntersection&&t||!this._shapeIsValid()?this._showErrorTooltip():(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_shapeIsValid:function(){return!0},_onZoomEnd:function(){null!==this._markers&&this._updateGuide()},_onMouseMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent),n=this._map.layerPointToLatLng(t);this._currentLatLng=n,this._updateTooltip(n),this._updateGuide(t),this._mouseMarker.setLatLng(n),L.DomEvent.preventDefault(e.originalEvent)},_vertexChanged:function(e,t){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(e,t),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(e){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(e),this._clickHandled=!0,this._disableNewMarkers();var t=e.originalEvent,n=t.clientX,r=t.clientY;this._startPoint.call(this,n,r)}},_startPoint:function(e,t){this._mouseDownOrigin=L.point(e,t)},_onMouseUp:function(e){var t=e.originalEvent,n=t.clientX,r=t.clientY;this._endPoint.call(this,n,r,e),this._clickHandled=null},_endPoint:function(t,n,r){if(this._mouseDownOrigin){var i=L.point(t,n).distanceTo(this._mouseDownOrigin),o=this._calculateFinishDistance(r.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(r.latlng),this._finishShape()):o<10&&L.Browser.touch?this._finishShape():Math.abs(i)<9*(e.devicePixelRatio||1)&&this.addVertex(r.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(e){var t,n,r=e.originalEvent;!r.touches||!r.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(t=r.touches[0].clientX,n=r.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,t,n),this._endPoint.call(this,t,n,e),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(e){var t;if(this._markers.length>0){var n;if(this.type===L.Draw.Polyline.TYPE)n=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;n=this._markers[0]}var r=this._map.latLngToContainerPoint(n.getLatLng()),i=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),o=this._map.latLngToContainerPoint(i.getLatLng());t=r.distanceTo(o)}else t=1/0;return t},_updateFinishHandler:function(){var e=this._markers.length;e>1&&this._markers[e-1].on("click",this._finishShape,this),e>2&&this._markers[e-2].off("click",this._finishShape,this)},_createMarker:function(e){var t=new L.Marker(e,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(t),t},_updateGuide:function(e){var t=this._markers?this._markers.length:0;t>0&&(e=e||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[t-1].getLatLng()),e))},_updateTooltip:function(e){var t=this._getTooltipText();e&&this._tooltip.updatePosition(e),this._errorShown||this._tooltip.updateContent(t)},_drawGuide:function(e,t){var n,r,i,o=Math.floor(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))),a=this.options.guidelineDistance,s=this.options.maxGuideLineLength,l=o>s?o-s:a;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));l<o;l+=this.options.guidelineDistance)n=l/o,r={x:Math.floor(e.x*(1-n)+n*t.x),y:Math.floor(e.y*(1-n)+n*t.y)},(i=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer)).style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(i,r)},_updateGuideColor:function(e){if(this._guidesContainer)for(var t=0,n=this._guidesContainer.childNodes.length;t<n;t++)this._guidesContainer.childNodes[t].style.backgroundColor=e},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var e,t,n=this.options.showLength;return 0===this._markers.length?e={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(t=n?this._getMeasurementString():"",e=1===this._markers.length?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:t}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:t}),e},_updateRunningMeasure:function(e,t){var n,r,i=this._markers.length;1===this._markers.length?this._measurementRunningTotal=0:(n=i-(t?2:1),r=L.GeometryUtil.isVersion07x()?e.distanceTo(this._markers[n].getLatLng())*(this.options.factor||1):this._map.distance(e,this._markers[n].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=r*(t?1:-1))},_getMeasurementString:function(){var e,t=this._currentLatLng,n=this._markers[this._markers.length-1].getLatLng();return e=L.GeometryUtil.isVersion07x()?n&&t&&t.distanceTo?this._measurementRunningTotal+t.distanceTo(n)*(this.options.factor||1):this._measurementRunningTotal||0:n&&t?this._measurementRunningTotal+this._map.distance(t,n)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(e,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var e=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(e,t){L.Draw.Polyline.prototype.initialize.call(this,e,t),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var e=this._markers.length;1===e&&this._markers[0].on("click",this._finishShape,this),e>2&&(this._markers[e-1].on("dblclick",this._finishShape,this),e>3&&this._markers[e-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var e,t;return 0===this._markers.length?e=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(e=L.drawLocal.draw.handlers.polygon.tooltip.cont,t=this._getMeasurementString()):(e=L.drawLocal.draw.handlers.polygon.tooltip.end,t=this._getMeasurementString()),{text:e,subtext:t}},_getMeasurementString:function(){var e=this._area,t="";return e||this.options.showLength?(this.options.showLength&&(t=L.Draw.Polyline.prototype._getMeasurementString.call(this)),e&&(t+="<br>"+L.GeometryUtil.readableArea(e,this.options.metric,this.options.precision)),t):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(e,t){var n;!this.options.allowIntersection&&this.options.showArea&&(n=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(n)),L.Draw.Polyline.prototype._vertexChanged.call(this,e,t)},_cleanUpShape:function(){var e=this._markers.length;e>0&&(this._markers[0].off("click",this._finishShape,this),e>2&&this._markers[e-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(e,t){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(e){this._isDrawing=!0,this._startLatLng=e.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(e.originalEvent)},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(t))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(e,t){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(e){this._shape||this._isCurrentlyTwoClickDrawing?this._isCurrentlyTwoClickDrawing&&!function(e,t){for(;(e=e.parentElement)&&!e.classList.contains("leaflet-pane"););return e}(e.target)||L.Draw.SimpleShape.prototype._onMouseUp.call(this):this._isCurrentlyTwoClickDrawing=!0},_drawShape:function(e){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,e)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,e),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_getTooltipText:function(){var e,t,n,r=L.Draw.SimpleShape.prototype._getTooltipText.call(this),i=this._shape,o=this.options.showArea;return i&&(e=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),t=L.GeometryUtil.geodesicArea(e),n=o?L.GeometryUtil.readableArea(t,this.options.metric):""),{text:r.text,subtext:n}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(e){var t=e.latlng;this._tooltip.updatePosition(t),this._mouseMarker.setLatLng(t),this._marker?(t=this._mouseMarker.getLatLng(),this._marker.setLatLng(t)):(this._marker=this._createMarker(t),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(e){return new L.Marker(e,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(e){this._onMouseMove(e),this._onClick()},_fireCreatedEvent:function(){var e=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(e,t){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,e,t)},_fireCreatedEvent:function(){var e=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,e)},_createMarker:function(e){return new L.CircleMarker(e,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(e,t){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,e,t)},_drawShape:function(e){if(L.GeometryUtil.isVersion07x())var t=this._startLatLng.distanceTo(e);else t=this._map.distance(this._startLatLng,e);this._shape?this._shape.setRadius(t):(this._shape=new L.Circle(this._startLatLng,t,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var e=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,e)},_onMouseMove:function(e){var t,n=e.latlng,r=this.options.showRadius,i=this.options.metric;if(this._tooltip.updatePosition(n),this._isDrawing){this._drawShape(n),t=this._shape.getRadius().toFixed(1);var o="";r&&(o=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(t,i,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:o})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(e,t){this._marker=e,L.setOptions(this,t)},addHooks:function(){var e=this._marker;e.dragging.enable(),e.on("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},removeHooks:function(){var e=this._marker;e.dragging.disable(),e.off("dragend",this._onDragEnd,e),this._toggleMarkerHighlight()},_onDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_toggleMarkerHighlight:function(){var e=this._marker._icon;e&&(e.style.display="none",L.DomUtil.hasClass(e,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,-4)):(L.DomUtil.addClass(e,"leaflet-edit-marker-selected"),this._offsetMarker(e,4)),e.style.display="")},_offsetMarker:function(e,t){var n=parseInt(e.style.marginTop,10)-t,r=parseInt(e.style.marginLeft,10)-t;e.style.marginTop=n+"px",e.style.marginLeft=r+"px"}}),L.Marker.addInitHook((function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(e){this.latlngs=[e._latlngs],e._holes&&(this.latlngs=this.latlngs.concat(e._holes)),this._poly=e,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(e){for(var t=0;t<this._verticesHandlers.length;t++)e(this._verticesHandlers[t])},addHooks:function(){this._initHandlers(),this._eachVertexHandler((function(e){e.addHooks()}))},removeHooks:function(){this._eachVertexHandler((function(e){e.removeHooks()}))},updateMarkers:function(){this._eachVertexHandler((function(e){e.updateMarkers()}))},_initHandlers:function(){this._verticesHandlers=[];for(var e=0;e<this.latlngs.length;e++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[e],this._poly.options.poly))},_updateLatLngs:function(e){this.latlngs=[e.layer._latlngs],e.layer._holes&&(this.latlngs=this.latlngs.concat(e.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(e,t,n){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=e,n&&n.drawError&&(n.drawError=L.Util.extend({},this.options.drawError,n.drawError)),this._latlngs=t,L.setOptions(this,n)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var e=this._poly,t=e._path;e instanceof L.Polygon||(e.options.fill=!1,e.options.editing&&(e.options.editing.fill=!1)),t&&e.options.editing&&e.options.editing.className&&(e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var e=this._poly,t=e._path;t&&e.options.editing&&e.options.editing.className&&(e.options.editing.className.split(" ").forEach((function(e){L.DomUtil.removeClass(t,e)})),e.options.original.className&&e.options.original.className.split(" ").forEach((function(e){L.DomUtil.addClass(t,e)}))),e.setStyle(e.options.original),e._map&&(e._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var e,t,n,r,i,o,a=this._defaultShape();for(e=0,n=a.length;e<n;e++)(r=this._createMarker(a[e],e)).on("click",this._onMarkerClick,this),r.on("contextmenu",this._onContextMenu,this),this._markers.push(r);for(e=0,t=n-1;e<n;t=e++)(0!==e||L.Polygon&&this._poly instanceof L.Polygon)&&(i=this._markers[t],o=this._markers[e],this._createMiddleMarker(i,o),this._updatePrevNext(i,o))},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:this.options.icon});return n._origLatLng=e,n._index=t,n.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(n),n},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var e=this._defaultShape(),t=[].splice.apply(e,arguments);return this._poly._convertLatLngs(e,!0),this._poly.redraw(),t},_removeMarker:function(e){var t=e._index;this._markerGroup.removeLayer(e),this._markers.splice(t,1),this._spliceLatLngs(t,1),this._updateIndexes(t,-1),e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(e){var t=e.target,n=this._poly,r=L.LatLngUtil.cloneLatLng(t._origLatLng);if(L.extend(t._origLatLng,t._latlng),n.options.poly){var i=n._map._editTooltip;if(!n.options.poly.allowIntersection&&n.intersects()){L.extend(t._origLatLng,r),t.setLatLng(r);var o=n.options.color;n.setStyle({color:this.options.drawError.color}),i&&i.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout((function(){n.setStyle({color:o}),i&&i.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})}),1e3)}}t._middleLeft&&t._middleLeft.setLatLng(this._getMiddleLatLng(t._prev,t)),t._middleRight&&t._middleRight.setLatLng(this._getMiddleLatLng(t,t._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var a=this._poly.getLatLngs();this._poly._convertLatLngs(a,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(e){var t=L.Polygon&&this._poly instanceof L.Polygon?4:3,n=e.target;this._defaultShape().length<t||(this._removeMarker(n),this._updatePrevNext(n._prev,n._next),n._middleLeft&&this._markerGroup.removeLayer(n._middleLeft),n._middleRight&&this._markerGroup.removeLayer(n._middleRight),n._prev&&n._next?this._createMiddleMarker(n._prev,n._next):n._prev?n._next||(n._prev._middleRight=null):n._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(e){var t=e.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:t,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t),r=e.target;L.extend(r._origLatLng,n),r._middleLeft&&r._middleLeft.setLatLng(this._getMiddleLatLng(r._prev,r)),r._middleRight&&r._middleRight.setLatLng(this._getMiddleLatLng(r,r._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(e,t){this._markerGroup.eachLayer((function(n){n._index>e&&(n._index+=t)}))},_createMiddleMarker:function(e,t){var n,r,i,o=this._getMiddleLatLng(e,t),a=this._createMarker(o);a.setOpacity(.6),e._middleRight=t._middleLeft=a,r=function(){a.off("touchmove",r,this);var i=t._index;a._index=i,a.off("click",n,this).on("click",this._onMarkerClick,this),o.lat=a.getLatLng().lat,o.lng=a.getLatLng().lng,this._spliceLatLngs(i,0,o),this._markers.splice(i,0,a),a.setOpacity(1),this._updateIndexes(i,1),t._index++,this._updatePrevNext(e,a),this._updatePrevNext(a,t),this._poly.fire("editstart")},i=function(){a.off("dragstart",r,this),a.off("dragend",i,this),a.off("touchmove",r,this),this._createMiddleMarker(e,a),this._createMiddleMarker(a,t)},n=function(){r.call(this),i.call(this),this._fireEdit()},a.on("click",n,this).on("dragstart",r,this).on("dragend",i,this).on("touchmove",r,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(e,t){e&&(e._next=t),t&&(t._prev=e)},_getMiddleLatLng:function(e,t){var n=this._poly._map,r=n.project(e.getLatLng()),i=n.project(t.getLatLng());return n.unproject(r._add(i)._divideBy(2))}}),L.Polyline.addInitHook((function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})))})),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(e,t){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=e,L.Util.setOptions(this,t)},addHooks:function(){var e=this._shape;this._shape._map&&(this._map=this._shape._map,e.setStyle(e.options.editing),e._map&&(this._map=e._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var e=this._shape;if(e.setStyle(e.options.original),e._map){this._unbindMarker(this._moveMarker);for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._unbindMarker(this._resizeMarkers[t]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(e,t){var n=new L.Marker.Touch(e,{draggable:!0,icon:t,zIndexOffset:10});return this._bindMarker(n),this._markerGroup.addLayer(n),n},_bindMarker:function(e){e.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(e){e.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(e){e.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(e){var t=e.target,n=t.getLatLng();t===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(e){e.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(e){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e),"function"==typeof this._getCorners){var t=this._getCorners(),n=e.target,r=n._cornerIndex;n.setOpacity(0),this._oppositeCorner=t[(r+2)%4],this._toggleCornerMarkers(0,r)}this._shape.fire("editstart")},_onTouchMove:function(e){var t=this._map.mouseEventToLayerPoint(e.originalEvent.touches[0]),n=this._map.layerPointToLatLng(t);return e.target===this._moveMarker?this._move(n):this._resize(n),this._shape.redraw(),!1},_onTouchEnd:function(e){e.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getBounds().getCenter();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){var e=this._getCorners();this._resizeMarkers=[];for(var t=0,n=e.length;t<n;t++)this._resizeMarkers.push(this._createMarker(e[t],this.options.resizeIcon)),this._resizeMarkers[t]._cornerIndex=t},_onMarkerDragStart:function(e){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,e);var t=this._getCorners(),n=e.target._cornerIndex;this._oppositeCorner=t[(n+2)%4],this._toggleCornerMarkers(0,n)},_onMarkerDragEnd:function(e){var t,n=e.target;n===this._moveMarker&&(t=this._shape.getBounds().getCenter(),n.setLatLng(t)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,e)},_move:function(e){for(var t,n=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),r=this._shape.getBounds().getCenter(),i=[],o=0,a=n.length;o<a;o++)t=[n[o].lat-r.lat,n[o].lng-r.lng],i.push([e.lat+t[0],e.lng+t[1]]);this._shape.setLatLngs(i),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(e){var t;this._shape.setBounds(L.latLngBounds(e,this._oppositeCorner)),t=this._shape.getBounds(),this._moveMarker.setLatLng(t.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var e=this._shape.getBounds();return[e.getNorthWest(),e.getNorthEast(),e.getSouthEast(),e.getSouthWest()]},_toggleCornerMarkers:function(e){for(var t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setOpacity(e)},_repositionCornerMarkers:function(){for(var e=this._getCorners(),t=0,n=this._resizeMarkers.length;t<n;t++)this._resizeMarkers[t].setLatLng(e[t])}}),L.Rectangle.addInitHook((function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())})),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var e=this._shape.getLatLng();this._moveMarker=this._createMarker(e,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(e){if(this._resizeMarkers.length){var t=this._getResizeMarkerPoint(e);this._resizeMarkers[0].setLatLng(t)}this._shape.setLatLng(e),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook((function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",(function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()})),this.on("remove",(function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))})),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var e=this._shape.getLatLng(),t=this._getResizeMarkerPoint(e);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(t,this.options.resizeIcon))},_getResizeMarkerPoint:function(e){var t=this._shape._radius*Math.cos(Math.PI/4),n=this._map.project(e);return this._map.unproject([n.x+t,n.y-t])},_resize:function(e){var t=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=t.distanceTo(e):radius=this._map.distance(t,e),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook((function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())})),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(e,t){var n={};if(void 0!==e.touches){if(!e.touches.length)return;n=e.touches[0]}else{if("touch"!==e.pointerType)return;if(n=e,!this._filterClick(e))return}var r=this._map.mouseEventToContainerPoint(n),i=this._map.mouseEventToLayerPoint(n),o=this._map.layerPointToLatLng(i);this._map.fire(t,{latlng:o,layerPoint:i,containerPoint:r,pageX:n.pageX,pageY:n.pageY,originalEvent:e})},_filterClick:function(e){var t=e.timeStamp||e.originalEvent.timeStamp,n=L.DomEvent._lastClick&&t-L.DomEvent._lastClick;return n&&n>100&&n<500||e.target._simulatedClick&&!e._simulated?(L.DomEvent.stop(e),!1):(L.DomEvent._lastClick=t,!0)},_onTouchStart:function(e){this._map._loaded&&this._touchEvent(e,"touchstart")},_onTouchEnd:function(e){this._map._loaded&&this._touchEvent(e,"touchend")},_onTouchCancel:function(e){if(this._map._loaded){var t="touchcancel";this._detectIE()&&(t="pointercancel"),this._touchEvent(e,t)}},_onTouchLeave:function(e){this._map._loaded&&this._touchEvent(e,"touchleave")},_onTouchMove:function(e){this._map._loaded&&this._touchEvent(e,"touchmove")},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var e=this._icon,t=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?t.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):t.concat(["touchcancel"]),L.DomUtil.addClass(e,"leaflet-clickable"),L.DomEvent.on(e,"click",this._onMouseClick,this),L.DomEvent.on(e,"keypress",this._onKeyPress,this);for(var n=0;n<t.length;n++)L.DomEvent.on(e,t[n],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var t=e.navigator.userAgent,n=t.indexOf("MSIE ");if(n>0)return parseInt(t.substring(n+5,t.indexOf(".",n)),10);if(t.indexOf("Trident/")>0){var r=t.indexOf("rv:");return parseInt(t.substring(r+3,t.indexOf(".",r)),10)}var i=t.indexOf("Edge/");return i>0&&parseInt(t.substring(i+5,t.indexOf(".",i)),10)}}),L.LatLngUtil={cloneLatLngs:function(e){for(var t=[],n=0,r=e.length;n<r;n++)Array.isArray(e[n])?t.push(L.LatLngUtil.cloneLatLngs(e[n])):t.push(this.cloneLatLng(e[n]));return t},cloneLatLng:function(e){return L.latLng(e.lat,e.lng)}},function(){var e={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(e){var t,n,r=e.length,i=0,o=Math.PI/180;if(r>2){for(var a=0;a<r;a++)t=e[a],i+=((n=e[(a+1)%r]).lng-t.lng)*o*(2+Math.sin(t.lat*o)+Math.sin(n.lat*o));i=6378137*i*6378137/2}return Math.abs(i)},formattedNumber:function(e,t){var n=parseFloat(e).toFixed(t),r=L.drawLocal.format&&L.drawLocal.format.numeric,i=r&&r.delimiters,o=i&&i.thousands,a=i&&i.decimal;if(o||a){var s=n.split(".");n=o?s[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+o):s[0],a=a||".",s.length>1&&(n=n+a+s[1])}return n},readableArea:function(t,n,r){var i,o;return r=L.Util.extend({},e,r),n?(o=["ha","m"],type=typeof n,"string"===type?o=[n]:"boolean"!==type&&(o=n),i=t>=1e6&&-1!==o.indexOf("km")?L.GeometryUtil.formattedNumber(1e-6*t,r.km)+" km²":t>=1e4&&-1!==o.indexOf("ha")?L.GeometryUtil.formattedNumber(1e-4*t,r.ha)+" ha":L.GeometryUtil.formattedNumber(t,r.m)+" m²"):i=(t/=.836127)>=3097600?L.GeometryUtil.formattedNumber(t/3097600,r.mi)+" mi²":t>=4840?L.GeometryUtil.formattedNumber(t/4840,r.ac)+" acres":L.GeometryUtil.formattedNumber(t,r.yd)+" yd²",i},readableDistance:function(t,n,r,i,o){var a;switch(o=L.Util.extend({},e,o),n?"string"==typeof n?n:"metric":r?"feet":i?"nauticalMile":"yards"){case"metric":a=t>1e3?L.GeometryUtil.formattedNumber(t/1e3,o.km)+" km":L.GeometryUtil.formattedNumber(t,o.m)+" m";break;case"feet":t*=3.28083,a=L.GeometryUtil.formattedNumber(t,o.ft)+" ft";break;case"nauticalMile":t*=.53996,a=L.GeometryUtil.formattedNumber(t/1e3,o.nm)+" nm";break;default:a=(t*=1.09361)>1760?L.GeometryUtil.formattedNumber(t/1760,o.mi)+" miles":L.GeometryUtil.formattedNumber(t,o.yd)+" yd"}return a},isVersion07x:function(){var e=L.version.split(".");return 0===parseInt(e[0],10)&&7===parseInt(e[1],10)}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(e,t,n,r){return this._checkCounterclockwise(e,n,r)!==this._checkCounterclockwise(t,n,r)&&this._checkCounterclockwise(e,t,n)!==this._checkCounterclockwise(e,t,r)},_checkCounterclockwise:function(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}}),L.Polyline.include({intersects:function(){var e,t,n,r=this._getProjectedPoints(),i=r?r.length:0;if(this._tooFewPointsForIntersection())return!1;for(e=i-1;e>=3;e--)if(t=r[e-1],n=r[e],this._lineSegmentsIntersectsRange(t,n,e-2))return!0;return!1},newLatLngIntersects:function(e,t){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(e),t)},newPointIntersects:function(e,t){var n=this._getProjectedPoints(),r=n?n.length:0,i=n?n[r-1]:null,o=r-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(i,e,o,t?1:0)},_tooFewPointsForIntersection:function(e){var t=this._getProjectedPoints(),n=t?t.length:0;return!t||(n+=e||0)<=3},_lineSegmentsIntersectsRange:function(e,t,n,r){var i,o,a=this._getProjectedPoints();r=r||0;for(var s=n;s>r;s--)if(i=a[s-1],o=a[s],L.LineUtil.segmentsIntersect(e,t,i,o))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var e=[],t=this._defaultShape(),n=0;n<t.length;n++)e.push(this._map.latLngToLayerPoint(t[n]));return e}}),L.Polygon.include({intersects:function(){var e,t,n,r,i=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(e=i.length,t=i[0],n=i[e-1],r=e-2,this._lineSegmentsIntersectsRange(n,t,r,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(e){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");var t;L.Control.prototype.initialize.call(this,e),this._toolbars={},L.DrawToolbar&&this.options.draw&&(t=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=t,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(t=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=t,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(e){var t,n=L.DomUtil.create("div","leaflet-draw"),r=!1;for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&(t=this._toolbars[i].addToolbar(e))&&(r||(L.DomUtil.hasClass(t,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(t.childNodes[0],"leaflet-draw-toolbar-top"),r=!0),n.appendChild(t));return n},onRemove:function(){for(var e in this._toolbars)this._toolbars.hasOwnProperty(e)&&this._toolbars[e].removeToolbar()},setDrawingOptions:function(e){for(var t in this._toolbars)this._toolbars[t]instanceof L.DrawToolbar&&this._toolbars[t].setOptions(e)},_toolbarEnabled:function(e){var t=e.target;for(var n in this._toolbars)this._toolbars[n]!==t&&this._toolbars[n].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook((function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))})),L.Toolbar=L.Class.extend({initialize:function(e){L.setOptions(this,e),this._modes={},this._actionButtons=[],this._activeMode=null;var t=L.version.split(".");1===parseInt(t[0],10)&&parseInt(t[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return null!==this._activeMode},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(e){var t,n=L.DomUtil.create("div","leaflet-draw-section"),r=0,i=this._toolbarClass||"",o=this.getModeHandlers(e);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=e,t=0;t<o.length;t++)o[t].enabled&&this._initModeHandler(o[t].handler,this._toolbarContainer,r++,i,o[t].title);if(r)return this._lastButtonIndex=--r,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),n.appendChild(this._toolbarContainer),n.appendChild(this._actionsContainer),n},removeToolbar:function(){for(var e in this._modes)this._modes.hasOwnProperty(e)&&(this._disposeButton(this._modes[e].button,this._modes[e].handler.enable,this._modes[e].handler),this._modes[e].handler.disable(),this._modes[e].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var t=0,n=this._actionButtons.length;t<n;t++)this._disposeButton(this._actionButtons[t].button,this._actionButtons[t].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(e,t,n,r,i){var o=e.type;this._modes[o]={},this._modes[o].handler=e,this._modes[o].button=this._createButton({type:o,title:i,className:r+"-"+o,container:t,callback:this._modes[o].handler.enable,context:this._modes[o].handler}),this._modes[o].buttonIndex=n,this._modes[o].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(e){var t=L.DomUtil.create("a",e.className||"",e.container),n=L.DomUtil.create("span","sr-only",e.container);t.href="#",t.appendChild(n),e.title&&(t.title=e.title,n.innerHTML=e.title),e.text&&(t.innerHTML=e.text,n.innerHTML=e.text);var r=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(t,"click",L.DomEvent.stopPropagation).on(t,"mousedown",L.DomEvent.stopPropagation).on(t,"dblclick",L.DomEvent.stopPropagation).on(t,"touchstart",L.DomEvent.stopPropagation).on(t,"click",L.DomEvent.preventDefault).on(t,r,e.callback,e.context),t},_disposeButton:function(e,t){var n=this._detectIOS()?"touchstart":"click";L.DomEvent.off(e,"click",L.DomEvent.stopPropagation).off(e,"mousedown",L.DomEvent.stopPropagation).off(e,"dblclick",L.DomEvent.stopPropagation).off(e,"touchstart",L.DomEvent.stopPropagation).off(e,"click",L.DomEvent.preventDefault).off(e,n,t)},_handlerActivated:function(e){this.disable(),this._activeMode=this._modes[e.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(e){var t,n,r,i,o=this._actionsContainer,a=this.getActions(e),s=a.length;for(n=0,r=this._actionButtons.length;n<r;n++)this._disposeButton(this._actionButtons[n].button,this._actionButtons[n].callback);for(this._actionButtons=[];o.firstChild;)o.removeChild(o.firstChild);for(var l=0;l<s;l++)"enabled"in a[l]&&!a[l].enabled||(t=L.DomUtil.create("li","",o),i=this._createButton({title:a[l].title,text:a[l].text,container:t,callback:a[l].callback,context:a[l].context}),this._actionButtons.push({button:i,callback:a[l].callback}))},_showActionsToolbar:function(){var e=this._activeMode.buttonIndex,t=this._lastButtonIndex,n=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=n+"px",0===e&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),e===t&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(e){this._map=e,this._popupPane=e._panes.popupPane,this._visible=!1,this._container=e.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(e){return this._container?(e.subtext=e.subtext||"",0!==e.subtext.length||this._singleLineLabel?e.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(e.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+e.subtext+"</span><br />":"")+"<span>"+e.text+"</span>",e.text||e.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(e){var t=this._map.latLngToLayerPoint(e),n=this._container;return this._container&&(this._visible&&(n.style.visibility="inherit"),L.DomUtil.setPosition(n,t)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(e){for(var t in this.options)this.options.hasOwnProperty(t)&&e[t]&&(e[t]=L.extend({},this.options[t],e[t]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,e)},getModeHandlers:function(e){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(e,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(e,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(e,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(e,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(e,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(e,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(e){return[{enabled:e.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:e.completeShape,context:e},{enabled:e.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:e.deleteLastVertex,context:e},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(e){for(var t in L.setOptions(this,e),this._modes)this._modes.hasOwnProperty(t)&&e.hasOwnProperty(t)&&this._modes[t].handler.setOptions(e[t])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(e){e.edit&&(void 0===e.edit.selectedPathOptions&&(e.edit.selectedPathOptions=this.options.edit.selectedPathOptions),e.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,e.edit.selectedPathOptions)),e.remove&&(e.remove=L.extend({},this.options.remove,e.remove)),e.poly&&(e.poly=L.extend({},this.options.poly,e.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,e),this._selectedFeatureCount=0},getModeHandlers:function(e){var t=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(e,{featureGroup:t,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(e,{featureGroup:t}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(e){var t=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return e.removeAllLayers&&t.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),t},addToolbar:function(e){var t=L.Toolbar.prototype.addToolbar.call(this,e);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),t},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var e,t=0!==this.options.featureGroup.getLayers().length;this.options.edit&&(e=this._modes[L.EditToolbar.Edit.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(e=this._modes[L.EditToolbar.Delete.TYPE].button,t?L.DomUtil.removeClass(e,"leaflet-disabled"):L.DomUtil.addClass(e,"leaflet-disabled"),e.setAttribute("title",t?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.setOptions(this,t),this._featureGroup=t.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),e._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer((function(e){this._revertLayer(e)}),this)},save:function(){var e=new L.LayerGroup;this._featureGroup.eachLayer((function(t){t.edited&&(e.addLayer(t),t.edited=!1)})),this._map.fire(L.Draw.Event.EDITED,{layers:e})},_backupLayer:function(e){var t=L.Util.stamp(e);this._uneditedLayerProps[t]||(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?this._uneditedLayerProps[t]={latlngs:L.LatLngUtil.cloneLatLngs(e.getLatLngs())}:e instanceof L.Circle?this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng()),radius:e.getRadius()}:(e instanceof L.Marker||e instanceof L.CircleMarker)&&(this._uneditedLayerProps[t]={latlng:L.LatLngUtil.cloneLatLng(e.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(e){var t=L.Util.stamp(e);e.edited=!1,this._uneditedLayerProps.hasOwnProperty(t)&&(e instanceof L.Polyline||e instanceof L.Polygon||e instanceof L.Rectangle?e.setLatLngs(this._uneditedLayerProps[t].latlngs):e instanceof L.Circle?(e.setLatLng(this._uneditedLayerProps[t].latlng),e.setRadius(this._uneditedLayerProps[t].radius)):(e instanceof L.Marker||e instanceof L.CircleMarker)&&e.setLatLng(this._uneditedLayerProps[t].latlng),e.fire("revert-edited",{layer:e}))},_enableLayerEdit:function(e){var t,n,r=e.layer||e.target||e;this._backupLayer(r),this.options.poly&&(n=L.Util.extend({},this.options.poly),r.options.poly=n),this.options.selectedPathOptions&&((t=L.Util.extend({},this.options.selectedPathOptions)).maintainColor&&(t.color=r.options.color,t.fillColor=r.options.fillColor),r.options.original=L.extend({},r.options),r.options.editing=t),r instanceof L.Marker?(r.editing&&r.editing.enable(),r.dragging.enable(),r.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):r.editing.enable()},_disableLayerEdit:function(e){var t=e.layer||e.target||e;t.edited=!1,t.editing&&t.editing.disable(),delete t.options.editing,delete t.options.original,this._selectedPathOptions&&(t instanceof L.Marker?this._toggleMarkerHighlight(t):(t.setStyle(t.options.previousOptions),delete t.options.previousOptions)),t instanceof L.Marker?(t.dragging.disable(),t.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):t.editing.disable()},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_onMarkerDragEnd:function(e){var t=e.target;t.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:t})},_onTouchMove:function(e){var t=e.originalEvent.changedTouches[0],n=this._map.mouseEventToLayerPoint(t),r=this._map.layerPointToLatLng(n);e.target.setLatLng(r)},_hasAvailableLayers:function(){return 0!==this._featureGroup.getLayers().length}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(e,t){if(L.Handler.prototype.initialize.call(this,e),L.Util.setOptions(this,t),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var n=L.version.split(".");1===parseInt(n[0],10)&&parseInt(n[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var e=this._map;e&&(e.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer((function(e){this._deletableLayers.addLayer(e),e.fire("revert-deleted",{layer:e})}),this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer((function(e){this._removeLayer({layer:e})}),this),this.save()},_enableLayerDelete:function(e){(e.layer||e.target||e).on("click",this._removeLayer,this)},_disableLayerDelete:function(e){var t=e.layer||e.target||e;t.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(t)},_removeLayer:function(e){var t=e.layer||e.target||e;this._deletableLayers.removeLayer(t),this._deletedLayers.addLayer(t),t.fire("deleted")},_onMouseMove:function(e){this._tooltip.updatePosition(e.latlng)},_hasAvailableLayers:function(){return 0!==this._deletableLayers.getLayers().length}})},45243:function(e,t){!function(e){"use strict";function t(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function r(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++i),e._leaflet_id}function a(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function s(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function l(){return!1}function u(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function c(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return c(e).split(/\s+/)}function p(e,t){for(var r in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{}),t)e.options[r]=t[r];return e.options}function d(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function m(e,t){return e.replace(f,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var v="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var w=window.requestAnimationFrame||_("RequestAnimationFrame")||x,E=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function S(e,t,n){if(!n||w!==x)return w.call(window,r(e,t));e.call(t)}function C(e){e&&E.call(window,e)}var T={__proto__:null,extend:t,create:n,bind:r,get lastId(){return i},stamp:o,throttle:a,wrapNum:s,falseFn:l,formatNum:u,trim:c,splitWords:h,setOptions:p,getParamString:d,template:m,isArray:g,indexOf:y,emptyImageUrl:v,requestFn:w,cancelFn:E,requestAnimFrame:S,cancelAnimFrame:C};function I(){}I.extend=function(e){var r=function(){p(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=r.__super__=this.prototype,o=n(i);for(var a in o.constructor=r,r.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(r[a]=this[a]);return e.statics&&t(r,e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[o].concat(e.includes))),t(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?n(i.options):{},t(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},r},I.include=function(e){var n=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},I.mergeOptions=function(e){return t(this.prototype.options,e),this},I.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var k={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=h(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else{e=h(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n){if("function"==typeof t){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var i={fn:t,ctx:n},o=r,a=0,s=o.length;a<s;a++)if(o[a].fn===t&&o[a].ctx===n)return;o.push(i)}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if(n===this&&(n=void 0),"function"==typeof t){for(i=0,o=r.length;i<o;i++){var a=r[i];if(a.ctx===n&&a.fn===t)return this._firingCount&&(a.fn=l,this._events[e]=r=r.slice()),void r.splice(i,1)}console.warn("listener not found")}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=l;delete this._events[e]}},fire:function(e,n,r){if(!this.listens(e,r))return this;var i=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var l=o[a];l.fn.call(l.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t){"string"!=typeof e&&console.warn('"string" type argument expected');var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var i in e)this.once(i,e[i],t);return this}var o=r((function(){this.off(e,t,n).off(e,o,n)}),this);return this.on(e,t,n).on(e,o,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};k.addEventListener=k.on,k.removeEventListener=k.clearAllEventListeners=k.off,k.addOneTimeEventListener=k.once,k.fireEvent=k.fire,k.hasEventListeners=k.listens;var P=I.extend(k);function M(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var A=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function O(e,t,n){return e instanceof M?e:g(e)?new M(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new M(e.x,e.y):new M(e,t,n)}function R(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function N(e,t){return!e||e instanceof R?e:new R(e,t)}function D(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function z(e,t){return e instanceof D?e:new D(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function B(e,t,n){return e instanceof F?e:g(e)&&"object"!=typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}M.prototype={clone:function(){return new M(this.x,this.y)},add:function(e){return this.clone()._add(O(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(O(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new M(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new M(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(e){var t=(e=O(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=O(e)).x===this.x&&e.y===this.y},contains:function(e){return e=O(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},R.prototype={extend:function(e){return e=O(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new M(this.min.x,this.max.y)},getTopRight:function(){return new M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof M?O(e):N(e))instanceof R?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=N(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=N(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)}},D.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof D))return e?this.extend(B(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new D(new F(t.lat-r,t.lng-i),new F(n.lat+r,n.lng+i))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof F||"lat"in e?B(e):z(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof D?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=B(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return U.distance(this,B(e))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var j,Z={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new R(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?s(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?s(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new D(new F(o.lat-r,o.lng-i),new F(a.lat-r,a.lng-i))}},U=t({},Z,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),q=6378137,V={R:q,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new M(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(j=q*Math.PI,new R([-j,-j],[j,j]))};function G(e,t,n,r){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function H(e,t,n,r){return new G(e,t,n,r)}G.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new M((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var W=t({},U,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return H(e,.5,-e,.5)}()}),$=t({},W,{code:"EPSG:900913"});function X(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,o,a,s,l="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?Re.svg?"z":"x":""}return l||"M0 0"}var K,J=document.documentElement.style,Q="ActiveXObject"in window,ee=Q&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Oe("webkit"),re=Oe("android"),ie=Oe("android 2")||Oe("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Oe("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,le=!te&&Oe("chrome"),ue=Oe("gecko")&&!ne&&!se&&!Q,ce=!le&&Oe("safari"),he=Oe("phantom"),pe="OTransition"in J,de=0===navigator.platform.indexOf("Win"),fe=Q&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in J,ye=!window.L_DISABLE_3D&&(fe||me||ge)&&!pe&&!he,ve="undefined"!=typeof orientation||Oe("mobile"),_e=ve&&ne,be=ve&&me,xe=!window.PointerEvent&&window.MSPointerEvent,we=!(!window.PointerEvent&&!xe),Ee="ontouchstart"in window||!!window.TouchEvent,Se=!window.L_NO_TOUCH&&(Ee||we),Ce=ve&&se,Te=ve&&ue,Ie=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ke=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),Pe=!!document.createElement("canvas").getContext,Le=!(!document.createElementNS||!X("svg").createSVGRect),Me=!!Le&&((K=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(K.firstChild&&K.firstChild.namespaceURI)),Ae=!Le&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Oe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Re={ie:Q,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:le,gecko:ue,safari:ce,phantom:he,opera12:pe,win:de,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ye,mobile:ve,mobileWebkit:_e,mobileWebkit3d:be,msPointer:xe,pointer:we,touch:Se,touchNative:Ee,mobileOpera:Ce,mobileGecko:Te,retina:Ie,passiveEvents:ke,canvas:Pe,svg:Le,vml:Ae,inlineSvg:Me},Ne=Re.msPointer?"MSPointerDown":"pointerdown",De=Re.msPointer?"MSPointerMove":"pointermove",ze=Re.msPointer?"MSPointerUp":"pointerup",Fe=Re.msPointer?"MSPointerCancel":"pointercancel",Be={touchstart:Ne,touchmove:De,touchend:ze,touchcancel:Fe},je={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&zt(t),We(e,t)},touchmove:We,touchend:We,touchcancel:We},Ze={},Ue=!1;function qe(e,t,n){return"touchstart"===t&&(Ue||(document.addEventListener(Ne,Ve,!0),document.addEventListener(De,Ge,!0),document.addEventListener(ze,He,!0),document.addEventListener(Fe,He,!0),Ue=!0)),je[t]?(n=je[t].bind(this,n),e.addEventListener(Be[t],n,!1),n):(console.warn("wrong event specified:",t),L.Util.falseFn)}function Ve(e){Ze[e.pointerId]=e}function Ge(e){Ze[e.pointerId]&&(Ze[e.pointerId]=e)}function He(e){delete Ze[e.pointerId]}function We(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],Ze)t.touches.push(Ze[n]);t.changedTouches=[t],e(t)}}var $e,Xe,Ye,Ke,Je,Qe=mt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),et=mt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tt="webkitTransition"===et||"OTransition"===et?et+"End":"transitionend";function nt(e){return"string"==typeof e?document.getElementById(e):e}function rt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function it(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function ot(e){var t=e.parentNode;t&&t.removeChild(e)}function at(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function st(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function lt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=dt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function ct(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!ut(e,t)){var o=dt(e);pt(e,(o?o+" ":"")+t)}}function ht(e,t){void 0!==e.classList?e.classList.remove(t):pt(e,c((" "+dt(e)+" ").replace(" "+t+" "," ")))}function pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function dt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function ft(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}(e,t)}function mt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function gt(e,t,n){var r=t||new M(0,0);e.style[Qe]=(Re.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function yt(e,t){e._leaflet_pos=t,Re.any3d?gt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function vt(e){return e._leaflet_pos||new M(0,0)}if("onselectstart"in document)$e=function(){It(window,"selectstart",zt)},Xe=function(){Pt(window,"selectstart",zt)};else{var _t=mt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$e=function(){if(_t){var e=document.documentElement.style;Ye=e[_t],e[_t]="none"}},Xe=function(){_t&&(document.documentElement.style[_t]=Ye,Ye=void 0)}}function bt(){It(window,"dragstart",zt)}function xt(){Pt(window,"dragstart",zt)}function wt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Et(),Ke=e,Je=e.style.outline,e.style.outline="none",It(window,"keydown",Et))}function Et(){Ke&&(Ke.style.outline=Je,Ke=void 0,Je=void 0,Pt(window,"keydown",Et))}function St(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function Ct(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Tt={__proto__:null,TRANSFORM:Qe,TRANSITION:et,TRANSITION_END:tt,get:nt,getStyle:rt,create:it,remove:ot,empty:at,toFront:st,toBack:lt,hasClass:ut,addClass:ct,removeClass:ht,setClass:pt,getClass:dt,setOpacity:ft,testProp:mt,setTransform:gt,setPosition:yt,getPosition:vt,get disableTextSelection(){return $e},get enableTextSelection(){return Xe},disableImageDrag:bt,enableImageDrag:xt,preventOutline:wt,restoreOutline:Et,getSizedParentNode:St,getScale:Ct};function It(e,t,n,r){if(t&&"object"==typeof t)for(var i in t)At(e,i,t[i],n);else for(var o=0,a=(t=h(t)).length;o<a;o++)At(e,t[o],n,r);return this}var kt="_leaflet_events";function Pt(e,t,n,r){if(1===arguments.length)Lt(e),delete e[kt];else if(t&&"object"==typeof t)for(var i in t)Ot(e,i,t[i],n);else if(t=h(t),2===arguments.length)Lt(e,(function(e){return-1!==y(t,e)}));else for(var o=0,a=t.length;o<a;o++)Ot(e,t[o],n,r);return this}function Lt(e,t){for(var n in e[kt]){var r=n.split(/\d/)[0];t&&!t(r)||Ot(e,r,null,null,n)}}var Mt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function At(e,t,n,r){var i=t+o(n)+(r?"_"+o(r):"");if(e[kt]&&e[kt][i])return this;var a=function(t){return n.call(r||e,t||window.event)},s=a;!Re.touchNative&&Re.pointer&&0===t.indexOf("touch")?a=qe(e,t,a):Re.touch&&"dblclick"===t?a=function(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Date.now();i-r<=200?2==++n&&t(function(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}(e)):n=1,r=i}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}(e,a):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Mt[t]||t,a,!!Re.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(a=function(t){t=t||window.event,Ut(e,t)&&s(t)},e.addEventListener(Mt[t],a,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,a),e[kt]=e[kt]||{},e[kt][i]=a}function Ot(e,t,n,r,i){i=i||t+o(n)+(r?"_"+o(r):"");var a=e[kt]&&e[kt][i];if(!a)return this;!Re.touchNative&&Re.pointer&&0===t.indexOf("touch")?function(e,t,n){Be[t]?e.removeEventListener(Be[t],n,!1):console.warn("wrong event specified:",t)}(e,t,a):Re.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,a):"removeEventListener"in e?e.removeEventListener(Mt[t]||t,a,!1):e.detachEvent("on"+t,a),e[kt][i]=null}function Rt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Nt(e){return At(e,"wheel",Rt),this}function Dt(e){return It(e,"mousedown touchstart dblclick contextmenu",Rt),e._leaflet_disable_click=!0,this}function zt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Ft(e){return zt(e),Rt(e),this}function Bt(e,t){if(!t)return new M(e.clientX,e.clientY);var n=Ct(t),r=n.boundingClientRect;return new M((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var jt=Re.win&&Re.chrome?2*window.devicePixelRatio:Re.gecko?window.devicePixelRatio:1;function Zt(e){return Re.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/jt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Ut(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var qt={__proto__:null,on:It,off:Pt,stopPropagation:Rt,disableScrollPropagation:Nt,disableClickPropagation:Dt,preventDefault:zt,stop:Ft,getMousePosition:Bt,getWheelDelta:Zt,isExternalTarget:Ut,addListener:It,removeListener:Pt},Vt=P.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=vt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=S(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),yt(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Gt=P.extend({options:{crs:W,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=r(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(B(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=et&&Re.any3d&&!Re.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),It(this._proxy,tt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,r){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(B(e),n,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=t({animate:r.animate},r.zoom),r.pan=t({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(Re.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof M?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=O(t.paddingTopLeft||t.padding||[0,0]),r=O(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"==typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=z(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=O(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){ct(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!Re.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=B(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),l=s*this.getZoomScale(a,t),u=i.distanceTo(r)||1,c=1.42,h=2.0164;function p(e){var t=(l*l-s*s+(e?-1:1)*h*h*u*u)/(2*(e?l:s)*h*u),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}var m=p(0);function g(e){return s*(f(m)*(d(t=m+c*e)/f(t))-d(m))/h;var t}var y=Date.now(),v=(p(1)-m)/c,_=n.duration?1e3*n.duration:1e3*v*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-y)/_,l=function(e){return 1-Math.pow(1-e,1.5)}(o)*v;o<=1?(this._flyToFrame=S(n,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(g(l)/u)),a),this.getScaleZoom(s/function(e){return s*(f(m)/f(m+c*e))}(l),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=z(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,z(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=O((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=O(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=N([a.min.add(n),a.max.subtract(r)]),l=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var u=o.subtract(s.getCenter()),c=s.extend(o).getSize().subtract(l);i.x+=u.x<0?-c.x:c.x,i.y+=u.y<0?-c.y:c.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),o=n.divideBy(2).round(),a=i.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(r(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=r(this._handleGeolocationResponse,this),i=r(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,i,e):navigator.geolocation.getCurrentPosition(n,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"==typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ot(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=it("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new D(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=O(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),u=N(this.project(s,r),this.project(a,r)).getSize(),c=Re.any3d?this.options.zoomSnap:1,h=l.x/u.x,p=l.y/u.y,d=t?Math.max(h,p):Math.min(h,p);return r=this.getScaleZoom(d,r),c&&(r=Math.round(r/(c/100))*(c/100),r=t?Math.ceil(r/c)*c:Math.floor(r/c)*c),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(O(e),t)},layerPointToLatLng:function(e){var t=O(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(B(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return O(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return O(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(O(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return Bt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=nt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");It(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&Re.any3d,ct(e,"leaflet-container"+(Re.touch?" leaflet-touch":"")+(Re.retina?" leaflet-retina":"")+(Re.ielt9?" leaflet-oldie":"")+(Re.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=rt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ct(e.markerPane,"leaflet-zoom-hide"),ct(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){yt(this._mapPane,new M(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){yt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Pt:It;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),Re.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=S((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,a=e.target||e.srcElement,s=!1;a;){if((n=this._targets[o(a)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!Ut(a,e))break;if(r.push(n),i)break}if(a===this._container)break;a=a.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&wt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,r){if("click"===e.type){var i=t({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,n);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(n,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===n&&zt(e);var l=o[0],u={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var c=l.getLatLng&&(!l._radius||l._radius<=10);u.containerPoint=c?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),u.layerPoint=this.containerPointToLayerPoint(u.containerPoint),u.latlng=c?l.getLatLng():this.layerPointToLatLng(u.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(n,u,!0),u.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return vt(this._mapPane)||new M(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return N([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new R(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return a.round().equals([0,0])?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new R(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=N(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new M(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=Re.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=Qe,n=this._proxy.style[t];gt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();gt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i)||(S((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,ct(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:i}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(r(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ht=I.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return ct(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Wt=function(e){return new Ht(e)};Gt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=it("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=it("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ot(this._controlCorners[e]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var $t=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ht.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ct(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ct(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=it("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Dt(t),Nt(t);var r=this._section=it("section",e+"-list");n&&(this._map.on("click",this.collapse,this),It(t,{mouseenter:function(){It(r,"click",zt),this.expand(),setTimeout((function(){Pt(r,"click",zt)}))},mouseleave:this.collapse},this));var i=this._layersLink=it("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),It(i,"click",zt),It(i,"focus",this.expand,this),n||this.expand(),this._baseLayersList=it("div",e+"-base",r),this._separator=it("div",e+"-separator",r),this._overlaysList=it("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(r((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;at(this._baseLayersList),at(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+o(this),r),this._layerControlInputs.push(t),t.layerId=o(e.layer),It(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var a=document.createElement("span");return n.appendChild(a),a.appendChild(t),a.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Xt=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=it("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=it("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Dt(o),It(o,"click",Ft),It(o,"click",i,this),It(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ht(this._zoomInButton,t),ht(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ct(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ct(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Xt,this.addControl(this.zoomControl))}));var Yt=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=it("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=it("div",t,n)),e.imperial&&(this._iScale=it("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Kt=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Re.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=it("div","leaflet-control-attribution"),Dt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook((function(){this.options.attributionControl&&(new Kt).addTo(this)}));Ht.Layers=$t,Ht.Zoom=Xt,Ht.Scale=Yt,Ht.Attribution=Kt,Wt.layers=function(e,t,n){return new $t(e,t,n)},Wt.zoom=function(e){return new Xt(e)},Wt.scale=function(e){return new Yt(e)},Wt.attribution=function(e){return new Kt(e)};var Jt=I.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jt.addTo=function(e,t){return e.addHandler(t,this),this};var Qt,en={Events:k},tn=Re.touch?"touchstart mousedown":"mousedown",nn=P.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(It(this._dragStartTarget,tn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)nn._dragging===this&&this.finishDrag();else if(!(nn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(nn._dragging=this,this._preventOutline&&wt(this._element),bt(),$e(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=St(this._element);this._startPoint=new M(t.clientX,t.clientY),this._startPos=vt(this._element),this._parentScale=Ct(n);var r="mousedown"===e.type;It(document,r?"mousemove":"touchmove",this._onMove,this),It(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new M(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,zt(e),this._moved||(this.fire("dragstart"),this._moved=!0,ct(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ct(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),yt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),xt(),Xe(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,nn._dragging=!1}});function rn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return function(e,t){var n=e.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,an(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}(e=function(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)cn(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}(e,n),n)}function on(e,t,n){return Math.sqrt(hn(e,t,n,!0))}function an(e,t,n,r,i){var o,a,s,l=0;for(a=r+1;a<=i-1;a++)(s=hn(e[a],e[r],e[i],!0))>l&&(o=a,l=s);l>n&&(t[o]=1,an(e,t,n,r,o),an(e,t,n,o,i))}function sn(e,t,n,r,i){var o,a,s,l=r?Qt:un(e,n),u=un(t,n);for(Qt=u;;){if(!(l|u))return[e,t];if(l&u)return!1;s=un(a=ln(e,t,o=l||u,n,i),n),o===l?(e=a,l=s):(t=a,u=s)}}function ln(e,t,n,r,i){var o,a,s=t.x-e.x,l=t.y-e.y,u=r.min,c=r.max;return 8&n?(o=e.x+s*(c.y-e.y)/l,a=c.y):4&n?(o=e.x+s*(u.y-e.y)/l,a=u.y):2&n?(o=c.x,a=e.y+l*(c.x-e.x)/s):1&n&&(o=u.x,a=e.y+l*(u.x-e.x)/s),new M(o,a,i)}function un(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function cn(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function hn(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,l=n.y-a,u=s*s+l*l;return u>0&&((i=((e.x-o)*s+(e.y-a)*l)/u)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=l*i)),s=e.x-o,l=e.y-a,r?s*s+l*l:new M(o,a)}function pn(e){return!g(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function dn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),pn(e)}var fn={__proto__:null,simplify:rn,pointToSegmentDistance:on,closestPointOnSegment:function(e,t,n){return hn(e,t,n)},clipSegment:sn,_getEdgeIntersection:ln,_getBitCode:un,_sqClosestPointOnSegment:hn,isFlat:pn,_flat:dn};function mn(e,t,n){var r,i,o,a,s,l,u,c,h,p=[1,4,2,8];for(i=0,u=e.length;i<u;i++)e[i]._code=un(e[i],t);for(a=0;a<4;a++){for(c=p[a],r=[],i=0,o=(u=e.length)-1;i<u;o=i++)s=e[i],l=e[o],s._code&c?l._code&c||((h=ln(l,s,c,t,n))._code=un(h,t),r.push(h)):(l._code&c&&((h=ln(l,s,c,t,n))._code=un(h,t),r.push(h)),r.push(s));e=r}return e}var gn={__proto__:null,clipPolygon:mn},yn={project:function(e){return new M(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new R([-180,-90],[180,90])},vn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new M(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,u=.1;l<15&&Math.abs(u)>1e-7;l++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=u=Math.PI/2-2*Math.atan(a*t)-s;return new F(s*n,e.x*n/r)}},_n={__proto__:null,LonLat:yn,Mercator:vn,SphericalMercator:V},bn=t({},U,{code:"EPSG:3395",projection:vn,transformation:function(){var e=.5/(Math.PI*vn.R);return H(e,.5,-e,.5)}()}),xn=t({},U,{code:"EPSG:4326",projection:yn,transformation:H(1/180,1,-1/180,.5)}),wn=t({},Z,{projection:yn,transformation:H(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});Z.Earth=U,Z.EPSG3395=bn,Z.EPSG3857=W,Z.EPSG900913=$,Z.EPSG4326=xn,Z.Simple=wn;var En=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Sn=En.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Cn=Sn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Sn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Sn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new D;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Tn=I.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var i=O(r),o=O("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return Re.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var In=Tn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof In.imagePath&&(In.imagePath=this._detectIconPath()),(this.options.imagePath||In.imagePath)+Tn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=it("div","leaflet-default-icon-path",document.body),t=rt(e,"background-image")||rt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),kn=Jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new nn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ct(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=vt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=N(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!l.contains(o)){var u=O((Math.max(l.max.x,o.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(u,{animate:!1}),this._draggable._newPos._add(u),this._draggable._startPos._add(u),yt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=S(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=S(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=vt(t._icon),i=t._map.layerPointToLatLng(r);n&&yt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Pn=En.extend({options:{icon:new In,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),ct(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&It(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(ct(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&yt(this._icon,e),this._shadow&&yt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(ct(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kn)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kn(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ft(this._icon,e),this._shadow&&ft(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?O(t.iconSize):O(0,0),r=t.iconAnchor?O(t.iconAnchor):O(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var Ln=En.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Mn=Ln.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return Ln.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var An=Mn.extend({initialize:function(e,n,r){if("number"==typeof n&&(n=t({},r,{radius:n})),p(this,n),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new D(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Ln.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var i=Math.PI/180,o=this._mRadius/U.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),l=a.add(s).divideBy(2),u=n.unproject(l).lat,c=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(u*i))/(Math.cos(t*i)*Math.cos(u*i)))/i;(isNaN(c)||0===c)&&(c=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(c)?0:l.x-n.project([u,e-c]).x,this._radiusY=l.y-a.y}else{var h=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});var On=Ln.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=hn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],u=1,c=l.length;u<c;u++){var h=o(e,t=l[u-1],n=l[u],!0);h<r&&(r=h,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s=this._rings[0],l=s.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<l-1;e++)if(i=s[e],o=s[e+1],(r+=n=i.distanceTo(o))>t)return a=(r-t)/n,this._map.layerPointToLatLng([o.x-a*(o.x-i.x),o.y-a*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new D,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return pn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=pn(e),r=0,i=e.length;r<i;r++)n?(t[r]=B(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new M(e,e);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof F,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,l=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=sn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=rn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&on(e,s[i],s[r])<=l)return!0;return!1}});On._flat=dn;var Rn=On.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,i,o,a,s,l,u=this._rings[0],c=u.length;if(!c)return null;for(o=a=s=0,e=0,t=c-1;e<c;t=e++)n=u[e],r=u[t],i=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*i,s+=(n.y+r.y)*i,o+=3*i;return l=0===o?u[0]:[a/o,s/o],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=On.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){On.prototype._setLatLngs.call(this,e),pn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return pn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new M(t,t);if(e=new R(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=mn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(l=(t=this._parts[i]).length)-1;o<l;a=o++)n=t[o],r=t[a],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(u=!u);return u||On.prototype._containsPoint.call(this,e,!0)}});var Nn=Cn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=g(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=Dn(e,o);return a?(a.feature=qn(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function Dn(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],u=t&&t.pointToLayer,c=t&&t.coordsToLatLng||Fn;if(!s&&!a)return null;switch(a.type){case"Point":return zn(u,e,n=c(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=c(s[i]),l.push(zn(u,e,n,t));return new Cn(l);case"LineString":case"MultiLineString":return r=Bn(s,"LineString"===a.type?0:1,c),new On(r,t);case"Polygon":case"MultiPolygon":return r=Bn(s,"Polygon"===a.type?1:2,c),new Rn(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var h=Dn({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new Cn(l);default:throw new Error("Invalid GeoJSON object.")}}function zn(e,t,n,r){return e?e(t,n):new Pn(n,r&&r.markersInheritOptions&&r)}function Fn(e){return new F(e[1],e[0],e[2])}function Bn(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?Bn(e[o],t-1,n):(n||Fn)(e[o]),i.push(r);return i}function jn(e,t){return void 0!==(e=B(e)).alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function Zn(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?Zn(e[o],t-1,n,r):jn(e[o],r));return!t&&n&&i.push(i[0]),i}function Un(e,n){return e.feature?t({},e.feature,{geometry:n}):qn(n)}function qn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Vn={toGeoJSON:function(e){return Un(this,{type:"Point",coordinates:jn(this.getLatLng(),e)})}};function Gn(e,t){return new Nn(e,t)}Pn.include(Vn),An.include(Vn),Mn.include(Vn),On.include({toGeoJSON:function(e){var t=!pn(this._latlngs);return Un(this,{type:(t?"Multi":"")+"LineString",coordinates:Zn(this._latlngs,t?1:0,!1,e)})}}),Rn.include({toGeoJSON:function(e){var t=!pn(this._latlngs),n=t&&!pn(this._latlngs[0]),r=Zn(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Un(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Sn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Un(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=qn(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?Un(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Hn=Gn,Wn=En.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ct(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&st(this._image),this},bringToBack:function(){return this._map&&lt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:it("img");ct(t,"leaflet-image-layer"),this._zoomAnimated&&ct(t,"leaflet-zoom-animated"),this.options.className&&ct(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=r(this.fire,this,"load"),t.onerror=r(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;gt(this._image,n,t)},_reset:function(){var e=this._image,t=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();yt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),$n=Wn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:it("video");if(ct(t,"leaflet-image-layer"),this._zoomAnimated&&ct(t,"leaflet-zoom-animated"),this.options.className&&ct(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=r(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=n.length>0?i:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=it("source");s.src=this._url[a],t.appendChild(s)}}}});var Xn=Wn.extend({_initImage:function(){var e=this._image=this._url;ct(e,"leaflet-image-layer"),this._zoomAnimated&&ct(e,"leaflet-zoom-animated"),this.options.className&&ct(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var Yn=En.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,t){p(this,e),this._source=t},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ft(this._container,1),this.bringToFront(),this.options.interactive&&(ct(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ft(this._container,0),this._removeTimeout=setTimeout(r(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&st(this._container),this},bringToBack:function(){return this._map&&lt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Cn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=O(this.options.offset),n=this._getAnchor();this._zoomAnimated?yt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),En.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(p(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Kn=Yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Yn.prototype.openOn.call(this,e)},onAdd:function(e){Yn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ln||this._source.on("preclick",Rt))},onRemove:function(e){Yn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ln||this._source.off("preclick",Rt))},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=it("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=it("div",e+"-content-wrapper",t);if(this._contentNode=it("div",e+"-content",n),Dt(t),Nt(this._contentNode),It(t,"contextmenu",Rt),this._tipContainer=it("div",e+"-tip-container",t),this._tip=it("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=it("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',It(r,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",ct(e,o)):ht(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();yt(this._container,t.add(n))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,n=parseInt(rt(this._container,"marginBottom"),10)||0,r=this._container.offsetHeight+n,i=this._containerWidth,o=new M(this._containerLeft,-r-this._containerBottom);o._add(vt(this._container));var a=t.layerPointToContainerPoint(o),s=O(this.options.autoPanPadding),l=O(this.options.autoPanPaddingTopLeft||s),u=O(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),h=0,p=0;a.x+i+u.x>c.x&&(h=a.x+i-c.x+u.x),a.x-h-l.x<0&&(h=a.x-l.x),a.y+r+u.y>c.y&&(p=a.y+r-c.y+u.y),a.y-p-l.y<0&&(p=a.y-l.y),(h||p)&&t.fire("autopanstart").panBy([h,p],{animate:e&&"moveend"===e.type})}},_getAnchor:function(){return O(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(e,t,n){return this._initOverlay(Kn,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),En.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Kn,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Ft(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof Ln?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Jn=Yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Yn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Yn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,l=i.offsetWidth,u=i.offsetHeight,c=O(this.options.offset),h=this._getAnchor();"top"===s?(t=l/2,n=u):"bottom"===s?(t=l/2,n=0):"center"===s?(t=l/2,n=u/2):"right"===s?(t=0,n=u/2):"left"===s?(t=l,n=u/2):a.x<o.x?(s="right",t=0,n=u/2):(s="left",t=l+2*(c.x+h.x),n=u/2),e=e.subtract(O(t,n,!0)).add(c).add(h),ht(i,"leaflet-tooltip-right"),ht(i,"leaflet-tooltip-left"),ht(i,"leaflet-tooltip-top"),ht(i,"leaflet-tooltip-bottom"),ct(i,"leaflet-tooltip-"+s),yt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ft(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return O(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Gt.include({openTooltip:function(e,t,n){return this._initOverlay(Jn,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),En.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Qn=Tn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(at(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=O(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Tn.Default=In;var er=En.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Re.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ot(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(st(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=a(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof M?e:new M(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Re.ielt9){ft(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);ft(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ot(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ot(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new M(+i,+o);s.z=+a;var l=this._tileCoordsToKey(s),u=this._tiles[l];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new M(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();Re.any3d?gt(e.el,i,r):yt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new R(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,l=new R(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var u in this._tiles){var c=this._tiles[u].coords;c.z===this._tileZoom&&l.contains(new M(c.x,c.y))||(this._tiles[u].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=i.min.y;h<=i.max.y;h++)for(var p=i.min.x;p<=i.max.x;p++){var d=new M(p,h);if(d.z=this._tileZoom,this._isValidTile(d)){var f=this._tiles[this._tileCoordsToKey(d)];f?f.current=!0:a.push(d)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(p=0;p<a.length;p++)this._addTile(a[p],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new D(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new M(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ot(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ct(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,Re.ielt9&&this.options.opacity<1&&ft(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),i=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),r(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&S(r(this._tileReady,this,e,null,o)),yt(o,n),this._tiles[i]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var i=this._tileCoordsToKey(e);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(ft(n.el,0),C(this._fadeFrame),this._fadeFrame=S(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(ct(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Re.ielt9||!this._map._fadeAnimated?S(this._pruneTiles,this):setTimeout(r(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new M(this._wrapX?s(e.x,this._wrapX):e.x,this._wrapY?s(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new R(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var tr=er.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&Re.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return It(n,"load",r(this._tileOnLoad,this,t,n)),It(n,"error",r(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var n={r:Re.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=r),n["-y"]=r}return m(this._url,t(n,this.options))},_tileOnLoad:function(e,t){Re.ielt9?setTimeout(r(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=v;var n=this._tiles[e].coords;ot(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",v),er.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==v))return er.prototype._tileReady.call(this,e,t,n)}});function nr(e,t){return new tr(e,t)}var rr=tr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var r=t({},this.defaultWmsParams);for(var i in n)i in this.options||(r[i]=n[i]);var o=(n=p(this,n)).detectRetina&&Re.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,tr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=N(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===xn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=tr.prototype.getTileUrl.call(this,e);return s+d(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});tr.WMS=rr,nr.wms=function(e,t){return new rr(e,t)};var ir=En.extend({options:{padding:.1},initialize:function(e){p(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ct(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));Re.any3d?gt(this._container,o,n):yt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new R(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),or=ir.extend({options:{tolerance:0},getEvents:function(){var e=ir.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");It(e,"mousemove",this._onMouseMove,this),It(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),It(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,ot(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ir.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=Re.retina?2:1;yt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",Re.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||S(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],l[r?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ht(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(e),i&&(ct(this._container,"leaflet-interactive"),this._fireEvent([i],e,"mouseover"),this._hoveredLayer=i)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(r((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function ar(e){return Re.canvas?new or(e):null}var sr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),lr={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=sr("shape");ct(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=sr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ot(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=sr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=g(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=sr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){st(e._container)},_bringToBack:function(e){lt(e._container)}},ur=Re.vml?sr:X,cr=ir.extend({_initContainer:function(){this._container=ur("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ur("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ir.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),yt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ur("path");e.options.className&&ct(t,e.options.className),e.options.interactive&&ct(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ot(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){st(e._path)},_bringToBack:function(e){lt(e._path)}});function hr(e){return Re.svg||Re.vml?new cr(e):null}Re.vml&&cr.include(lr),Gt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&ar(e)||hr(e)}});var pr=Rn.extend({initialize:function(e,t){Rn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=z(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});cr.create=ur,cr.pointsToPath=Y,Nn.geometryToLayer=Dn,Nn.coordsToLatLng=Fn,Nn.coordsToLatLngs=Bn,Nn.latLngToCoords=jn,Nn.latLngsToCoords=Zn,Nn.getFeature=Un,Nn.asFeature=qn,Gt.mergeOptions({boxZoom:!0});var dr=Jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){It(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),$e(),bt(),this._startPoint=this._map.mouseEventToContainerPoint(e),It(document,{contextmenu:Ft,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),ct(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new R(this._point,this._startPoint),n=t.getSize();yt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ot(this._box),ht(this._container,"leaflet-crosshair")),Xe(),xt(),Pt(document,{contextmenu:Ft,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(r(this._resetState,this),0);var t=new D(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",dr),Gt.mergeOptions({doubleClickZoom:!0});var fr=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});Gt.addInitHook("addHandler","doubleClickZoom",fr),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mr=Jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new nn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ct(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=N(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),l=s.distanceTo([0,0]),u=Math.min(n.inertiaMaxSpeed,l),c=s.multiplyBy(u/l),h=u/(n.inertiaDeceleration*a),p=c.multiplyBy(-h/2).round();p.x||p.y?(p=t._limitOffset(p,t.options.maxBounds),S((function(){t.panBy(p,{duration:h,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Gt.addInitHook("addHandler","dragging",mr),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gr=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),It(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){It(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=O(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Ft(e)}}});Gt.addInitHook("addHandler","keyboard",gr),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yr=Jt.extend({addHooks:function(){It(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Zt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(r(this._performZoom,this),i),Ft(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});Gt.addInitHook("addHandler","scrollWheelZoom",yr);Gt.mergeOptions({tapHold:Re.touchNative&&Re.safari&&Re.mobile,tapTolerance:15});var vr=Jt.extend({addHooks:function(){It(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new M(t.clientX,t.clientY),this._holdTimeout=setTimeout(r((function(){this._cancel(),this._isTapValid()&&(It(document,"touchend",zt),It(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),It(document,"touchend touchcancel contextmenu",this._cancel,this),It(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Pt(document,"touchend",zt),Pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new M(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});Gt.addInitHook("addHandler","tapHold",vr),Gt.mergeOptions({touchZoom:Re.touch,bounceAtZoomLimits:!0});var _r=Jt.extend({addHooks:function(){ct(this._map._container,"leaflet-touch-zoom"),It(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),It(document,"touchmove",this._onTouchMove,this),It(document,"touchend touchcancel",this._onTouchEnd,this),zt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var s=r(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=S(s,this,!0),zt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Gt.addInitHook("addHandler","touchZoom",_r),Gt.BoxZoom=dr,Gt.DoubleClickZoom=fr,Gt.Drag=mr,Gt.Keyboard=gr,Gt.ScrollWheelZoom=yr,Gt.TapHold=vr,Gt.TouchZoom=_r,e.Bounds=R,e.Browser=Re,e.CRS=Z,e.Canvas=or,e.Circle=An,e.CircleMarker=Mn,e.Class=I,e.Control=Ht,e.DivIcon=Qn,e.DivOverlay=Yn,e.DomEvent=qt,e.DomUtil=Tt,e.Draggable=nn,e.Evented=P,e.FeatureGroup=Cn,e.GeoJSON=Nn,e.GridLayer=er,e.Handler=Jt,e.Icon=Tn,e.ImageOverlay=Wn,e.LatLng=F,e.LatLngBounds=D,e.Layer=En,e.LayerGroup=Sn,e.LineUtil=fn,e.Map=Gt,e.Marker=Pn,e.Mixin=en,e.Path=Ln,e.Point=M,e.PolyUtil=gn,e.Polygon=Rn,e.Polyline=On,e.Popup=Kn,e.PosAnimation=Vt,e.Projection=_n,e.Rectangle=pr,e.Renderer=ir,e.SVG=cr,e.SVGOverlay=Xn,e.TileLayer=tr,e.Tooltip=Jn,e.Transformation=G,e.Util=T,e.VideoOverlay=$n,e.bind=r,e.bounds=N,e.canvas=ar,e.circle=function(e,t,n){return new An(e,t,n)},e.circleMarker=function(e,t){return new Mn(e,t)},e.control=Wt,e.divIcon=function(e){return new Qn(e)},e.extend=t,e.featureGroup=function(e,t){return new Cn(e,t)},e.geoJSON=Gn,e.geoJson=Hn,e.gridLayer=function(e){return new er(e)},e.icon=function(e){return new Tn(e)},e.imageOverlay=function(e,t,n){return new Wn(e,t,n)},e.latLng=B,e.latLngBounds=z,e.layerGroup=function(e,t){return new Sn(e,t)},e.map=function(e,t){return new Gt(e,t)},e.marker=function(e,t){return new Pn(e,t)},e.point=O,e.polygon=function(e,t){return new Rn(e,t)},e.polyline=function(e,t){return new On(e,t)},e.popup=function(e,t){return new Kn(e,t)},e.rectangle=function(e,t){return new pr(e,t)},e.setOptions=p,e.stamp=o,e.svg=hr,e.svgOverlay=function(e,t,n){return new Xn(e,t,n)},e.tileLayer=nr,e.tooltip=function(e,t){return new Jn(e,t)},e.transformation=H,e.version="1.8.0",e.videoOverlay=function(e,t,n){return new $n(e,t,n)};var br=window.L;e.noConflict=function(){return window.L=br,this},window.L=e}(t)},18552:(e,t,n)=>{var r=n(10852)(n(55639),"DataView");e.exports=r},1989:(e,t,n)=>{var r=n(51789),i=n(80401),o=n(57667),a=n(21327),s=n(81866);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},38407:(e,t,n)=>{var r=n(27040),i=n(14125),o=n(82117),a=n(67518),s=n(54705);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},57071:(e,t,n)=>{var r=n(10852)(n(55639),"Map");e.exports=r},83369:(e,t,n)=>{var r=n(24785),i=n(11285),o=n(96e3),a=n(49916),s=n(95265);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},53818:(e,t,n)=>{var r=n(10852)(n(55639),"Promise");e.exports=r},58525:(e,t,n)=>{var r=n(10852)(n(55639),"Set");e.exports=r},88668:(e,t,n)=>{var r=n(83369),i=n(90619),o=n(72385);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},46384:(e,t,n)=>{var r=n(38407),i=n(37465),o=n(63779),a=n(67599),s=n(44758),l=n(34309);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=s,u.prototype.set=l,e.exports=u},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},11149:(e,t,n)=>{var r=n(55639).Uint8Array;e.exports=r},70577:(e,t,n)=>{var r=n(10852)(n(55639),"WeakMap");e.exports=r},96874:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},66193:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},34963:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},47443:(e,t,n)=>{var r=n(42118);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},1196:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},14636:(e,t,n)=>{var r=n(22545),i=n(35694),o=n(1469),a=n(44144),s=n(65776),l=n(36719),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),h=!n&&!c&&a(e),p=!n&&!c&&!h&&l(e),d=n||c||h||p,f=d?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},29932:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},62488:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},82908:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},44286:e=>{e.exports=function(e){return e.split("")}},18470:(e,t,n)=>{var r=n(77813);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},89465:(e,t,n)=>{var r=n(38777);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},89881:(e,t,n)=>{var r=n(47816),i=n(99291)(r);e.exports=i},93239:(e,t,n)=>{var r=n(89881);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},56029:(e,t,n)=>{var r=n(33448);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,u=a}return u}},41848:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},21078:(e,t,n)=>{var r=n(62488),i=n(37285);e.exports=function e(t,n,o,a,s){var l=-1,u=t.length;for(o||(o=i),s||(s=[]);++l<u;){var c=t[l];n>0&&o(c)?n>1?e(c,n-1,o,a,s):r(s,c):a||(s[s.length]=c)}return s}},28483:(e,t,n)=>{var r=n(25063)();e.exports=r},47816:(e,t,n)=>{var r=n(28483),i=n(3674);e.exports=function(e,t){return e&&r(e,t,i)}},97786:(e,t,n)=>{var r=n(71811),i=n(40327);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},68866:(e,t,n)=>{var r=n(62488),i=n(1469);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},44239:(e,t,n)=>{var r=n(62705),i=n(89607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},53325:e=>{e.exports=function(e,t){return e>t}},13:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},42118:(e,t,n)=>{var r=n(41848),i=n(62722),o=n(42351);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},9454:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},90939:(e,t,n)=>{var r=n(2492),i=n(37005);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,s))}},2492:(e,t,n)=>{var r=n(46384),i=n(67114),o=n(18351),a=n(16096),s=n(64160),l=n(1469),u=n(44144),c=n(36719),h="[object Arguments]",p="[object Array]",d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),_=l(t),b=v?p:s(e),x=_?p:s(t),w=(b=b==h?d:b)==d,E=(x=x==h?d:x)==d,S=b==x;if(S&&u(e)){if(!u(t))return!1;v=!0,w=!1}if(S&&!w)return y||(y=new r),v||c(e)?i(e,t,n,m,g,y):o(e,t,b,n,m,g,y);if(!(1&n)){var C=w&&f.call(e,"__wrapped__"),T=E&&f.call(t,"__wrapped__");if(C||T){var I=C?e.value():e,k=T?t.value():t;return y||(y=new r),g(I,k,n,m,y)}}return!!S&&(y||(y=new r),a(e,t,n,m,g,y))}},2958:(e,t,n)=>{var r=n(46384),i=n(90939);e.exports=function(e,t,n,o){var a=n.length,s=a,l=!o;if(null==e)return!s;for(e=Object(e);a--;){var u=n[a];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var c=(u=n[a])[0],h=e[c],p=u[1];if(l&&u[2]){if(void 0===h&&!(c in e))return!1}else{var d=new r;if(o)var f=o(h,p,c,e,t,d);if(!(void 0===f?i(p,h,3,o,d):f))return!1}}return!0}},62722:e=>{e.exports=function(e){return e!=e}},28458:(e,t,n)=>{var r=n(23560),i=n(15346),o=n(13218),a=n(80346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,p=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:s).test(a(e))}},38749:(e,t,n)=>{var r=n(44239),i=n(41780),o=n(37005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},67206:(e,t,n)=>{var r=n(91573),i=n(16432),o=n(6557),a=n(1469),s=n(39601);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},280:(e,t,n)=>{var r=n(25726),i=n(86916),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},70433:e=>{e.exports=function(e,t){return e<t}},69199:(e,t,n)=>{var r=n(89881),i=n(98612);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},91573:(e,t,n)=>{var r=n(2958),i=n(1499),o=n(42634);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},16432:(e,t,n)=>{var r=n(90939),i=n(27361),o=n(79095),a=n(15403),s=n(89162),l=n(42634),u=n(40327);e.exports=function(e,t){return a(e)&&s(t)?l(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},82689:(e,t,n)=>{var r=n(29932),i=n(97786),o=n(67206),a=n(69199),s=n(71131),l=n(7518),u=n(85022),c=n(6557),h=n(1469);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return h(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var p=-1;t=r(t,l(o));var d=a(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++p,value:e}}));return s(d,(function(e,t){return u(e,t,n)}))}},40371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},79152:(e,t,n)=>{var r=n(97786);e.exports=function(e){return function(t){return r(t,e)}}},40098:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},5976:(e,t,n)=>{var r=n(6557),i=n(45357),o=n(30061);e.exports=function(e,t){return o(i(e,t,r),e+"")}},56560:(e,t,n)=>{var r=n(75703),i=n(38777),o=n(6557),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},14259:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},5076:(e,t,n)=>{var r=n(89881);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},71131:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},22545:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},80531:(e,t,n)=>{var r=n(62705),i=n(29932),o=n(1469),a=n(33448),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},27561:(e,t,n)=>{var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},7518:e=>{e.exports=function(e){return function(t){return e(t)}}},45652:(e,t,n)=>{var r=n(88668),i=n(47443),o=n(1196),a=n(74757),s=n(23593),l=n(21814);e.exports=function(e,t,n){var u=-1,c=i,h=e.length,p=!0,d=[],f=d;if(n)p=!1,c=o;else if(h>=200){var m=t?null:s(e);if(m)return l(m);p=!1,c=a,f=new r}else f=t?[]:d;e:for(;++u<h;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var v=f.length;v--;)if(f[v]===y)continue e;t&&f.push(y),d.push(g)}else c(f,y,n)||(f!==d&&f.push(y),d.push(g))}return d}},74757:e=>{e.exports=function(e,t){return e.has(t)}},71811:(e,t,n)=>{var r=n(1469),i=n(15403),o=n(55514),a=n(79833);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},40180:(e,t,n)=>{var r=n(14259);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},26393:(e,t,n)=>{var r=n(33448);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),s=void 0!==t,l=null===t,u=t==t,c=r(t);if(!l&&!c&&!a&&e>t||a&&s&&u&&!l&&!c||i&&s&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!u)return-1}return 0}},85022:(e,t,n)=>{var r=n(26393);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,a=t.criteria,s=o.length,l=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=l?u:u*("desc"==n[i]?-1:1)}return e.index-t.index}},14429:(e,t,n)=>{var r=n(55639)["__core-js_shared__"];e.exports=r},99291:(e,t,n)=>{var r=n(98612);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},25063:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},98805:(e,t,n)=>{var r=n(40180),i=n(62689),o=n(83140),a=n(79833);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},67740:(e,t,n)=>{var r=n(67206),i=n(98612),o=n(3674);e.exports=function(e){return function(t,n,a){var s=Object(t);if(!i(t)){var l=r(n,3);t=o(t),n=function(e){return l(s[e],e,s)}}var u=e(t,n,a);return u>-1?s[l?t[u]:u]:void 0}}},47445:(e,t,n)=>{var r=n(40098),i=n(16612),o=n(18601);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},23593:(e,t,n)=>{var r=n(58525),i=n(50308),o=n(21814),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},38777:(e,t,n)=>{var r=n(10852),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},67114:(e,t,n)=>{var r=n(88668),i=n(82908),o=n(74757);e.exports=function(e,t,n,a,s,l){var u=1&n,c=e.length,h=t.length;if(c!=h&&!(u&&h>c))return!1;var p=l.get(e),d=l.get(t);if(p&&d)return p==t&&d==e;var f=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<c;){var y=e[f],v=t[f];if(a)var _=u?a(v,y,f,t,e,l):a(y,v,f,e,t,l);if(void 0!==_){if(_)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(y===e||s(y,e,n,a,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},18351:(e,t,n)=>{var r=n(62705),i=n(11149),o=n(77813),a=n(67114),s=n(68776),l=n(21814),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;e.exports=function(e,t,n,r,u,h,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var f=1&r;if(d||(d=l),e.size!=t.size&&!f)return!1;var m=p.get(e);if(m)return m==t;r|=2,p.set(e,t);var g=a(d(e),d(t),r,u,h,p);return p.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},16096:(e,t,n)=>{var r=n(58234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var l=1&n,u=r(e),c=u.length;if(c!=r(t).length&&!l)return!1;for(var h=c;h--;){var p=u[h];if(!(l?p in t:i.call(t,p)))return!1}var d=s.get(e),f=s.get(t);if(d&&f)return d==t&&f==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++h<c;){var y=e[p=u[h]],v=t[p];if(o)var _=l?o(v,y,p,t,e,s):o(y,v,p,e,t,s);if(!(void 0===_?y===v||a(y,v,n,o,s):_)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(m=!1)}return s.delete(e),s.delete(t),m}},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},58234:(e,t,n)=>{var r=n(68866),i=n(99551),o=n(3674);e.exports=function(e){return r(e,o,i)}},45050:(e,t,n)=>{var r=n(37019);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1499:(e,t,n)=>{var r=n(89162),i=n(3674);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},10852:(e,t,n)=>{var r=n(28458),i=n(47801);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},89607:(e,t,n)=>{var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},99551:(e,t,n)=>{var r=n(34963),i=n(70479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},64160:(e,t,n)=>{var r=n(18552),i=n(57071),o=n(53818),a=n(58525),s=n(70577),l=n(44239),u=n(80346),c="[object Map]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",f="[object DataView]",m=u(r),g=u(i),y=u(o),v=u(a),_=u(s),b=l;(r&&b(new r(new ArrayBuffer(1)))!=f||i&&b(new i)!=c||o&&b(o.resolve())!=h||a&&b(new a)!=p||s&&b(new s)!=d)&&(b=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case m:return f;case g:return c;case y:return h;case v:return p;case _:return d}return t}),e.exports=b},47801:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},222:(e,t,n)=>{var r=n(71811),i=n(35694),o=n(1469),a=n(65776),s=n(41780),l=n(40327);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,h=!1;++u<c;){var p=l(t[u]);if(!(h=null!=e&&n(e,p)))break;e=e[p]}return h||++u!=c?h:!!(c=null==e?0:e.length)&&s(c)&&a(p,c)&&(o(e)||i(e))}},62689:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},51789:(e,t,n)=>{var r=n(94536);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},80401:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},57667:(e,t,n)=>{var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},21327:(e,t,n)=>{var r=n(94536),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},81866:(e,t,n)=>{var r=n(94536);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},37285:(e,t,n)=>{var r=n(62705),i=n(35694),o=n(1469),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},65776:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},16612:(e,t,n)=>{var r=n(77813),i=n(98612),o=n(65776),a=n(13218);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},15403:(e,t,n)=>{var r=n(1469),i=n(33448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},37019:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},15346:(e,t,n)=>{var r,i=n(14429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},25726:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},89162:(e,t,n)=>{var r=n(13218);e.exports=function(e){return e==e&&!r(e)}},27040:e=>{e.exports=function(){this.__data__=[],this.size=0}},14125:(e,t,n)=>{var r=n(18470),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},82117:(e,t,n)=>{var r=n(18470);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},67518:(e,t,n)=>{var r=n(18470);e.exports=function(e){return r(this.__data__,e)>-1}},54705:(e,t,n)=>{var r=n(18470);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},24785:(e,t,n)=>{var r=n(1989),i=n(38407),o=n(57071);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},11285:(e,t,n)=>{var r=n(45050);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},96e3:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).get(e)}},49916:(e,t,n)=>{var r=n(45050);e.exports=function(e){return r(this,e).has(e)}},95265:(e,t,n)=>{var r=n(45050);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},68776:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},42634:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},24523:(e,t,n)=>{var r=n(88306);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},94536:(e,t,n)=>{var r=n(10852)(Object,"create");e.exports=r},86916:(e,t,n)=>{var r=n(5569)(Object.keys,Object);e.exports=r},31167:(e,t,n)=>{e=n.nmd(e);var r=n(31957),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},5569:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},45357:(e,t,n)=>{var r=n(96874),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(l),r(e,this,u)}}},55639:(e,t,n)=>{var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},72385:e=>{e.exports=function(e){return this.__data__.has(e)}},21814:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},30061:(e,t,n)=>{var r=n(56560),i=n(21275)(r);e.exports=i},21275:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},37465:(e,t,n)=>{var r=n(38407);e.exports=function(){this.__data__=new r,this.size=0}},63779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},67599:e=>{e.exports=function(e){return this.__data__.get(e)}},44758:e=>{e.exports=function(e){return this.__data__.has(e)}},34309:(e,t,n)=>{var r=n(38407),i=n(57071),o=n(83369);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},42351:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},83140:(e,t,n)=>{var r=n(44286),i=n(62689),o=n(676);e.exports=function(e){return i(e)?o(e):r(e)}},55514:(e,t,n)=>{var r=n(24523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},40327:(e,t,n)=>{var r=n(33448);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},80346:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},676:e=>{var t="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+t+"|"+n+")?",s="[\\ufe0e\\ufe0f]?",l=s+a+"(?:\\u200d(?:"+[r,i,o].join("|")+")"+s+a+")*",u="(?:"+[r+t+"?",t,i,o,"[\\ud800-\\udfff]"].join("|")+")",c=RegExp(n+"(?="+n+")|"+u+l,"g");e.exports=function(e){return e.match(c)||[]}},75703:e=>{e.exports=function(e){return function(){return e}}},23279:(e,t,n)=>{var r=n(13218),i=n(7771),o=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,u,c,h,p,d,f=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=u;return l=u=void 0,f=t,h=e.apply(r,n)}function _(e){return f=e,p=setTimeout(x,t),m?v(e):h}function b(e){var n=e-d;return void 0===d||n>=t||n<0||g&&e-f>=c}function x(){var e=i();if(b(e))return w(e);p=setTimeout(x,function(e){var n=t-(e-d);return g?s(n,c-(e-f)):n}(e))}function w(e){return p=void 0,y&&l?v(e):(l=u=void 0,h)}function E(){var e=i(),n=b(e);if(l=arguments,u=this,d=e,n){if(void 0===p)return _(d);if(g)return clearTimeout(p),p=setTimeout(x,t),v(d)}return void 0===p&&(p=setTimeout(x,t)),h}return t=o(t)||0,r(n)&&(m=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,y="trailing"in n?!!n.trailing:y),E.cancel=function(){void 0!==p&&clearTimeout(p),f=0,l=d=u=p=void 0},E.flush=function(){return void 0===p?h:w(i())},E}},77813:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},711:(e,t,n)=>{var r=n(66193),i=n(93239),o=n(67206),a=n(1469),s=n(16612);e.exports=function(e,t,n){var l=a(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,o(t,3))}},13311:(e,t,n)=>{var r=n(67740)(n(30998));e.exports=r},30998:(e,t,n)=>{var r=n(41848),i=n(67206),o=n(40554),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(e,i(t,3),l)}},94654:(e,t,n)=>{var r=n(21078),i=n(35161);e.exports=function(e,t){return r(i(e,t),1)}},27361:(e,t,n)=>{var r=n(97786);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},79095:(e,t,n)=>{var r=n(13),i=n(222);e.exports=function(e,t){return null!=e&&i(e,t,r)}},6557:e=>{e.exports=function(e){return e}},35694:(e,t,n)=>{var r=n(9454),i=n(37005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},1469:e=>{var t=Array.isArray;e.exports=t},98612:(e,t,n)=>{var r=n(23560),i=n(41780);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},51584:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},44144:(e,t,n)=>{e=n.nmd(e);var r=n(55639),i=n(95062),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},18446:(e,t,n)=>{var r=n(90939);e.exports=function(e,t){return r(e,t)}},23560:(e,t,n)=>{var r=n(44239),i=n(13218);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},41780:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7654:(e,t,n)=>{var r=n(81763);e.exports=function(e){return r(e)&&e!=+e}},14293:e=>{e.exports=function(e){return null==e}},81763:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},47037:(e,t,n)=>{var r=n(44239),i=n(1469),o=n(37005);e.exports=function(e){return"string"==typeof e||!i(e)&&o(e)&&"[object String]"==r(e)}},33448:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},36719:(e,t,n)=>{var r=n(38749),i=n(7518),o=n(31167),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},3674:(e,t,n)=>{var r=n(14636),i=n(280),o=n(98612);e.exports=function(e){return o(e)?r(e):i(e)}},10928:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},35161:(e,t,n)=>{var r=n(29932),i=n(67206),o=n(69199),a=n(1469);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},66604:(e,t,n)=>{var r=n(89465),i=n(47816),o=n(67206);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},6162:(e,t,n)=>{var r=n(56029),i=n(53325),o=n(6557);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},88306:(e,t,n)=>{var r=n(83369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},53632:(e,t,n)=>{var r=n(56029),i=n(70433),o=n(6557);e.exports=function(e){return e&&e.length?r(e,o,i):void 0}},50308:e=>{e.exports=function(){}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},39601:(e,t,n)=>{var r=n(40371),i=n(79152),o=n(15403),a=n(40327);e.exports=function(e){return o(e)?r(a(e)):i(e)}},96026:(e,t,n)=>{var r=n(47445)();e.exports=r},59704:(e,t,n)=>{var r=n(82908),i=n(67206),o=n(5076),a=n(1469),s=n(16612);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},89734:(e,t,n)=>{var r=n(21078),i=n(82689),o=n(5976),a=n(16612),s=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&a(e,t[0],t[1])?t=[]:n>2&&a(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},70479:e=>{e.exports=function(){return[]}},95062:e=>{e.exports=function(){return!1}},23493:(e,t,n)=>{var r=n(23279),i=n(13218);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},18601:(e,t,n)=>{var r=n(14841);e.exports=function(e){return e?Infinity===(e=r(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},40554:(e,t,n)=>{var r=n(18601);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var r=n(27561),i=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},79833:(e,t,n)=>{var r=n(80531);e.exports=function(e){return null==e?"":r(e)}},45578:(e,t,n)=>{var r=n(67206),i=n(45652);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},11700:(e,t,n)=>{var r=n(98805)("toUpperCase");e.exports=r},26961:(e,t,n)=>{var r,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function i(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var n=o._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),n=new Uint8Array(2*t.length),r=0,i=t.length;r<i;r++){var a=t.charCodeAt(r);n[2*r]=a>>>8,n[2*r+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return o.decompress(t);for(var n=new Array(t.length/2),r=0,i=n.length;r<i;r++)n[r]=256*t[2*r]+t[2*r+1];var a=[];return n.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,i,o,a={},s={},l="",u="",c="",h=2,p=3,d=2,f=[],m=0,g=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=p++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(i=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}0==--h&&(h=Math.pow(2,d),d++),delete s[c]}else for(i=a[c],r=0;r<d;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1;0==--h&&(h=Math.pow(2,d),d++),a[u]=p++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(r=0;r<d;r++)m<<=1,g==t-1?(g=0,f.push(n(m)),m=0):g++;for(i=c.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}else{for(i=1,r=0;r<d;r++)m=m<<1|i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i=0;for(i=c.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1}0==--h&&(h=Math.pow(2,d),d++),delete s[c]}else for(i=a[c],r=0;r<d;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1;0==--h&&(h=Math.pow(2,d),d++)}for(i=2,r=0;r<d;r++)m=m<<1|1&i,g==t-1?(g=0,f.push(n(m)),m=0):g++,i>>=1;for(;;){if(m<<=1,g==t-1){f.push(n(m));break}g++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var i,o,a,s,l,u,c,h=[],p=4,d=4,f=3,m="",g=[],y={val:r(0),position:n,index:1};for(i=0;i<3;i+=1)h[i]=i;for(a=0,l=Math.pow(2,2),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;switch(a){case 0:for(a=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 1:for(a=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 2:return""}for(h[3]=c,o=c,g.push(c);;){if(y.index>t)return"";for(a=0,l=Math.pow(2,f),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;switch(c=a){case 0:for(a=0,l=Math.pow(2,8),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;h[d++]=e(a),c=d-1,p--;break;case 1:for(a=0,l=Math.pow(2,16),u=1;u!=l;)s=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),a|=(s>0?1:0)*u,u<<=1;h[d++]=e(a),c=d-1,p--;break;case 2:return g.join("")}if(0==p&&(p=Math.pow(2,f),f++),h[c])m=h[c];else{if(c!==d)return null;m=o+o.charAt(0)}g.push(m),h[d++]=o+m.charAt(0),o=m,0==--p&&(p=Math.pow(2,f),f++)}}};return o}();void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(l[c]=a[c]);if(t){s=t(a);for(var h=0;h<s.length;h++)r.call(a,s[h])&&(l[s[h]]=a[s[h]])}}return l}},24244:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},20609:(e,t,n)=>{"use strict";var r=n(4289),i=n(55559),o=n(24244),a=n(75624),s=n(52281),l=i(a(),Object);r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},75624:(e,t,n)=>{"use strict";var r=n(24244);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},52281:(e,t,n)=>{"use strict";var r=n(75624),i=n(4289);e.exports=function(){var e=r();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},18987:(e,t,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=n(21414),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===o.call(e),r=a(e),s=t&&"[object String]"===o.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=u&&n;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var y in e)f&&"prototype"===y||!i.call(e,y)||p.push(String(y));if(l)for(var v=function(e){if("undefined"==typeof window||!d)return h(e);try{return h(e)}catch(e){return!1}}(e),_=0;_<c.length;++_)v&&"constructor"===c[_]||!i.call(e,c[_])||p.push(c[_]);return p}}e.exports=r},82215:(e,t,n)=>{"use strict";var r=Array.prototype.slice,i=n(21414),o=Object.keys,a=o?function(e){return o(e)}:n(18987),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(r.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},21414:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},11895:e=>{e.exports=function(e,t,n,r){var i=e[0],o=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=(r-n)/2,l=0,u=s-1;l<s;u=l++){var c=t[n+2*l+0],h=t[n+2*l+1],p=t[n+2*u+0],d=t[n+2*u+1];h>o!=d>o&&i<(p-c)*(o-h)/(d-h)+c&&(a=!a)}return a}},26960:(e,t,n)=>{var r=n(11895),i=n(88139);e.exports=function(e,t,n,o){return t.length>0&&Array.isArray(t[0])?i(e,t,n,o):r(e,t,n,o)},e.exports.nested=i,e.exports.flat=r},88139:e=>{e.exports=function(e,t,n,r){var i=e[0],o=e[1],a=!1;void 0===n&&(n=0),void 0===r&&(r=t.length);for(var s=r-n,l=0,u=s-1;l<s;u=l++){var c=t[l+n][0],h=t[l+n][1],p=t[u+n][0],d=t[u+n][1];h>o!=d>o&&i<(p-c)*(o-h)/(d-h)+c&&(a=!a)}return a}},32676:function(e){e.exports=function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}var r=function(e,t){this.next=null,this.key=e,this.data=t,this.left=null,this.right=null};function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n){for(var i=new r(null,null),o=i,a=i;;){var s=n(e,t.key);if(s<0){if(null===t.left)break;if(n(e,t.left.key)<0){var l=t.left;if(t.left=l.right,l.right=t,null===(t=l).left)break}a.left=t,a=t,t=t.left}else{if(!(s>0))break;if(null===t.right)break;if(n(e,t.right.key)>0&&(l=t.right,t.right=l.left,l.left=t,null===(t=l).right))break;o.right=t,o=t,t=t.right}}return o.right=t.left,a.left=t.right,t.left=i.right,t.right=i.left,t}function a(e,t,n,i){var a=new r(e,t);if(null===n)return a.left=a.right=null,a;var s=i(e,(n=o(e,n,i)).key);return s<0?(a.left=n.left,a.right=n,n.left=null):s>=0&&(a.right=n.right,a.left=n,n.right=null),a}function s(e,t,n){var r=null,i=null;if(t){var a=n((t=o(e,t,n)).key,e);0===a?(r=t.left,i=t.right):a<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function l(e,t,n,r,i){if(e){r(t+(n?"└── ":"├── ")+i(e)+"\n");var o=t+(n?"    ":"│   ");e.left&&l(e.left,o,!1,r,i),e.right&&l(e.right,o,!0,r,i)}}var u=function(){function e(e){void 0===e&&(e=i),this._root=null,this._size=0,this._comparator=e}return e.prototype.insert=function(e,t){return this._size++,this._root=a(e,t,this._root,this._comparator)},e.prototype.add=function(e,t){var n=new r(e,t);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var i=this._comparator,a=o(e,this._root,i),s=i(e,a.key);return 0===s?this._root=a:(s<0?(n.left=a.left,n.right=a,a.left=null):s>0&&(n.right=a.right,n.left=a,a.right=null),this._size++,this._root=n),this._root},e.prototype.remove=function(e){this._root=this._remove(e,this._root,this._comparator)},e.prototype._remove=function(e,t,n){var r;return null===t?null:0===n(e,(t=o(e,t,n)).key)?(null===t.left?r=t.right:(r=o(e,t.left,n)).right=t.right,this._size--,r):t},e.prototype.pop=function(){var e=this._root;if(e){for(;e.left;)e=e.left;return this._root=o(e.key,this._root,this._comparator),this._root=this._remove(e.key,this._root,this._comparator),{key:e.key,data:e.data}}return null},e.prototype.findStatic=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return t;t=r<0?t.left:t.right}return null},e.prototype.find=function(e){return this._root&&(this._root=o(e,this._root,this._comparator),0!==this._comparator(e,this._root.key))?null:this._root},e.prototype.contains=function(e){for(var t=this._root,n=this._comparator;t;){var r=n(e,t.key);if(0===r)return!0;t=r<0?t.left:t.right}return!1},e.prototype.forEach=function(e,t){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),e.call(t,n),n=n.right):i=!0;return this},e.prototype.range=function(e,t,n,r){for(var i=[],o=this._comparator,a=this._root;0!==i.length||a;)if(a)i.push(a),a=a.left;else{if(o((a=i.pop()).key,t)>0)break;if(o(a.key,e)>=0&&n.call(r,a))return this;a=a.right}return this},e.prototype.keys=function(){var e=[];return this.forEach((function(t){var n=t.key;return e.push(n)})),e},e.prototype.values=function(){var e=[];return this.forEach((function(t){var n=t.data;return e.push(n)})),e},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.left;)e=e.left;return e},e.prototype.maxNode=function(e){if(void 0===e&&(e=this._root),e)for(;e.right;)e=e.right;return e},e.prototype.at=function(e){for(var t=this._root,n=!1,r=0,i=[];!n;)if(t)i.push(t),t=t.left;else if(i.length>0){if(t=i.pop(),r===e)return t;r++,t=t.right}else n=!0;return null},e.prototype.next=function(e){var t=this._root,n=null;if(e.right){for(n=e.right;n.left;)n=n.left;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?(n=t,t=t.left):t=t.right}return n},e.prototype.prev=function(e){var t=this._root,n=null;if(null!==e.left){for(n=e.left;n.right;)n=n.right;return n}for(var r=this._comparator;t;){var i=r(e.key,t.key);if(0===i)break;i<0?t=t.left:(n=t,t=t.right)}return n},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return function(e){for(var t=e,n=[],i=!1,o=new r(null,null),a=o;!i;)t?(n.push(t),t=t.left):n.length>0?t=(t=a=a.next=n.pop()).right:i=!0;return a.next=null,o.next}(this._root)},e.prototype.load=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=!1);var i=e.length,o=this._comparator;if(n&&p(e,t,0,i-1,o),null===this._root)this._root=c(e,t,0,i),this._size=i;else{var a=function(e,t,n){for(var i=new r(null,null),o=i,a=e,s=t;null!==a&&null!==s;)n(a.key,s.key)<0?(o.next=a,a=a.next):(o.next=s,s=s.next),o=o.next;return null!==a?o.next=a:null!==s&&(o.next=s),i.next}(this.toList(),function(e,t){for(var n=new r(null,null),i=n,o=0;o<e.length;o++)i=i.next=new r(e[o],t[o]);return i.next=null,n.next}(e,t),o);i=this._size+i,this._root=h({head:a},0,i)}return this},e.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){void 0===e&&(e=function(e){return String(e.key)});var t=[];return l(this._root,"",!0,(function(e){return t.push(e)}),e),t.join("")},e.prototype.update=function(e,t,n){var r=this._comparator,i=s(e,this._root,r),l=i.left,u=i.right;r(e,t)<0?u=a(t,n,u,r):l=a(t,n,l,r),this._root=function(e,t,n){return null===t?e:(null===e||((t=o(e.key,t,n)).left=e),t)}(l,u,r)},e.prototype.split=function(e){return s(e,this._root,this._comparator)},e}();function c(e,t,n,i){var o=i-n;if(o>0){var a=n+Math.floor(o/2),s=e[a],l=t[a],u=new r(s,l);return u.left=c(e,t,n,a),u.right=c(e,t,a+1,i),u}return null}function h(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),o=h(e,t,i),a=e.head;return a.left=o,e.head=e.head.next,a.right=h(e,i+1,n),a}return null}function p(e,t,n,r,i){if(!(n>=r)){for(var o=e[n+r>>1],a=n-1,s=r+1;;){do{a++}while(i(e[a],o)<0);do{s--}while(i(e[s],o)>0);if(a>=s)break;var l=e[a];e[a]=e[s],e[s]=l,l=t[a],t[a]=t[s],t[s]=l}p(e,t,n,s,i),p(e,t,s+1,r,i)}}var d=function(e,t){return e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y},f=function(e,t){if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;var n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x;return{ll:{x:n,y:e.ll.y<t.ll.y?t.ll.y:e.ll.y},ur:{x:r,y:e.ur.y<t.ur.y?e.ur.y:t.ur.y}}},m=Number.EPSILON;void 0===m&&(m=Math.pow(2,-52));var g=m*m,y=function(e,t){if(-m<e&&e<m&&-m<t&&t<m)return 0;var n=e-t;return n*n<g*e*t?0:e<t?-1:1},v=function(){function t(){e(this,t),this.reset()}return n(t,[{key:"reset",value:function(){this.xRounder=new _,this.yRounder=new _}},{key:"round",value:function(e,t){return{x:this.xRounder.round(e),y:this.yRounder.round(t)}}}]),t}(),_=function(){function t(){e(this,t),this.tree=new u,this.round(0)}return n(t,[{key:"round",value:function(e){var t=this.tree.add(e),n=this.tree.prev(t);if(null!==n&&0===y(t.key,n.key))return this.tree.remove(e),n.key;var r=this.tree.next(t);return null!==r&&0===y(t.key,r.key)?(this.tree.remove(e),r.key):e}}]),t}(),b=new v,x=function(e,t){return e.x*t.y-e.y*t.x},w=function(e,t){return e.x*t.x+e.y*t.y},E=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y},o=x(r,i);return y(o,0)},S=function(e){return Math.sqrt(w(e,e))},C=function(e,t,n){var r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return w(i,r)/S(i)/S(r)},T=function(e,t,n){return 0===t.y?null:{x:e.x+t.x/t.y*(n-e.y),y:n}},I=function(e,t,n){return 0===t.x?null:{x:n,y:e.y+t.y/t.x*(n-e.x)}},k=function(){function t(n,r){e(this,t),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return n(t,null,[{key:"compare",value:function(e,n){var r=t.comparePoints(e.point,n.point);return 0!==r?r:(e.point!==n.point&&e.link(n),e.isLeft!==n.isLeft?e.isLeft?1:-1:L.compare(e.segment,n.segment))}},{key:"comparePoints",value:function(e,t){return e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0}}]),n(t,[{key:"link",value:function(e){if(e.point===this.point)throw new Error("Tried to link already linked events");for(var t=e.point.events,n=0,r=t.length;n<r;n++){var i=t[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var e=this.point.events.length,t=0;t<e;t++){var n=this.point.events[t];if(void 0===n.segment.consumedBy)for(var r=t+1;r<e;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var e=[],t=0,n=this.point.events.length;t<n;t++){var r=this.point.events[t];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&e.push(r)}return e}},{key:"getLeftmostComparator",value:function(e){var t=this,n=new Map,r=function(r){var i,o,a,s,l,u=r.otherSE;n.set(r,{sine:(i=t.point,o=e.point,a=u.point,s={x:o.x-i.x,y:o.y-i.y},l={x:a.x-i.x,y:a.y-i.y},x(l,s)/S(l)/S(s)),cosine:C(t.point,e.point,u.point)})};return function(e,t){n.has(e)||r(e),n.has(t)||r(t);var i=n.get(e),o=i.sine,a=i.cosine,s=n.get(t),l=s.sine,u=s.cosine;return o>=0&&l>=0?a<u?1:a>u?-1:0:o<0&&l<0?a<u?-1:a>u?1:0:l<o?-1:l>o?1:0}}}]),t}(),P=0,L=function(){function t(n,r,i,o){e(this,t),this.id=++P,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=o}return n(t,null,[{key:"compare",value:function(e,t){var n=e.leftSE.point.x,r=t.leftSE.point.x,i=e.rightSE.point.x,o=t.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var a=e.leftSE.point.y,s=t.leftSE.point.y,l=e.rightSE.point.y,u=t.rightSE.point.y;if(n<r){if(s<a&&s<l)return 1;if(s>a&&s>l)return-1;var c=e.comparePoint(t.leftSE.point);if(c<0)return 1;if(c>0)return-1;var h=t.comparePoint(e.rightSE.point);return 0!==h?h:-1}if(n>r){if(a<s&&a<u)return-1;if(a>s&&a>u)return 1;var p=t.comparePoint(e.leftSE.point);if(0!==p)return p;var d=e.comparePoint(t.rightSE.point);return d<0?1:d>0?-1:1}if(a<s)return-1;if(a>s)return 1;if(i<o){var f=t.comparePoint(e.rightSE.point);if(0!==f)return f}if(i>o){var m=e.comparePoint(t.rightSE.point);if(m<0)return 1;if(m>0)return-1}if(i!==o){var g=l-a,y=i-n,v=u-s,_=o-r;if(g>y&&v<_)return 1;if(g<y&&v>_)return-1}return i>o?1:i<o||l<u?-1:l>u?1:e.id<t.id?-1:e.id>t.id?1:0}}]),n(t,[{key:"replaceRightSE",value:function(e){this.rightSE=e,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var e=this.leftSE.point.y,t=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:e<t?e:t},ur:{x:this.rightSE.point.x,y:e>t?e:t}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(e){return e.x===this.leftSE.point.x&&e.y===this.leftSE.point.y||e.x===this.rightSE.point.x&&e.y===this.rightSE.point.y}},{key:"comparePoint",value:function(e){if(this.isAnEndpoint(e))return 0;var t=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(t.x===n.x)return e.x===t.x?0:e.x<t.x?1:-1;var i=(e.y-t.y)/r.y,o=t.x+i*r.x;if(e.x===o)return 0;var a=(e.x-t.x)/r.x,s=t.y+a*r.y;return e.y===s?0:e.y<s?-1:1}},{key:"getIntersection",value:function(e){var t=this.bbox(),n=e.bbox(),r=f(t,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,a=e.leftSE.point,s=e.rightSE.point,l=d(t,a)&&0===this.comparePoint(a),u=d(n,i)&&0===e.comparePoint(i),c=d(t,s)&&0===this.comparePoint(s),h=d(n,o)&&0===e.comparePoint(o);if(u&&l)return h&&!c?o:!h&&c?s:null;if(u)return c&&i.x===s.x&&i.y===s.y?null:i;if(l)return h&&o.x===a.x&&o.y===a.y?null:a;if(h&&c)return null;if(h)return o;if(c)return s;var p=function(e,t,n,r){if(0===t.x)return I(n,r,e.x);if(0===r.x)return I(e,t,n.x);if(0===t.y)return T(n,r,e.y);if(0===r.y)return T(e,t,n.y);var i=x(t,r);if(0==i)return null;var o={x:n.x-e.x,y:n.y-e.y},a=x(o,t)/i,s=x(o,r)/i;return{x:(e.x+s*t.x+(n.x+a*r.x))/2,y:(e.y+s*t.y+(n.y+a*r.y))/2}}(i,this.vector(),a,e.vector());return null===p?null:d(r,p)?b.round(p.x,p.y):null}},{key:"split",value:function(e){var n=[],r=void 0!==e.events,i=new k(e,!0),o=new k(e,!1),a=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var s=new t(i,a,this.rings.slice(),this.windings.slice());return k.comparePoints(s.leftSE.point,s.rightSE.point)>0&&s.swapEvents(),k.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var e=this.rightSE;this.rightSE=this.leftSE,this.leftSE=e,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var t=0,n=this.windings.length;t<n;t++)this.windings[t]*=-1}},{key:"consume",value:function(e){for(var n=this,r=e;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=t.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var a=n;n=r,r=a}for(var s=0,l=r.rings.length;s<l;s++){var u=r.rings[s],c=r.windings[s],h=n.rings.indexOf(u);-1===h?(n.rings.push(u),n.windings.push(c)):n.windings[h]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var e=this.prev.consumedBy||this.prev;this._beforeState=e.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var e=this.beforeState();this._afterState={rings:e.rings.slice(0),windings:e.windings.slice(0),multiPolys:[]};for(var t=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var a=this.rings[i],s=this.windings[i],l=t.indexOf(a);-1===l?(t.push(a),n.push(s)):n[l]+=s}for(var u=[],c=[],h=0,p=t.length;h<p;h++)if(0!==n[h]){var d=t[h],f=d.poly;if(-1===c.indexOf(f))if(d.isExterior)u.push(f);else{-1===c.indexOf(f)&&c.push(f);var m=u.indexOf(d.poly);-1!==m&&u.splice(m,1)}}for(var g=0,y=u.length;g<y;g++){var v=u[g].multiPoly;-1===r.indexOf(v)&&r.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var e=this.beforeState().multiPolys,t=this.afterState().multiPolys;switch(j.type){case"union":var n=0===e.length,r=0===t.length;this._isInResult=n!==r;break;case"intersection":var i,o;e.length<t.length?(i=e.length,o=t.length):(i=t.length,o=e.length),this._isInResult=o===j.numMultiPolys&&i<o;break;case"xor":var a=Math.abs(e.length-t.length);this._isInResult=a%2==1;break;case"difference":var s=function(e){return 1===e.length&&e[0].isSubject};this._isInResult=s(e)!==s(t);break;default:throw new Error("Unrecognized operation type found ".concat(j.type))}return this._isInResult}}],[{key:"fromRing",value:function(e,n,r){var i,o,a,s=k.comparePoints(e,n);if(s<0)i=e,o=n,a=1;else{if(!(s>0))throw new Error("Tried to create degenerate segment at [".concat(e.x,", ").concat(e.y,"]"));i=n,o=e,a=-1}return new t(new k(i,!0),new k(o,!1),[r],[a])}}]),t}(),M=function(){function t(n,r,i){if(e(this,t),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!=typeof n[0][0]||"number"!=typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=b.round(n[0][0],n[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var a=o,s=1,l=n.length;s<l;s++){if("number"!=typeof n[s][0]||"number"!=typeof n[s][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var u=b.round(n[s][0],n[s][1]);u.x===a.x&&u.y===a.y||(this.segments.push(L.fromRing(a,u,this)),u.x<this.bbox.ll.x&&(this.bbox.ll.x=u.x),u.y<this.bbox.ll.y&&(this.bbox.ll.y=u.y),u.x>this.bbox.ur.x&&(this.bbox.ur.x=u.x),u.y>this.bbox.ur.y&&(this.bbox.ur.y=u.y),a=u)}o.x===a.x&&o.y===a.y||this.segments.push(L.fromRing(a,o,this))}return n(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.segments.length;t<n;t++){var r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}}]),t}(),A=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new M(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=n.length;i<o;i++){var a=new M(n[i],this,!1);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=r}return n(t,[{key:"getSweepEvents",value:function(){for(var e=this.exteriorRing.getSweepEvents(),t=0,n=this.interiorRings.length;t<n;t++)for(var r=this.interiorRings[t].getSweepEvents(),i=0,o=r.length;i<o;i++)e.push(r[i]);return e}}]),t}(),O=function(){function t(n,r){if(e(this,t),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof n[0][0][0]&&(n=[n])}catch(e){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=n.length;i<o;i++){var a=new A(n[i],this);a.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=r}return n(t,[{key:"getSweepEvents",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++)for(var r=this.polys[t].getSweepEvents(),i=0,o=r.length;i<o;i++)e.push(r[i]);return e}}]),t}(),R=function(){function t(n){e(this,t),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return n(t,null,[{key:"factory",value:function(e){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];if(o.isInResult()&&!o.ringOut){for(var a=null,s=o.leftSE,l=o.rightSE,u=[s],c=s.point,h=[];a=s,s=l,u.push(s),s.point!==c;)for(;;){var p=s.getAvailableLinkedEvents();if(0===p.length){var d=u[0].point,f=u[u.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(d.x,",")+" ".concat(d.y,"]. Last matching segment found ends at")+" [".concat(f.x,", ").concat(f.y,"]."))}if(1===p.length){l=p[0].otherSE;break}for(var m=null,g=0,y=h.length;g<y;g++)if(h[g].point===s.point){m=g;break}if(null===m){h.push({index:u.length,point:s.point});var v=s.getLeftmostComparator(a);l=p.sort(v)[0].otherSE;break}var _=h.splice(m)[0],b=u.splice(_.index);b.unshift(b[0].otherSE),n.push(new t(b.reverse()))}n.push(new t(u))}}return n}}]),n(t,[{key:"getGeom",value:function(){for(var e=this.events[0].point,t=[e],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==E(i,e,o)&&(t.push(i),e=i)}if(1===t.length)return null;var a=t[0],s=t[1];0===E(a,e,s)&&t.shift(),t.push(t[0]);for(var l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:t.length-1,c=this.isExteriorRing()?t.length:-1,h=[],p=u;p!=c;p+=l)h.push([t[p].x,t[p].y]);return h}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var e=this.enclosingRing();this._isExteriorRing=!e||!e.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var e=this.events[0],t=1,n=this.events.length;t<n;t++){var r=this.events[t];k.compare(e,r)>0&&(e=r)}for(var i=e.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),t}(),N=function(){function t(n){e(this,t),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return n(t,[{key:"addInterior",value:function(e){this.interiorRings.push(e),e.poly=this}},{key:"getGeom",value:function(){var e=[this.exteriorRing.getGeom()];if(null===e[0])return null;for(var t=0,n=this.interiorRings.length;t<n;t++){var r=this.interiorRings[t].getGeom();null!==r&&e.push(r)}return e}}]),t}(),D=function(){function t(n){e(this,t),this.rings=n,this.polys=this._composePolys(n)}return n(t,[{key:"getGeom",value:function(){for(var e=[],t=0,n=this.polys.length;t<n;t++){var r=this.polys[t].getGeom();null!==r&&e.push(r)}return e}},{key:"_composePolys",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(!i.poly)if(i.isExteriorRing())t.push(new N(i));else{var o=i.enclosingRing();o.poly||t.push(new N(o)),o.poly.addInterior(i)}}return t}}]),t}(),z=function(){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L.compare;e(this,t),this.queue=n,this.tree=new u(r),this.segments=[]}return n(t,[{key:"process",value:function(e){var t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.remove(e.otherSE):this.tree.remove(t),n;var r=e.isLeft?this.tree.insert(t):this.tree.find(t);if(!r)throw new Error("Unable to find segment #".concat(t.id," ")+"[".concat(t.leftSE.point.x,", ").concat(t.leftSE.point.y,"] -> ")+"[".concat(t.rightSE.point.x,", ").concat(t.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,a=void 0,s=void 0;void 0===a;)null===(i=this.tree.prev(i))?a=null:void 0===i.key.consumedBy&&(a=i.key);for(;void 0===s;)null===(o=this.tree.next(o))?s=null:void 0===o.key.consumedBy&&(s=o.key);if(e.isLeft){var l=null;if(a){var u=a.getIntersection(t);if(null!==u&&(t.isAnEndpoint(u)||(l=u),!a.isAnEndpoint(u)))for(var c=this._splitSafely(a,u),h=0,p=c.length;h<p;h++)n.push(c[h])}var d=null;if(s){var f=s.getIntersection(t);if(null!==f&&(t.isAnEndpoint(f)||(d=f),!s.isAnEndpoint(f)))for(var m=this._splitSafely(s,f),g=0,y=m.length;g<y;g++)n.push(m[g])}if(null!==l||null!==d){var v;v=null===l?d:null===d||k.comparePoints(l,d)<=0?l:d,this.queue.remove(t.rightSE),n.push(t.rightSE);for(var _=t.split(v),b=0,x=_.length;b<x;b++)n.push(_[b])}n.length>0?(this.tree.remove(t),n.push(e)):(this.segments.push(t),t.prev=a)}else{if(a&&s){var w=a.getIntersection(s);if(null!==w){if(!a.isAnEndpoint(w))for(var E=this._splitSafely(a,w),S=0,C=E.length;S<C;S++)n.push(E[S]);if(!s.isAnEndpoint(w))for(var T=this._splitSafely(s,w),I=0,P=T.length;I<P;I++)n.push(T[I])}}this.tree.remove(t)}return n}},{key:"_splitSafely",value:function(e,t){this.tree.remove(e);var n=e.rightSE;this.queue.remove(n);var r=e.split(t);return r.push(n),void 0===e.consumedBy&&this.tree.insert(e),r}}]),t}(),F="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,B="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,j=new(function(){function t(){e(this,t)}return n(t,[{key:"run",value:function(e,t,n){j.type=e,b.reset();for(var r=[new O(t,!0)],i=0,o=n.length;i<o;i++)r.push(new O(n[i],!1));if(j.numMultiPolys=r.length,"difference"===j.type)for(var a=r[0],s=1;s<r.length;)null!==f(r[s].bbox,a.bbox)?s++:r.splice(s,1);if("intersection"===j.type)for(var l=0,c=r.length;l<c;l++)for(var h=r[l],p=l+1,d=r.length;p<d;p++)if(null===f(h.bbox,r[p].bbox))return[];for(var m=new u(k.compare),g=0,y=r.length;g<y;g++)for(var v=r[g].getSweepEvents(),_=0,x=v.length;_<x;_++)if(m.insert(v[_]),m.size>F)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var w=new z(m),E=m.size,S=m.pop();S;){var C=S.key;if(m.size===E){var T=C.segment;throw new Error("Unable to pop() ".concat(C.isLeft?"left":"right"," SweepEvent ")+"[".concat(C.point.x,", ").concat(C.point.y,"] from segment #").concat(T.id," ")+"[".concat(T.leftSE.point.x,", ").concat(T.leftSE.point.y,"] -> ")+"[".concat(T.rightSE.point.x,", ").concat(T.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(m.size>F)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(w.segments.length>B)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var I=w.process(C),P=0,L=I.length;P<L;P++){var M=I[P];void 0===M.consumedBy&&m.insert(M)}E=m.size,S=m.pop()}b.reset();var A=R.factory(w.segments);return new D(A).getGeom()}}]),t}());return{union:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("union",e,n)},intersection:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("intersection",e,n)},xor:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("xor",e,n)},difference:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.run("difference",e,n)}}}()},92703:(e,t,n)=>{"use strict";var r=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:(e,t,n)=>{e.exports=n(92703)()},50414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},65510:(e,t,n)=>{"use strict";e.exports=i,e.exports.default=i;var r=n(84291);function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),t&&this._initFormat(t),this.clear()}function o(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function a(e,t){s(e,0,e.children.length,t,e)}function s(e,t,n,r,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,a=t;a<n;a++)o=e.children[a],l(i,e.leaf?r(o):o);return i}function l(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function h(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function p(e){return e.maxX-e.minX+(e.maxY-e.minY)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function f(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,t,n,i,o){for(var a,s=[t,n];s.length;)(n=s.pop())-(t=s.pop())<=i||(a=t+Math.ceil((n-t)/i/2)*i,r(e,a,t,n,o),s.push(t,a,a,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,n=[],r=this.toBBox;if(!f(e,t))return n;for(var i,o,a,s,l=[];t;){for(i=0,o=t.children.length;i<o;i++)a=t.children[i],f(e,s=t.leaf?r(a):a)&&(t.leaf?n.push(a):d(e,s)?this._all(a,n):l.push(a));t=l.pop()}return n},collides:function(e){var t=this.data,n=this.toBBox;if(!f(e,t))return!1;for(var r,i,o,a,s=[];t;){for(r=0,i=t.children.length;r<i;r++)if(o=t.children[r],f(e,a=t.leaf?n(o):o)){if(t.leaf||d(e,a))return!0;s.push(o)}t=s.pop()}return!1},load:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0,n=e.length;t<n;t++)this.insert(e[t]);return this}var r=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(e){return e&&this._insert(e,this.data.height-1),this},clear:function(){return this.data=m([]),this},remove:function(e,t){if(!e)return this;for(var n,r,i,a,s=this.data,l=this.toBBox(e),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=c.pop(),a=!0),s.leaf&&-1!==(i=o(e,s.children,t)))return s.children.splice(i,1),u.push(s),this._condense(u),this;a||s.leaf||!d(s,l)?r?(n++,s=r.children[n],a=!1):s=null:(u.push(s),c.push(n),n=0,r=s,s=s.children[0])}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){return this.data=e,this},_all:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},_build:function(e,t,n,r){var i,o=n-t+1,s=this._maxEntries;if(o<=s)return a(i=m(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=m([])).leaf=!1,i.height=r;var l,u,c,h,p=Math.ceil(o/s),d=p*Math.ceil(Math.sqrt(s));for(g(e,t,n,d,this.compareMinX),l=t;l<=n;l+=d)for(g(e,l,c=Math.min(l+d-1,n),p,this.compareMinY),u=l;u<=c;u+=p)h=Math.min(u+p-1,c),i.children.push(this._build(e,u,h,r-1));return a(i,this.toBBox),i},_chooseSubtree:function(e,t,n,r){for(var i,o,a,s,l,u,c,p,d,f;r.push(t),!t.leaf&&r.length-1!==n;){for(c=p=1/0,i=0,o=t.children.length;i<o;i++)l=h(a=t.children[i]),d=e,f=a,(u=(Math.max(f.maxX,d.maxX)-Math.min(f.minX,d.minX))*(Math.max(f.maxY,d.maxY)-Math.min(f.minY,d.minY))-l)<p?(p=u,c=l<c?l:c,s=a):u===p&&l<c&&(c=l,s=a);t=s||t.children[0]}return t},_insert:function(e,t,n){var r=this.toBBox,i=n?e:r(e),o=[],a=this._chooseSubtree(i,this.data,t,o);for(a.children.push(e),l(a,i);t>=0&&o[t].children.length>this._maxEntries;)this._split(o,t),t--;this._adjustParentBBoxes(i,o,t)},_split:function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=m(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),t?e[t-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(e,t){this.data=m([e,t]),this.data.height=e.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,n){var r,i,o,a,l,u,c,p,d,f,m,g,y,v;for(u=c=1/0,r=t;r<=n-t;r++)d=i=s(e,0,r,this.toBBox),f=o=s(e,r,n,this.toBBox),void 0,void 0,void 0,void 0,m=Math.max(d.minX,f.minX),g=Math.max(d.minY,f.minY),y=Math.min(d.maxX,f.maxX),v=Math.min(d.maxY,f.maxY),a=Math.max(0,y-m)*Math.max(0,v-g),l=h(i)+h(o),a<u?(u=a,p=r,c=l<c?l:c):a===u&&l<c&&(c=l,p=r);return p},_chooseSplitAxis:function(e,t,n){var r=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},_allDistMargin:function(e,t,n,r){e.children.sort(r);var i,o,a=this.toBBox,u=s(e,0,t,a),c=s(e,n-t,n,a),h=p(u)+p(c);for(i=t;i<n-t;i++)o=e.children[i],l(u,e.leaf?a(o):o),h+=p(u);for(i=n-t-1;i>=t;i--)o=e.children[i],l(c,e.leaf?a(o):o),h+=p(c);return h},_adjustParentBBoxes:function(e,t,n){for(var r=n;r>=0;r--)l(t[r],e)},_condense:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():a(e[n],this.toBBox)},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0])),this.compareMinY=new Function("a","b",t.join(e[1])),this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}}},84291:function(e){e.exports=function(){"use strict";function e(n,r,i,o,a){for(;o>i;){if(o-i>600){var s=o-i+1,l=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(s-c)/s)*(l-s/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-l*c/s+h)),Math.min(o,Math.floor(r+(s-l)*c/s+h)),a)}var p=n[r],d=i,f=o;for(t(n,i,r),a(n[o],p)>0&&t(n,i,o);d<f;){for(t(n,d,f),d++,f--;a(n[d],p)<0;)d++;for(;a(n[f],p)>0;)f--}0===a(n[i],p)?t(n,i,f):t(n,++f,o),f<=r&&(i=f+1),r<=f&&(o=f-1)}}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}return function(t,r,i,o,a){e(t,r,i||0,o||t.length-1,a||n)}}()},48531:(e,t,n)=>{"use strict";var r=n(67294),i=n(73935);var o=Object.assign;function a(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function s(){return!0}function l(){return!1}function u(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?s:l,this.isPropagationStopped=l,this}return o(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=s)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=s)},persist:function(){},isPersistent:s}),t}var c={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},h=u(c),p=o({},c,{view:0,detail:0});u(p);var d,f,m,g=o({},p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:x,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==m&&(m&&"mousemove"===e.type?(d=e.screenX-m.screenX,f=e.screenY-m.screenY):f=d=0,m=e),d)},movementY:function(e){return"movementY"in e?e.movementY:f}});u(g),u(o({},g,{dataTransfer:0})),u(o({},p,{relatedTarget:0})),u(o({},c,{animationName:0,elapsedTime:0,pseudoElement:0})),u(o({},c,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),u(o({},c,{data:0}));var y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_[e])&&!!t[e]}function x(){return b}function w(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}u(o({},p,{key:function(e){if(e.key){var t=y[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=a(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:x,charCode:function(e){return"keypress"===e.type?a(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?a(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),u(o({},g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),u(o({},p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:x})),u(o({},c,{propertyName:0,elapsedTime:0,pseudoElement:0})),u(o({},g,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}));var E=!1,S=null,C=!1,T=null,I={onError:function(e){E=!0,S=e}};function k(e,t,n,r,i,o,a,s,l){E=!1,S=null,w.apply(I,arguments)}var P=Array.isArray,L=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,M=L[0],A=L[1],O=L[2],R=L[3],N=L[4],D=r.unstable_act;function z(){}function F(e){return!(!e||1!==e.nodeType||!e.tagName)}function B(e){return!F(e)&&null!=e&&"function"==typeof e.render&&"function"==typeof e.setState}function j(e,t,n){var r=e.type||"unknown-event";e.currentTarget=A(n),function(e,t,n,r,i,o,a,s,l){if(k.apply(this,arguments),E){if(!E)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var u=S;E=!1,S=null,C||(C=!0,T=u)}}(r,t,void 0,e),e.currentTarget=null}function Z(e,t){var n=e.stateNode;if(!n)return null;var r=O(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof n+"` type.");return n}function U(e,t,n){var r=n._reactName;"captured"===t&&(r+="Capture"),(t=Z(e,r))&&(null==n._dispatchListeners&&(n._dispatchListeners=[]),null==n._dispatchInstances&&(n._dispatchInstances=[]),n._dispatchListeners.push(t),n._dispatchInstances.push(e))}var q={},V=new Set(["mouseEnter","mouseLeave","pointerEnter","pointerLeave"]);"blur cancel click close contextMenu copy cut auxClick doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play pointerCancel pointerDown pointerUp rateChange reset resize seeked submit touchCancel touchEnd touchStart volumeChange drag dragEnter dragExit dragLeave dragOver mouseMove mouseOut mouseOver pointerMove pointerOut pointerOver scroll toggle touchMove wheel abort animationEnd animationIteration animationStart canPlay canPlayThrough durationChange emptied encrypted ended error gotPointerCapture load loadedData loadedMetadata loadStart lostPointerCapture playing progress seeking stalled suspend timeUpdate transitionEnd waiting mouseEnter mouseLeave pointerEnter pointerLeave change select beforeInput compositionEnd compositionStart compositionUpdate".split(" ").forEach((function(e){q[e]=function(e){return function(t,n){if(r.isValidElement(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a React element. Pass the DOM node you wish to simulate the event on instead. Note that TestUtils.Simulate will not work if you are using shallow rendering.");if(B(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a component instance. Pass the DOM node you wish to simulate the event on instead.");var a="on"+e[0].toUpperCase()+e.slice(1),s=new z;s.target=t,s.type=e.toLowerCase();var l=M(t),u=new h(a,s.type,l,s,t);u.persist(),o(u,n),V.has(e)?u&&u._reactName&&function(e,t,n){e&&n&&n._reactName&&(t=Z(e,n._reactName))&&(null==n._dispatchListeners&&(n._dispatchListeners=[]),null==n._dispatchInstances&&(n._dispatchInstances=[]),n._dispatchListeners.push(t),n._dispatchInstances.push(e))}(u._targetInst,null,u):u&&u._reactName&&function(e,t,n){for(var r=[];e;){r.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=r.length;0<e--;)t(r[e],"captured",n);for(e=0;e<r.length;e++)t(r[e],"bubbled",n)}(u._targetInst,U,u),i.unstable_batchedUpdates((function(){if(R(t),u){var e=u._dispatchListeners,n=u._dispatchInstances;if(P(e))for(var r=0;r<e.length&&!u.isPropagationStopped();r++)j(u,e[r],n[r]);else e&&j(u,e,n);u._dispatchListeners=null,u._dispatchInstances=null,u.isPersistent()||u.constructor.release(u)}if(C)throw e=T,C=!1,T=null,e})),N()}}(e)})),t.act=D},64448:(e,t,n)=>{"use strict";var r=n(67294),i=n(63840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(d,e)&&(p.test(e)?f[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function N(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,z=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function j(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function Z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return j(e.type,!1);case 11:return j(e.type.render,!1);case 1:return j(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case w:return"Portal";case C:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case L:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(e){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function $(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function K(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){K(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&$(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ee=null,Se=null;function Ce(e){if(e=_i(e)){if("function"!=typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Te(e){Ee?Se?Se.push(e):Se=[e]:Ee=e}function Ie(){if(Ee){var e=Ee,t=Se;if(Se=Ee=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function ke(e,t){return e(t)}function Pe(){}var Le=!1;function Me(e,t,n){if(Le)return e(t,n);Le=!0;try{return ke(e,t,n)}finally{Le=!1,(null!==Ee||null!==Se)&&(Pe(),Ie())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){Oe=!1}function Ne(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,ze=null,Fe=!1,Be=null,je={onError:function(e){De=!0,ze=e}};function Ze(e,t,n,r,i,o,a,s,l){De=!1,ze=null,Ne.apply(je,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ve(i),e;if(a===r)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Xe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ke=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ht(s):0!=(o&=a)&&(r=ht(o))}else 0!=(a=n&~i)?r=ht(a):0!==o&&(r=ht(o));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!=(4194240&o)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0==(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var xt,wt,Et,St,Ct,Tt=!1,It=[],kt=null,Pt=null,Lt=null,Mt=new Map,At=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=_i(t))&&wt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=vi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Ct(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Bt(e,t,n){Ft(e)&&n.delete(t)}function jt(){Tt=!1,null!==kt&&Ft(kt)&&(kt=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==Lt&&Ft(Lt)&&(Lt=null),Mt.forEach(Bt),At.forEach(Bt)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function Ut(e){function t(t){return Zt(t,e)}if(0<It.length){Zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Zt(kt,e),null!==Pt&&Zt(Pt,e),null!==Lt&&Zt(Lt,e),Mt.forEach(t),At.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)zt(n),null===n.blockedOn&&Ot.shift()}var qt=b.ReactCurrentBatchConfig,Vt=!0;function Gt(e,t,n,r){var i=_t,o=qt.transition;qt.transition=null;try{_t=1,Wt(e,t,n,r)}finally{_t=i,qt.transition=o}}function Ht(e,t,n,r){var i=_t,o=qt.transition;qt.transition=null;try{_t=4,Wt(e,t,n,r)}finally{_t=i,qt.transition=o}}function Wt(e,t,n,r){if(Vt){var i=Xt(e,t,n,r);if(null===i)Vr(e,t,r,$t,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kt=Dt(kt,e,t,n,r,i),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,r,i),!0;case"mouseover":return Lt=Dt(Lt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Dt(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Dt(At.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=_i(i);if(null!==o&&xt(o),null===(o=Xt(e,t,n,r))&&Vr(e,t,r,$t,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var $t=null;function Xt(e,t,n,r){if($t=null,null!==(e=vi(e=xe(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Kt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,r=n.length,i="value"in Kt?Kt.value:Kt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=z({},un,{view:0,detail:0}),pn=on(hn),dn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(dn),mn=on(z({},dn,{dataTransfer:0})),gn=on(z({},hn,{relatedTarget:0})),yn=on(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(vn),bn=on(z({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Cn(){return Sn}var Tn=z({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=on(Tn),kn=on(z({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Ln=on(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=z({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=on(Mn),On=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Nn,zn=c&&(!Rn||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Bn=!1;function jn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1,qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=Hr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function $n(e){Fr(e,0)}function Xn(e){if(W(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Kn=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"==typeof er.oninput}Jn=Qn}else Jn=!1;Kn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Xn(Wn)){var t=[];Gn(t,Wn,e,xe(e)),Me($n,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Wn)}function or(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=$((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==$(r)||(r="selectionStart"in(r=gr)&&dr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Er={},Sr={};function Cr(e){if(Er[e])return Er[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Er[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Cr("animationend"),Ir=Cr("animationiteration"),kr=Cr("animationstart"),Pr=Cr("transitionend"),Lr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Lr.set(e,t),l(t,[e])}for(var Or=0;Or<Mr.length;Or++){var Rr=Mr[Or];Ar(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Ar(Tr,"onAnimationEnd"),Ar(Ir,"onAnimationIteration"),Ar(kr,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ze.apply(this,arguments),De){if(!De)throw Error(o(198));var c=ze;De=!1,ze=null,Fe||(Fe=!0,Be=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;zr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;zr(i,s,u),o=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Br(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Zr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Zr]){e[Zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zr]||(t[Zr]=!0,jr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=xe(n),a=[];e:{var s=Lr.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Tr:case Ir:case kr:l=yn;break;case Pr:l=Ln;break;case"scroll":l=pn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var c=0!=(4&t),h=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var d,f=r;null!==f;){var m=(d=f).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==p&&null!=(m=Ae(f,p))&&c.push(Gr(f,m,d))),h)break;f=f.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!vi(u)&&!u[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?vi(u):null)&&(u!==(h=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=kn,m="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==l?s:bi(l),d=null==u?s:bi(u),(s=new c(m,f+"leave",l,n,i)).target=h,s.relatedTarget=d,m=null,vi(i)===r&&((c=new c(p,f+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(p=u,f=0,d=c=l;d;d=Wr(d))f++;for(d=0,m=p;m;m=Wr(m))d++;for(;0<f-d;)c=Wr(c),f--;for(;0<d-f;)p=Wr(p),d--;for(;f--;){if(c===p||null!==p&&c===p.alternate)break e;c=Wr(c),p=Wr(p)}c=null}else c=null;null!==l&&$r(a,s,l,c,!1),null!==u&&null!==h&&$r(a,h,u,c,!0)}if("select"===(l=(s=r?bi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Yn;else if(Vn(s))if(Kn)g=ar;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Gn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?bi(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Un?jn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==_?"onCompositionEnd"===_&&Un&&(v=en()):(Jt="value"in(Kt=i)?Kt.value:Kt.textContent,Un=!0)),0<(y=Hr(r,_)).length&&(_=new bn(_,e,null,n,i),a.push({event:_,listeners:y}),(v||null!==(v=Zn(n)))&&(_.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Zn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Rn&&jn(e,t)?(e=en(),Qt=Jt=Kt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v)}Fr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,n))&&r.unshift(Gr(e,o,i)),null!=(o=Ae(e,t))&&r.push(Gr(e,o,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $r(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ae(n,o))&&a.unshift(Gr(n,l,s)):i||null!=(l=Ae(n,o))&&a.push(Gr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Kr(e){return("string"==typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Kr(t),Kr(e)!==t&&n)throw Error(o(425))}function Qr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),pi="__reactFiber$"+hi,di="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[pi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[pi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[di]||null}var wi=[],Ei=-1;function Si(e){return{current:e}}function Ci(e){0>Ei||(e.current=wi[Ei],wi[Ei]=null,Ei--)}function Ti(e,t){Ei++,wi[Ei]=e.current,e.current=t}var Ii={},ki=Si(Ii),Pi=Si(!1),Li=Ii;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!=e.childContextTypes}function Oi(){Ci(Pi),Ci(ki)}function Ri(e,t,n){if(ki.current!==Ii)throw Error(o(168));Ti(ki,t),Ti(Pi,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,q(e)||"Unknown",i));return z({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Li=ki.current,Ti(ki,e),Ti(Pi,Pi.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,Ci(Pi),Ci(ki),Ti(ki,e)):Ci(Pi),Ti(Pi,n)}var Fi=null,Bi=!1,ji=!1;function Zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Ui(){if(!ji&&null!==Fi){ji=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Bi=!1}catch(t){throw null!==Fi&&(Fi=Fi.slice(e+1)),We(Qe,Ui),t}finally{_t=t,ji=!1}}return null}var qi=[],Vi=0,Gi=null,Hi=0,Wi=[],$i=0,Xi=null,Yi=1,Ki="";function Ji(e,t){qi[Vi++]=Hi,qi[Vi++]=Gi,Gi=e,Hi=t}function Qi(e,t,n){Wi[$i++]=Yi,Wi[$i++]=Ki,Wi[$i++]=Xi,Xi=e;var r=Yi;e=Ki;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ki=o+e}else Yi=1<<o|n<<i|r,Ki=e}function eo(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function to(e){for(;e===Gi;)Gi=qi[--Vi],qi[Vi]=null,Hi=qi[--Vi],qi[Vi]=null;for(;e===Xi;)Xi=Wi[--$i],Wi[$i]=null,Ki=Wi[--$i],Wi[$i]=null,Yi=Wi[--$i],Wi[$i]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xi?{id:Yi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ui(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vo=Si(null),_o=null,bo=null,xo=null;function wo(){xo=bo=_o=null}function Eo(e){var t=vo.current;Ci(vo),e._currentValue=t}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){_o=e,xo=bo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(bs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===bo){if(null===_o)throw Error(o(308));bo=e,_o.dependencies={lanes:0,firstContext:e}}else bo=bo.next=e;return t}var Io=null;function ko(e){null===Io?Io=[e]:Io.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ko(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ro(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&kl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,ko(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Do(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var h=i.baseState;for(a=0,c=u=l=null,s=o;;){var p=s.lane,d=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(p=t,d=n,m.tag){case 1:if("function"==typeof(f=m.payload)){h=f.call(d,h,p);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(p="function"==typeof(f=m.payload)?f.call(d,h,p):f))break e;h=z({},h,p);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=h}}function Bo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var jo=(new r.Component).refs;function Zo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Ro(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=No(e,o,i))&&(nu(t,e,i,r),Do(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Ro(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=No(e,o,i))&&(nu(t,e,i,r),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Ro(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=No(e,i,r))&&(nu(t,e,r,n),Do(t,e,r))}};function qo(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function Vo(e,t,n){var r=!1,i=Ii,o=t.contextType;return"object"==typeof o&&null!==o?o=To(o):(i=Ai(t)?Li:ki.current,o=(r=null!=(r=t.contextTypes))?Mi(e,i):Ii),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=jo,Ao(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=To(o):(o=Ai(t)?Li:ki.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Zo(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Uo.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===jo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xo(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ou(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===A&&Xo(o)===t.type)?((r=i(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Nu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nu(t,e.mode,n,null)).return=e,t;$o(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:h(e,t,n,r,null);$o(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return h(t,e=e.get(n)||null,r,i,null);$o(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,s[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===s.length)return n(i,h),io&&Ji(i,m),u;if(null===h){for(;m<s.length;m++)null!==(h=p(i,s[m],l))&&(o=a(h,o,m),null===c?u=h:c.sibling=h,c=h);return io&&Ji(i,m),u}for(h=r(i,h);m<s.length;m++)null!==(g=f(h,i,m,s[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function g(i,s,l,u){var c=N(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=d(i,m,v.value,u);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(i,m),s=a(_,s,g),null===h?c=_:h.sibling=_,h=_,m=y}if(v.done)return n(i,m),io&&Ji(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,u))&&(s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return io&&Ji(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=a(v,s,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===E){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===A&&Xo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=Wo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===E?((o=Nu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=Wo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fu(a,r.mode,l)).return=r,r=o}return s(r);case A:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(N(a))return g(r,o,a,l);$o(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Ko=Yo(!0),Jo=Yo(!1),Qo={},ea=Si(Qo),ta=Si(Qo),na=Si(Qo);function ra(e){if(e===Qo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Ti(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var la=Si(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ha(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var pa=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,ya=null,va=!1,_a=!1,ba=0,xa=0;function wa(){throw Error(o(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Sa(e,t,n,r,i,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),_a){a=0;do{if(_a=!1,ba=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,t.updateQueue=null,pa.current=us,e=n(r,i)}while(_a)}if(pa.current=as,t=null!==ga&&null!==ga.next,fa=0,ya=ga=ma=null,va=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==ba;return ba=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?ma.memoizedState=ya=e:ya=ya.next=e,ya}function Ia(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?ma.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?ma.memoizedState=ya=e:ya=ya.next=e}return ya}function ka(e,t){return"function"==typeof t?t(e):t}function Pa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((fa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,ma.lanes|=h,Dl|=h}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function La(e){var t=Ia(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Aa(e,t){var n=ma,r=Ia(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Va(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ba(9,Ra.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(o(349));0!=(30&fa)||Oa(n,t,i)}return i}function Oa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Da(t)&&za(e)}function Na(e,t,n){return n((function(){Da(t)&&za(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function za(e){var t=Lo(e,1);null!==t&&nu(t,e,1,-1)}function Fa(e){var t=Ta();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ja(){return Ia().memoizedState}function Za(e,t,n,r){var i=Ta();ma.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Ua(e,t,n,r){var i=Ia();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ba(t,n,o,r))}ma.flags|=e,i.memoizedState=Ba(1|t,n,o,r)}function qa(e,t){return Za(8390656,8,e,t)}function Va(e,t){return Ua(2048,8,e,t)}function Ga(e,t){return Ua(4,2,e,t)}function Ha(e,t){return Ua(4,4,e,t)}function Wa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $a(e,t,n){return n=null!=n?n.concat([e]):null,Ua(4,4,Wa.bind(null,t,e),n)}function Xa(){}function Ya(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ka(e,t){var n=Ia();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0==(21&fa)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Dl|=n,e.baseState=!0),t)}function Qa(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{_t=n,da.transition=r}}function es(){return Ia().memoizedState}function ts(e,t,n){var r=tu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?is(t,n):null!==(n=Po(e,t,n,r))&&(nu(n,e,r,eu()),os(n,t,r))}function ns(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,ko(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Po(e,t,i,r))&&(nu(n,e,r,i=eu()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){_a=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!=(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var as={readContext:To,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Za(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Za(4194308,4,e,t)},useInsertionEffect:function(e,t){return Za(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Fa,useDebugValue:Xa,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Pl)throw Error(o(349));0!=(30&fa)||Oa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Pl.identifierPrefix;if(io){var n=Ki;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Ya,useContext:To,useEffect:Va,useImperativeHandle:$a,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Ka,useReducer:Pa,useRef:ja,useState:function(){return Pa(ka)},useDebugValue:Xa,useDeferredValue:function(e){return Ja(Ia(),ga.memoizedState,e)},useTransition:function(){return[Pa(ka)[0],Ia().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1},us={readContext:To,useCallback:Ya,useContext:To,useEffect:Va,useImperativeHandle:$a,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Ka,useReducer:La,useRef:ja,useState:function(){return La(ka)},useDebugValue:Xa,useDeferredValue:function(e){var t=Ia();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[La(ka)[0],Ia().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=Z(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ps(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var ds="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Ro(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,Gl=r),ps(0,t)},n}function ms(e,t,n){(n=Ro(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ps(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ps(0,t),"function"!=typeof r&&(null===Hl?Hl=new Set([this]):Hl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ds;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ro(-1,1)).tag=2,No(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var _s=b.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Ko(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Sa(e,t,n,r,o,i),n=Ca(),null===e||bs?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Au(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ss(e,t,o,r,i))}if(o=e.child,0==(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Vs(e,t,i)}return t.flags|=1,(e=Ou(o,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0==(e.lanes&i))return t.lanes=e.lanes,Vs(e,t,i);0!=(131072&e.flags)&&(bs=!0)}}return Is(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ol,Al),Al|=n;else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ol,Al),Al|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Ol,Al),Al|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Ol,Al),Al|=r;return xs(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,i){var o=Ai(n)?Li:ki.current;return o=Mi(t,o),Co(t,i),n=Sa(e,t,n,r,o,i),r=Ca(),null===e||bs?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vs(e,t,i))}function ks(e,t,n,r,i){if(Ai(n)){var o=!0;Di(t)}else o=!1;if(Co(t,i),null===t.stateNode)qs(e,t),Vo(t,n,r),Ho(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?To(u):Mi(t,u=Ai(n)?Li:ki.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&Go(t,a,r,u),Mo=!1;var p=t.memoizedState;a.state=p,Fo(t,r,a,i),l=t.memoizedState,s!==r||p!==l||Pi.current||Mo?("function"==typeof c&&(Zo(t,n,c,r),l=t.memoizedState),(s=Mo||qo(t,n,s,r,p,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Oo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:yo(t.type,s),a.props=u,h=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?To(l):Mi(t,l=Ai(n)?Li:ki.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||p!==l)&&Go(t,a,r,l),Mo=!1,p=t.memoizedState,a.state=p,Fo(t,r,a,i);var f=t.memoizedState;s!==h||p!==f||Pi.current||Mo?("function"==typeof d&&(Zo(t,n,d,r),f=t.memoizedState),(u=Mo||qo(t,n,u,r,p,f,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,o,i)}function Ps(e,t,n,r,i,o){Ts(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&zi(t,n,!1),Vs(e,t,o);r=t.stateNode,_s.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Ko(t,e.child,null,o),t.child=Ko(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Ls(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return fo(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var As,Os,Rs,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!=(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!=(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0==(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Du(l,i,0,null),e=Nu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ns,e):Fs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(a=Nu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!=(1&t.mode)&&Ko(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ns,a);if(0==(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=hs(a=Error(o(419)),r,void 0))}if(l=0!=(s&e.childLanes),bs||l){if(null!==(r=Pl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nu(r,e,i,-1))}return mu(),Bs(e,t,s,r=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Iu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Wi[$i++]=Yi,Wi[$i++]=Ki,Wi[$i++]=Xi,Yi=e.id,Ki=e.overflow,Xi=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0==(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Ou(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ou(r,s):(s=Nu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Ou(s,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),Ko(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function js(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Zs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Us(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!=(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&js(e,n,t);else if(19===e.tag)js(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(la,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zs(t,!0,n,null,o);break;case"together":Zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qs(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ou(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ou(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Gs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ws(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Ai(t.type)&&Oi(),Hs(t),null;case 3:return r=t.stateNode,oa(),Ci(Pi),Ci(ki),ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Hs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Os(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Hs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[di]=a,e=0!=(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":H(r),Q(r,a,!0);break;case"textarea":H(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Qr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[di]=r,As(e,t),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Br(Nr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=X(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ve(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"==typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Br("scroll",e):null!=c&&_(e,a,c,l))}switch(n){case"input":H(e),Q(e,r,!1);break;case"textarea":H(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)Rs(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!=(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ci(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!=(1&t.mode)&&0==(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pi]=t}else fo(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&la.current)?0===Rl&&(Rl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return oa(),null===e&&Ur(t.stateNode.containerInfo),Hs(t),null;case 10:return Eo(t.type._context),Hs(t),null;case 19:if(Ci(la),null===(a=t.memoizedState))return Hs(t),null;if(r=0!=(128&t.flags),null===(l=a.rendering))if(r)Gs(a,!1);else{if(0!==Rl||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Gs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ke()>Ul&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ua(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Gs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Hs(t),null}else 2*Ke()-a.renderingStartTime>Ul&&1073741824!==n&&(t.flags|=128,r=!0,Gs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ke(),t.sibling=null,n=la.current,Ti(la,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&Al)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $s(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Pi),Ci(ki),ha(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(la),null;case 4:return oa(),null;case 10:return Eo(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Os=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=X(e,i),r=X(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Qr)}for(c in ve(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Br("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xs=!1,Ys=!1,Ks="function"==typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Su(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Su(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pi],delete t[di],delete t[mi],delete t[gi],delete t[yi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)dl(e,t,n),n=n.sibling}function dl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ys||Qs(n,t);case 6:var r=cl,i=hl;cl=null,pl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!=(2&o)||0!=(4&o))&&el(n,t,a),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Ys&&(Qs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Su(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,pl(e,t,n),Ys=r):pl(e,t,n);break;default:pl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ks),t.forEach((function(t){var r=ku.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));dl(a,s,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Su(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Su(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Su(e,e.return,t)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Qs(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Qs(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(t){Su(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&K(i,a),_e(l,s);var c=_e(l,a);for(s=0;s<u.length;s+=2){var h=u[s],p=u[s+1];"style"===h?ge(i,p):"dangerouslySetInnerHTML"===h?he(i,p):"children"===h?pe(i,p):_(i,h,p,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(t){Su(e,e.return,t)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Su(e,e.return,t)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(t){Su(e,e.return,t)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Zl=Ke())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(c=Ys)||h,ml(t,e),Ys=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!=(1&e.mode))for(Js=e,h=e.child;null!==h;){for(p=Js=h;null!==Js;){switch(f=(d=Js).child,d.tag){case 0:case 11:case 14:case 15:nl(4,d,d.return);break;case 1:Qs(d,d.return);var m=d.stateNode;if("function"==typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Su(r,n,e)}}break;case 5:Qs(d,d.return);break;case 22:if(null!==d.memoizedState){xl(p);continue}}null!==f?(f.return=d,Js=f):xl(p)}h=h.sibling}e:for(h=null,p=e;;){if(5===p.tag){if(null===h){h=p;try{i=p.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(t){Su(e,e.return,t)}}}else if(6===p.tag){if(null===h)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(t){Su(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),yl(e),4&r&&fl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(t){Su(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Js=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!=(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Xs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Xs;var u=Ys;if(Xs=a,(Ys=l)&&!u)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Js=l):wl(i);for(;null!==o;)Js=o,_l(o,t,n),o=o.sibling;Js=i,Xs=s,Ys=u}bl(e)}else 0!=(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var p=h.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(e){Su(t,t.return,e)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function wl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Su(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Su(t,i,e)}}var o=t.return;try{il(t)}catch(e){Su(t,o,e)}break;case 5:var a=t.return;try{il(t)}catch(e){Su(t,a,e)}}}catch(e){Su(t,t.return,e)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var El,Sl=Math.ceil,Cl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,Il=b.ReactCurrentBatchConfig,kl=0,Pl=null,Ll=null,Ml=0,Al=0,Ol=Si(0),Rl=0,Nl=null,Dl=0,zl=0,Fl=0,Bl=null,jl=null,Zl=0,Ul=1/0,ql=null,Vl=!1,Gl=null,Hl=null,Wl=!1,$l=null,Xl=0,Yl=0,Kl=null,Jl=-1,Ql=0;function eu(){return 0!=(6&kl)?Ke():-1!==Jl?Jl:Jl=Ke()}function tu(e){return 0==(1&e.mode)?1:0!=(2&kl)&&0!==Ml?Ml&-Ml:null!==go.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Kl=null,Error(o(185));yt(e,n,r),0!=(2&kl)&&e===Pl||(e===Pl&&(0==(2&kl)&&(zl|=n),4===Rl&&su(e,Ml)),ru(e,r),1===n&&0===kl&&0==(1&t.mode)&&(Ul=Ke()+500,Bi&&Ui()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!=(s&n)&&0==(s&r)||(i[a]=dt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Pl?Ml:0);if(0===r)null!==n&&$e(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&$e(n),1===t)0===e.tag?function(e){Bi=!0,Zi(e)}(lu.bind(null,e)):Zi(lu.bind(null,e)),ai((function(){0==(6&kl)&&Ui()})),n=null;else{switch(bt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Pu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Jl=-1,Ql=0,0!=(6&kl))throw Error(o(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=pt(e,e===Pl?Ml:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=kl;kl|=2;var a=fu();for(Pl===e&&Ml===t||(ql=null,Ul=Ke()+500,pu(e,t));;)try{vu();break}catch(t){du(e,t)}wo(),Cl.current=a,kl=i,null!==Ll?t=0:(Pl=null,Ml=0,t=Rl)}if(0!==t){if(2===t&&0!==(i=ft(e))&&(r=i,t=ou(e,i)),1===t)throw n=Nl,pu(e,0),su(e,r),ru(e,Ke()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&0!==(a=ft(e))&&(r=a,t=ou(e,a)),1===t))throw n=Nl,pu(e,0),su(e,r),ru(e,Ke()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xu(e,jl,ql);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Zl+500-Ke())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,jl,ql),t);break}xu(e,jl,ql);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ke()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,jl,ql),r);break}xu(e,jl,ql);break;default:throw Error(o(329))}}}return ru(e,Ke()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=jl,jl=n,null!==t&&au(t)),e}function au(e){null===jl?jl=e:jl.push.apply(jl,e)}function su(e,t){for(t&=~Fl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!=(6&kl))throw Error(o(327));wu();var t=pt(e,0);if(0==(1&t))return ru(e,Ke()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Nl,pu(e,0),su(e,t),ru(e,Ke()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,jl,ql),ru(e,Ke()),null}function uu(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Ul=Ke()+500,Bi&&Ui())}}function cu(e){null!==$l&&0===$l.tag&&0==(6&kl)&&wu();var t=kl;kl|=1;var n=Il.transition,r=_t;try{if(Il.transition=null,_t=1,e)return e()}finally{_t=r,Il.transition=n,0==(6&(kl=t))&&Ui()}}function hu(){Al=Ol.current,Ci(Ol)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Oi();break;case 3:oa(),Ci(Pi),Ci(ki),ha();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(la);break;case 10:Eo(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Pl=e,Ll=e=Ou(e.current,null),Ml=Al=t,Rl=0,Nl=null,Fl=zl=Dl=0,jl=Bl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(r=(n=Io[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Io=null}return e}function du(e,t){for(;;){var n=Ll;try{if(wo(),pa.current=as,va){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ya=ga=ma=null,_a=!1,ba=0,Tl.current=null,null===n||null===n.return){Rl=1,Nl=t,Ll=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Ml,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,h=l,p=h.tag;if(0==(1&h.mode)&&(0===p||11===p||15===p)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ys(s);if(null!==f){f.flags&=-257,vs(f,s,l,0,t),1&f.mode&&gs(a,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0==(1&t)){gs(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var y=ys(s);if(null!==y){0==(65536&y.flags)&&(y.flags|=256),vs(y,s,l,0,t),mo(cs(u,l));break e}}a=u=cs(u,l),4!==Rl&&(Rl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,fs(0,u,t));break e;case 1:l=u;var v=a.type,_=a.stateNode;if(0==(128&a.flags)&&("function"==typeof v.getDerivedStateFromError||null!==_&&"function"==typeof _.componentDidCatch&&(null===Hl||!Hl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}bu(n)}catch(e){t=e,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function fu(){var e=Cl.current;return Cl.current=as,null===e?as:e}function mu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Pl||0==(268435455&Dl)&&0==(268435455&zl)||su(Pl,Ml)}function gu(e,t){var n=kl;kl|=2;var r=fu();for(Pl===e&&Ml===t||(ql=null,pu(e,t));;)try{yu();break}catch(t){du(e,t)}if(wo(),kl=n,Cl.current=r,null!==Ll)throw Error(o(261));return Pl=null,Ml=0,Rl}function yu(){for(;null!==Ll;)_u(Ll)}function vu(){for(;null!==Ll&&!Xe();)_u(Ll)}function _u(e){var t=El(e.alternate,e,Al);e.memoizedProps=e.pendingProps,null===t?bu(e):Ll=t,Tl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=Ws(n,t,Al)))return void(Ll=n)}else{if(null!==(n=$s(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return Rl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===Rl&&(Rl=5)}function xu(e,t,n){var r=_t,i=Il.transition;try{Il.transition=null,_t=1,function(e,t,n,r){do{wu()}while(null!==$l);if(0!=(6&kl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Pl&&(Ll=Pl=null,Ml=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||Wl||(Wl=!0,Pu(tt,(function(){return wu(),null}))),a=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||a){a=Il.transition,Il.transition=null;var s=_t;_t=1;var l=kl;kl|=4,Tl.current=null,function(e,t){if(ei=Vt,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,p=e,d=null;t:for(;;){for(var f;p!==n||0!==i&&3!==p.nodeType||(l=s+i),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)d=p,p=f;for(;;){if(p===e)break t;if(d===n&&++c===i&&(l=s),d===a&&++h===r&&(u=s),null!==(f=p.nextSibling))break;d=(p=d).parentNode}p=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(e){Su(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Vt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Ye(),kl=l,_t=s,Il.transition=a}else e.current=n;if(Wl&&(Wl=!1,$l=e,Xl=i),0===(a=e.pendingLanes)&&(Hl=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode),ru(e,Ke()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=Gl,Gl=null,e;0!=(1&Xl)&&0!==e.tag&&wu(),0!=(1&(a=e.pendingLanes))?e===Kl?Yl++:(Yl=0,Kl=e):Yl=0,Ui()}(e,t,n,r)}finally{Il.transition=i,_t=r}return null}function wu(){if(null!==$l){var e=bt(Xl),t=Il.transition,n=_t;try{if(Il.transition=null,_t=16>e?16:e,null===$l)var r=!1;else{if(e=$l,$l=null,Xl=0,0!=(6&kl))throw Error(o(331));var i=kl;for(kl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!=(16&Js.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var p=h.child;if(null!==p)p.return=h,Js=p;else for(;null!==Js;){var d=(h=Js).sibling,f=h.return;if(ol(h),h===c){Js=null;break}if(null!==d){d.return=f,Js=d;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Js=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!=(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Js=v;break e}Js=a.return}}var _=e.current;for(Js=_;null!==Js;){var b=(s=Js).child;if(0!=(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=_;null!==Js;){if(0!=(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Su(l,l.return,e)}if(l===s){Js=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Js=x;break e}Js=l.return}}if(kl=i,Ui(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{_t=n,Il.transition=t}}return!1}function Eu(e,t,n){e=No(e,t=fs(0,t=cs(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Hl||!Hl.has(r))){t=No(t,e=ms(t,e=cs(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ml&n)===n&&(4===Rl||3===Rl&&(130023424&Ml)===Ml&&500>Ke()-Zl?pu(e,0):Fl|=n),ru(e,t)}function Tu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=ct,0==(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Lo(e,t))&&(yt(e,t,n),ru(e,n))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function ku(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}function Pu(e,t){return We(e,t)}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mu(e,t,n,r){return new Lu(e,t,n,r)}function Au(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ou(e,t){var n=e.alternate;return null===n?((n=Mu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Au(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case E:return Nu(n.children,i,a,t);case S:s=8,i|=8;break;case C:return(e=Mu(12,n,t,2|i)).elementType=C,e.lanes=a,e;case P:return(e=Mu(13,n,t,i)).elementType=P,e.lanes=a,e;case L:return(e=Mu(19,n,t,i)).elementType=L,e.lanes=a,e;case O:return Du(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case I:s=9;break e;case k:s=11;break e;case M:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nu(e,t,n,r){return(e=Mu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Mu(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=Mu(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=Mu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ju(e,t,n,r,i,o,a,s,l){return e=new Bu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function Zu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Uu(e){if(!e)return Ii;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Ni(e,n,t)}return t}function qu(e,t,n,r,i,o,a,s,l){return(e=ju(n,r,!0,e,0,o,0,s,l)).context=Uu(null),n=e.current,(o=Ro(r=eu(),i=tu(n))).callback=null!=t?t:null,No(n,o,i),e.current.lanes=i,yt(e,i,r),ru(e,r),e}function Vu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Uu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ro(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=No(i,t,a))&&(nu(e,i,a,o),Do(e,i,a)),a}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)bs=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ls(t),fo();break;case 5:aa(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(vo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(la,1&la.current),t.flags|=128,null):0!=(n&t.child.childLanes)?zs(e,t,n):(Ti(la,1&la.current),null!==(e=Vs(e,t,n))?e.sibling:null);Ti(la,1&la.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return Us(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Vs(e,t,n)}(e,t,n);bs=0!=(131072&e.flags)}else bs=!1,io&&0!=(1048576&t.flags)&&Qi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qs(e,t),e=t.pendingProps;var i=Mi(t,ki.current);Co(t,n),i=Sa(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=Uo,t.stateNode=i,i._reactInternals=t,Ho(t,r,e,n),t=Ps(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Au(e)?1:0;if(null!=e){if((e=e.$$typeof)===k)return 11;if(e===M)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Is(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=Es(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Is(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Ls(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Oo(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Vs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return zs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ko(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(vo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Pi.current){t=Vs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Ro(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),So(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),So(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=To(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Es(e,t,r,i=yo(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),qs(e,t),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,Co(t,n),Vo(t,r,i),Ho(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Us(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var $u="function"==typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Gu(a);s.call(e)}}Vu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Gu(a);o.call(e)}}var a=qu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[fi]=a.current,Ur(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Gu(l);s.call(e)}}var l=ju(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),cu((function(){Vu(t,l,n,r)})),l}(n,t,e,i,r);return Gu(a)}Yu.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vu(e,t,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Vu(null,e,null,null)})),t[fi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Ke()),0==(6&kl)&&(Ul=Ke()+500,Ui()))}break;case 13:cu((function(){var t=Lo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},wt=function(e){if(13===e.tag){var t=Lo(e,134217728);null!==t&&nu(t,e,134217728,eu()),Wu(e,134217728)}},Et=function(e){if(13===e.tag){var t=tu(e),n=Lo(e,t);null!==n&&nu(n,e,t,eu()),Wu(e,t)}},St=function(){return _t},Ct=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));W(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=uu,Pe=cu;var tc={usingClientEntryPoint:!1,Events:[_i,bi,xi,Te,Ie,uu]},nc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return Zu(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,r="",i=$u;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=ju(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=$u;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ju(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},20745:(e,t,n)=>{"use strict";var r=n(73935);t.s=r.createRoot,r.hydrateRoot},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(64448)},8267:(e,t,n)=>{"use strict";e.exports=n(48531)},69921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case h:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case u:case p:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||x(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===u},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===h||e===s||e===a||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===v||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=x},59864:(e,t,n)=>{"use strict";e.exports=n(69921)},46871:(e,t,n)=>{"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,u="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+u+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var c=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:()=>a}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},88359:(e,t)=>{"use strict";if("function"==typeof Symbol&&Symbol.for){var n=Symbol.for;n("react.element"),n("react.portal"),n("react.fragment"),n("react.strict_mode"),n("react.profiler"),n("react.provider"),n("react.context"),n("react.forward_ref"),n("react.suspense"),n("react.suspense_list"),n("react.memo"),n("react.lazy"),n("react.block"),n("react.server.block"),n("react.fundamental"),n("react.debug_trace_mode"),n("react.legacy_hidden")}},72973:(e,t,n)=>{"use strict";n(88359)},88292:(e,t,n)=>{"use strict";var r=n(95318);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(85312));e.exports=t.default},85312:(e,t)=>{"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},80294:e=>{"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"==typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},92810:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0,function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(45697));var r=s(n(88292)),i=s(n(80294)),o=s(n(67294)),a=s(n(32096));function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}n(29806);var u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},h=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),u(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),u(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),u(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),u(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&c(e,r),i&&c(e,i),o&&c(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,u(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,o.default.createElement(a.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);h.defaultProps={classNames:""},h.propTypes={};var p=h;t.default=p,e.exports=t.default},17557:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0,a(n(45697));var r=a(n(67294)),i=n(73935),o=a(n(57114));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},32096:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(45697)),i=s(n(67294)),o=s(n(73935)),a=n(46871);function s(e){return e&&e.__esModule?e:{default:e}}n(29806);var l="unmounted";t.UNMOUNTED=l;var u="exited";t.EXITED=u;var c="entering";t.ENTERING=c;var h="entered";t.ENTERED=h;var p="exiting";t.EXITING=p;var d=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=u,r.appearStatus=c):i=h:i=t.unmountOnExit||t.mountOnEnter?l:u,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:u}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==c&&n!==h&&(t=c):n!==c&&n!==h||(t=p)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===c?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===u&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:c},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:h},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:h},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:u},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:u},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function f(){}d.contextTypes={transitionGroup:r.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var m=(0,a.polyfill)(d);t.default=m},57114:(e,t,n)=>{"use strict";t.__esModule=!0,t.default=void 0;var r=s(n(45697)),i=s(n(67294)),o=n(46871),a=n(4474);function s(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},h=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(u(u(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=c(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,o.polyfill)(h);t.default=p,e.exports=t.default},29469:(e,t,n)=>{"use strict";var r=s(n(92810)),i=s(n(17557)),o=s(n(57114)),a=s(n(32096));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},4474:(e,t,n)=>{"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,r.isValidElement)(o)){var u=i in t,c=i in s,h=t[i],p=(0,r.isValidElement)(h)&&!h.props.in;!c||u&&!p?c||!u||p?c&&u&&(0,r.isValidElement)(h)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var r=n(67294);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},29806:(e,t,n)=>{"use strict";var r;t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,(r=n(45697))&&r.__esModule,t.timeoutsShape=null,t.classNamesShape=null},75251:(e,t,n)=>{"use strict";var r=n(67294),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},72408:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator,f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,E={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function k(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+k(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),P(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var u=0;u<e.length;u++){var c=o+k(s=e[u],u);l+=P(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=P(s=s.value,t,i,c=o+k(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},O={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:E};t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},84275:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(98336)),i=n(70210),o=s(n(40174)),a=s(n(55183));function s(e){return e&&e.__esModule?e:{default:e}}var l=/((?:\-[a-z]+\-)?calc)/;t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return(0,r.default)(e).walk((function(e){if("function"===e.type&&l.test(e.value)){var n=r.default.stringify(e.nodes);if(!(n.indexOf("constant")>=0||n.indexOf("env")>=0)){var s=i.parser.parse(n),u=(0,o.default)(s,t);e.type="word",e.value=(0,a.default)(e.value,u,t)}}}),!0).toString()},e.exports=t.default},70460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(33258))&&r.__esModule?r:{default:r};t.default=function(e,t,n){switch(e.type){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":return function(e,t,n){return t.type===e.type&&(t={type:e.type,value:(0,i.default)(t.value,t.unit,e.unit,n),unit:e.unit}),{left:e,right:t}}(e,t,n);default:return{left:e,right:t}}},e.exports=t.default},40174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flip=s;var r,i=(r=n(70460))&&r.__esModule?r:{default:r};function o(e,t){return e.type===t.type&&e.value===t.value}function a(e){switch(e){case"LengthValue":case"AngleValue":case"TimeValue":case"FrequencyValue":case"ResolutionValue":case"EmValue":case"ExValue":case"ChValue":case"RemValue":case"VhValue":case"VwValue":case"VminValue":case"VmaxValue":case"PercentageValue":case"Value":return!0}return!1}function s(e){return"+"===e?"-":"+"}function l(e){return a(e.type)?e.value=-e.value:"MathExpression"==e.type&&(e.left=l(e.left),e.right=l(e.right)),e}t.default=function e(t,n){return"MathExpression"===t.type?function(t,n){switch(t=function(t,n){var r=(0,i.default)(t.left,t.right,n),a=e(r.left,n),s=e(r.right,n);return"MathExpression"===a.type&&"MathExpression"===s.type&&("/"===a.operator&&"*"===s.operator||"-"===a.operator&&"+"===s.operator||"*"===a.operator&&"/"===s.operator||"+"===a.operator&&"-"===s.operator)&&(o(a.right,s.right)?r=(0,i.default)(a.left,s.left,n):o(a.right,s.left)&&(r=(0,i.default)(a.left,s.right,n)),a=e(r.left,n),s=e(r.right,n)),t.left=a,t.right=s,t}(t,n),t.operator){case"+":case"-":return function(t,n){var r=t,i=r.left,o=r.right,u=r.operator;if("CssVariable"===i.type||"CssVariable"===o.type)return t;if(0===o.value)return i;if(0===i.value&&"+"===u)return o;if(0===i.value&&"-"===u)return l(o);if(i.type===o.type&&a(i.type)&&((t=Object.assign({},i)).value="+"===u?i.value+o.value:i.value-o.value),a(i.type)&&("+"===o.operator||"-"===o.operator)&&"MathExpression"===o.type){if(i.type===o.left.type)return(t=Object.assign({},t)).left=e({type:"MathExpression",operator:u,left:i,right:o.left},n),t.right=o.right,t.operator="-"===u?s(o.operator):o.operator,e(t,n);if(i.type===o.right.type)return(t=Object.assign({},t)).left=e({type:"MathExpression",operator:"-"===u?s(o.operator):o.operator,left:i,right:o.right},n),t.right=o.left,e(t,n)}if("MathExpression"===i.type&&("+"===i.operator||"-"===i.operator)&&a(o.type)){if(o.type===i.left.type)return(t=Object.assign({},i)).left=e({type:"MathExpression",operator:u,left:i.left,right:o},n),e(t,n);if(o.type===i.right.type)return t=Object.assign({},i),"-"===i.operator?(t.right=e({type:"MathExpression",operator:"-"===u?"+":"-",left:o,right:i.right},n),t.operator="-"===u?"-":"+"):t.right=e({type:"MathExpression",operator:u,left:i.right,right:o},n),t.right.value<0&&(t.right.value*=-1,t.operator="-"===t.operator?"+":"-"),e(t,n)}return t}(t,n);case"/":return function(t,n){if(!a(t.right.type))return t;if("Value"!==t.right.type)throw new Error('Cannot divide by "'+t.right.unit+'", number expected');if(0===t.right.value)throw new Error("Cannot divide by zero");return"MathExpression"===t.left.type?a(t.left.left.type)&&a(t.left.right.type)?(t.left.left.value/=t.right.value,t.left.right.value/=t.right.value,e(t.left,n)):t:a(t.left.type)?(t.left.value/=t.right.value,t.left):t}(t,n);case"*":return function(e){if("MathExpression"===e.left.type&&"Value"===e.right.type){if(a(e.left.left.type)&&a(e.left.right.type))return e.left.left.value*=e.right.value,e.left.right.value*=e.right.value,e.left}else{if(a(e.left.type)&&"Value"===e.right.type)return e.left.value*=e.right.value,e.left;if("Value"===e.left.type&&"MathExpression"===e.right.type){if(a(e.right.left.type)&&a(e.right.right.type))return e.right.left.value*=e.left.value,e.right.right.value*=e.left.value,e.right}else if("Value"===e.left.type&&a(e.right.type))return e.right.value*=e.left.value,e.right}return e}(t)}return t}(t,n):"Calc"===t.type?e(t.value,n):t}},55183:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=a(t,n);return"MathExpression"===t.type&&(r=e+"("+r+")"),r};var r=n(40174),i={"*":0,"/":0,"+":1,"-":1};function o(e,t){if(!1!==t){var n=Math.pow(10,t);return Math.round(e*n)/n}return e}function a(e,t){switch(e.type){case"MathExpression":var n=e.left,s=e.right,l=e.operator,u="";return"MathExpression"===n.type&&i[l]<i[n.operator]?u+="("+a(n,t)+")":u+=a(n,t),u+=" "+e.operator+" ","MathExpression"===s.type&&i[l]<i[s.operator]?u+="("+a(s,t)+")":"MathExpression"===s.type&&"-"===l&&["+","-"].includes(s.operator)?(s.operator=(0,r.flip)(s.operator),u+=a(s,t)):u+=a(s,t),u;case"Value":return o(e.value,t);case"CssVariable":return e.fallback?"var("+e.value+", "+a(e.fallback,t)+")":"var("+e.value+")";case"Calc":return e.prefix?"-"+e.prefix+"-calc("+a(e.value,t)+")":"calc("+a(e.value,t)+")";default:return o(e.value,t)+e.unit}}e.exports=t.default},70210:(e,t)=>{var n=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonParserError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}function t(e,t,n){n=n||0;for(var r=0;r<t;r++)this.push(e),e+=n}function n(e,t){for(t+=e=this.length-e;e<t;e++)this.push(this[e])}function r(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];"function"==typeof i?(n++,i.apply(t,e[n])):t.push(i)}return t}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonParserError";var i={trace:function(){},JisonParserError:e,yy:{},options:{type:"lalr",hasPartialLrUpgradeOnConflict:!0,errorRecoveryTokenDiscardCount:3},symbols_:{$accept:0,$end:1,ADD:3,ANGLE:16,CHS:22,COMMA:14,CSS_CPROP:13,CSS_VAR:12,DIV:6,EMS:20,EOF:1,EXS:21,FREQ:18,LENGTH:15,LPAREN:7,MUL:5,NESTED_CALC:9,NUMBER:11,PERCENTAGE:28,PREFIX:10,REMS:23,RES:19,RPAREN:8,SUB:4,TIME:17,VHS:24,VMAXS:27,VMINS:26,VWS:25,css_value:33,css_variable:32,error:2,expression:29,math_expression:30,value:31},terminals_:{1:"EOF",2:"error",3:"ADD",4:"SUB",5:"MUL",6:"DIV",7:"LPAREN",8:"RPAREN",9:"NESTED_CALC",10:"PREFIX",11:"NUMBER",12:"CSS_VAR",13:"CSS_CPROP",14:"COMMA",15:"LENGTH",16:"ANGLE",17:"TIME",18:"FREQ",19:"RES",20:"EMS",21:"EXS",22:"CHS",23:"REMS",24:"VHS",25:"VWS",26:"VMINS",27:"VMAXS",28:"PERCENTAGE"},TERROR:2,EOF:1,originalQuoteName:null,originalParseError:null,cleanupAfterParse:null,constructParseErrorInfo:null,yyMergeLocationInfo:null,__reentrant_call_depth:0,__error_infos:[],__error_recovery_infos:[],quoteName:function(e){return'"'+e+'"'},getSymbolName:function(e){if(this.terminals_[e])return this.terminals_[e];var t=this.symbols_;for(var n in t)if(t[n]===e)return n;return null},describeSymbol:function(e){if(e!==this.EOF&&this.terminal_descriptions_&&this.terminal_descriptions_[e])return this.terminal_descriptions_[e];if(e===this.EOF)return"end of input";var t=this.getSymbolName(e);return t?this.quoteName(t):null},collect_expected_token_set:function(e,t){var n=this.TERROR,r=[],i={};if(!t&&this.state_descriptions_&&this.state_descriptions_[e])return[this.state_descriptions_[e]];for(var o in this.table[e])if((o=+o)!==n){var a=t?o:this.describeSymbol(o);a&&!i[a]&&(r.push(a),i[a]=!0)}return r},productions_:function(e){for(var t=[],n=e.pop,r=e.rule,i=0,o=n.length;i<o;i++)t.push([n[i],r[i]]);return t}({pop:r([29,t,[30,10],31,31,32,32,t,[33,15]]),rule:r([2,t,[3,5],4,7,t,[1,4],2,4,6,t,[1,14],2])}),performAction:function(e,t,n){var r=this.yy;switch(r.parser,r.lexer,e){case 0:case 6:this.$=n[t-1];break;case 1:return this.$=n[t-1],n[t-1];case 2:case 3:case 4:case 5:this.$={type:"MathExpression",operator:n[t-1],left:n[t-2],right:n[t]};break;case 7:this.$={type:"Calc",value:n[t-1]};break;case 8:this.$={type:"Calc",value:n[t-1],prefix:n[t-5]};break;case 9:case 10:case 11:this.$=n[t];break;case 12:this.$={type:"Value",value:parseFloat(n[t])};break;case 13:this.$={type:"Value",value:-1*parseFloat(n[t])};break;case 14:this.$={type:"CssVariable",value:n[t-1]};break;case 15:this.$={type:"CssVariable",value:n[t-3],fallback:n[t-1]};break;case 16:this.$={type:"LengthValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 17:this.$={type:"AngleValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 18:this.$={type:"TimeValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 19:this.$={type:"FrequencyValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 20:this.$={type:"ResolutionValue",value:parseFloat(n[t]),unit:/[a-z]+/.exec(n[t])[0]};break;case 21:this.$={type:"EmValue",value:parseFloat(n[t]),unit:"em"};break;case 22:this.$={type:"ExValue",value:parseFloat(n[t]),unit:"ex"};break;case 23:this.$={type:"ChValue",value:parseFloat(n[t]),unit:"ch"};break;case 24:this.$={type:"RemValue",value:parseFloat(n[t]),unit:"rem"};break;case 25:this.$={type:"VhValue",value:parseFloat(n[t]),unit:"vh"};break;case 26:this.$={type:"VwValue",value:parseFloat(n[t]),unit:"vw"};break;case 27:this.$={type:"VminValue",value:parseFloat(n[t]),unit:"vmin"};break;case 28:this.$={type:"VmaxValue",value:parseFloat(n[t]),unit:"vmax"};break;case 29:this.$={type:"PercentageValue",value:parseFloat(n[t]),unit:"%"};break;case 30:var i=n[t];i.value*=-1,this.$=i}},table:function(e){for(var t=[],n=e.len,r=e.symbol,i=e.type,o=e.state,a=e.mode,s=e.goto,l=0,u=n.length;l<u;l++){for(var c=n[l],h={},p=0;p<c;p++){var d=r.shift();switch(i.shift()){case 2:h[d]=[a.shift(),s.shift()];break;case 0:h[d]=o.shift();break;default:h[d]=[3]}}t.push(h)}return t}({len:r([24,1,5,23,1,18,t,[0,3],1,t,[0,16],t,[23,4],n,[28,3],0,0,16,1,6,6,t,[0,3],5,1,2,n,[37,3],n,[20,3],5,0,0]),symbol:r([4,7,9,11,12,t,[15,19,1],1,1,t,[3,4,1],n,[30,19],n,[29,4],7,4,10,11,n,[22,14],n,[19,3],n,[43,22],n,[23,69],n,[139,4],8,n,[51,24],4,n,[138,15],13,n,[186,5],8,n,[6,6],n,[5,5],9,8,14,n,[159,47],n,[60,10]]),type:r([t,[2,19],t,[0,5],1,t,[2,24],t,[0,4],n,[22,19],n,[43,42],n,[23,70],n,[28,25],n,[45,25],n,[113,54]]),state:r([1,2,8,6,7,30,n,[4,3],33,37,n,[5,3],38,n,[4,3],39,n,[4,3],40,n,[4,3],42,n,[21,4],50,n,[5,3],51,n,[4,3]]),mode:r([t,[1,179],t,[2,3],n,[5,5],n,[6,4],t,[1,57]]),goto:r([5,3,4,24,t,[9,15,1],t,[25,5,1],n,[24,19],31,35,32,34,n,[18,14],36,n,[38,19],n,[19,57],n,[118,4],41,n,[24,19],43,35,n,[16,14],44,t,[2,3],28,29,2,t,[3,3],28,29,3,n,[53,4],t,[45,5,1],n,[100,42],52,n,[5,4],53])}),defaultActions:function(e){for(var t={},n=e.idx,r=e.goto,i=0,o=n.length;i<o;i++)t[n[i]]=r[i];return t}({idx:r([6,7,8,t,[10,16,1],33,34,39,40,41,45,47,52,53]),goto:r([9,10,11,t,[16,14,1],12,1,30,13,t,[4,4,1],14,15,8])}),parseError:function(e,t,n){if(!t.recoverable)throw"function"==typeof this.trace&&this.trace(e),n||(n=this.JisonParserError),new n(e,t);"function"==typeof this.trace&&this.trace(e),t.destroy()},parse:function(e){var t,n=this,r=new Array(128),i=new Array(128),o=new Array(128),a=this.table,s=0,l=0,u=(this.TERROR,this.EOF),c=(this.options.errorRecoveryTokenDiscardCount,[0,54]);t=this.__lexer__?this.__lexer__:this.__lexer__=Object.create(this.lexer);var h={parseError:void 0,quoteName:void 0,lexer:void 0,parser:void 0,pre_parse:void 0,post_parse:void 0,pre_lex:void 0,post_lex:void 0};"function"!=typeof assert||assert,this.yyGetSharedState=function(){return h},function(e,t){for(var n in t)void 0===e[n]&&Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}(h,this.yy),h.lexer=t,h.parser=this,"function"==typeof h.parseError?this.parseError=function(e,t,n){return n||(n=this.JisonParserError),h.parseError.call(this,e,t,n)}:this.parseError=this.originalParseError,"function"==typeof h.quoteName?this.quoteName=function(e){return h.quoteName.call(this,e)}:this.quoteName=this.originalQuoteName,this.cleanupAfterParse=function(e,n,a){var l,u;if(n&&((h.post_parse||this.post_parse)&&(u=this.constructParseErrorInfo(null,null,null,!1)),h.post_parse&&void 0!==(l=h.post_parse.call(this,h,e,u))&&(e=l),this.post_parse&&void 0!==(l=this.post_parse.call(this,h,e,u))&&(e=l),u&&u.destroy&&u.destroy()),this.__reentrant_call_depth>1)return e;if(t.cleanupAfterLex&&t.cleanupAfterLex(a),h&&(h.lexer=void 0,h.parser=void 0,t.yy===h&&(t.yy=void 0)),h=void 0,this.parseError=this.originalParseError,this.quoteName=this.originalQuoteName,r.length=0,i.length=0,o.length=0,s=0,!a){for(var c=this.__error_infos.length-1;c>=0;c--){var p=this.__error_infos[c];p&&"function"==typeof p.destroy&&p.destroy()}this.__error_infos.length=0}return e},this.constructParseErrorInfo=function(e,n,a,u){var c={errStr:e,exception:n,text:t.match,value:t.yytext,token:this.describeSymbol(l)||l,token_id:l,line:t.yylineno,expected:a,recoverable:u,state:p,action:d,new_state:_,symbol_stack:r,state_stack:i,value_stack:o,stack_pointer:s,yy:h,lexer:t,parser:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"==typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(c),c};var p,d,f,m,g,y,v,_,b=function(){var e=t.lex();return"number"!=typeof e&&(e=n.symbols_[e]||e),e||u},x={$:!0,_$:void 0,yy:h},w=!1;try{for(this.__reentrant_call_depth++,t.setInput(e,h),"function"==typeof t.canIUse&&t.canIUse().fastLex&&(b=function(){var e=t.fastLex();return"number"!=typeof e&&(e=n.symbols_[e]||e),e||u}),o[s]=null,i[s]=0,r[s]=0,++s,this.pre_parse&&this.pre_parse.call(this,h),h.pre_parse&&h.pre_parse.call(this,h),_=i[s-1];;){if(p=_,this.defaultActions[p])d=2,_=this.defaultActions[p];else if(l||(l=b()),m=a[p]&&a[p][l]||c,_=m[1],!(d=m[0])){var E,S=this.describeSymbol(l)||l,C=this.collect_expected_token_set(p);E="number"==typeof t.yylineno?"Parse error on line "+(t.yylineno+1)+": ":"Parse error: ","function"==typeof t.showPosition&&(E+="\n"+t.showPosition(69,10)+"\n"),C.length?E+="Expecting "+C.join(", ")+", got unexpected "+S:E+="Unexpected "+S,g=this.constructParseErrorInfo(E,null,C,!1),void 0!==(f=this.parseError(g.errStr,g,this.JisonParserError))&&(w=f);break}switch(d){default:if(d instanceof Array){g=this.constructParseErrorInfo("Parse Error: multiple actions possible at state: "+p+", token: "+l,null,null,!1),void 0!==(f=this.parseError(g.errStr,g,this.JisonParserError))&&(w=f);break}g=this.constructParseErrorInfo("Parsing halted. No viable error recovery approach available due to internal system failure.",null,null,!1),void 0!==(f=this.parseError(g.errStr,g,this.JisonParserError))&&(w=f);break;case 1:r[s]=l,o[s]=t.yytext,i[s]=_,++s,l=0;continue;case 2:if(y=(v=this.productions_[_-1])[1],void 0!==(f=this.performAction.call(x,_,s-1,o))){w=f;break}s-=y;var T=v[0];r[s]=T,o[s]=x.$,_=a[i[s-1]][T],i[s]=_,++s;continue;case 3:-2!==s&&(w=!0,s--,void 0!==o[s]&&(w=o[s]))}break}}catch(e){if(e instanceof this.JisonParserError)throw e;if(t&&"function"==typeof t.JisonLexerError&&e instanceof t.JisonLexerError)throw e;g=this.constructParseErrorInfo("Parsing aborted due to exception.",e,null,!1),w=!1,void 0!==(f=this.parseError(g.errStr,g,this.JisonParserError))&&(w=f)}finally{w=this.cleanupAfterParse(w,!0,!0),this.__reentrant_call_depth--}return w}};i.originalParseError=i.parseError,i.originalQuoteName=i.quoteName;var o=function(){function e(e,t){var n;if(Object.defineProperty(this,"name",{enumerable:!1,writable:!1,value:"JisonLexerError"}),null==e&&(e="???"),Object.defineProperty(this,"message",{enumerable:!1,writable:!0,value:e}),this.hash=t,t&&t.exception instanceof Error){var r=t.exception;this.message=r.message||e,n=r.stack}n||(Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,this.constructor):n=new Error(e).stack),n&&Object.defineProperty(this,"stack",{enumerable:!1,writable:!1,value:n})}"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,Error.prototype):e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.name="JisonLexerError";var t={EOF:1,ERROR:2,__currentRuleSet__:null,__error_infos:[],__decompressed:!1,done:!1,_backtrack:!1,_input:"",_more:!1,_signaled_error_token:!1,conditionStack:[],match:"",matched:"",matches:!1,yytext:"",offset:0,yyleng:0,yylineno:0,yylloc:null,constructLexErrorInfo:function(e,t,n){if(e=""+e,null==n&&(n=!(e.indexOf("\n")>0&&e.indexOf("^")>0)),this.yylloc&&n)if("function"==typeof this.prettyPrintRange)this.prettyPrintRange(this.yylloc),/\n\s*$/.test(e)||(e+="\n"),e+="\n  Erroneous area:\n"+this.prettyPrintRange(this.yylloc);else if("function"==typeof this.showPosition){var r=this.showPosition();r&&(e.length&&"\n"!==e[e.length-1]&&"\n"!==r[0]?e+="\n"+r:e+=r)}var i={errStr:e,recoverable:!!t,text:this.match,token:null,line:this.yylineno,loc:this.yylloc,yy:this.yy,lexer:this,destroy:function(){var e=!!this.recoverable;for(var t in this)this.hasOwnProperty(t)&&"object"==typeof t&&(this[t]=void 0);this.recoverable=e}};return this.__error_infos.push(i),i},parseError:function(e,t,n){if(n||(n=this.JisonLexerError),this.yy){if(this.yy.parser&&"function"==typeof this.yy.parser.parseError)return this.yy.parser.parseError.call(this,e,t,n)||this.ERROR;if("function"==typeof this.yy.parseError)return this.yy.parseError.call(this,e,t,n)||this.ERROR}throw new n(e,t)},yyerror:function(e){var t="";this.yylloc&&(t=" on line "+(this.yylineno+1));var n=this.constructLexErrorInfo("Lexical error"+t+": "+e,this.options.lexerErrorsAreRecoverable),r=Array.prototype.slice.call(arguments,1);return r.length&&(n.extra_error_attributes=r),this.parseError(n.errStr,n,this.JisonLexerError)||this.ERROR},cleanupAfterLex:function(e){if(this.setInput("",{}),!e){for(var t=this.__error_infos.length-1;t>=0;t--){var n=this.__error_infos[t];n&&"function"==typeof n.destroy&&n.destroy()}this.__error_infos.length=0}return this},clear:function(){this.yytext="",this.yyleng=0,this.match="",this.matches=!1,this._more=!1,this._backtrack=!1;var e=this.yylloc?this.yylloc.last_column:0;this.yylloc={first_line:this.yylineno+1,first_column:e,last_line:this.yylineno+1,last_column:e,range:[this.offset,this.offset]}},setInput:function(e,t){if(this.yy=t||this.yy||{},!this.__decompressed){for(var n=this.rules,r=0,i=n.length;r<i;r++)"number"==typeof(p=n[r])&&(n[r]=n[p]);var o=this.conditions;for(var a in o){var s=o[a],l=s.rules,u=(i=l.length,new Array(i+1)),c=new Array(i+1);for(r=0;r<i;r++){var h=l[r],p=n[h];u[r+1]=p,c[r+1]=h}s.rules=c,s.__rule_regexes=u,s.__rule_count=i}this.__decompressed=!0}return this._input=e||"",this.clear(),this._signaled_error_token=!1,this.done=!1,this.yylineno=0,this.matched="",this.conditionStack=["INITIAL"],this.__currentRuleSet__=null,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]},this.offset=0,this},editRemainingInput:function(e,t){var n=e.call(this,this._input,t);return"string"!=typeof n?n&&(this._input=""+n):this._input=n,this},input:function(){if(!this._input)return null;var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=1,n=!1;if("\n"===e)n=!0;else if("\r"===e){n=!0;var r=this._input[1];"\n"===r&&(t++,e+=r,this.yytext+=r,this.yyleng++,this.offset++,this.match+=r,this.matched+=r,this.yylloc.range[1]++)}return n?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,this._input=this._input.slice(t),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);if(this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.yyleng=this.yytext.length,this.offset-=t,this.match=this.match.substr(0,this.match.length-t),this.matched=this.matched.substr(0,this.matched.length-t),n.length>1){this.yylineno-=n.length-1,this.yylloc.last_line=this.yylineno+1;var r=this.match,i=r.split(/(?:\r\n?|\n)/g);1===i.length&&(i=(r=this.matched).split(/(?:\r\n?|\n)/g)),this.yylloc.last_column=i[i.length-1].length}else this.yylloc.last_column-=t;return this.yylloc.range[1]=this.yylloc.range[0]+this.yyleng,this.done=!1,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else{var e="";this.yylloc&&(e=" on line "+(this.yylineno+1));var t=this.constructLexErrorInfo("Lexical error"+e+": You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).",!1);this._signaled_error_token=this.parseError(t.errStr,t,this.JisonLexerError)||this.ERROR}return this},less:function(e){return this.unput(this.match.slice(e))},pastInput:function(e,t){var n=this.matched.substring(0,this.matched.length-this.match.length);e<0?e=n.length:e||(e=20),t<0?t=n.length:t||(t=1);var r=(n=n.substr(2*-e-2)).replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(-t)).join("\n")).length>e&&(n="..."+n.substr(-e)),n},upcomingInput:function(e,t){var n=this.match;e<0?e=n.length+this._input.length:e||(e=20),t<0?t=e:t||(t=1),n.length<2*e+2&&(n+=this._input.substring(0,2*e+2));var r=n.replace(/\r\n|\r/g,"\n").split("\n");return(n=(r=r.slice(0,t)).join("\n")).length>e&&(n=n.substring(0,e)+"..."),n},showPosition:function(e,t){var n=this.pastInput(e).replace(/\s/g," "),r=new Array(n.length+1).join("-");return n+this.upcomingInput(t).replace(/\s/g," ")+"\n"+r+"^"},deriveLocationInfo:function(e,t,n,r){var i={first_line:1,first_column:0,last_line:1,last_column:0,range:[0,0]};return e&&(i.first_line=0|e.first_line,i.last_line=0|e.last_line,i.first_column=0|e.first_column,i.last_column=0|e.last_column,e.range&&(i.range[0]=0|e.range[0],i.range[1]=0|e.range[1])),(i.first_line<=0||i.last_line<i.first_line)&&(i.first_line<=0&&t&&(i.first_line=0|t.last_line,i.first_column=0|t.last_column,t.range&&(i.range[0]=0|e.range[1])),(i.last_line<=0||i.last_line<i.first_line)&&n&&(i.last_line=0|n.first_line,i.last_column=0|n.first_column,n.range&&(i.range[1]=0|e.range[0])),i.first_line<=0&&r&&(i.last_line<=0||r.last_line<=i.last_line)&&(i.first_line=0|r.first_line,i.first_column=0|r.first_column,r.range&&(i.range[0]=0|r.range[0])),i.last_line<=0&&r&&(i.first_line<=0||r.first_line>=i.first_line)&&(i.last_line=0|r.last_line,i.last_column=0|r.last_column,r.range&&(i.range[1]=0|r.range[1]))),i.last_line<=0&&(i.first_line<=0?(i.first_line=this.yylloc.first_line,i.last_line=this.yylloc.last_line,i.first_column=this.yylloc.first_column,i.last_column=this.yylloc.last_column,i.range[0]=this.yylloc.range[0],i.range[1]=this.yylloc.range[1]):(i.last_line=this.yylloc.last_line,i.last_column=this.yylloc.last_column,i.range[1]=this.yylloc.range[1])),i.first_line<=0&&(i.first_line=i.last_line,i.first_column=0,i.range[1]=i.range[0]),i.first_column<0&&(i.first_column=0),i.last_column<0&&(i.last_column=i.first_column>0?i.first_column:80),i},prettyPrintRange:function(e,t,n){e=this.deriveLocationInfo(e,t,n);var r=(this.matched+this._input).split("\n"),i=Math.max(1,t?t.first_line:e.first_line-3),o=Math.max(1,n?n.last_line:e.last_line+1),a=1+Math.log10(1|o)|0,s=new Array(a).join(" "),l=[],u=r.slice(i-1,o+1).map((function(t,n){var r=n+i,o=(s+r).substr(-a)+": "+t,u=new Array(a+1).join("^"),c=3,h=0;return r===e.first_line?(c+=e.first_column,h=Math.max(2,(r===e.last_line?e.last_column:t.length)-e.first_column+1)):r===e.last_line?h=Math.max(2,e.last_column+1):r>e.first_line&&r<e.last_line&&(h=Math.max(2,t.length+1)),h&&(o+="\n"+u+new Array(c).join(".")+new Array(h).join("^"),t.trim().length>0&&l.push(n)),o.replace(/\t/g," ")}));if(l.length>4){var c=l[1]+1,h=l[l.length-2]-1,p=new Array(a+1).join(" ")+"  (...continued...)";p+="\n"+new Array(a+1).join("-")+"  (---------------)",u.splice(c,h-c+1,p)}return u.join("\n")},describeYYLLOC:function(e,t){var n,r=e.first_line,i=e.last_line,o=e.first_column,a=e.last_column;if(0==i-r?(n="line "+r+", ",n+=a-o<=1?"column "+o:"columns "+o+" .. "+a):n="lines "+r+"(column "+o+") .. "+i+"(column "+a+")",e.range&&t){var s=e.range[0],l=e.range[1]-1;n+=l<=s?" {String Offset: "+s+"}":" {String Offset range: "+s+" .. "+l+"}"}return n},test_match:function(e,t){var n,r,i,o,a;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.yylloc.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column,range:this.yylloc.range.slice(0)},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done}),a=(o=e[0]).length,(r=o.split(/(?:\r\n?|\n)/g)).length>1?(this.yylineno+=r.length-1,this.yylloc.last_line=this.yylineno+1,this.yylloc.last_column=r[r.length-1].length):this.yylloc.last_column+=a,this.yytext+=o,this.match+=o,this.matched+=o,this.matches=e,this.yyleng=this.yytext.length,this.yylloc.range[1]+=a,this.offset+=a,this._more=!1,this._backtrack=!1,this._input=this._input.slice(a),n=this.performAction.call(this,this.yy,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var s in i)this[s]=i[s];return this.__currentRuleSet__=null,!1}return!!this._signaled_error_token&&(n=this._signaled_error_token,this._signaled_error_token=!1,n)},next:function(){if(this.done)return this.clear(),this.EOF;var e,t,n,r;this._input||(this.done=!0),this._more||this.clear();var i=this.__currentRuleSet__;if(!(i||(i=this.__currentRuleSet__=this._currentRules())&&i.rules)){var o="";this.options.trackPosition&&(o=" on line "+(this.yylineno+1));var a=this.constructLexErrorInfo("Internal lexer engine error"+o+': The lex grammar programmer pushed a non-existing condition name "'+this.topState()+'"; this is a fatal error and should be reported to the application programmer team!',!1);return this.parseError(a.errStr,a,this.JisonLexerError)||this.ERROR}for(var s=i.rules,l=i.__rule_regexes,u=i.__rule_count,c=1;c<=u;c++)if((n=this._input.match(l[c]))&&(!t||n[0].length>t[0].length)){if(t=n,r=c,this.options.backtrack_lexer){if(!1!==(e=this.test_match(n,s[c])))return e;if(this._backtrack){t=void 0;continue}return!1}if(!this.options.flex)break}if(t)return!1!==(e=this.test_match(t,s[r]))&&e;if(this._input){o="",this.options.trackPosition&&(o=" on line "+(this.yylineno+1)),a=this.constructLexErrorInfo("Lexical error"+o+": Unrecognized text.",this.options.lexerErrorsAreRecoverable);var h=this._input,p=this.topState(),d=this.conditionStack.length;return(e=this.parseError(a.errStr,a,this.JisonLexerError)||this.ERROR)===this.ERROR&&(this.matches||h!==this._input||p!==this.topState()||d!==this.conditionStack.length||this.input()),e}return this.done=!0,this.clear(),this.EOF},lex:function(){var e;for("function"==typeof this.pre_lex&&(e=this.pre_lex.call(this,0)),"function"==typeof this.options.pre_lex&&(e=this.options.pre_lex.call(this,e)||e),this.yy&&"function"==typeof this.yy.pre_lex&&(e=this.yy.pre_lex.call(this,e)||e);!e;)e=this.next();return this.yy&&"function"==typeof this.yy.post_lex&&(e=this.yy.post_lex.call(this,e)||e),"function"==typeof this.options.post_lex&&(e=this.options.post_lex.call(this,e)||e),"function"==typeof this.post_lex&&(e=this.post_lex.call(this,e)||e),e},fastLex:function(){for(var e;!e;)e=this.next();return e},canIUse:function(){return{fastLex:!("function"==typeof this.pre_lex||"function"==typeof this.options.pre_lex||this.yy&&"function"==typeof this.yy.pre_lex||this.yy&&"function"==typeof this.yy.post_lex||"function"==typeof this.options.post_lex||"function"==typeof this.post_lex)&&"function"==typeof this.fastLex}},begin:function(e){return this.pushState(e)},pushState:function(e){return this.conditionStack.push(e),this.__currentRuleSet__=null,this},popState:function(){return this.conditionStack.length-1>0?(this.__currentRuleSet__=null,this.conditionStack.pop()):this.conditionStack[0]},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL},stateStackSize:function(){return this.conditionStack.length},options:{trackPosition:!0},JisonLexerError:e,performAction:function(e,t,n){if(1!==t)return this.simpleCaseActionClusters[t]},simpleCaseActionClusters:{0:13,2:5,3:6,4:3,5:4,6:15,7:15,8:15,9:15,10:15,11:15,12:16,13:16,14:16,15:16,16:17,17:17,18:18,19:18,20:19,21:19,22:19,23:20,24:21,25:22,26:23,27:25,28:24,29:26,30:27,31:28,32:11,33:9,34:12,35:10,36:7,37:8,38:14,39:1},rules:[/^(?:(--[\d\-A-Za-z]*))/,/^(?:\s+)/,/^(?:\*)/,/^(?:\/)/,/^(?:\+)/,/^(?:-)/,/^(?:(\d+(\.\d*)?|\.\d+)px\b)/,/^(?:(\d+(\.\d*)?|\.\d+)cm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)mm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)in\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pt\b)/,/^(?:(\d+(\.\d*)?|\.\d+)pc\b)/,/^(?:(\d+(\.\d*)?|\.\d+)deg\b)/,/^(?:(\d+(\.\d*)?|\.\d+)grad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rad\b)/,/^(?:(\d+(\.\d*)?|\.\d+)turn\b)/,/^(?:(\d+(\.\d*)?|\.\d+)s\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ms\b)/,/^(?:(\d+(\.\d*)?|\.\d+)Hz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)kHz\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpi\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dpcm\b)/,/^(?:(\d+(\.\d*)?|\.\d+)dppx\b)/,/^(?:(\d+(\.\d*)?|\.\d+)em\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ex\b)/,/^(?:(\d+(\.\d*)?|\.\d+)ch\b)/,/^(?:(\d+(\.\d*)?|\.\d+)rem\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vw\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vh\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmin\b)/,/^(?:(\d+(\.\d*)?|\.\d+)vmax\b)/,/^(?:(\d+(\.\d*)?|\.\d+)%)/,/^(?:(\d+(\.\d*)?|\.\d+)\b)/,/^(?:(calc))/,/^(?:(var))/,/^(?:([a-z]+))/,/^(?:\()/,/^(?:\))/,/^(?:,)/,/^(?:$)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39],inclusive:!0}}};return t}();function a(){this.yy={}}return i.lexer=o,a.prototype=i,i.Parser=a,new a}();t.parser=n,t.Parser=n.Parser,t.parse=function(){return n.parse.apply(n,arguments)}},98336:(e,t,n)=>{var r=n(98219),i=n(46461),o=n(21088);function a(e){return this instanceof a?(this.nodes=r(e),this):new a(e)}a.prototype.toString=function(){return Array.isArray(this.nodes)?o(this.nodes):""},a.prototype.walk=function(e,t){return i(this.nodes,e,t),this},a.unit=n(4386),a.walk=i,a.stringify=o,e.exports=a},98219:e=>{var t="(".charCodeAt(0),n=")".charCodeAt(0),r="'".charCodeAt(0),i='"'.charCodeAt(0),o="\\".charCodeAt(0),a="/".charCodeAt(0),s=",".charCodeAt(0),l=":".charCodeAt(0),u="*".charCodeAt(0);e.exports=function(e){for(var c,h,p,d,f,m,g,y,v=[],_=e,b=0,x=_.charCodeAt(b),w=_.length,E=[{nodes:v}],S=0,C="",T="",I="";b<w;)if(x<=32){c=b;do{c+=1,x=_.charCodeAt(c)}while(x<=32);d=_.slice(b,c),p=v[v.length-1],x===n&&S?I=d:p&&"div"===p.type?p.after=d:x===s||x===l||x===a&&_.charCodeAt(c+1)!==u?T=d:v.push({type:"space",sourceIndex:b,value:d}),b=c}else if(x===r||x===i){c=b,d={type:"string",sourceIndex:b,quote:h=x===r?"'":'"'};do{if(f=!1,~(c=_.indexOf(h,c+1)))for(m=c;_.charCodeAt(m-1)===o;)m-=1,f=!f;else c=(_+=h).length-1,d.unclosed=!0}while(f);d.value=_.slice(b+1,c),v.push(d),b=c+1,x=_.charCodeAt(b)}else if(x===a&&_.charCodeAt(b+1)===u)d={type:"comment",sourceIndex:b},-1===(c=_.indexOf("*/",b))&&(d.unclosed=!0,c=_.length),d.value=_.slice(b+2,c),v.push(d),b=c+2,x=_.charCodeAt(b);else if(x===a||x===s||x===l)d=_[b],v.push({type:"div",sourceIndex:b-T.length,value:d,before:T,after:""}),T="",b+=1,x=_.charCodeAt(b);else if(t===x){c=b;do{c+=1,x=_.charCodeAt(c)}while(x<=32);if(d={type:"function",sourceIndex:b-C.length,value:C,before:_.slice(b+1,c)},b=c,"url"===C&&x!==r&&x!==i){c-=1;do{if(f=!1,~(c=_.indexOf(")",c+1)))for(m=c;_.charCodeAt(m-1)===o;)m-=1,f=!f;else c=(_+=")").length-1,d.unclosed=!0}while(f);g=c;do{g-=1,x=_.charCodeAt(g)}while(x<=32);d.nodes=b!==g+1?[{type:"word",sourceIndex:b,value:_.slice(b,g+1)}]:[],d.unclosed&&g+1!==c?(d.after="",d.nodes.push({type:"space",sourceIndex:g+1,value:_.slice(g+1,c)})):d.after=_.slice(g+1,c),b=c+1,x=_.charCodeAt(b),v.push(d)}else S+=1,d.after="",v.push(d),E.push(d),v=d.nodes=[],y=d;C=""}else if(n===x&&S)b+=1,x=_.charCodeAt(b),y.after=I,I="",S-=1,E.pop(),v=(y=E[S]).nodes;else{c=b;do{x===o&&(c+=1),c+=1,x=_.charCodeAt(c)}while(c<w&&!(x<=32||x===r||x===i||x===s||x===l||x===a||x===t||x===n&&S));d=_.slice(b,c),t===x?C=d:v.push({type:"word",sourceIndex:b,value:d}),b=c}for(b=E.length-1;b;b-=1)E[b].unclosed=!0;return E[0].nodes}},21088:e=>{function t(e,t){var r,i,o=e.type,a=e.value;return t&&void 0!==(i=t(e))?i:"word"===o||"space"===o?a:"string"===o?(r=e.quote||"")+a+(e.unclosed?"":r):"comment"===o?"/*"+a+(e.unclosed?"":"*/"):"div"===o?(e.before||"")+a+(e.after||""):Array.isArray(e.nodes)?(r=n(e.nodes),"function"!==o?r:a+"("+(e.before||"")+r+(e.after||"")+(e.unclosed?"":")")):a}function n(e,n){var r,i;if(Array.isArray(e)){for(r="",i=e.length-1;~i;i-=1)r=t(e[i],n)+r;return r}return t(e,n)}e.exports=n},4386:e=>{var t="-".charCodeAt(0),n="+".charCodeAt(0),r=".".charCodeAt(0),i="e".charCodeAt(0),o="E".charCodeAt(0);e.exports=function(e){for(var a,s=0,l=e.length,u=!1,c=-1,h=!1;s<l;){if((a=e.charCodeAt(s))>=48&&a<=57)h=!0;else if(a===i||a===o){if(c>-1)break;c=s}else if(a===r){if(u)break;u=!0}else{if(a!==n&&a!==t)break;if(0!==s)break}s+=1}return c+1===s&&s--,!!h&&{number:e.slice(0,s),unit:e.slice(s)}}},46461:e=>{e.exports=function e(t,n,r){var i,o,a,s;for(i=0,o=t.length;i<o;i+=1)a=t[i],r||(s=n(a,i,t)),!1!==s&&"function"===a.type&&Array.isArray(a.nodes)&&e(a.nodes,n,r),r&&n(a,i,t)}},35666:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new k(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=c(e,t,n);if("normal"===l.type){if(r=n.done?f:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",p="suspendedYield",d="executing",f="completed",m={};function g(){}function y(){}function v(){}var _={};l(_,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(P([])));x&&x!==n&&r.call(x,o)&&(_=x);var w=v.prototype=g.prototype=Object.create(_);function E(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:L}}function L(){return{value:t,done:!0}}return y.prototype=v,l(w,"constructor",v),l(v,"constructor",y),y.displayName=l(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},E(S.prototype),l(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(w),l(w,s,"Generator"),l(w,o,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},53697:(e,t,n)=>{"use strict";var r=n(25972).functionsHaveConfigurableNames(),i=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},r&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},2847:(e,t,n)=>{"use strict";var r=n(4289),i=n(55559),o=n(53697),a=n(71721),s=n(32753),l=i(a());r(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},71721:(e,t,n)=>{"use strict";var r=n(53697),i=n(4289).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(n,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return r}},32753:(e,t,n)=>{"use strict";var r=n(4289).supportsDescriptors,i=n(71721),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!r||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=l(u),n=o(t,"flags");return n&&n.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},88639:function(e,t){!function(e){"use strict";const t=134217729;function n(e,t,n,r,i){let o,a,s,l,u=t[0],c=r[0],h=0,p=0;c>u==c>-u?(o=u,u=t[++h]):(o=c,c=r[++p]);let d=0;if(h<e&&p<n)for(c>u==c>-u?(s=o-((a=u+o)-u),u=t[++h]):(s=o-((a=c+o)-c),c=r[++p]),o=a,0!==s&&(i[d++]=s);h<e&&p<n;)c>u==c>-u?(s=o-((a=o+u)-(l=a-o))+(u-l),u=t[++h]):(s=o-((a=o+c)-(l=a-o))+(c-l),c=r[++p]),o=a,0!==s&&(i[d++]=s);for(;h<e;)s=o-((a=o+u)-(l=a-o))+(u-l),u=t[++h],o=a,0!==s&&(i[d++]=s);for(;p<n;)s=o-((a=o+c)-(l=a-o))+(c-l),c=r[++p],o=a,0!==s&&(i[d++]=s);return 0===o&&0!==d||(i[d++]=o),d}function r(e){return new Float64Array(e)}const i=r(4),o=r(8),a=r(12),s=r(16),l=r(4);e.orient2d=function(e,r,u,c,h,p){const d=(r-p)*(u-h),f=(e-h)*(c-p),m=d-f;if(0===d||0===f||d>0!=f>0)return m;const g=Math.abs(d+f);return Math.abs(m)>=33306690738754716e-32*g?m:-function(e,r,u,c,h,p,d){let f,m,g,y,v,_,b,x,w,E,S,C,T,I,k,P,L,M;const A=e-h,O=u-h,R=r-p,N=c-p;v=(k=(x=A-(b=(_=t*A)-(_-A)))*(E=N-(w=(_=t*N)-(_-N)))-((I=A*N)-b*w-x*w-b*E))-(S=k-(L=(x=R-(b=(_=t*R)-(_-R)))*(E=O-(w=(_=t*O)-(_-O)))-((P=R*O)-b*w-x*w-b*E))),i[0]=k-(S+v)+(v-L),v=(T=I-((C=I+S)-(v=C-I))+(S-v))-(S=T-P),i[1]=T-(S+v)+(v-P),v=(M=C+S)-C,i[2]=C-(M-v)+(S-v),i[3]=M;let D=function(e,t){let n=t[0];for(let e=1;e<4;e++)n+=t[e];return n}(0,i),z=22204460492503146e-32*d;if(D>=z||-D>=z)return D;if(f=e-(A+(v=e-A))+(v-h),g=u-(O+(v=u-O))+(v-h),m=r-(R+(v=r-R))+(v-p),y=c-(N+(v=c-N))+(v-p),0===f&&0===m&&0===g&&0===y)return D;if(z=11093356479670487e-47*d+33306690738754706e-32*Math.abs(D),(D+=A*y+N*f-(R*g+O*m))>=z||-D>=z)return D;v=(k=(x=f-(b=(_=t*f)-(_-f)))*(E=N-(w=(_=t*N)-(_-N)))-((I=f*N)-b*w-x*w-b*E))-(S=k-(L=(x=m-(b=(_=t*m)-(_-m)))*(E=O-(w=(_=t*O)-(_-O)))-((P=m*O)-b*w-x*w-b*E))),l[0]=k-(S+v)+(v-L),v=(T=I-((C=I+S)-(v=C-I))+(S-v))-(S=T-P),l[1]=T-(S+v)+(v-P),v=(M=C+S)-C,l[2]=C-(M-v)+(S-v),l[3]=M;const F=n(4,i,4,l,o);v=(k=(x=A-(b=(_=t*A)-(_-A)))*(E=y-(w=(_=t*y)-(_-y)))-((I=A*y)-b*w-x*w-b*E))-(S=k-(L=(x=R-(b=(_=t*R)-(_-R)))*(E=g-(w=(_=t*g)-(_-g)))-((P=R*g)-b*w-x*w-b*E))),l[0]=k-(S+v)+(v-L),v=(T=I-((C=I+S)-(v=C-I))+(S-v))-(S=T-P),l[1]=T-(S+v)+(v-P),v=(M=C+S)-C,l[2]=C-(M-v)+(S-v),l[3]=M;const B=n(F,o,4,l,a);v=(k=(x=f-(b=(_=t*f)-(_-f)))*(E=y-(w=(_=t*y)-(_-y)))-((I=f*y)-b*w-x*w-b*E))-(S=k-(L=(x=m-(b=(_=t*m)-(_-m)))*(E=g-(w=(_=t*g)-(_-g)))-((P=m*g)-b*w-x*w-b*E))),l[0]=k-(S+v)+(v-L),v=(T=I-((C=I+S)-(v=C-I))+(S-v))-(S=T-P),l[1]=T-(S+v)+(v-P),v=(M=C+S)-C,l[2]=C-(M-v)+(S-v),l[3]=M;const j=n(B,a,4,l,s);return s[j-1]}(e,r,u,c,h,p,g)},e.orient2dfast=function(e,t,n,r,i,o){return(t-o)*(n-i)-(e-i)*(r-o)},Object.defineProperty(e,"__esModule",{value:!0})}(t)},60053:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,p=null,d=3,f=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,_="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,O(w);else{var t=r(c);null!==t&&R(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,v(T),T=-1),f=!0;var o=d;try{for(b(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!P());){var a=p.callback;if("function"==typeof a){p.callback=null,d=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(u)&&i(u),b(n)}else i(u);p=r(u)}if(null!==p)var l=!0;else{var h=r(c);null!==h&&R(x,h.startTime-n),l=!1}return l}finally{p=null,d=o,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,S=!1,C=null,T=-1,I=5,k=-1;function P(){return!(t.unstable_now()-k<I)}function L(){if(null!==C){var e=t.unstable_now();k=e;var n=!0;try{n=C(!0,e)}finally{n?E():(S=!1,C=null)}}else S=!1}if("function"==typeof _)E=function(){_(L)};else if("undefined"!=typeof MessageChannel){var M=new MessageChannel,A=M.port2;M.port1.onmessage=L,E=function(){A.postMessage(null)}}else E=function(){y(L,0)};function O(e){C=e,S||(S=!0,E())}function R(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(v(T),T=-1):g=!0,R(x,o-a))):(e.sortIndex=s,n(u,e),m||f||(m=!0,O(w))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},96774:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var c=e[u],h=t[u];if(!1===(i=n?n.call(r,c,h,u):void 0)||void 0===i&&c!==h)return!1}return!0}},46446:(e,t,n)=>{"use strict";function r(e){return new i(e instanceof Uint8Array?e:new Uint8Array(e))}function i(e){this._array=e}function o(e){return fetch(e).then((function(e){return e.body&&e.body.getReader?e.body.getReader():e.arrayBuffer().then(r)}))}function a(e){return new Promise((function(t,n){var i=new XMLHttpRequest;i.responseType="arraybuffer",i.onload=function(){t(r(i.response))},i.onerror=n,i.ontimeout=n,i.open("GET",e,!0),i.send()}))}function s(e){return("function"==typeof fetch?o:a)(e)}function l(e){return"function"==typeof e.read?e:e.getReader()}n.r(t),n.d(t,{open:()=>R,openDbf:()=>D,openShp:()=>N,read:()=>z}),i.prototype.read=function(){var e=this._array;return this._array=null,Promise.resolve(e?{done:!1,value:e}:{done:!0,value:void 0})},i.prototype.cancel=function(){return this._array=null,Promise.resolve()};const u=new Uint8Array(0);function c(e,t){if(!e.length)return t;if(!t.length)return e;var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function h(e){return"function"==typeof e.slice?e:new p("function"==typeof e.read?e:e.getReader())}function p(e){this._source=e,this._array=u,this._index=0}function d(e){return!(e=e.trim())||isNaN(e=+e)?null:e}p.prototype.read=function(){var e=this,t=e._array.subarray(e._index);return e._source.read().then((function(n){return e._array=u,e._index=0,n.done?t.length>0?{done:!1,value:t}:{done:!0,value:void 0}:{done:!1,value:c(t,n.value)}}))},p.prototype.slice=function(e){if((e|=0)<0)throw new Error("invalid length");var t=this,n=this._array.length-this._index;if(this._index+e<=this._array.length)return Promise.resolve(this._array.subarray(this._index,this._index+=e));var r=new Uint8Array(e);return r.set(this._array.subarray(this._index)),function i(){return t._source.read().then((function(o){return o.done?(t._array=u,t._index=0,n>0?r.subarray(0,n):null):n+o.value.length>=e?(t._array=o.value,t._index=e-n,r.set(o.value.subarray(0,e-n),n),r):(r.set(o.value,n),n+=o.value.length,i())}))}()},p.prototype.cancel=function(){return this._source.cancel()};var f={B:d,C:function(e){return e.trim()||null},D:function(e){return new Date(+e.substring(0,4),e.substring(4,6)-1,+e.substring(6,8))},F:d,L:function(e){return!/^[nf]$/i.test(e)&&(!!/^[yt]$/i.test(e)||null)},M:d,N:d};function m(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function g(e,t){return(e=h(e)).slice(32).then((function(n){var r=m(n);return e.slice(r.getUint16(8,!0)-32).then((function(n){return new y(e,t,r,m(n))}))}))}function y(e,t,n,r){this._source=e,this._decode=t.decode.bind(t),this._recordLength=n.getUint16(10,!0),this._fields=[];for(var i=0;13!==r.getUint8(i);i+=32){for(var o=0;o<11&&0!==r.getUint8(i+o);++o);this._fields.push({name:this._decode(new Uint8Array(r.buffer,r.byteOffset+i,o)),type:String.fromCharCode(r.getUint8(i+11)),length:r.getUint8(i+16)})}}var v=y.prototype;function _(e){var t,n=40,r=e.getInt32(36,!0),i=new Array(r);for(t=0;t<r;++t,n+=16)i[t]=[e.getFloat64(n,!0),e.getFloat64(n+8,!0)];return{type:"MultiPoint",coordinates:i}}function b(e){return{type:"Point",coordinates:[e.getFloat64(4,!0),e.getFloat64(12,!0)]}}function x(e){var t,n=44,r=e.getInt32(36,!0),i=e.getInt32(40,!0),o=new Array(r),a=new Array(i),s=[],l=[];for(t=0;t<r;++t,n+=4)o[t]=e.getInt32(n,!0);for(t=0;t<i;++t,n+=16)a[t]=[e.getFloat64(n,!0),e.getFloat64(n+8,!0)];return o.forEach((function(e,t){var n=a.slice(e,o[t+1]);!function(e){if((t=e.length)<4)return!1;for(var t,n=0,r=e[t-1][1]*e[0][0]-e[t-1][0]*e[0][1];++n<t;)r+=e[n-1][1]*e[n][0]-e[n-1][0]*e[n][1];return r>=0}(n)?l.push(n):s.push([n])})),l.forEach((function(e){s.some((function(t){if(function(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=w(e,t[r]))return n>0;return!1}(t[0],e))return t.push(e),!0}))||s.push([e])})),1===s.length?{type:"Polygon",coordinates:s[0]}:{type:"MultiPolygon",coordinates:s}}function w(e,t){for(var n=t[0],r=t[1],i=-1,o=0,a=e.length,s=a-1;o<a;s=o++){var l=e[o],u=l[0],c=l[1],h=e[s],p=h[0],d=h[1];if(E(l,h,t))return 0;c>r!=d>r&&n<(p-u)*(r-c)/(d-c)+u&&(i=-i)}return i}function E(e,t,n){var r=n[0]-e[0],i=n[1]-e[1];if(0===r&&0===i)return!0;var o=t[0]-e[0],a=t[1]-e[1];if(0===o&&0===a)return!1;var s=(r*o+i*a)/(o*o+a*a);return!(s<0||s>1)&&(0===s||1===s||s*o===r&&s*a===i)}function S(e){var t,n=44,r=e.getInt32(36,!0),i=e.getInt32(40,!0),o=new Array(r),a=new Array(i);for(t=0;t<r;++t,n+=4)o[t]=e.getInt32(n,!0);for(t=0;t<i;++t,n+=16)a[t]=[e.getFloat64(n,!0),e.getFloat64(n+8,!0)];return 1===r?{type:"LineString",coordinates:a}:{type:"MultiLineString",coordinates:o.map((function(e,t){return a.slice(e,o[t+1])}))}}function C(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}v.read=function(){var e=this,t=1;return e._source.slice(e._recordLength).then((function(n){return n&&26!==n[0]?{done:!1,value:e._fields.reduce((function(r,i){return r[i.name]=f[i.type](e._decode(n.subarray(t,t+=i.length))),r}),{})}:{done:!0,value:void 0}}))},v.cancel=function(){return this._source.cancel()};var T={0:function(){return null},1:b,3:S,5:x,8:_,11:b,13:S,15:x,18:_,21:b,23:S,25:x,28:_};function I(e){return(e=h(e)).slice(100).then((function(t){return new k(e,m(t))}))}function k(e,t){var n=t.getInt32(32,!0);if(!(n in T))throw new Error("unsupported shape type: "+n);this._source=e,this._type=n,this._index=0,this._parse=T[n],this.bbox=[t.getFloat64(36,!0),t.getFloat64(44,!0),t.getFloat64(52,!0),t.getFloat64(60,!0)]}var P=k.prototype;function L(){}function M(e,t,n){return Promise.all([I(e),t&&g(t,n)]).then((function(e){return new A(e[0],e[1])}))}function A(e,t){this._shp=e,this._dbf=t,this.bbox=e.bbox}P.read=function(){var e=this;return++e._index,e._source.slice(12).then((function(t){if(null==t)return{done:!0,value:void 0};var n=m(t);function r(){return e._source.slice(4).then((function(o){return null==o?{done:!0,value:void 0}:(n=m(t=C(t.slice(4),o))).getInt32(0,!1)!==e._index?r():i()}))}function i(){var i=2*n.getInt32(4,!1)-4,o=n.getInt32(8,!0);return i<0||o&&o!==e._type?r():e._source.slice(i).then((function(n){return{done:!1,value:o?e._parse(m(C(t.slice(8),n))):null}}))}return i()}))},P.cancel=function(){return this._source.cancel()};var O=A.prototype;function R(e,t,n){return"string"==typeof t?(/\.dbf$/.test(t)||(t+=".dbf"),t=s(t)):t instanceof ArrayBuffer||t instanceof Uint8Array?t=r(t):null!=t&&(t=l(t)),"string"==typeof e?(/\.shp$/.test(e)||(e+=".shp"),void 0===t&&(t=s(e.substring(0,e.length-4)+".dbf").catch((function(){}))),e=s(e)):e=e instanceof ArrayBuffer||e instanceof Uint8Array?r(e):l(e),Promise.all([e,t]).then((function(e){var t=e[0],r=e[1],i="windows-1252";return n&&null!=n.encoding&&(i=n.encoding),M(t,r,r&&new TextDecoder(i))}))}function N(e,t){return"string"==typeof e?(/\.shp$/.test(e)||(e+=".shp"),e=s(e)):e=e instanceof ArrayBuffer||e instanceof Uint8Array?r(e):l(e),Promise.resolve(e).then(I)}function D(e,t){var n="windows-1252";return t&&null!=t.encoding&&(n=t.encoding),n=new TextDecoder(n),"string"==typeof e?(/\.dbf$/.test(e)||(e+=".dbf"),e=s(e)):e=e instanceof ArrayBuffer||e instanceof Uint8Array?r(e):l(e),Promise.resolve(e).then((function(e){return g(e,n)}))}function z(e,t,n){return R(e,t,n).then((function(e){var t=[],n={type:"FeatureCollection",features:t,bbox:e.bbox};return e.read().then((function r(i){return i.done?n:(t.push(i.value),e.read().then(r))}))}))}O.read=function(){var e=this;return Promise.all([e._dbf?e._dbf.read():{value:{}},e._shp.read()]).then((function(e){var t=e[0],n=e[1];return n.done?n:{done:!1,value:{type:"Feature",properties:t.value,geometry:n.value}}}))},O.cancel=function(){return Promise.all([this._dbf&&this._dbf.cancel(),this._shp.cancel()]).then(L)}},85697:e=>{"use strict";e.exports={eudist:function(e,t,n){for(var r=e.length,i=0,o=0;o<r;o++){var a=(e[o]||0)-(t[o]||0);i+=a*a}return n?Math.sqrt(i):i},mandist:function(e,t,n){for(var r=e.length,i=0,o=0;o<r;o++)i+=Math.abs((e[o]||0)-(t[o]||0));return n?Math.sqrt(i):i},dist:function(e,t,n){var r=Math.abs(e-t);return n?r:r*r}}},97035:(e,t,n)=>{"use strict";var r=n(85697),i=r.eudist,o=r.dist;e.exports={kmrand:function(e,t){for(var n={},r=[],i=t<<2,o=e.length,a=e[0].length>0;r.length<t&&i-- >0;){var s=e[Math.floor(Math.random()*o)],l=a?s.join("_"):""+s;n[l]||(n[l]=!0,r.push(s))}if(r.length<t)throw new Error("Error initializating clusters");return r},kmpp:function(e,t){var n=e[0].length?i:o,r=[],a=e.length,s=e[0].length>0,l=e[Math.floor(Math.random()*a)];for(s&&l.join("_"),r.push(l);r.length<t;){for(var u=[],c=r.length,h=0,p=[],d=0;d<a;d++){for(var f=1/0,m=0;m<c;m++){var g=n(e[d],r[m]);g<=f&&(f=g)}u[d]=f}for(var y=0;y<a;y++)h+=u[y];for(var v=0;v<a;v++)p[v]={i:v,v:e[v],pr:u[v]/h,cs:0};p.sort((function(e,t){return e.pr-t.pr})),p[0].cs=p[0].pr;for(var _=1;_<a;_++)p[_].cs=p[_-1].cs+p[_].pr;for(var b=Math.random(),x=0;x<a-1&&p[x++].cs<b;);r.push(p[x-1].v)}return r}}},21160:(e,t,n)=>{"use strict";var r=n(85697),i=n(97035),o=r.eudist,a=(r.mandist,r.dist,i.kmrand),s=i.kmpp;function l(e,t,n){n=n||[];for(var r=0;r<e;r++)n[r]=t;return n}e.exports=function(e,t,n,r){var i=[],u=[],c=[],h=[],p=!1,d=r||1e4,f=e.length,m=e[0].length,g=m>0,y=[];if(n)i="kmrand"==n?a(e,t):"kmpp"==n?s(e,t):n;else for(var v={};i.length<t;){var _=Math.floor(Math.random()*f);v[_]||(v[_]=!0,i.push(e[_]))}do{l(t,0,y);for(var b=0;b<f;b++){for(var x=1/0,w=0,E=0;E<t;E++)(h=g?o(e[b],i[E]):Math.abs(e[b]-i[E]))<=x&&(x=h,w=E);c[b]=w,y[w]++}for(var S=[],C=(u=[],0);C<t;C++)S[C]=g?l(m,0,S[C]):0,u[C]=i[C];if(g){for(var T=0;T<t;T++)i[T]=[];for(var I=0;I<f;I++)for(var k=S[c[I]],P=e[I],L=0;L<m;L++)k[L]+=P[L];p=!0;for(var M=0;M<t;M++){for(var A=i[M],O=S[M],R=u[M],N=y[M],D=0;D<m;D++)A[D]=O[D]/N||0;if(p)for(var z=0;z<m;z++)if(R[z]!=A[z]){p=!1;break}}}else{for(var F=0;F<f;F++)S[c[F]]+=e[F];for(var B=0;B<t;B++)i[B]=S[B]/y[B]||0;p=!0;for(var j=0;j<t;j++)if(u[j]!=i[j]){p=!1;break}}p=p||--d<=0}while(!p);return{it:1e4-d,k:t,idxs:c,centroids:i}}},43842:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(e=[],t=i){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1),o=t[r];const a=r+1;if(a<this.length&&n(t[a],o)<0&&(r=a,o=t[a]),n(o,i)>=0)break;t[e]=o,e=r}t[e]=i}}function i(e,t){return e<t?-1:e>t?1:0}},20675:function(e,t){!function(e){"use strict";function t(){}function n(e){this.message=e||""}function r(e){this.message=e||""}function i(e){this.message=e||""}function o(){}function a(e){return null===e?Re:e.color}function s(e){return null===e?null:e.parent}function l(e,t){null!==e&&(e.color=t)}function u(e){return null===e?null:e.left}function c(e){return null===e?null:e.right}function h(){this.root_=null,this.size_=0}function p(){}function d(){this.array_=[],arguments[0]instanceof be&&this.addAll(arguments[0])}function f(){}function m(e){this.message=e||""}function g(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(e){if(null==this)throw new TypeError(this+" is not an object");var t=Object(this),n=Math.max(Math.min(t.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)t[r]=e,++r;return t},writable:!0}),Number.isFinite=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(e){return e!=e},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};var y=function(){};y.prototype.interfaces_=function(){return[]},y.prototype.getClass=function(){return y},y.prototype.equalsWithTolerance=function(e,t,n){return Math.abs(e-t)<=n};var v=function(e){function t(t){e.call(this,t),this.name="IllegalArgumentException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),_=function(){},b={MAX_VALUE:{configurable:!0}};_.isNaN=function(e){return Number.isNaN(e)},_.doubleToLongBits=function(e){return e},_.longBitsToDouble=function(e){return e},_.isInfinite=function(e){return!Number.isFinite(e)},b.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(_,b);var x=function(){},w=function(){},E=function(){},S=function e(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=e.NULL_ORDINATE;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.z=t.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=e.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},C={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};S.prototype.setOrdinate=function(e,t){switch(e){case S.X:this.x=t;break;case S.Y:this.y=t;break;case S.Z:this.z=t;break;default:throw new v("Invalid ordinate index: "+e)}},S.prototype.equals2D=function(){if(1===arguments.length){var e=arguments[0];return this.x===e.x&&this.y===e.y}if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!y.equalsWithTolerance(this.x,t.x,n)&&!!y.equalsWithTolerance(this.y,t.y,n)}},S.prototype.getOrdinate=function(e){switch(e){case S.X:return this.x;case S.Y:return this.y;case S.Z:return this.z}throw new v("Invalid ordinate index: "+e)},S.prototype.equals3D=function(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||_.isNaN(this.z))&&_.isNaN(e.z)},S.prototype.equals=function(e){return e instanceof S&&this.equals2D(e)},S.prototype.equalInZ=function(e,t){return y.equalsWithTolerance(this.z,e.z,t)},S.prototype.compareTo=function(e){var t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0},S.prototype.clone=function(){},S.prototype.copy=function(){return new S(this)},S.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},S.prototype.distance3D=function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return Math.sqrt(t*t+n*n+r*r)},S.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},S.prototype.hashCode=function(){var e=17;return 37*(e=37*e+S.hashCode(this.x))+S.hashCode(this.y)},S.prototype.setCoordinate=function(e){this.x=e.x,this.y=e.y,this.z=e.z},S.prototype.interfaces_=function(){return[x,w,t]},S.prototype.getClass=function(){return S},S.hashCode=function(){if(1===arguments.length){var e=arguments[0],t=_.doubleToLongBits(e);return Math.trunc((t^t)>>>32)}},C.DimensionalComparator.get=function(){return T},C.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},C.NULL_ORDINATE.get=function(){return _.NaN},C.X.get=function(){return 0},C.Y.get=function(){return 1},C.Z.get=function(){return 2},Object.defineProperties(S,C);var T=function(e){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}};T.prototype.compare=function(e,t){var n=e,r=t,i=T.compare(n.x,r.x);if(0!==i)return i;var o=T.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:T.compare(n.z,r.z)},T.prototype.interfaces_=function(){return[E]},T.prototype.getClass=function(){return T},T.compare=function(e,t){return e<t?-1:e>t?1:_.isNaN(e)?_.isNaN(t)?0:-1:_.isNaN(t)?1:0};var I=function(){};I.prototype.create=function(){},I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I};var k=function(){},P={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};k.prototype.interfaces_=function(){return[]},k.prototype.getClass=function(){return k},k.toLocationSymbol=function(e){switch(e){case k.EXTERIOR:return"e";case k.BOUNDARY:return"b";case k.INTERIOR:return"i";case k.NONE:return"-"}throw new v("Unknown location value: "+e)},P.INTERIOR.get=function(){return 0},P.BOUNDARY.get=function(){return 1},P.EXTERIOR.get=function(){return 2},P.NONE.get=function(){return-1},Object.defineProperties(k,P);var L=function(e,t){return e.interfaces_&&e.interfaces_().indexOf(t)>-1},M=function(){},A={LOG_10:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.log10=function(e){var t=Math.log(e);return _.isInfinite(t)||_.isNaN(t)?t:t/M.LOG_10},M.min=function(e,t,n,r){var i=e;return t<i&&(i=t),n<i&&(i=n),r<i&&(i=r),i},M.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1],n=arguments[2];return e<t?t:e>n?n:e}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},M.wrap=function(e,t){return e<0?t- -e%t:e%t},M.max=function(){if(3===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[0];return e>n&&(n=e),t>n&&(n=t),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],a=arguments[0];return r>a&&(a=r),i>a&&(a=i),o>a&&(a=o),a}},M.average=function(e,t){return(e+t)/2},A.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(M,A);var O=function(e){this.str=e};O.prototype.append=function(e){this.str+=e},O.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},O.prototype.toString=function(e){return this.str};var R=function(e){this.value=e};R.prototype.intValue=function(){return this.value},R.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},R.isNaN=function(e){return Number.isNaN(e)};var N=function(){};N.isWhitespace=function(e){return e<=32&&e>=0||127===e},N.toUpperCase=function(e){return e.toUpperCase()};var D=function e(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&e.call(this,e.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},z={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};D.prototype.le=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<=e._lo},D.prototype.extractSignificantDigits=function(e,t){var n=this.abs(),r=D.magnitude(n._hi),i=D.TEN.pow(r);(n=n.divide(i)).gt(D.TEN)?(n=n.divide(D.TEN),r+=1):n.lt(D.ONE)&&(n=n.multiply(D.TEN),r-=1);for(var o=r+1,a=new O,s=D.MAX_PRINT_DIGITS-1,l=0;l<=s;l++){e&&l===o&&a.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,a.append(h),n=n.subtract(D.valueOf(u)).multiply(D.TEN),c&&n.selfAdd(D.TEN);var p=!0,d=D.magnitude(n._hi);if(d<0&&Math.abs(d)>=s-l&&(p=!1),!p)break}return t[0]=r,a.toString()},D.prototype.sqr=function(){return this.multiply(this)},D.prototype.doubleValue=function(){return this._hi+this._lo},D.prototype.subtract=function(){if(arguments[0]instanceof D){var e=arguments[0];return this.add(e.negate())}if("number"==typeof arguments[0]){var t=arguments[0];return this.add(-t)}},D.prototype.equals=function(){if(1===arguments.length){var e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}},D.prototype.isZero=function(){return 0===this._hi&&0===this._lo},D.prototype.selfSubtract=function(){if(arguments[0]instanceof D){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t,0)}},D.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},D.prototype.min=function(e){return this.le(e)?this:e},D.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof D){var e=arguments[0];return this.selfDivide(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfDivide(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null,c=null,h=null;return l=this._hi/n,h=(i=(u=D.SPLIT*l)-(i=u-l))*(a=(h=D.SPLIT*n)-(a=h-n))-(c=l*n)+i*(s=n-a)+(o=l-i)*a+o*s,h=l+(u=(this._hi-c-h+this._lo-l*r)/n),this._hi=h,this._lo=l-h+u,this}},D.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},D.prototype.divide=function(){if(arguments[0]instanceof D){var e=arguments[0],t=null,n=null,r=null,i=null,o=null,a=null,s=null,l=null;return n=(o=this._hi/e._hi)-(t=(a=D.SPLIT*o)-(t=a-o)),l=t*(r=(l=D.SPLIT*e._hi)-(r=l-e._hi))-(s=o*e._hi)+t*(i=e._hi-r)+n*r+n*i,a=(this._hi-s-l+this._lo-o*e._lo)/e._hi,new D(l=o+a,o-l+a)}if("number"==typeof arguments[0]){var u=arguments[0];return _.isNaN(u)?D.createNaN():D.copy(this).selfDivide(u,0)}},D.prototype.ge=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>=e._lo},D.prototype.pow=function(e){if(0===e)return D.valueOf(1);var t=new D(this),n=D.valueOf(1),r=Math.abs(e);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(t),(r/=2)>0&&(t=t.sqr());else n=t;return e<0?n.reciprocal():n},D.prototype.ceil=function(){if(this.isNaN())return D.NaN;var e=Math.ceil(this._hi),t=0;return e===this._hi&&(t=Math.ceil(this._lo)),new D(e,t)},D.prototype.compareTo=function(e){var t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0},D.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},D.prototype.setValue=function(){if(arguments[0]instanceof D){var e=arguments[0];return this.init(e),this}if("number"==typeof arguments[0]){var t=arguments[0];return this.init(t),this}},D.prototype.max=function(e){return this.ge(e)?this:e},D.prototype.sqrt=function(){if(this.isZero())return D.valueOf(0);if(this.isNegative())return D.NaN;var e=1/Math.sqrt(this._hi),t=this._hi*e,n=D.valueOf(t),r=this.subtract(n.sqr())._hi*(.5*e);return n.add(r)},D.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof D){var e=arguments[0];return this.selfAdd(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0],n=null,r=null,i=null,o=null,a=null,s=null;return o=(i=this._hi+t)-(a=i-this._hi),r=(s=(o=t-a+(this._hi-o))+this._lo)+(i-(n=i+s)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,h=null,p=null,d=null,f=null,m=null,g=null;d=this._hi+l,h=this._lo+u,f=d-(m=d-this._hi),p=h-(g=h-this._lo);var y=(c=d+(m=(f=l-m+(this._hi-f))+h))+(m=(p=u-g+(this._lo-p))+(m+(d-c))),v=m+(c-y);return this._hi=y,this._lo=v,this}},D.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof D){var e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if("number"==typeof arguments[0]){var t=arguments[0];return this.selfMultiply(t,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,a=null,s=null,l=null,u=null;i=(l=D.SPLIT*this._hi)-this._hi,u=D.SPLIT*n,i=l-i,o=this._hi-i,a=u-n;var c=(l=this._hi*n)+(u=i*(a=u-a)-l+i*(s=n-a)+o*a+o*s+(this._hi*r+this._lo*n)),h=u+(i=l-c);return this._hi=c,this._lo=h,this}},D.prototype.selfSqr=function(){return this.selfMultiply(this)},D.prototype.floor=function(){if(this.isNaN())return D.NaN;var e=Math.floor(this._hi),t=0;return e===this._hi&&(t=Math.floor(this._lo)),new D(e,t)},D.prototype.negate=function(){return this.isNaN()?this:new D(-this._hi,-this._lo)},D.prototype.clone=function(){},D.prototype.multiply=function(){if(arguments[0]instanceof D){var e=arguments[0];return e.isNaN()?D.createNaN():D.copy(this).selfMultiply(e)}if("number"==typeof arguments[0]){var t=arguments[0];return _.isNaN(t)?D.createNaN():D.copy(this).selfMultiply(t,0)}},D.prototype.isNaN=function(){return _.isNaN(this._hi)},D.prototype.intValue=function(){return Math.trunc(this._hi)},D.prototype.toString=function(){var e=D.magnitude(this._hi);return e>=-3&&e<=20?this.toStandardNotation():this.toSciNotation()},D.prototype.toStandardNotation=function(){var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!0,t),r=t[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+D.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+D.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},D.prototype.reciprocal=function(){var e,t,n,r,i=null,o=null,a=null,s=null;e=(n=1/this._hi)-(i=(a=D.SPLIT*n)-(i=a-n)),o=(s=D.SPLIT*this._hi)-this._hi;var l=n+(a=(1-(r=n*this._hi)-(s=i*(o=s-o)-r+i*(t=this._hi-o)+e*o+e*t)-n*this._lo)/this._hi);return new D(l,n-l+a)},D.prototype.toSciNotation=function(){if(this.isZero())return D.SCI_NOT_ZERO;var e=this.getSpecialNumberString();if(null!==e)return e;var t=new Array(1).fill(null),n=this.extractSignificantDigits(!1,t),r=D.SCI_NOT_EXPONENT_CHAR+t[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},D.prototype.abs=function(){return this.isNaN()?D.NaN:this.isNegative()?this.negate():new D(this)},D.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},D.prototype.lt=function(e){return(this._hi<e._hi||this._hi===e._hi)&&this._lo<e._lo},D.prototype.add=function(){if(arguments[0]instanceof D){var e=arguments[0];return D.copy(this).selfAdd(e)}if("number"==typeof arguments[0]){var t=arguments[0];return D.copy(this).selfAdd(t)}},D.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof D){var t=arguments[0];this._hi=t._hi,this._lo=t._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},D.prototype.gt=function(e){return(this._hi>e._hi||this._hi===e._hi)&&this._lo>e._lo},D.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},D.prototype.trunc=function(){return this.isNaN()?D.NaN:this.isPositive()?this.floor():this.ceil()},D.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},D.prototype.interfaces_=function(){return[t,x,w]},D.prototype.getClass=function(){return D},D.sqr=function(e){return D.valueOf(e).selfMultiply(e)},D.valueOf=function(){if("string"==typeof arguments[0]){var e=arguments[0];return D.parse(e)}if("number"==typeof arguments[0])return new D(arguments[0])},D.sqrt=function(e){return D.valueOf(e).sqrt()},D.parse=function(e){for(var t=0,n=e.length;N.isWhitespace(e.charAt(t));)t++;var r=!1;if(t<n){var i=e.charAt(t);"-"!==i&&"+"!==i||(t++,"-"===i&&(r=!0))}for(var o=new D,a=0,s=0,l=0;!(t>=n);){var u=e.charAt(t);if(t++,N.isDigit(u)){var c=u-"0";o.selfMultiply(D.TEN),o.selfAdd(c),a++}else{if("."!==u){if("e"===u||"E"===u){var h=e.substring(t);try{l=R.parseInt(h)}catch(t){throw t instanceof Error?new Error("Invalid exponent "+h+" in string "+e):t}break}throw new Error("Unexpected character '"+u+"' at position "+t+" in string "+e)}s=a}}var p=o,d=a-s-l;if(0===d)p=o;else if(d>0){var f=D.TEN.pow(d);p=o.divide(f)}else if(d<0){var m=D.TEN.pow(-d);p=o.multiply(m)}return r?p.negate():p},D.createNaN=function(){return new D(_.NaN,_.NaN)},D.copy=function(e){return new D(e)},D.magnitude=function(e){var t=Math.abs(e),n=Math.log(t)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=t&&(r+=1),r},D.stringOfChar=function(e,t){for(var n=new O,r=0;r<t;r++)n.append(e);return n.toString()},z.PI.get=function(){return new D(3.141592653589793,12246467991473532e-32)},z.TWO_PI.get=function(){return new D(6.283185307179586,24492935982947064e-32)},z.PI_2.get=function(){return new D(1.5707963267948966,6123233995736766e-32)},z.E.get=function(){return new D(2.718281828459045,14456468917292502e-32)},z.NaN.get=function(){return new D(_.NaN,_.NaN)},z.EPS.get=function(){return 123259516440783e-46},z.SPLIT.get=function(){return 134217729},z.MAX_PRINT_DIGITS.get=function(){return 32},z.TEN.get=function(){return D.valueOf(10)},z.ONE.get=function(){return D.valueOf(1)},z.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},z.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(D,z);var F=function(){},B={DP_SAFE_EPSILON:{configurable:!0}};F.prototype.interfaces_=function(){return[]},F.prototype.getClass=function(){return F},F.orientationIndex=function(e,t,n){var r=F.orientationIndexFilter(e,t,n);if(r<=1)return r;var i=D.valueOf(t.x).selfAdd(-e.x),o=D.valueOf(t.y).selfAdd(-e.y),a=D.valueOf(n.x).selfAdd(-t.x),s=D.valueOf(n.y).selfAdd(-t.y);return i.selfMultiply(s).selfSubtract(o.selfMultiply(a)).signum()},F.signOfDet2x2=function(e,t,n,r){return e.multiply(r).selfSubtract(t.multiply(n)).signum()},F.intersection=function(e,t,n,r){var i=D.valueOf(r.y).selfSubtract(n.y).selfMultiply(D.valueOf(t.x).selfSubtract(e.x)),o=D.valueOf(r.x).selfSubtract(n.x).selfMultiply(D.valueOf(t.y).selfSubtract(e.y)),a=i.subtract(o),s=D.valueOf(r.x).selfSubtract(n.x).selfMultiply(D.valueOf(e.y).selfSubtract(n.y)),l=D.valueOf(r.y).selfSubtract(n.y).selfMultiply(D.valueOf(e.x).selfSubtract(n.x)),u=s.subtract(l).selfDivide(a).doubleValue(),c=D.valueOf(e.x).selfAdd(D.valueOf(t.x).selfSubtract(e.x).selfMultiply(u)).doubleValue(),h=D.valueOf(t.x).selfSubtract(e.x).selfMultiply(D.valueOf(e.y).selfSubtract(n.y)),p=D.valueOf(t.y).selfSubtract(e.y).selfMultiply(D.valueOf(e.x).selfSubtract(n.x)),d=h.subtract(p).selfDivide(a).doubleValue(),f=D.valueOf(n.y).selfAdd(D.valueOf(r.y).selfSubtract(n.y).selfMultiply(d)).doubleValue();return new S(c,f)},F.orientationIndexFilter=function(e,t,n){var r=null,i=(e.x-n.x)*(t.y-n.y),o=(e.y-n.y)*(t.x-n.x),a=i-o;if(i>0){if(o<=0)return F.signum(a);r=i+o}else{if(!(i<0))return F.signum(a);if(o>=0)return F.signum(a);r=-i-o}var s=F.DP_SAFE_EPSILON*r;return a>=s||-a>=s?F.signum(a):2},F.signum=function(e){return e>0?1:e<0?-1:0},B.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(F,B);var j=function(){},Z={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};Z.X.get=function(){return 0},Z.Y.get=function(){return 1},Z.Z.get=function(){return 2},Z.M.get=function(){return 3},j.prototype.setOrdinate=function(e,t,n){},j.prototype.size=function(){},j.prototype.getOrdinate=function(e,t){},j.prototype.getCoordinate=function(){},j.prototype.getCoordinateCopy=function(e){},j.prototype.getDimension=function(){},j.prototype.getX=function(e){},j.prototype.clone=function(){},j.prototype.expandEnvelope=function(e){},j.prototype.copy=function(){},j.prototype.getY=function(e){},j.prototype.toCoordinateArray=function(){},j.prototype.interfaces_=function(){return[w]},j.prototype.getClass=function(){return j},Object.defineProperties(j,Z);var U=function(){},q=function(e){function t(){e.call(this,"Projective point not representable on the Cartesian plane.")}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(U),V=function(){};V.arraycopy=function(e,t,n,r,i){for(var o=0,a=t;a<t+i;a++)n[r+o]=e[a],o++},V.getProperty=function(e){return{"line.separator":"\n"}[e]};var G=function e(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof e&&arguments[1]instanceof e){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof S&&arguments[1]instanceof S){var a=arguments[0],s=arguments[1];this.x=a.y-s.y,this.y=s.x-a.x,this.w=a.x*s.y-s.x*a.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],p=arguments[1],d=arguments[2],f=arguments[3],m=h.y-p.y,g=p.x-h.x,y=h.x*p.y-p.x*h.y,v=d.y-f.y,_=f.x-d.x,b=d.x*f.y-f.x*d.y;this.x=g*b-_*y,this.y=v*y-m*b,this.w=m*_-v*g}};G.prototype.getY=function(){var e=this.y/this.w;if(_.isNaN(e)||_.isInfinite(e))throw new q;return e},G.prototype.getX=function(){var e=this.x/this.w;if(_.isNaN(e)||_.isInfinite(e))throw new q;return e},G.prototype.getCoordinate=function(){var e=new S;return e.x=this.getX(),e.y=this.getY(),e},G.prototype.interfaces_=function(){return[]},G.prototype.getClass=function(){return G},G.intersection=function(e,t,n,r){var i=e.y-t.y,o=t.x-e.x,a=e.x*t.y-t.x*e.y,s=n.y-r.y,l=r.x-n.x,u=n.x*r.y-r.x*n.y,c=i*l-s*o,h=(o*u-l*a)/c,p=(s*a-i*u)/c;if(_.isNaN(h)||_.isInfinite(h)||_.isNaN(p)||_.isInfinite(p))throw new q;return new S(h,p)};var H=function e(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof S){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof e){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2],l=arguments[3];this.init(o,a,s,l)}},W={serialVersionUID:{configurable:!0}};H.prototype.getArea=function(){return this.getWidth()*this.getHeight()},H.prototype.equals=function(e){if(!(e instanceof H))return!1;var t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()},H.prototype.intersection=function(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new H;var t=this._minx>e._minx?this._minx:e._minx,n=this._miny>e._miny?this._miny:e._miny,r=this._maxx<e._maxx?this._maxx:e._maxx,i=this._maxy<e._maxy?this._maxy:e._maxy;return new H(t,r,n,i)},H.prototype.isNull=function(){return this._maxx<this._minx},H.prototype.getMaxX=function(){return this._maxx},H.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof S){var e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof H){var t=arguments[0];return!this.isNull()&&!t.isNull()&&t.getMinX()>=this._minx&&t.getMaxX()<=this._maxx&&t.getMinY()>=this._miny&&t.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},H.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof H){var e=arguments[0];return!this.isNull()&&!e.isNull()&&!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof S){var t=arguments[0];return this.intersects(t.x,t.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},H.prototype.getMinY=function(){return this._miny},H.prototype.getMinX=function(){return this._minx},H.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof S){var e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof H){var t=arguments[0];if(t.isNull())return null;this.isNull()?(this._minx=t.getMinX(),this._maxx=t.getMaxX(),this._miny=t.getMinY(),this._maxy=t.getMaxY()):(t._minx<this._minx&&(this._minx=t._minx),t._maxx>this._maxx&&(this._maxx=t._maxx),t._miny<this._miny&&(this._miny=t._miny),t._maxy>this._maxy&&(this._maxy=t._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},H.prototype.minExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e<t?e:t},H.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},H.prototype.compareTo=function(e){var t=e;return this.isNull()?t.isNull()?0:-1:t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0},H.prototype.translate=function(e,t){if(this.isNull())return null;this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)},H.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},H.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},H.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},H.prototype.maxExtent=function(){if(this.isNull())return 0;var e=this.getWidth(),t=this.getHeight();return e>t?e:t},H.prototype.expandBy=function(){if(1===arguments.length){var e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=t,this._maxx+=t,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},H.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof H){var e=arguments[0];return this.covers(e)}if(arguments[0]instanceof S){var t=arguments[0];return this.covers(t)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},H.prototype.centre=function(){return this.isNull()?null:new S((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},H.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof S){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof H){var t=arguments[0];this._minx=t._minx,this._maxx=t._maxx,this._miny=t._miny,this._maxy=t._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),a<s?(this._miny=a,this._maxy=s):(this._miny=s,this._maxy=a)}},H.prototype.getMaxY=function(){return this._maxy},H.prototype.distance=function(e){if(this.intersects(e))return 0;var t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);var n=0;return this._maxy<e._miny?n=e._miny-this._maxy:this._miny>e._maxy&&(n=this._miny-e._maxy),0===t?n:0===n?t:Math.sqrt(t*t+n*n)},H.prototype.hashCode=function(){var e=17;return 37*(e=37*(e=37*(e=37*e+S.hashCode(this._minx))+S.hashCode(this._maxx))+S.hashCode(this._miny))+S.hashCode(this._maxy)},H.prototype.interfaces_=function(){return[x,t]},H.prototype.getClass=function(){return H},H.intersects=function(){if(3===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2];return n.x>=(e.x<t.x?e.x:t.x)&&n.x<=(e.x>t.x?e.x:t.x)&&n.y>=(e.y<t.y?e.y:t.y)&&n.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=Math.min(o.x,a.x),l=Math.max(o.x,a.x),u=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(u>l||c<s||(s=Math.min(o.y,a.y),l=Math.max(o.y,a.y),u=Math.min(r.y,i.y),c=Math.max(r.y,i.y),u>l||c<s))}},W.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(H,W);var $={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},X=function(e){this.geometryFactory=e||new yt};X.prototype.read=function(e){var t,n,r;e=e.replace(/[\n\r]/g," ");var i=$.typeStr.exec(e);if(-1!==e.search("EMPTY")&&((i=$.emptyTypeStr.exec(e))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],K[n]&&(t=K[n].apply(this,[r]))),void 0===t)throw new Error("Could not parse WKT "+e);return t},X.prototype.write=function(e){return this.extractGeometry(e)},X.prototype.extractGeometry=function(e){var t=e.getGeometryType().toLowerCase();if(!Y[t])return null;var n=t.toUpperCase();return e.isEmpty()?n+" EMPTY":n+"("+Y[t].apply(this,[e])+")"};var Y={coordinate:function(e){return e.x+" "+e.y},point:function(e){return Y.coordinate.call(this,e._coordinates._coordinates[0])},multipoint:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Y.point.apply(this,[e._geometries[n]])+")");return t.join(",")},linestring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Y.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},linearring:function(e){for(var t=[],n=0,r=e._points._coordinates.length;n<r;++n)t.push(Y.coordinate.apply(this,[e._points._coordinates[n]]));return t.join(",")},multilinestring:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Y.linestring.apply(this,[e._geometries[n]])+")");return t.join(",")},polygon:function(e){var t=[];t.push("("+Y.linestring.apply(this,[e._shell])+")");for(var n=0,r=e._holes.length;n<r;++n)t.push("("+Y.linestring.apply(this,[e._holes[n]])+")");return t.join(",")},multipolygon:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push("("+Y.polygon.apply(this,[e._geometries[n]])+")");return t.join(",")},geometrycollection:function(e){for(var t=[],n=0,r=e._geometries.length;n<r;++n)t.push(this.extractGeometry(e._geometries[n]));return t.join(",")}},K={point:function(e){if(void 0===e)return this.geometryFactory.createPoint();var t=e.trim().split($.spaces);return this.geometryFactory.createPoint(new S(Number.parseFloat(t[0]),Number.parseFloat(t[1])))},multipoint:function(e){if(void 0===e)return this.geometryFactory.createMultiPoint();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace($.trimParens,"$1"),r.push(K.point.apply(this,[t]));return this.geometryFactory.createMultiPoint(r)},linestring:function(e){if(void 0===e)return this.geometryFactory.createLineString();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split($.spaces),r.push(new S(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLineString(r)},linearring:function(e){if(void 0===e)return this.geometryFactory.createLinearRing();for(var t,n=e.trim().split(","),r=[],i=0,o=n.length;i<o;++i)t=n[i].trim().split($.spaces),r.push(new S(Number.parseFloat(t[0]),Number.parseFloat(t[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(e){if(void 0===e)return this.geometryFactory.createMultiLineString();for(var t,n=e.trim().split($.parenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace($.trimParens,"$1"),r.push(K.linestring.apply(this,[t]));return this.geometryFactory.createMultiLineString(r)},polygon:function(e){if(void 0===e)return this.geometryFactory.createPolygon();for(var t,n,r,i,o=e.trim().split($.parenComma),a=[],s=0,l=o.length;s<l;++s)t=o[s].replace($.trimParens,"$1"),n=K.linestring.apply(this,[t]),r=this.geometryFactory.createLinearRing(n._points),0===s?i=r:a.push(r);return this.geometryFactory.createPolygon(i,a)},multipolygon:function(e){if(void 0===e)return this.geometryFactory.createMultiPolygon();for(var t,n=e.trim().split($.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)t=n[i].replace($.trimParens,"$1"),r.push(K.polygon.apply(this,[t]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(e){if(void 0===e)return this.geometryFactory.createGeometryCollection();for(var t=(e=e.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=t.length;r<i;++r)n.push(this.read(t[r]));return this.geometryFactory.createGeometryCollection(n)}},J=function(e){this.parser=new X(e)};J.prototype.write=function(e){return this.parser.write(e)},J.toLineString=function(e,t){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+e.x+" "+e.y+", "+t.x+" "+t.y+" )"};var Q=function(e){function t(t){e.call(this,t),this.name="RuntimeException",this.message=t,this.stack=(new e).stack}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),ee=function(e){function t(){if(e.call(this),0===arguments.length)e.call(this);else if(1===arguments.length){var t=arguments[0];e.call(this,t)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Q),te=function(){};te.prototype.interfaces_=function(){return[]},te.prototype.getClass=function(){return te},te.shouldNeverReachHere=function(){if(0===arguments.length)te.shouldNeverReachHere(null);else if(1===arguments.length){var e=arguments[0];throw new ee("Should never reach here"+(null!==e?": "+e:""))}},te.isTrue=function(){var e;if(1===arguments.length)te.isTrue(arguments[0],null);else if(2===arguments.length&&(e=arguments[1],!arguments[0]))throw null===e?new ee:new ee(e)},te.equals=function(){var e,t,n;if(2===arguments.length)te.equals(e=arguments[0],t=arguments[1],null);else if(3===arguments.length&&(e=arguments[0],n=arguments[2],!(t=arguments[1]).equals(e)))throw new ee("Expected "+e+" but encountered "+t+(null!==n?": "+n:""))};var ne=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new S,this._intPt[1]=new S,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},re={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};ne.prototype.getIndexAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]},ne.prototype.getTopologySummary=function(){var e=new O;return this.isEndPoint()&&e.append(" endpoint"),this._isProper&&e.append(" proper"),this.isCollinear()&&e.append(" collinear"),e.toString()},ne.prototype.computeIntersection=function(e,t,n,r){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(e,t,n,r)},ne.prototype.getIntersectionNum=function(){return this._result},ne.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var e=arguments[0];this.getEdgeDistance(e,0)>this.getEdgeDistance(e,1)?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}},ne.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},ne.prototype.setPrecisionModel=function(e){this._precisionModel=e},ne.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var e=arguments[0],t=0;t<this._result;t++)if(!this._intPt[t].equals2D(this._inputLines[e][0])&&!this._intPt[t].equals2D(this._inputLines[e][1]))return!0;return!1}},ne.prototype.getIntersection=function(e){return this._intPt[e]},ne.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},ne.prototype.hasIntersection=function(){return this._result!==ne.NO_INTERSECTION},ne.prototype.getEdgeDistance=function(e,t){return ne.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1])},ne.prototype.isCollinear=function(){return this._result===ne.COLLINEAR_INTERSECTION},ne.prototype.toString=function(){return J.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+J.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},ne.prototype.getEndpoint=function(e,t){return this._inputLines[e][t]},ne.prototype.isIntersection=function(e){for(var t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1},ne.prototype.getIntersectionAlongSegment=function(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]},ne.prototype.interfaces_=function(){return[]},ne.prototype.getClass=function(){return ne},ne.computeEdgeDistance=function(e,t,n){var r=Math.abs(n.x-t.x),i=Math.abs(n.y-t.y),o=-1;if(e.equals(t))o=0;else if(e.equals(n))o=r>i?r:i;else{var a=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);0!==(o=r>i?a:s)||e.equals(t)||(o=Math.max(a,s))}return te.isTrue(!(0===o&&!e.equals(t)),"Bad distance calculation"),o},ne.nonRobustComputeEdgeDistance=function(e,t,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return te.isTrue(!(0===o&&!e.equals(t)),"Invalid distance calculation"),o},re.DONT_INTERSECT.get=function(){return 0},re.DO_INTERSECT.get=function(){return 1},re.COLLINEAR.get=function(){return 2},re.NO_INTERSECTION.get=function(){return 0},re.POINT_INTERSECTION.get=function(){return 1},re.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(ne,re);var ie=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isInSegmentEnvelopes=function(e){var t=new H(this._inputLines[0][0],this._inputLines[0][1]),n=new H(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&n.contains(e)},t.prototype.computeIntersection=function(){if(3!==arguments.length)return e.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,H.intersects(n,r,t)&&0===se.orientationIndex(n,r,t)&&0===se.orientationIndex(r,n,t))return this._isProper=!0,(t.equals(n)||t.equals(r))&&(this._isProper=!1),this._result=e.POINT_INTERSECTION,null;this._result=e.NO_INTERSECTION},t.prototype.normalizeToMinimum=function(e,t,n,r,i){i.x=this.smallestInAbsValue(e.x,t.x,n.x,r.x),i.y=this.smallestInAbsValue(e.y,t.y,n.y,r.y),e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.safeHCoordinateIntersection=function(e,n,r,i){var o=null;try{o=G.intersection(e,n,r,i)}catch(a){if(!(a instanceof q))throw a;o=t.nearestEndpoint(e,n,r,i)}return o},t.prototype.intersection=function(e,n,r,i){var o=this.intersectionWithNormalization(e,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new S(t.nearestEndpoint(e,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},t.prototype.smallestInAbsValue=function(e,t,n,r){var i=e,o=Math.abs(i);return Math.abs(t)<o&&(i=t,o=Math.abs(t)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},t.prototype.checkDD=function(e,t,n,r,i){var o=F.intersection(e,t,n,r),a=this.isInSegmentEnvelopes(o);V.out.println("DD in env = "+a+"  --------------------- "+o),i.distance(o)>1e-4&&V.out.println("Distance = "+i.distance(o))},t.prototype.intersectionWithNormalization=function(e,t,n,r){var i=new S(e),o=new S(t),a=new S(n),s=new S(r),l=new S;this.normalizeToEnvCentre(i,o,a,s,l);var u=this.safeHCoordinateIntersection(i,o,a,s);return u.x+=l.x,u.y+=l.y,u},t.prototype.computeCollinearIntersection=function(t,n,r,i){var o=H.intersects(t,n,r),a=H.intersects(t,n,i),s=H.intersects(r,i,t),l=H.intersects(r,i,n);return o&&a?(this._intPt[0]=r,this._intPt[1]=i,e.COLLINEAR_INTERSECTION):s&&l?(this._intPt[0]=t,this._intPt[1]=n,e.COLLINEAR_INTERSECTION):o&&s?(this._intPt[0]=r,this._intPt[1]=t,!r.equals(t)||a||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):o&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||a||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&s?(this._intPt[0]=i,this._intPt[1]=t,!i.equals(t)||o||l?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):a&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||s?e.COLLINEAR_INTERSECTION:e.POINT_INTERSECTION):e.NO_INTERSECTION},t.prototype.normalizeToEnvCentre=function(e,t,n,r,i){var o=e.x<t.x?e.x:t.x,a=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,l=e.y>t.y?e.y:t.y,u=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,p=n.y>r.y?n.y:r.y,d=((o>u?o:u)+(s<h?s:h))/2,f=((a>c?a:c)+(l<p?l:p))/2;i.x=d,i.y=f,e.x-=i.x,e.y-=i.y,t.x-=i.x,t.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},t.prototype.computeIntersect=function(t,n,r,i){if(this._isProper=!1,!H.intersects(t,n,r,i))return e.NO_INTERSECTION;var o=se.orientationIndex(t,n,r),a=se.orientationIndex(t,n,i);if(o>0&&a>0||o<0&&a<0)return e.NO_INTERSECTION;var s=se.orientationIndex(r,i,t),l=se.orientationIndex(r,i,n);return s>0&&l>0||s<0&&l<0?e.NO_INTERSECTION:0===o&&0===a&&0===s&&0===l?this.computeCollinearIntersection(t,n,r,i):(0===o||0===a||0===s||0===l?(this._isProper=!1,t.equals2D(r)||t.equals2D(i)?this._intPt[0]=t:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new S(r):0===a?this._intPt[0]=new S(i):0===s?this._intPt[0]=new S(t):0===l&&(this._intPt[0]=new S(n))):(this._isProper=!0,this._intPt[0]=this.intersection(t,n,r,i)),e.POINT_INTERSECTION)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.nearestEndpoint=function(e,t,n,r){var i=e,o=se.distancePointLine(e,n,r),a=se.distancePointLine(t,n,r);return a<o&&(o=a,i=t),(a=se.distancePointLine(n,e,t))<o&&(o=a,i=n),(a=se.distancePointLine(r,e,t))<o&&(o=a,i=r),i},t}(ne),oe=function(){};oe.prototype.interfaces_=function(){return[]},oe.prototype.getClass=function(){return oe},oe.orientationIndex=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=n.x-t.x,a=n.y-t.y;return oe.signOfDet2x2(r,i,o,a)},oe.signOfDet2x2=function(e,t,n,r){var i=null,o=null,a=null;if(i=1,0===e||0===r)return 0===t||0===n?0:t>0?n>0?-i:i:n>0?i:-i;if(0===t||0===n)return r>0?e>0?i:-i:e>0?-i:i;if(t>0?r>0?t<=r||(i=-i,o=e,e=n,n=o,o=t,t=r,r=o):t<=-r?(i=-i,n=-n,r=-r):(o=e,e=-n,n=o,o=t,t=-r,r=o):r>0?-t<=r?(i=-i,e=-e,t=-t):(o=-e,e=n,n=o,o=-t,t=r,r=o):t>=r?(e=-e,t=-t,n=-n,r=-r):(i=-i,o=-e,e=-n,n=o,o=-t,t=-r,r=o),e>0){if(!(n>0))return i;if(!(e<=n))return i}else{if(n>0)return-i;if(!(e>=n))return-i;i=-i,e=-e,n=-n}for(;;){if((r-=(a=Math.floor(n/e))*t)<0)return-i;if(r>t)return i;if(e>(n-=a*e)+n){if(t<r+r)return i}else{if(t>r+r)return-i;n=e-n,r=t-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((t-=(a=Math.floor(e/n))*r)<0)return i;if(t>r)return-i;if(n>(e-=a*n)+e){if(r<t+t)return-i}else{if(r>t+t)return i;e=n-e,t=r-t,i=-i}if(0===t)return 0===e?0:i;if(0===e)return-i}};var ae=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var e=arguments[0];this._p=e};ae.prototype.countSegment=function(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){var n=e.x,r=t.x;return n>r&&(n=t.x,r=e.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){var i=e.x-this._p.x,o=e.y-this._p.y,a=t.x-this._p.x,s=t.y-this._p.y,l=oe.signOfDet2x2(i,o,a,s);if(0===l)return this._isPointOnSegment=!0,null;s<o&&(l=-l),l>0&&this._crossingCount++}},ae.prototype.isPointInPolygon=function(){return this.getLocation()!==k.EXTERIOR},ae.prototype.getLocation=function(){return this._isPointOnSegment?k.BOUNDARY:this._crossingCount%2==1?k.INTERIOR:k.EXTERIOR},ae.prototype.isOnSegment=function(){return this._isPointOnSegment},ae.prototype.interfaces_=function(){return[]},ae.prototype.getClass=function(){return ae},ae.locatePointInRing=function(){if(arguments[0]instanceof S&&L(arguments[1],j)){for(var e=arguments[1],t=new ae(arguments[0]),n=new S,r=new S,i=1;i<e.size();i++)if(e.getCoordinate(i,n),e.getCoordinate(i-1,r),t.countSegment(n,r),t.isOnSegment())return t.getLocation();return t.getLocation()}if(arguments[0]instanceof S&&arguments[1]instanceof Array){for(var o=arguments[1],a=new ae(arguments[0]),s=1;s<o.length;s++){var l=o[s],u=o[s-1];if(a.countSegment(l,u),a.isOnSegment())return a.getLocation()}return a.getLocation()}};var se=function(){},le={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};se.prototype.interfaces_=function(){return[]},se.prototype.getClass=function(){return se},se.orientationIndex=function(e,t,n){return F.orientationIndex(e,t,n)},se.signedArea=function(){if(arguments[0]instanceof Array){var e=arguments[0];if(e.length<3)return 0;for(var t=0,n=e[0].x,r=1;r<e.length-1;r++){var i=e[r].x-n,o=e[r+1].y;t+=i*(e[r-1].y-o)}return t/2}if(L(arguments[0],j)){var a=arguments[0],s=a.size();if(s<3)return 0;var l=new S,u=new S,c=new S;a.getCoordinate(0,u),a.getCoordinate(1,c);var h=u.x;c.x-=h;for(var p=0,d=1;d<s-1;d++)l.y=u.y,u.x=c.x,u.y=c.y,a.getCoordinate(d+1,c),c.x-=h,p+=u.x*(l.y-c.y);return p/2}},se.distanceLineLine=function(e,t,n,r){if(e.equals(t))return se.distancePointLine(e,n,r);if(n.equals(r))return se.distancePointLine(r,e,t);var i=!1;if(H.intersects(e,t,n,r)){var o=(t.x-e.x)*(r.y-n.y)-(t.y-e.y)*(r.x-n.x);if(0===o)i=!0;else{var a=(e.y-n.y)*(r.x-n.x)-(e.x-n.x)*(r.y-n.y),s=((e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y))/o,l=a/o;(l<0||l>1||s<0||s>1)&&(i=!0)}}else i=!0;return i?M.min(se.distancePointLine(e,n,r),se.distancePointLine(t,n,r),se.distancePointLine(n,e,t),se.distancePointLine(r,e,t)):0},se.isPointInRing=function(e,t){return se.locatePointInRing(e,t)!==k.EXTERIOR},se.computeLength=function(e){var t=e.size();if(t<=1)return 0;var n=0,r=new S;e.getCoordinate(0,r);for(var i=r.x,o=r.y,a=1;a<t;a++){e.getCoordinate(a,r);var s=r.x,l=r.y,u=s-i,c=l-o;n+=Math.sqrt(u*u+c*c),i=s,o=l}return n},se.isCCW=function(e){var t=e.length-1;if(t<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=e[0],r=0,i=1;i<=t;i++){var o=e[i];o.y>n.y&&(n=o,r=i)}var a=r;do{(a-=1)<0&&(a=t)}while(e[a].equals2D(n)&&a!==r);var s=r;do{s=(s+1)%t}while(e[s].equals2D(n)&&s!==r);var l=e[a],u=e[s];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=se.computeOrientation(l,n,u);return 0===c?l.x>u.x:c>0},se.locatePointInRing=function(e,t){return ae.locatePointInRing(e,t)},se.distancePointLinePerpendicular=function(e,t,n){var r=(n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y),i=((t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y))/r;return Math.abs(i)*Math.sqrt(r)},se.computeOrientation=function(e,t,n){return se.orientationIndex(e,t,n)},se.distancePointLine=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(0===t.length)throw new v("Line array must contain at least one vertex");for(var n=e.distance(t[0]),r=0;r<t.length-1;r++){var i=se.distancePointLine(e,t[r],t[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];if(a.x===s.x&&a.y===s.y)return o.distance(a);var l=(s.x-a.x)*(s.x-a.x)+(s.y-a.y)*(s.y-a.y),u=((o.x-a.x)*(s.x-a.x)+(o.y-a.y)*(s.y-a.y))/l;if(u<=0)return o.distance(a);if(u>=1)return o.distance(s);var c=((a.y-o.y)*(s.x-a.x)-(a.x-o.x)*(s.y-a.y))/l;return Math.abs(c)*Math.sqrt(l)}},se.isOnLine=function(e,t){for(var n=new ie,r=1;r<t.length;r++){var i=t[r-1],o=t[r];if(n.computeIntersection(e,i,o),n.hasIntersection())return!0}return!1},le.CLOCKWISE.get=function(){return-1},le.RIGHT.get=function(){return se.CLOCKWISE},le.COUNTERCLOCKWISE.get=function(){return 1},le.LEFT.get=function(){return se.COUNTERCLOCKWISE},le.COLLINEAR.get=function(){return 0},le.STRAIGHT.get=function(){return se.COLLINEAR},Object.defineProperties(se,le);var ue=function(){};ue.prototype.filter=function(e){},ue.prototype.interfaces_=function(){return[]},ue.prototype.getClass=function(){return ue};var ce=function(){var e=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=e,this._SRID=e.getSRID()},he={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ce.prototype.isGeometryCollection=function(){return this.getSortIndex()===ce.SORTINDEX_GEOMETRYCOLLECTION},ce.prototype.getFactory=function(){return this._factory},ce.prototype.getGeometryN=function(e){return this},ce.prototype.getArea=function(){return 0},ce.prototype.isRectangle=function(){return!1},ce.prototype.equals=function(){if(arguments[0]instanceof ce){var e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){var t=arguments[0];if(!(t instanceof ce))return!1;var n=t;return this.equalsExact(n)}},ce.prototype.equalsExact=function(e){return this===e||this.equalsExact(e,0)},ce.prototype.geometryChanged=function(){this.apply(ce.geometryChangedFilter)},ce.prototype.geometryChangedAction=function(){this._envelope=null},ce.prototype.equalsNorm=function(e){return null!==e&&this.norm().equalsExact(e.norm())},ce.prototype.getLength=function(){return 0},ce.prototype.getNumGeometries=function(){return 1},ce.prototype.compareTo=function(){if(1===arguments.length){var e=arguments[0],t=e;return this.getSortIndex()!==t.getSortIndex()?this.getSortIndex()-t.getSortIndex():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ce.prototype.getUserData=function(){return this._userData},ce.prototype.getSRID=function(){return this._SRID},ce.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ce.prototype.checkNotGeometryCollection=function(e){if(e.getSortIndex()===ce.SORTINDEX_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")},ce.prototype.equal=function(e,t,n){return 0===n?e.equals(t):e.distance(t)<=n},ce.prototype.norm=function(){var e=this.copy();return e.normalize(),e},ce.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ce.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new H(this._envelope)},ce.prototype.setSRID=function(e){this._SRID=e},ce.prototype.setUserData=function(e){this._userData=e},ce.prototype.compare=function(e,t){for(var n=e.iterator(),r=t.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),a=i.compareTo(o);if(0!==a)return a}return n.hasNext()?1:r.hasNext()?-1:0},ce.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ce.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ce.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ce.SORTINDEX_MULTIPOINT||this.getSortIndex()===ce.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ce.SORTINDEX_MULTIPOLYGON},ce.prototype.interfaces_=function(){return[w,x,t]},ce.prototype.getClass=function(){return ce},ce.hasNonEmptyElements=function(e){for(var t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1},ce.hasNullElements=function(e){for(var t=0;t<e.length;t++)if(null===e[t])return!0;return!1},he.serialVersionUID.get=function(){return 0x799ea46522854c00},he.SORTINDEX_POINT.get=function(){return 0},he.SORTINDEX_MULTIPOINT.get=function(){return 1},he.SORTINDEX_LINESTRING.get=function(){return 2},he.SORTINDEX_LINEARRING.get=function(){return 3},he.SORTINDEX_MULTILINESTRING.get=function(){return 4},he.SORTINDEX_POLYGON.get=function(){return 5},he.SORTINDEX_MULTIPOLYGON.get=function(){return 6},he.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},he.geometryChangedFilter.get=function(){return pe},Object.defineProperties(ce,he);var pe=function(){};pe.interfaces_=function(){return[ue]},pe.filter=function(e){e.geometryChangedAction()};var de=function(){};de.prototype.filter=function(e){},de.prototype.interfaces_=function(){return[]},de.prototype.getClass=function(){return de};var fe=function(){},me={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};fe.prototype.isInBoundary=function(e){},fe.prototype.interfaces_=function(){return[]},fe.prototype.getClass=function(){return fe},me.Mod2BoundaryNodeRule.get=function(){return ge},me.EndPointBoundaryNodeRule.get=function(){return ye},me.MultiValentEndPointBoundaryNodeRule.get=function(){return ve},me.MonoValentEndPointBoundaryNodeRule.get=function(){return _e},me.MOD2_BOUNDARY_RULE.get=function(){return new ge},me.ENDPOINT_BOUNDARY_RULE.get=function(){return new ye},me.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new ve},me.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _e},me.OGC_SFS_BOUNDARY_RULE.get=function(){return fe.MOD2_BOUNDARY_RULE},Object.defineProperties(fe,me);var ge=function(){};ge.prototype.isInBoundary=function(e){return e%2==1},ge.prototype.interfaces_=function(){return[fe]},ge.prototype.getClass=function(){return ge};var ye=function(){};ye.prototype.isInBoundary=function(e){return e>0},ye.prototype.interfaces_=function(){return[fe]},ye.prototype.getClass=function(){return ye};var ve=function(){};ve.prototype.isInBoundary=function(e){return e>1},ve.prototype.interfaces_=function(){return[fe]},ve.prototype.getClass=function(){return ve};var _e=function(){};_e.prototype.isInBoundary=function(e){return 1===e},_e.prototype.interfaces_=function(){return[fe]},_e.prototype.getClass=function(){return _e};var be=function(){};be.prototype.add=function(){},be.prototype.addAll=function(){},be.prototype.isEmpty=function(){},be.prototype.iterator=function(){},be.prototype.size=function(){},be.prototype.toArray=function(){},be.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var xe=function(){};xe.prototype.hasNext=function(){},xe.prototype.next=function(){},xe.prototype.remove=function(){};var we=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(){},t.prototype.set=function(){},t.prototype.isEmpty=function(){},t}(be);(r.prototype=new Error).name="NoSuchElementException";var Ee=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof be&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.ensureCapacity=function(){},t.prototype.interfaces_=function(){return[e,be]},t.prototype.add=function(e){return 1===arguments.length?this.array_.push(e):this.array_.splice(arguments[0],arguments[1]),!0},t.prototype.clear=function(){this.array_=[]},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.set=function(e,t){var n=this.array_[e];return this.array_[e]=t,n},t.prototype.iterator=function(){return new Se(this)},t.prototype.get=function(e){if(e<0||e>=this.size())throw new n;return this.array_[e]},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.size=function(){return this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.remove=function(e){for(var t=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===e){this.array_.splice(n,1),t=!0;break}return t},t}(we),Se=function(e){function t(t){e.call(this),this.arrayList_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},t.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},t}(xe),Ce=function(e){function t(){if(e.call(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},t.prototype.getCoordinate=function(e){return this.get(e)},t.prototype.addAll=function(){if(2===arguments.length){for(var t=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),t),n=!0;return n}return e.prototype.addAll.apply(this,arguments)},t.prototype.clone=function(){for(var t=e.prototype.clone.call(this),n=0;n<this.size();n++)t.add(n,this.get(n).copy());return t},t.prototype.toCoordinateArray=function(){return this.toArray(t.coordArrayType)},t.prototype.add=function(){if(1===arguments.length){var t=arguments[0];e.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof S&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;e.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],a=arguments[1];return this.add(o,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var s=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<s.length;u++)this.add(s[u],l);else for(var c=s.length-1;c>=0;c--)this.add(s[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof S){var h=arguments[0],p=arguments[1];if(!arguments[2]){var d=this.size();if(d>0){if(h>0&&this.get(h-1).equals2D(p))return null;if(h<d&&this.get(h).equals2D(p))return null}}e.prototype.add.call(this,h,p)}}else if(4===arguments.length){var f=arguments[0],m=arguments[1],g=arguments[2],y=arguments[3],v=1;g>y&&(v=-1);for(var _=g;_!==y;_+=v)this.add(f[_],m);return!0}},t.prototype.closeRing=function(){this.size()>0&&this.add(new S(this.get(0)),!1)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},Object.defineProperties(t,n),t}(Ee),Te=function(){},Ie={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Ie.ForwardComparator.get=function(){return ke},Ie.BidirectionalComparator.get=function(){return Pe},Ie.coordArrayType.get=function(){return new Array(0).fill(null)},Te.prototype.interfaces_=function(){return[]},Te.prototype.getClass=function(){return Te},Te.isRing=function(e){return!(e.length<4||!e[0].equals2D(e[e.length-1]))},Te.ptNotInList=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(Te.indexOf(r,t)<0)return r}return null},Te.scroll=function(e,t){var n=Te.indexOf(t,e);if(n<0)return null;var r=new Array(e.length).fill(null);V.arraycopy(e,n,r,0,e.length-n),V.arraycopy(e,0,r,e.length-n,n),V.arraycopy(r,0,e,0,e.length)},Te.equals=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var a=0;a<r.length;a++)if(0!==o.compare(r[a],i[a]))return!1;return!0}},Te.intersection=function(e,t){for(var n=new Ce,r=0;r<e.length;r++)t.intersects(e[r])&&n.add(e[r],!0);return n.toCoordinateArray()},Te.hasRepeatedPoints=function(e){for(var t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1},Te.removeRepeatedPoints=function(e){return Te.hasRepeatedPoints(e)?new Ce(e,!1).toCoordinateArray():e},Te.reverse=function(e){for(var t=e.length-1,n=Math.trunc(t/2),r=0;r<=n;r++){var i=e[r];e[r]=e[t-r],e[t-r]=i}},Te.removeNull=function(e){for(var t=0,n=0;n<e.length;n++)null!==e[n]&&t++;var r=new Array(t).fill(null);if(0===t)return r;for(var i=0,o=0;o<e.length;o++)null!==e[o]&&(r[i++]=e[o]);return r},Te.copyDeep=function(){if(1===arguments.length){for(var e=arguments[0],t=new Array(e.length).fill(null),n=0;n<e.length;n++)t[n]=new S(e[n]);return t}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],a=arguments[3],s=arguments[4],l=0;l<s;l++)o[a+l]=new S(r[i+l])},Te.isEqualReversed=function(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=t[e.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Te.envelope=function(e){for(var t=new H,n=0;n<e.length;n++)t.expandToInclude(e[n]);return t},Te.toCoordinateArray=function(e){return e.toArray(Te.coordArrayType)},Te.atLeastNCoordinatesOrNothing=function(e,t){return t.length>=e?t:[]},Te.indexOf=function(e,t){for(var n=0;n<t.length;n++)if(e.equals(t[n]))return n;return-1},Te.increasingDirection=function(e){for(var t=0;t<Math.trunc(e.length/2);t++){var n=e.length-1-t,r=e[t].compareTo(e[n]);if(0!==r)return r}return 1},Te.compare=function(e,t){for(var n=0;n<e.length&&n<t.length;){var r=e[n].compareTo(t[n]);if(0!==r)return r;n++}return n<t.length?-1:n<e.length?1:0},Te.minCoordinate=function(e){for(var t=null,n=0;n<e.length;n++)(null===t||t.compareTo(e[n])>0)&&(t=e[n]);return t},Te.extract=function(e,t,n){t=M.clamp(t,0,e.length);var r=(n=M.clamp(n,-1,e.length))-t+1;n<0&&(r=0),t>=e.length&&(r=0),n<t&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,a=t;a<=n;a++)i[o++]=e[a];return i},Object.defineProperties(Te,Ie);var ke=function(){};ke.prototype.compare=function(e,t){return Te.compare(e,t)},ke.prototype.interfaces_=function(){return[E]},ke.prototype.getClass=function(){return ke};var Pe=function(){};Pe.prototype.compare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Te.compare(n,r);return Te.isEqualReversed(n,r)?0:i},Pe.prototype.OLDcompare=function(e,t){var n=e,r=t;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Te.increasingDirection(n),o=Te.increasingDirection(r),a=i>0?0:n.length-1,s=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[a].compareTo(r[s]);if(0!==u)return u;a+=i,s+=o}return 0},Pe.prototype.interfaces_=function(){return[E]},Pe.prototype.getClass=function(){return Pe};var Le=function(){};Le.prototype.get=function(){},Le.prototype.put=function(){},Le.prototype.size=function(){},Le.prototype.values=function(){},Le.prototype.entrySet=function(){};var Me=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Le);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new be).contains=function(){};var Ae=function(e){function t(){e.call(this),this.array_=[],arguments[0]instanceof be&&this.addAll(arguments[0])}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(this.array_[t]===e)return!0;return!1},t.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},t.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},t.prototype.remove=function(e){throw new Error},t.prototype.size=function(){return this.array_.length},t.prototype.isEmpty=function(){return 0===this.array_.length},t.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},t.prototype.iterator=function(){return new Oe(this)},t}(o),Oe=function(e){function t(t){e.call(this),this.hashSet_=t,this.position_=0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},t.prototype.remove=function(){throw new i},t}(xe),Re=0;(h.prototype=new Me).get=function(e){for(var t=this.root_;null!==t;){var n=e.compareTo(t.key);if(n<0)t=t.left;else{if(!(n>0))return t.value;t=t.right}}return null},h.prototype.put=function(e,t){if(null===this.root_)return this.root_={key:e,value:t,left:null,right:null,parent:null,color:Re,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=e.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=t,o}i=i.right}}while(null!==i);var a={key:e,left:null,right:null,value:t,parent:n,color:Re,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=a:n.right=a,this.fixAfterInsertion(a),this.size_++,null},h.prototype.fixAfterInsertion=function(e){for(e.color=1;null!=e&&e!==this.root_&&1===e.parent.color;)if(s(e)===u(s(s(e)))){var t=c(s(s(e)));1===a(t)?(l(s(e),Re),l(t,Re),l(s(s(e)),1),e=s(s(e))):(e===c(s(e))&&(e=s(e),this.rotateLeft(e)),l(s(e),Re),l(s(s(e)),1),this.rotateRight(s(s(e))))}else{var n=u(s(s(e)));1===a(n)?(l(s(e),Re),l(n,Re),l(s(s(e)),1),e=s(s(e))):(e===u(s(e))&&(e=s(e),this.rotateRight(e)),l(s(e),Re),l(s(s(e)),1),this.rotateLeft(s(s(e))))}this.root_.color=Re},h.prototype.values=function(){var e=new Ee,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=h.successor(t));)e.add(t.value);return e},h.prototype.entrySet=function(){var e=new Ae,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=h.successor(t));)e.add(t);return e},h.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},h.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null===e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},h.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},h.successor=function(e){if(null===e)return null;if(null!==e.right){for(var t=e.right;null!==t.left;)t=t.left;return t}for(var n=e.parent,r=e;null!==n&&r===n.right;)r=n,n=n.parent;return n},h.prototype.size=function(){return this.size_};var Ne=function(){};Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne},p.prototype=new o,(d.prototype=new p).contains=function(e){for(var t=0,n=this.array_.length;t<n;t++)if(0===this.array_[t].compareTo(e))return!0;return!1},d.prototype.add=function(e){if(this.contains(e))return!1;for(var t=0,n=this.array_.length;t<n;t++)if(1===this.array_[t].compareTo(e))return this.array_.splice(t,0,e),!0;return this.array_.push(e),!0},d.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next());return!0},d.prototype.remove=function(e){throw new i},d.prototype.size=function(){return this.array_.length},d.prototype.isEmpty=function(){return 0===this.array_.length},d.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e},d.prototype.iterator=function(){return new De(this)};var De=function(e){this.treeSet_=e,this.position_=0};De.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},De.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},De.prototype.remove=function(){throw new i};var ze=function(){};ze.sort=function(){var e,t,n,r,i=arguments[0];if(1===arguments.length)r=function(e,t){return e.compareTo(t)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(e,t){return n.compare(e,t)},i.sort(r);else if(3===arguments.length){(t=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length));for(i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e])}else if(4===arguments.length)for(t=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(e,t){return n.compare(e,t)},t.sort(r),o=i.slice(0,arguments[1]).concat(t,i.slice(arguments[2],i.length)),i.splice(0,i.length),e=0;e<o.length;e++)i.push(o[e])},ze.asList=function(e){for(var t=new Ee,n=0,r=e.length;n<r;n++)t.add(e[n]);return t};var Fe=function(){},Be={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};Be.P.get=function(){return 0},Be.L.get=function(){return 1},Be.A.get=function(){return 2},Be.FALSE.get=function(){return-1},Be.TRUE.get=function(){return-2},Be.DONTCARE.get=function(){return-3},Be.SYM_FALSE.get=function(){return"F"},Be.SYM_TRUE.get=function(){return"T"},Be.SYM_DONTCARE.get=function(){return"*"},Be.SYM_P.get=function(){return"0"},Be.SYM_L.get=function(){return"1"},Be.SYM_A.get=function(){return"2"},Fe.prototype.interfaces_=function(){return[]},Fe.prototype.getClass=function(){return Fe},Fe.toDimensionSymbol=function(e){switch(e){case Fe.FALSE:return Fe.SYM_FALSE;case Fe.TRUE:return Fe.SYM_TRUE;case Fe.DONTCARE:return Fe.SYM_DONTCARE;case Fe.P:return Fe.SYM_P;case Fe.L:return Fe.SYM_L;case Fe.A:return Fe.SYM_A}throw new v("Unknown dimension value: "+e)},Fe.toDimensionValue=function(e){switch(N.toUpperCase(e)){case Fe.SYM_FALSE:return Fe.FALSE;case Fe.SYM_TRUE:return Fe.TRUE;case Fe.SYM_DONTCARE:return Fe.DONTCARE;case Fe.SYM_P:return Fe.P;case Fe.SYM_L:return Fe.L;case Fe.SYM_A:return Fe.A}throw new v("Unknown dimension symbol: "+e)},Object.defineProperties(Fe,Be);var je=function(){};je.prototype.filter=function(e){},je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je};var Ze=function(){};Ze.prototype.filter=function(e,t){},Ze.prototype.isDone=function(){},Ze.prototype.isGeometryChanged=function(){},Ze.prototype.interfaces_=function(){return[]},Ze.prototype.getClass=function(){return Ze};var Ue=function(e){function t(t,n){if(e.call(this,n),this._geometries=t||[],e.hasNullElements(this._geometries))throw new v("geometries must not contain null elements")}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){for(var e=new H,t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e},t.prototype.getGeometryN=function(e){return this._geometries[e]},t.prototype.getSortIndex=function(){return e.SORTINDEX_GEOMETRYCOLLECTION},t.prototype.getCoordinates=function(){for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)e[++t]=r[i];return e},t.prototype.getArea=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();ze.sort(this._geometries)},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},t.prototype.getBoundaryDimension=function(){for(var e=Fe.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getBoundaryDimension());return e},t.prototype.getDimension=function(){for(var e=Fe.FALSE,t=0;t<this._geometries.length;t++)e=Math.max(e,this._geometries[t].getDimension());return e},t.prototype.getLength=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=0,t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e},t.prototype.getNumGeometries=function(){return this._geometries.length},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(t)},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=new d(ze.asList(this._geometries)),n=new d(ze.asList(e._geometries));return this.compare(t,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),a=i.getNumGeometries(),s=0;s<o&&s<a;){var l=this.getGeometryN(s),u=i.getGeometryN(s),c=l.compareToSameClass(u,r);if(0!==c)return c;s++}return s<o?1:s<a?-1:0}},t.prototype.apply=function(){if(L(arguments[0],de))for(var e=arguments[0],t=0;t<this._geometries.length;t++)this._geometries[t].apply(e);else if(L(arguments[0],Ze)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(L(arguments[0],je)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(L(arguments[0],ue)){var a=arguments[0];a.filter(this);for(var s=0;s<this._geometries.length;s++)this._geometries[s].apply(a)}},t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),te.shouldNeverReachHere(),null},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)t._geometries[n]=this._geometries[n].clone();return t},t.prototype.getGeometryType=function(){return"GeometryCollection"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.isEmpty=function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(t,n),t}(ce),qe=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_MULTILINESTRING},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fe.FALSE:0},t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0},t.prototype.getDimension=function(){return 1},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[e-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(t)},t.prototype.getBoundary=function(){return new Ve(this).getBoundary()},t.prototype.getGeometryType=function(){return"MultiLineString"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ne]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(t,n),t}(Ue),Ve=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var e=arguments[0],t=fe.MOD2_BOUNDARY_RULE;this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Ve.prototype.boundaryMultiLineString=function(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)},Ve.prototype.getBoundary=function(){return this._geom instanceof Xe?this.boundaryLineString(this._geom):this._geom instanceof qe?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Ve.prototype.boundaryLineString=function(e){return this._geom.isEmpty()?this.getEmptyMultiPoint():e.isClosed()?this._bnRule.isInBoundary(2)?e.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])},Ve.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Ve.prototype.computeBoundaryCoordinates=function(e){var t=new Ee;this._endpointMap=new h;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),a=o.getValue().count;this._bnRule.isInBoundary(a)&&t.add(o.getKey())}return Te.toCoordinateArray(t)},Ve.prototype.addEndpoint=function(e){var t=this._endpointMap.get(e);null===t&&(t=new Ge,this._endpointMap.put(e,t)),t.count++},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.getBoundary=function(){return 1===arguments.length?new Ve(arguments[0]).getBoundary():2===arguments.length?new Ve(arguments[0],arguments[1]).getBoundary():void 0};var Ge=function(){this.count=null};Ge.prototype.interfaces_=function(){return[]},Ge.prototype.getClass=function(){return Ge};var He=function(){},We={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};He.prototype.interfaces_=function(){return[]},He.prototype.getClass=function(){return He},He.chars=function(e,t){for(var n=new Array(t).fill(null),r=0;r<t;r++)n[r]=e;return String(n)},He.getStackTrace=function(){if(1===arguments.length){var e=arguments[0],t=new function(){},n=new function(){}(t);return e.printStackTrace(n),t.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",a=new function(){}(new function(){}(He.getStackTrace(r))),s=0;s<i;s++)try{o+=a.readLine()+He.NEWLINE}catch(e){if(!(e instanceof f))throw e;te.shouldNeverReachHere()}return o}},He.split=function(e,t){for(var n=t.length,r=new Ee,i=""+e,o=i.indexOf(t);o>=0;){var a=i.substring(0,o);r.add(a),o=(i=i.substring(o+n)).indexOf(t)}i.length>0&&r.add(i);for(var s=new Array(r.size()).fill(null),l=0;l<s.length;l++)s[l]=r.get(l);return s},He.toString=function(){if(1===arguments.length){var e=arguments[0];return He.SIMPLE_ORDINATE_FORMAT.format(e)}},He.spaces=function(e){return He.chars(" ",e)},We.NEWLINE.get=function(){return V.getProperty("line.separator")},We.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(He,We);var $e=function(){};$e.prototype.interfaces_=function(){return[]},$e.prototype.getClass=function(){return $e},$e.copyCoord=function(e,t,n,r){for(var i=Math.min(e.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,e.getOrdinate(t,o))},$e.isRing=function(e){var t=e.size();return 0===t||!(t<=3)&&e.getOrdinate(0,j.X)===e.getOrdinate(t-1,j.X)&&e.getOrdinate(0,j.Y)===e.getOrdinate(t-1,j.Y)},$e.isEqual=function(e,t){var n=e.size();if(n!==t.size())return!1;for(var r=Math.min(e.getDimension(),t.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var a=e.getOrdinate(i,o),s=t.getOrdinate(i,o);if(!(e.getOrdinate(i,o)===t.getOrdinate(i,o)||_.isNaN(a)&&_.isNaN(s)))return!1}return!0},$e.extend=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();if($e.copy(t,0,r,0,i),i>0)for(var o=i;o<n;o++)$e.copy(t,i-1,r,o,1);return r},$e.reverse=function(e){for(var t=e.size()-1,n=Math.trunc(t/2),r=0;r<=n;r++)$e.swap(e,r,t-r)},$e.swap=function(e,t,n){if(t===n)return null;for(var r=0;r<e.getDimension();r++){var i=e.getOrdinate(t,r);e.setOrdinate(t,r,e.getOrdinate(n,r)),e.setOrdinate(n,r,i)}},$e.copy=function(e,t,n,r,i){for(var o=0;o<i;o++)$e.copyCoord(e,t+o,n,r+o)},$e.toString=function(){if(1===arguments.length){var e=arguments[0],t=e.size();if(0===t)return"()";var n=e.getDimension(),r=new O;r.append("(");for(var i=0;i<t;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(He.toString(e.getOrdinate(i,o)))}return r.append(")"),r.toString()}},$e.ensureValidRing=function(e,t){var n=t.size();return 0===n?t:n<=3?$e.createClosedRing(e,t,4):t.getOrdinate(0,j.X)===t.getOrdinate(n-1,j.X)&&t.getOrdinate(0,j.Y)===t.getOrdinate(n-1,j.Y)?t:$e.createClosedRing(e,t,n+1)},$e.createClosedRing=function(e,t,n){var r=e.create(n,t.getDimension()),i=t.size();$e.copy(t,0,r,0,i);for(var o=i;o<n;o++)$e.copy(t,0,r,o,1);return r};var Xe=function(e){function t(t,n){e.call(this,n),this._points=null,this.init(t)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new H:this._points.expandEnvelope(new H)},t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},t.prototype.getSortIndex=function(){return e.SORTINDEX_LINESTRING},t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t)))return this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))>0&&$e.reverse(this._points),null}},t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fe.FALSE:0},t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},t.prototype.getDimension=function(){return 1},t.prototype.getLength=function(){return se.computeLength(this._points)},t.prototype.getNumPoints=function(){return this._points.size()},t.prototype.reverse=function(){var e=this._points.copy();return $e.reverse(e),this.getFactory().createLineString(e)},t.prototype.compareToSameClass=function(){if(1===arguments.length){for(var e=arguments[0],t=0,n=0;t<this._points.size()&&n<e._points.size();){var r=this._points.getCoordinate(t).compareTo(e._points.getCoordinate(n));if(0!==r)return r;t++,n++}return t<this._points.size()?1:n<e._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},t.prototype.apply=function(){if(L(arguments[0],de))for(var e=arguments[0],t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t));else if(L(arguments[0],Ze)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(L(arguments[0],je)||L(arguments[0],ue))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return new Ve(this).getBoundary()},t.prototype.isEquivalentClass=function(e){return e instanceof t},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._points=this._points.clone(),t},t.prototype.getCoordinateN=function(e){return this._points.getCoordinate(e)},t.prototype.getGeometryType=function(){return"LineString"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._points},t.prototype.isEmpty=function(){return 0===this._points.size()},t.prototype.init=function(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new v("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e},t.prototype.isCoordinate=function(e){for(var t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1},t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},t.prototype.getPointN=function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))},t.prototype.interfaces_=function(){return[Ne]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(t,n),t}(ce),Ye=function(){};Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var Ke=function(e){function t(t,n){e.call(this,n),this._coordinates=t||null,this.init(this._coordinates)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new H;var e=new H;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e},t.prototype.getSortIndex=function(){return e.SORTINDEX_POINT},t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&(!(!this.isEmpty()||!t.isEmpty())||this.isEmpty()===t.isEmpty()&&this.equal(t.getCoordinate(),this.getCoordinate(),n))}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){},t.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},t.prototype.getBoundaryDimension=function(){return Fe.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},t.prototype.reverse=function(){return this.copy()},t.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var t=arguments[0];return arguments[1].compare(this._coordinates,t._coordinates)}},t.prototype.apply=function(){if(L(arguments[0],de)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(L(arguments[0],Ze)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this._coordinates,0),t.isGeometryChanged()&&this.geometryChanged()}else(L(arguments[0],je)||L(arguments[0],ue))&&arguments[0].filter(this)},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);return t._coordinates=this._coordinates.clone(),t},t.prototype.getGeometryType=function(){return"Point"},t.prototype.copy=function(){return new t(this._coordinates.copy(),this._factory)},t.prototype.getCoordinateSequence=function(){return this._coordinates},t.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},t.prototype.isEmpty=function(){return 0===this._coordinates.size()},t.prototype.init=function(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),te.isTrue(e.size()<=1),this._coordinates=e},t.prototype.isSimple=function(){return!0},t.prototype.interfaces_=function(){return[Ye]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(t,n),t}(ce),Je=function(){};Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Qe=function(e){function t(t,n,r){if(e.call(this,r),this._shell=null,this._holes=null,null===t&&(t=this.getFactory().createLinearRing()),null===n&&(n=[]),e.hasNullElements(n))throw new v("holes must not contain null elements");if(t.isEmpty()&&e.hasNonEmptyElements(n))throw new v("shell is empty but holes are not");this._shell=t,this._holes=n}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},t.prototype.getSortIndex=function(){return e.SORTINDEX_POLYGON},t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),t=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)e[++t]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),a=0;a<o.length;a++)e[++t]=o[a];return e},t.prototype.getArea=function(){var e=0;e+=Math.abs(se.signedArea(this._shell.getCoordinateSequence()));for(var t=0;t<this._holes.length;t++)e-=Math.abs(se.signedArea(this._holes[t].getCoordinateSequence()));return e},t.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal(),n=0;n<5;n++){var r=e.getX(n);if(r!==t.getMinX()&&r!==t.getMaxX())return!1;var i=e.getY(n);if(i!==t.getMinY()&&i!==t.getMaxY())return!1}for(var o=e.getX(0),a=e.getY(0),s=1;s<=4;s++){var l=e.getX(s),u=e.getY(s);if(l!==o==(u!==a))return!1;o=l,a=u}return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];if(!this.isEquivalentClass(t))return!1;var r=t,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var a=0;a<this._holes.length;a++)if(!this._holes[a].equalsExact(r._holes[a],n))return!1;return!0}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);ze.sort(this._holes)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(t.isEmpty())return null;var r=new Array(t.getCoordinates().length-1).fill(null);V.arraycopy(t.getCoordinates(),0,r,0,r.length);var i=Te.minCoordinate(t.getCoordinates());Te.scroll(r,i),V.arraycopy(r,0,t.getCoordinates(),0,r.length),t.getCoordinates()[r.length]=r[0],se.isCCW(t.getCoordinates())===n&&Te.reverse(t.getCoordinates())}},t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},t.prototype.getNumInteriorRing=function(){return this._holes.length},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.getLength=function(){var e=0;e+=this._shell.getLength();for(var t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e},t.prototype.getNumPoints=function(){for(var e=this._shell.getNumPoints(),t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e},t.prototype.reverse=function(){var e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=new Array(this._holes.length).fill(null);for(var t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e},t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},t.prototype.compareToSameClass=function(){if(1===arguments.length){var e=arguments[0],t=this._shell,n=e._shell;return t.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,a=i._shell,s=o.compareToSameClass(a,r);if(0!==s)return s;for(var l=this.getNumInteriorRing(),u=i.getNumInteriorRing(),c=0;c<l&&c<u;){var h=this.getInteriorRingN(c),p=i.getInteriorRingN(c),d=h.compareToSameClass(p,r);if(0!==d)return d;c++}return c<l?1:c<u?-1:0}},t.prototype.apply=function(e){if(L(e,de)){this._shell.apply(e);for(var t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(L(e,Ze)){if(this._shell.apply(e),!e.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(e),!e.isDone());n++);e.isGeometryChanged()&&this.geometryChanged()}else if(L(e,je))e.filter(this);else if(L(e,ue)){e.filter(this),this._shell.apply(e);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(e)}},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)},t.prototype.clone=function(){var t=e.prototype.clone.call(this);t._shell=this._shell.clone(),t._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)t._holes[n]=this._holes[n].clone();return t},t.prototype.getGeometryType=function(){return"Polygon"},t.prototype.copy=function(){for(var e=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new t(e,n,this._factory)},t.prototype.getExteriorRing=function(){return this._shell},t.prototype.isEmpty=function(){return this._shell.isEmpty()},t.prototype.getInteriorRingN=function(e){return this._holes[e]},t.prototype.interfaces_=function(){return[Je]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(t,n),t}(ce),et=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_MULTIPOINT},t.prototype.isValid=function(){return!0},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._geometries[t].getCoordinate()}return e.prototype.getCoordinate.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return Fe.FALSE},t.prototype.getDimension=function(){return 0},t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},t.prototype.getGeometryType=function(){return"MultiPoint"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Ye]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(t,n),t}(Ue),tt=function(e){function t(t,n){t instanceof S&&n instanceof yt&&(t=n.getCoordinateSequenceFactory().create(t)),e.call(this,t,n),this.validateConstruction()}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_LINEARRING},t.prototype.getBoundaryDimension=function(){return Fe.FALSE},t.prototype.isClosed=function(){return!!this.isEmpty()||e.prototype.isClosed.call(this)},t.prototype.reverse=function(){var e=this._points.copy();return $e.reverse(e),this.getFactory().createLinearRing(e)},t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!e.prototype.isClosed.call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},t.prototype.getGeometryType=function(){return"LinearRing"},t.prototype.copy=function(){return new t(this._points.copy(),this._factory)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(t,n),t}(Xe),nt=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={serialVersionUID:{configurable:!0}};return t.prototype.getSortIndex=function(){return ce.SORTINDEX_MULTIPOLYGON},t.prototype.equalsExact=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return!!this.isEquivalentClass(t)&&e.prototype.equalsExact.call(this,t,n)}return e.prototype.equalsExact.apply(this,arguments)},t.prototype.getBoundaryDimension=function(){return 1},t.prototype.getDimension=function(){return 2},t.prototype.reverse=function(){for(var e=this._geometries.length,t=new Array(e).fill(null),n=0;n<this._geometries.length;n++)t[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(t)},t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new Ee,t=0;t<this._geometries.length;t++)for(var n=this._geometries[t].getBoundary(),r=0;r<n.getNumGeometries();r++)e.add(n.getGeometryN(r));var i=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(i))},t.prototype.getGeometryType=function(){return"MultiPolygon"},t.prototype.copy=function(){for(var e=new Array(this._geometries.length).fill(null),n=0;n<e.length;n++)e[n]=this._geometries[n].copy();return new t(e,this._factory)},t.prototype.interfaces_=function(){return[Je]},t.prototype.getClass=function(){return t},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(t,n),t}(Ue),rt=function(e){this._factory=e||null,this._isUserDataCopied=!1},it={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};rt.prototype.setCopyUserData=function(e){this._isUserDataCopied=e},rt.prototype.edit=function(e,t){if(null===e)return null;var n=this.editInternal(e,t);return this._isUserDataCopied&&n.setUserData(e.getUserData()),n},rt.prototype.editInternal=function(e,t){return null===this._factory&&(this._factory=e.getFactory()),e instanceof Ue?this.editGeometryCollection(e,t):e instanceof Qe?this.editPolygon(e,t):e instanceof Ke||e instanceof Xe?t.edit(e,this._factory):(te.shouldNeverReachHere("Unsupported Geometry class: "+e.getClass().getName()),null)},rt.prototype.editGeometryCollection=function(e,t){for(var n=t.edit(e,this._factory),r=new Ee,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),t);null===o||o.isEmpty()||r.add(o)}return n.getClass()===et?this._factory.createMultiPoint(r.toArray([])):n.getClass()===qe?this._factory.createMultiLineString(r.toArray([])):n.getClass()===nt?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},rt.prototype.editPolygon=function(e,t){var n=t.edit(e,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),t);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Ee,o=0;o<n.getNumInteriorRing();o++){var a=this.edit(n.getInteriorRingN(o),t);null===a||a.isEmpty()||i.add(a)}return this._factory.createPolygon(r,i.toArray([]))},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.GeometryEditorOperation=function(){},it.NoOpGeometryOperation.get=function(){return ot},it.CoordinateOperation.get=function(){return at},it.CoordinateSequenceOperation.get=function(){return st},Object.defineProperties(rt,it);var ot=function(){};ot.prototype.edit=function(e,t){return e},ot.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},ot.prototype.getClass=function(){return ot};var at=function(){};at.prototype.edit=function(e,t){var n=this.editCoordinates(e.getCoordinates(),e);return null===n?e:e instanceof tt?t.createLinearRing(n):e instanceof Xe?t.createLineString(n):e instanceof Ke?n.length>0?t.createPoint(n[0]):t.createPoint():e},at.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},at.prototype.getClass=function(){return at};var st=function(){};st.prototype.edit=function(e,t){return e instanceof tt?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof Xe?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof Ke?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e},st.prototype.interfaces_=function(){return[rt.GeometryEditorOperation]},st.prototype.getClass=function(){return st};var lt=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var t=0;t<e;t++)this._coordinates[t]=new S}else if(L(arguments[0],j)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var a=arguments[0],s=arguments[1];this._coordinates=new Array(a).fill(null),this._dimension=s;for(var l=0;l<a;l++)this._coordinates[l]=new S}},ut={serialVersionUID:{configurable:!0}};lt.prototype.setOrdinate=function(e,t,n){switch(t){case j.X:this._coordinates[e].x=n;break;case j.Y:this._coordinates[e].y=n;break;case j.Z:this._coordinates[e].z=n;break;default:throw new v("invalid ordinateIndex")}},lt.prototype.size=function(){return this._coordinates.length},lt.prototype.getOrdinate=function(e,t){switch(t){case j.X:return this._coordinates[e].x;case j.Y:return this._coordinates[e].y;case j.Z:return this._coordinates[e].z}return _.NaN},lt.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._coordinates[e]}if(2===arguments.length){var t=arguments[0],n=arguments[1];n.x=this._coordinates[t].x,n.y=this._coordinates[t].y,n.z=this._coordinates[t].z}},lt.prototype.getCoordinateCopy=function(e){return new S(this._coordinates[e])},lt.prototype.getDimension=function(){return this._dimension},lt.prototype.getX=function(e){return this._coordinates[e].x},lt.prototype.clone=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].clone();return new lt(e,this._dimension)},lt.prototype.expandEnvelope=function(e){for(var t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e},lt.prototype.copy=function(){for(var e=new Array(this.size()).fill(null),t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new lt(e,this._dimension)},lt.prototype.toString=function(){if(this._coordinates.length>0){var e=new O(17*this._coordinates.length);e.append("("),e.append(this._coordinates[0]);for(var t=1;t<this._coordinates.length;t++)e.append(", "),e.append(this._coordinates[t]);return e.append(")"),e.toString()}return"()"},lt.prototype.getY=function(e){return this._coordinates[e].y},lt.prototype.toCoordinateArray=function(){return this._coordinates},lt.prototype.interfaces_=function(){return[j,t]},lt.prototype.getClass=function(){return lt},ut.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(lt,ut);var ct=function(){},ht={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ct.prototype.readResolve=function(){return ct.instance()},ct.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new lt(arguments[0]);if(L(arguments[0],j))return new lt(arguments[0])}else if(2===arguments.length){var e=arguments[0],t=arguments[1];return t>3&&(t=3),t<2?new lt(e):new lt(e,t)}},ct.prototype.interfaces_=function(){return[I,t]},ct.prototype.getClass=function(){return ct},ct.instance=function(){return ct.instanceObject},ht.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},ht.instanceObject.get=function(){return new ct},Object.defineProperties(ct,ht);var pt=function(e){function t(){e.call(this),this.map_=new Map}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e){return this.map_.get(e)||null},t.prototype.put=function(e,t){return this.map_.set(e,t),t},t.prototype.values=function(){for(var e=new Ee,t=this.map_.values(),n=t.next();!n.done;)e.add(n.value),n=t.next();return e},t.prototype.entrySet=function(){var e=new Ae;return this.map_.entries().forEach((function(t){return e.add(t)})),e},t.prototype.size=function(){return this.map_.size()},t}(Le),dt=function e(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=e.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof mt){var t=arguments[0];this._modelType=t,t===e.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=e.FIXED,this.setScale(n)}else if(arguments[0]instanceof e){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},ft={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};dt.prototype.equals=function(e){if(!(e instanceof dt))return!1;var t=e;return this._modelType===t._modelType&&this._scale===t._scale},dt.prototype.compareTo=function(e){var t=e,n=this.getMaximumSignificantDigits(),r=t.getMaximumSignificantDigits();return new R(n).compareTo(new R(r))},dt.prototype.getScale=function(){return this._scale},dt.prototype.isFloating=function(){return this._modelType===dt.FLOATING||this._modelType===dt.FLOATING_SINGLE},dt.prototype.getType=function(){return this._modelType},dt.prototype.toString=function(){var e="UNKNOWN";return this._modelType===dt.FLOATING?e="Floating":this._modelType===dt.FLOATING_SINGLE?e="Floating-Single":this._modelType===dt.FIXED&&(e="Fixed (Scale="+this.getScale()+")"),e},dt.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var e=arguments[0];return _.isNaN(e)||this._modelType===dt.FLOATING_SINGLE?e:this._modelType===dt.FIXED?Math.round(e*this._scale)/this._scale:e}if(arguments[0]instanceof S){var t=arguments[0];if(this._modelType===dt.FLOATING)return null;t.x=this.makePrecise(t.x),t.y=this.makePrecise(t.y)}},dt.prototype.getMaximumSignificantDigits=function(){var e=16;return this._modelType===dt.FLOATING?e=16:this._modelType===dt.FLOATING_SINGLE?e=6:this._modelType===dt.FIXED&&(e=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),e},dt.prototype.setScale=function(e){this._scale=Math.abs(e)},dt.prototype.interfaces_=function(){return[t,x]},dt.prototype.getClass=function(){return dt},dt.mostPrecise=function(e,t){return e.compareTo(t)>=0?e:t},ft.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},ft.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(dt,ft);var mt=function e(t){this._name=t||null,e.nameToTypeMap.put(t,this)},gt={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};mt.prototype.readResolve=function(){return mt.nameToTypeMap.get(this._name)},mt.prototype.toString=function(){return this._name},mt.prototype.interfaces_=function(){return[t]},mt.prototype.getClass=function(){return mt},gt.serialVersionUID.get=function(){return-552860263173159e4},gt.nameToTypeMap.get=function(){return new pt},Object.defineProperties(mt,gt),dt.Type=mt,dt.FIXED=new mt("FIXED"),dt.FLOATING=new mt("FLOATING"),dt.FLOATING_SINGLE=new mt("FLOATING SINGLE");var yt=function e(){this._precisionModel=new dt,this._SRID=0,this._coordinateSequenceFactory=e.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?L(arguments[0],I)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof dt&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},vt={serialVersionUID:{configurable:!0}};yt.prototype.toGeometry=function(e){return e.isNull()?this.createPoint(null):e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new S(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new S(e.getMinX(),e.getMinY()),new S(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new S(e.getMinX(),e.getMinY()),new S(e.getMinX(),e.getMaxY()),new S(e.getMaxX(),e.getMaxY()),new S(e.getMaxX(),e.getMinY()),new S(e.getMinX(),e.getMinY())]),null)},yt.prototype.createLineString=function(e){return e?e instanceof Array?new Xe(this.getCoordinateSequenceFactory().create(e),this):L(e,j)?new Xe(e,this):void 0:new Xe(this.getCoordinateSequenceFactory().create([]),this)},yt.prototype.createMultiLineString=function(){return 0===arguments.length?new qe(null,this):1===arguments.length?new qe(arguments[0],this):void 0},yt.prototype.buildGeometry=function(e){for(var t=null,n=!1,r=!1,i=e.iterator();i.hasNext();){var o=i.next(),a=o.getClass();null===t&&(t=a),a!==t&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===t)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(yt.toGeometryArray(e));var s=e.iterator().next();if(e.size()>1){if(s instanceof Qe)return this.createMultiPolygon(yt.toPolygonArray(e));if(s instanceof Xe)return this.createMultiLineString(yt.toLineStringArray(e));if(s instanceof Ke)return this.createMultiPoint(yt.toPointArray(e));te.shouldNeverReachHere("Unhandled class: "+s.getClass().getName())}return s},yt.prototype.createMultiPointFromCoords=function(e){return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)},yt.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof S){var e=arguments[0];return this.createPoint(null!==e?this.getCoordinateSequenceFactory().create([e]):null)}if(L(arguments[0],j))return new Ke(arguments[0],this)}},yt.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},yt.prototype.createPolygon=function(){if(0===arguments.length)return new Qe(null,null,this);if(1===arguments.length){if(L(arguments[0],j)){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof tt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new Qe(arguments[0],arguments[1],this)},yt.prototype.getSRID=function(){return this._SRID},yt.prototype.createGeometryCollection=function(){return 0===arguments.length?new Ue(null,this):1===arguments.length?new Ue(arguments[0],this):void 0},yt.prototype.createGeometry=function(e){return new rt(this).edit(e,{edit:function(){if(2===arguments.length){var e=arguments[0];return this._coordinateSequenceFactory.create(e)}}})},yt.prototype.getPrecisionModel=function(){return this._precisionModel},yt.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];return this.createLinearRing(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(L(arguments[0],j))return new tt(arguments[0],this)}},yt.prototype.createMultiPolygon=function(){return 0===arguments.length?new nt(null,this):1===arguments.length?new nt(arguments[0],this):void 0},yt.prototype.createMultiPoint=function(){if(0===arguments.length)return new et(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new et(arguments[0],this);if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(L(arguments[0],j)){var t=arguments[0];if(null===t)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(t.size()).fill(null),r=0;r<t.size();r++){var i=this.getCoordinateSequenceFactory().create(1,t.getDimension());$e.copy(t,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},yt.prototype.interfaces_=function(){return[t]},yt.prototype.getClass=function(){return yt},yt.toMultiPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toGeometryArray=function(e){if(null===e)return null;var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.getDefaultCoordinateSequenceFactory=function(){return ct.instance()},yt.toMultiLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toLineStringArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toMultiPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toLinearRingArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toPointArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.toPolygonArray=function(e){var t=new Array(e.size()).fill(null);return e.toArray(t)},yt.createPointFromInternalCoord=function(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)},vt.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(yt,vt);var _t=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],bt=function(e){this.geometryFactory=e||new yt};bt.prototype.read=function(e){var t,n=(t="string"==typeof e?JSON.parse(e):e).type;if(!xt[n])throw new Error("Unknown GeoJSON type: "+t.type);return-1!==_t.indexOf(n)?xt[n].apply(this,[t.coordinates]):"GeometryCollection"===n?xt[n].apply(this,[t.geometries]):xt[n].apply(this,[t])},bt.prototype.write=function(e){var t=e.getGeometryType();if(!wt[t])throw new Error("Geometry is not supported");return wt[t].apply(this,[e])};var xt={Feature:function(e){var t={};for(var n in e)t[n]=e[n];if(e.geometry){var r=e.geometry.type;if(!xt[r])throw new Error("Unknown GeoJSON type: "+e.type);t.geometry=this.read(e.geometry)}return e.bbox&&(t.bbox=xt.bbox.apply(this,[e.bbox])),t},FeatureCollection:function(e){var t={};if(e.features){t.features=[];for(var n=0;n<e.features.length;++n)t.features.push(this.read(e.features[n]))}return e.bbox&&(t.bbox=this.parse.bbox.apply(this,[e.bbox])),t},coordinates:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(new S(r[0],r[1]))}return t},bbox:function(e){return this.geometryFactory.createLinearRing([new S(e[0],e[1]),new S(e[2],e[1]),new S(e[2],e[3]),new S(e[0],e[3]),new S(e[0],e[1])])},Point:function(e){var t=new S(e[0],e[1]);return this.geometryFactory.createPoint(t)},MultiPoint:function(e){for(var t=[],n=0;n<e.length;++n)t.push(xt.Point.apply(this,[e[n]]));return this.geometryFactory.createMultiPoint(t)},LineString:function(e){var t=xt.coordinates.apply(this,[e]);return this.geometryFactory.createLineString(t)},MultiLineString:function(e){for(var t=[],n=0;n<e.length;++n)t.push(xt.LineString.apply(this,[e[n]]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(e){for(var t=xt.coordinates.apply(this,[e[0]]),n=this.geometryFactory.createLinearRing(t),r=[],i=1;i<e.length;++i){var o=e[i],a=xt.coordinates.apply(this,[o]),s=this.geometryFactory.createLinearRing(a);r.push(s)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(xt.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];t.push(this.read(r))}return this.geometryFactory.createGeometryCollection(t)}},wt={coordinate:function(e){return[e.x,e.y]},Point:function(e){return{type:"Point",coordinates:wt.coordinate.apply(this,[e.getCoordinate()])}},MultiPoint:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=wt.Point.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(e){for(var t=[],n=e.getCoordinates(),r=0;r<n.length;++r){var i=n[r];t.push(wt.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:t}},MultiLineString:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=wt.LineString.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(e){var t=[],n=wt.LineString.apply(this,[e._shell]);t.push(n.coordinates);for(var r=0;r<e._holes.length;++r){var i=e._holes[r],o=wt.LineString.apply(this,[i]);t.push(o.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=wt.Polygon.apply(this,[r]);t.push(i.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(e){for(var t=[],n=0;n<e._geometries.length;++n){var r=e._geometries[n],i=r.getGeometryType();t.push(wt[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:t}}},Et=function(e){this.geometryFactory=e||new yt,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new bt(this.geometryFactory)};Et.prototype.read=function(e){var t=this.parser.read(e);return this.precisionModel.getType()===dt.FIXED&&this.reducePrecision(t),t},Et.prototype.reducePrecision=function(e){var t,n;if(e.coordinate)this.precisionModel.makePrecise(e.coordinate);else if(e.points)for(t=0,n=e.points.length;t<n;t++)this.precisionModel.makePrecise(e.points[t]);else if(e.geometries)for(t=0,n=e.geometries.length;t<n;t++)this.reducePrecision(e.geometries[t])};var St=function(){this.parser=new bt(this.geometryFactory)};St.prototype.write=function(e){return this.parser.write(e)};var Ct=function(){},Tt={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.opposite=function(e){return e===Ct.LEFT?Ct.RIGHT:e===Ct.RIGHT?Ct.LEFT:e},Tt.ON.get=function(){return 0},Tt.LEFT.get=function(){return 1},Tt.RIGHT.get=function(){return 2},Object.defineProperties(Ct,Tt),(m.prototype=new Error).name="EmptyStackException",(g.prototype=new we).add=function(e){return this.array_.push(e),!0},g.prototype.get=function(e){if(e<0||e>=this.size())throw new Error;return this.array_[e]},g.prototype.push=function(e){return this.array_.push(e),e},g.prototype.pop=function(e){if(0===this.array_.length)throw new m;return this.array_.pop()},g.prototype.peek=function(){if(0===this.array_.length)throw new m;return this.array_[this.array_.length-1]},g.prototype.empty=function(){return 0===this.array_.length},g.prototype.isEmpty=function(){return this.empty()},g.prototype.search=function(e){return this.array_.indexOf(e)},g.prototype.size=function(){return this.array_.length},g.prototype.toArray=function(){for(var e=[],t=0,n=this.array_.length;t<n;t++)e.push(this.array_[t]);return e};var It=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};It.prototype.getCoordinate=function(){return this._minCoord},It.prototype.getRightmostSide=function(e,t){var n=this.getRightmostSideOfSegment(e,t);return n<0&&(n=this.getRightmostSideOfSegment(e,t-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),n},It.prototype.findRightmostEdgeAtVertex=function(){var e=this._minDe.getEdge().getCoordinates();te.isTrue(this._minIndex>0&&this._minIndex<e.length,"rightmost point expected to be interior vertex of edge");var t=e[this._minIndex-1],n=e[this._minIndex+1],r=se.computeOrientation(this._minCoord,n,t),i=!1;(t.y<this._minCoord.y&&n.y<this._minCoord.y&&r===se.COUNTERCLOCKWISE||t.y>this._minCoord.y&&n.y>this._minCoord.y&&r===se.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},It.prototype.getRightmostSideOfSegment=function(e,t){var n=e.getEdge().getCoordinates();if(t<0||t+1>=n.length)return-1;if(n[t].y===n[t+1].y)return-1;var r=Ct.LEFT;return n[t].y<n[t+1].y&&(r=Ct.RIGHT),r},It.prototype.getEdge=function(){return this._orientedDe},It.prototype.checkForRightmostCoordinate=function(e){for(var t=e.getEdge().getCoordinates(),n=0;n<t.length-1;n++)(null===this._minCoord||t[n].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=n,this._minCoord=t[n])},It.prototype.findRightmostEdgeAtNode=function(){var e=this._minDe.getNode().getEdges();this._minDe=e.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},It.prototype.findEdge=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();n.isForward()&&this.checkForRightmostCoordinate(n)}te.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Ct.LEFT&&(this._orientedDe=this._minDe.getSym())},It.prototype.interfaces_=function(){return[]},It.prototype.getClass=function(){return It};var kt=function(e){function t(n,r){e.call(this,t.msgWithCoord(n,r)),this.pt=r?new S(r):null,this.name="TopologyException"}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCoordinate=function(){return this.pt},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.msgWithCoord=function(e,t){return t?e:e+" [ "+t+" ]"},t}(Q),Pt=function(){this.array_=[]};Pt.prototype.addLast=function(e){this.array_.push(e)},Pt.prototype.removeFirst=function(){return this.array_.shift()},Pt.prototype.isEmpty=function(){return 0===this.array_.length};var Lt=function(){this._finder=null,this._dirEdgeList=new Ee,this._nodes=new Ee,this._rightMostCoord=null,this._env=null,this._finder=new It};Lt.prototype.clearVisitedEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();)e.next().setVisited(!1)},Lt.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Lt.prototype.computeNodeDepth=function(e){for(var t=null,n=e.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){t=r;break}}if(null===t)throw new kt("unable to find edge to compute depths at "+e.getCoordinate());e.getEdges().computeDepths(t);for(var i=e.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Lt.prototype.computeDepth=function(e){this.clearVisitedEdges();var t=this._finder.getEdge();t.setEdgeDepths(Ct.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)},Lt.prototype.create=function(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Lt.prototype.findResultEdges=function(){for(var e=this._dirEdgeList.iterator();e.hasNext();){var t=e.next();t.getDepth(Ct.RIGHT)>=1&&t.getDepth(Ct.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}},Lt.prototype.computeDepths=function(e){var t=new Ae,n=new Pt,r=e.getNode();for(n.addLast(r),t.add(r),e.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();t.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var a=o.next().getSym();if(!a.isVisited()){var s=a.getNode();t.contains(s)||(n.addLast(s),t.add(s))}}}},Lt.prototype.compareTo=function(e){var t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0},Lt.prototype.getEnvelope=function(){if(null===this._env){for(var e=new H,t=this._dirEdgeList.iterator();t.hasNext();)for(var n=t.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)e.expandToInclude(n[r]);this._env=e}return this._env},Lt.prototype.addReachable=function(e){var t=new g;for(t.add(e);!t.empty();){var n=t.pop();this.add(n,t)}},Lt.prototype.copySymDepths=function(e){var t=e.getSym();t.setDepth(Ct.LEFT,e.getDepth(Ct.RIGHT)),t.setDepth(Ct.RIGHT,e.getDepth(Ct.LEFT))},Lt.prototype.add=function(e,t){e.setVisited(!0),this._nodes.add(e);for(var n=e.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||t.push(i)}},Lt.prototype.getNodes=function(){return this._nodes},Lt.prototype.getDirectedEdges=function(){return this._dirEdgeList},Lt.prototype.interfaces_=function(){return[x]},Lt.prototype.getClass=function(){return Lt};var Mt=function e(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Ct.ON]=n}else if(arguments[0]instanceof e){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.init(3),this.location[Ct.ON]=o,this.location[Ct.LEFT]=a,this.location[Ct.RIGHT]=s}};Mt.prototype.setAllLocations=function(e){for(var t=0;t<this.location.length;t++)this.location[t]=e},Mt.prototype.isNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]!==k.NONE)return!1;return!0},Mt.prototype.setAllLocationsIfNull=function(e){for(var t=0;t<this.location.length;t++)this.location[t]===k.NONE&&(this.location[t]=e)},Mt.prototype.isLine=function(){return 1===this.location.length},Mt.prototype.merge=function(e){if(e.location.length>this.location.length){var t=new Array(3).fill(null);t[Ct.ON]=this.location[Ct.ON],t[Ct.LEFT]=k.NONE,t[Ct.RIGHT]=k.NONE,this.location=t}for(var n=0;n<this.location.length;n++)this.location[n]===k.NONE&&n<e.location.length&&(this.location[n]=e.location[n])},Mt.prototype.getLocations=function(){return this.location},Mt.prototype.flip=function(){if(this.location.length<=1)return null;var e=this.location[Ct.LEFT];this.location[Ct.LEFT]=this.location[Ct.RIGHT],this.location[Ct.RIGHT]=e},Mt.prototype.toString=function(){var e=new O;return this.location.length>1&&e.append(k.toLocationSymbol(this.location[Ct.LEFT])),e.append(k.toLocationSymbol(this.location[Ct.ON])),this.location.length>1&&e.append(k.toLocationSymbol(this.location[Ct.RIGHT])),e.toString()},Mt.prototype.setLocations=function(e,t,n){this.location[Ct.ON]=e,this.location[Ct.LEFT]=t,this.location[Ct.RIGHT]=n},Mt.prototype.get=function(e){return e<this.location.length?this.location[e]:k.NONE},Mt.prototype.isArea=function(){return this.location.length>1},Mt.prototype.isAnyNull=function(){for(var e=0;e<this.location.length;e++)if(this.location[e]===k.NONE)return!0;return!1},Mt.prototype.setLocation=function(){if(1===arguments.length){var e=arguments[0];this.setLocation(Ct.ON,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.location[t]=n}},Mt.prototype.init=function(e){this.location=new Array(e).fill(null),this.setAllLocations(k.NONE)},Mt.prototype.isEqualOnSide=function(e,t){return this.location[t]===e.location[t]},Mt.prototype.allPositionsEqual=function(e){for(var t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0},Mt.prototype.interfaces_=function(){return[]},Mt.prototype.getClass=function(){return Mt};var At=function e(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Mt(t),this.elt[1]=new Mt(t)}else if(arguments[0]instanceof e){var n=arguments[0];this.elt[0]=new Mt(n.elt[0]),this.elt[1]=new Mt(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Mt(k.NONE),this.elt[1]=new Mt(k.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],a=arguments[1],s=arguments[2];this.elt[0]=new Mt(o,a,s),this.elt[1]=new Mt(o,a,s)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Mt(k.NONE,k.NONE,k.NONE),this.elt[1]=new Mt(k.NONE,k.NONE,k.NONE),this.elt[l].setLocations(u,c,h)}};At.prototype.getGeometryCount=function(){var e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e},At.prototype.setAllLocations=function(e,t){this.elt[e].setAllLocations(t)},At.prototype.isNull=function(e){return this.elt[e].isNull()},At.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.elt[t].setAllLocationsIfNull(n)}},At.prototype.isLine=function(e){return this.elt[e].isLine()},At.prototype.merge=function(e){for(var t=0;t<2;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new Mt(e.elt[t]):this.elt[t].merge(e.elt[t])},At.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},At.prototype.getLocation=function(){if(1===arguments.length){var e=arguments[0];return this.elt[e].get(Ct.ON)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return this.elt[t].get(n)}},At.prototype.toString=function(){var e=new O;return null!==this.elt[0]&&(e.append("A:"),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(" B:"),e.append(this.elt[1].toString())),e.toString()},At.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var e=arguments[0];return this.elt[e].isArea()}},At.prototype.isAnyNull=function(e){return this.elt[e].isAnyNull()},At.prototype.setLocation=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.elt[e].setLocation(Ct.ON,t)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},At.prototype.isEqualOnSide=function(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)},At.prototype.allPositionsEqual=function(e,t){return this.elt[e].allPositionsEqual(t)},At.prototype.toLine=function(e){this.elt[e].isArea()&&(this.elt[e]=new Mt(this.elt[e].location[0]))},At.prototype.interfaces_=function(){return[]},At.prototype.getClass=function(){return At},At.toLineLabel=function(e){for(var t=new At(k.NONE),n=0;n<2;n++)t.setLocation(n,e.getLocation(n));return t};var Ot=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Ee,this._pts=new Ee,this._label=new At(k.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Ee,this._geometryFactory=null;var e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()};Ot.prototype.computeRing=function(){if(null!==this._ring)return null;for(var e=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=se.isCCW(this._ring.getCoordinates())},Ot.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ot.prototype.computePoints=function(e){this._startDe=e;var t=e,n=!0;do{if(null===t)throw new kt("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new kt("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var r=t.getLabel();te.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(t.getEdge(),t.isForward(),n),n=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)},Ot.prototype.getLinearRing=function(){return this._ring},Ot.prototype.getCoordinate=function(e){return this._pts.get(e)},Ot.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var e=this._startDe;do{var t=e.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2},Ot.prototype.addPoints=function(e,t,n){var r=e.getCoordinates();if(t){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var a=r.length-2;n&&(a=r.length-1);for(var s=a;s>=0;s--)this._pts.add(r[s])}},Ot.prototype.isHole=function(){return this._isHole},Ot.prototype.setInResult=function(){var e=this._startDe;do{e.getEdge().setInResult(!0),e=e.getNext()}while(e!==this._startDe)},Ot.prototype.containsPoint=function(e){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(e))return!1;if(!se.isPointInRing(e,t.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(e))return!1;return!0},Ot.prototype.addHole=function(e){this._holes.add(e)},Ot.prototype.isShell=function(){return null===this._shell},Ot.prototype.getLabel=function(){return this._label},Ot.prototype.getEdges=function(){return this._edges},Ot.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ot.prototype.getShell=function(){return this._shell},Ot.prototype.mergeLabel=function(){if(1===arguments.length){var e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){var t=arguments[1],n=arguments[0].getLocation(t,Ct.RIGHT);if(n===k.NONE)return null;if(this._label.getLocation(t)===k.NONE)return this._label.setLocation(t,n),null}},Ot.prototype.setShell=function(e){this._shell=e,null!==e&&e.addHole(this)},Ot.prototype.toPolygon=function(e){for(var t=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)t[n]=this._holes.get(n).getLinearRing();return e.createPolygon(this.getLinearRing(),t)},Ot.prototype.interfaces_=function(){return[]},Ot.prototype.getClass=function(){return Ot};var Rt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setEdgeRing=function(e,t){e.setMinEdgeRing(t)},t.prototype.getNext=function(e){return e.getNextMin()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ot),Nt=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildMinimalRings=function(){var e=new Ee,t=this._startDe;do{if(null===t.getMinEdgeRing()){var n=new Rt(t,this._geometryFactory);e.add(n)}t=t.getNext()}while(t!==this._startDe);return e},t.prototype.setEdgeRing=function(e,t){e.setEdgeRing(t)},t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var e=this._startDe;do{e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)},t.prototype.getNext=function(e){return e.getNext()},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Ot),Dt=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._label=e}};Dt.prototype.setVisited=function(e){this._isVisited=e},Dt.prototype.setInResult=function(e){this._isInResult=e},Dt.prototype.isCovered=function(){return this._isCovered},Dt.prototype.isCoveredSet=function(){return this._isCoveredSet},Dt.prototype.setLabel=function(e){this._label=e},Dt.prototype.getLabel=function(){return this._label},Dt.prototype.setCovered=function(e){this._isCovered=e,this._isCoveredSet=!0},Dt.prototype.updateIM=function(e){te.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(e)},Dt.prototype.isInResult=function(){return this._isInResult},Dt.prototype.isVisited=function(){return this._isVisited},Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt};var zt=function(e){function t(){e.call(this),this._coord=null,this._edges=null;var t=arguments[0],n=arguments[1];this._coord=t,this._edges=n,this._label=new At(0,k.NONE)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isIncidentEdgeInResult=function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1},t.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},t.prototype.getCoordinate=function(){return this._coord},t.prototype.print=function(e){e.println("node "+this._coord+" lbl: "+this._label)},t.prototype.computeIM=function(e){},t.prototype.computeMergedLocation=function(e,t){var n=k.NONE;if(n=this._label.getLocation(t),!e.isNull(t)){var r=e.getLocation(t);n!==k.BOUNDARY&&(n=r)}return n},t.prototype.setLabel=function(){if(2!==arguments.length)return e.prototype.setLabel.apply(this,arguments);var t=arguments[0],n=arguments[1];null===this._label?this._label=new At(t,n):this._label.setLocation(t,n)},t.prototype.getEdges=function(){return this._edges},t.prototype.mergeLabel=function(){if(arguments[0]instanceof t){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof At)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===k.NONE&&this._label.setLocation(r,i)}},t.prototype.add=function(e){this._edges.insert(e),e.setNode(this)},t.prototype.setLabelBoundary=function(e){if(null===this._label)return null;var t=k.NONE;null!==this._label&&(t=this._label.getLocation(e));var n=null;if(t===k.BOUNDARY)n=k.INTERIOR;else n=k.BOUNDARY;this._label.setLocation(e,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Dt),Ft=function(){this.nodeMap=new h,this.nodeFact=null;var e=arguments[0];this.nodeFact=e};Ft.prototype.find=function(e){return this.nodeMap.get(e)},Ft.prototype.addNode=function(){if(arguments[0]instanceof S){var e=arguments[0],t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof zt){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Ft.prototype.print=function(e){for(var t=this.iterator();t.hasNext();)t.next().print(e)},Ft.prototype.iterator=function(){return this.nodeMap.values().iterator()},Ft.prototype.values=function(){return this.nodeMap.values()},Ft.prototype.getBoundaryNodes=function(e){for(var t=new Ee,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(e)===k.BOUNDARY&&t.add(r)}return t},Ft.prototype.add=function(e){var t=e.getCoordinate();this.addNode(t).add(e)},Ft.prototype.interfaces_=function(){return[]},Ft.prototype.getClass=function(){return Ft};var Bt=function(){},jt={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt},Bt.isNorthern=function(e){return e===Bt.NE||e===Bt.NW},Bt.isOpposite=function(e,t){return e!==t&&2==(e-t+4)%4},Bt.commonHalfPlane=function(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;var n=e<t?e:t;return 0===n&&3===(e>t?e:t)?3:n},Bt.isInHalfPlane=function(e,t){return t===Bt.SE?e===Bt.SE||e===Bt.SW:e===t||e===t+1},Bt.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new v("Cannot compute the quadrant for point ( "+e+", "+t+" )");return e>=0?t>=0?Bt.NE:Bt.SE:t>=0?Bt.NW:Bt.SW}if(arguments[0]instanceof S&&arguments[1]instanceof S){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Bt.NE:Bt.SE:r.y>=n.y?Bt.NW:Bt.SW}},jt.NE.get=function(){return 0},jt.NW.get=function(){return 1},jt.SW.get=function(){return 2},jt.SE.get=function(){return 3},Object.defineProperties(Bt,jt);var Zt=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var e=arguments[0];this._edge=e}else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._edge=t,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this._edge=i,this.init(o,a),this._label=s}};Zt.prototype.compareDirection=function(e){return this._dx===e._dx&&this._dy===e._dy?0:this._quadrant>e._quadrant?1:this._quadrant<e._quadrant?-1:se.computeOrientation(e._p0,e._p1,this._p1)},Zt.prototype.getDy=function(){return this._dy},Zt.prototype.getCoordinate=function(){return this._p0},Zt.prototype.setNode=function(e){this._node=e},Zt.prototype.print=function(e){var t=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);e.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label)},Zt.prototype.compareTo=function(e){var t=e;return this.compareDirection(t)},Zt.prototype.getDirectedCoordinate=function(){return this._p1},Zt.prototype.getDx=function(){return this._dx},Zt.prototype.getLabel=function(){return this._label},Zt.prototype.getEdge=function(){return this._edge},Zt.prototype.getQuadrant=function(){return this._quadrant},Zt.prototype.getNode=function(){return this._node},Zt.prototype.toString=function(){var e=Math.atan2(this._dy,this._dx),t=this.getClass().getName(),n=t.lastIndexOf(".");return"  "+t.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label},Zt.prototype.computeLabel=function(e){},Zt.prototype.init=function(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=Bt.quadrant(this._dx,this._dy),te.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Zt.prototype.interfaces_=function(){return[x]},Zt.prototype.getClass=function(){return Zt};var Ut=function(e){function t(){var t=arguments[0],n=arguments[1];if(e.call(this,t),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var r=t.getNumPoints()-1;this.init(t.getCoordinate(r),t.getCoordinate(r-1))}this.computeDirectedLabel()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getNextMin=function(){return this._nextMin},t.prototype.getDepth=function(e){return this._depth[e]},t.prototype.setVisited=function(e){this._isVisited=e},t.prototype.computeDirectedLabel=function(){this._label=new At(this._edge.getLabel()),this._isForward||this._label.flip()},t.prototype.getNext=function(){return this._next},t.prototype.setDepth=function(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new kt("assigned depths do not match",this.getCoordinate());this._depth[e]=t},t.prototype.isInteriorAreaEdge=function(){for(var e=!0,t=0;t<2;t++)this._label.isArea(t)&&this._label.getLocation(t,Ct.LEFT)===k.INTERIOR&&this._label.getLocation(t,Ct.RIGHT)===k.INTERIOR||(e=!1);return e},t.prototype.setNextMin=function(e){this._nextMin=e},t.prototype.print=function(t){e.prototype.print.call(this,t),t.print(" "+this._depth[Ct.LEFT]+"/"+this._depth[Ct.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},t.prototype.setMinEdgeRing=function(e){this._minEdgeRing=e},t.prototype.isLineEdge=function(){var e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,k.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,k.EXTERIOR);return e&&t&&n},t.prototype.setEdgeRing=function(e){this._edgeRing=e},t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},t.prototype.getDepthDelta=function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e},t.prototype.setInResult=function(e){this._isInResult=e},t.prototype.getSym=function(){return this._sym},t.prototype.isForward=function(){return this._isForward},t.prototype.getEdge=function(){return this._edge},t.prototype.printEdge=function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)},t.prototype.setSym=function(e){this._sym=e},t.prototype.setVisitedEdge=function(e){this.setVisited(e),this._sym.setVisited(e)},t.prototype.setEdgeDepths=function(e,t){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;e===Ct.LEFT&&(r=-1);var i=Ct.opposite(e),o=t+n*r;this.setDepth(e,t),this.setDepth(i,o)},t.prototype.getEdgeRing=function(){return this._edgeRing},t.prototype.isInResult=function(){return this._isInResult},t.prototype.setNext=function(e){this._next=e},t.prototype.isVisited=function(){return this._isVisited},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.depthFactor=function(e,t){return e===k.EXTERIOR&&t===k.INTERIOR?1:e===k.INTERIOR&&t===k.EXTERIOR?-1:0},t}(Zt),qt=function(){};qt.prototype.createNode=function(e){return new zt(e,null)},qt.prototype.interfaces_=function(){return[]},qt.prototype.getClass=function(){return qt};var Vt=function(){if(this._edges=new Ee,this._nodes=null,this._edgeEndList=new Ee,0===arguments.length)this._nodes=new Ft(new qt);else if(1===arguments.length){var e=arguments[0];this._nodes=new Ft(e)}};Vt.prototype.printEdges=function(e){e.println("Edges:");for(var t=0;t<this._edges.size();t++){e.println("edge "+t+":");var n=this._edges.get(t);n.print(e),n.eiList.print(e)}},Vt.prototype.find=function(e){return this._nodes.find(e)},Vt.prototype.addNode=function(){if(arguments[0]instanceof zt){var e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof S){var t=arguments[0];return this._nodes.addNode(t)}},Vt.prototype.getNodeIterator=function(){return this._nodes.iterator()},Vt.prototype.linkResultDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()},Vt.prototype.debugPrintln=function(e){V.out.println(e)},Vt.prototype.isBoundaryNode=function(e,t){var n=this._nodes.find(t);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(e)===k.BOUNDARY},Vt.prototype.linkAllDirectedEdges=function(){for(var e=this._nodes.iterator();e.hasNext();)e.next().getEdges().linkAllDirectedEdges()},Vt.prototype.matchInSameDirection=function(e,t,n,r){return!!e.equals(n)&&se.computeOrientation(e,t,r)===se.COLLINEAR&&Bt.quadrant(e,t)===Bt.quadrant(n,r)},Vt.prototype.getEdgeEnds=function(){return this._edgeEndList},Vt.prototype.debugPrint=function(e){V.out.print(e)},Vt.prototype.getEdgeIterator=function(){return this._edges.iterator()},Vt.prototype.findEdgeInSameDirection=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(e,t,i[0],i[1]))return r;if(this.matchInSameDirection(e,t,i[i.length-1],i[i.length-2]))return r}return null},Vt.prototype.insertEdge=function(e){this._edges.add(e)},Vt.prototype.findEdgeEnd=function(e){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var n=t.next();if(n.getEdge()===e)return n}return null},Vt.prototype.addEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this._edges.add(n);var r=new Ut(n,!0),i=new Ut(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Vt.prototype.add=function(e){this._nodes.add(e),this._edgeEndList.add(e)},Vt.prototype.getNodes=function(){return this._nodes.values()},Vt.prototype.findEdge=function(e,t){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(e.equals(i[0])&&t.equals(i[1]))return r}return null},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt},Vt.linkResultDirectedEdges=function(e){for(var t=e.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()};var Gt=function(){this._geometryFactory=null,this._shellList=new Ee;var e=arguments[0];this._geometryFactory=e};Gt.prototype.sortShellsAndHoles=function(e,t,n){for(var r=e.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):t.add(i)}},Gt.prototype.computePolygons=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);t.add(r)}return t},Gt.prototype.placeFreeHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,e);if(null===i)throw new kt("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Gt.prototype.buildMinimalEdgeRings=function(e,t,n){for(var r=new Ee,i=e.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var a=o.buildMinimalRings(),s=this.findShell(a);null!==s?(this.placePolygonHoles(s,a),t.add(s)):n.addAll(a)}else r.add(o)}return r},Gt.prototype.containsPoint=function(e){for(var t=this._shellList.iterator();t.hasNext();)if(t.next().containsPoint(e))return!0;return!1},Gt.prototype.buildMaximalEdgeRings=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new Nt(r,this._geometryFactory);t.add(i),i.setInResult()}}return t},Gt.prototype.placePolygonHoles=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(e)}},Gt.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Gt.prototype.findEdgeRingContaining=function(e,t){for(var n=e.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,a=null,s=t.iterator();s.hasNext();){var l=s.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(a=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&se.isPointInRing(i,u.getCoordinates())&&(h=!0),h&&(null===o||a.contains(c))&&(o=l)}return o},Gt.prototype.findShell=function(e){for(var t=0,n=null,r=e.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,t++)}return te.isTrue(t<=1,"found two shells in MinimalEdgeRing list"),n},Gt.prototype.add=function(){if(1===arguments.length){var e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){var t=arguments[0],n=arguments[1];Vt.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(t),i=new Ee,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var Ht=function(){};Ht.prototype.getBounds=function(){},Ht.prototype.interfaces_=function(){return[]},Ht.prototype.getClass=function(){return Ht};var Wt=function(){this._bounds=null,this._item=null;var e=arguments[0],t=arguments[1];this._bounds=e,this._item=t};Wt.prototype.getItem=function(){return this._item},Wt.prototype.getBounds=function(){return this._bounds},Wt.prototype.interfaces_=function(){return[Ht,t]},Wt.prototype.getClass=function(){return Wt};var $t=function(){this._size=null,this._items=null,this._size=0,this._items=new Ee,this._items.add(null)};$t.prototype.poll=function(){if(this.isEmpty())return null;var e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e},$t.prototype.size=function(){return this._size},$t.prototype.reorder=function(e){for(var t=null,n=this._items.get(e);2*e<=this._size&&((t=2*e)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(n)<0);e=t)this._items.set(e,this._items.get(t));this._items.set(e,n)},$t.prototype.clear=function(){this._size=0,this._items.clear()},$t.prototype.isEmpty=function(){return 0===this._size},$t.prototype.add=function(e){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,e);e.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,e)},$t.prototype.interfaces_=function(){return[]},$t.prototype.getClass=function(){return $t};var Xt=function(){};Xt.prototype.visitItem=function(e){},Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt};var Yt=function(){};Yt.prototype.insert=function(e,t){},Yt.prototype.remove=function(e,t){},Yt.prototype.query=function(){},Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt};var Kt=function(){if(this._childBoundables=new Ee,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this._level=e}},Jt={serialVersionUID:{configurable:!0}};Kt.prototype.getLevel=function(){return this._level},Kt.prototype.size=function(){return this._childBoundables.size()},Kt.prototype.getChildBoundables=function(){return this._childBoundables},Kt.prototype.addChildBoundable=function(e){te.isTrue(null===this._bounds),this._childBoundables.add(e)},Kt.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Kt.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Kt.prototype.interfaces_=function(){return[Ht,t]},Kt.prototype.getClass=function(){return Kt},Jt.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Kt,Jt);var Qt=function(){};Qt.reverseOrder=function(){return{compare:function(e,t){return t.compareTo(e)}}},Qt.min=function(e){return Qt.sort(e),e.get(0)},Qt.sort=function(e,t){var n=e.toArray();t?ze.sort(n,t):ze.sort(n);for(var r=e.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},Qt.singletonList=function(e){var t=new Ee;return t.add(e),t};var en=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var e=arguments[0],t=arguments[1],n=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=n,this._distance=this.distance()};en.prototype.expandToQueue=function(e,t){var n=en.isComposite(this._boundable1),r=en.isComposite(this._boundable2);if(n&&r)return en.area(this._boundable1)>en.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(n)return this.expand(this._boundable1,this._boundable2,e,t),null;if(r)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new v("neither boundable is composite")},en.prototype.isLeaves=function(){return!(en.isComposite(this._boundable1)||en.isComposite(this._boundable2))},en.prototype.compareTo=function(e){var t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0},en.prototype.expand=function(e,t,n,r){for(var i=e.getChildBoundables().iterator();i.hasNext();){var o=i.next(),a=new en(o,t,this._itemDistance);a.getDistance()<r&&n.add(a)}},en.prototype.getBoundable=function(e){return 0===e?this._boundable1:this._boundable2},en.prototype.getDistance=function(){return this._distance},en.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},en.prototype.interfaces_=function(){return[x]},en.prototype.getClass=function(){return en},en.area=function(e){return e.getBounds().getArea()},en.isComposite=function(e){return e instanceof Kt};var tn=function e(){if(this._root=null,this._built=!1,this._itemBoundables=new Ee,this._nodeCapacity=null,0===arguments.length){var t=e.DEFAULT_NODE_CAPACITY;this._nodeCapacity=t}else if(1===arguments.length){var n=arguments[0];te.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};tn.prototype.getNodeCapacity=function(){return this._nodeCapacity},tn.prototype.lastNode=function(e){return e.get(e.size()-1)},tn.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();n instanceof Kt?e+=this.size(n):n instanceof Wt&&(e+=1)}return e}},tn.prototype.removeItem=function(e,t){for(var n=null,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof Wt&&i.getItem()===t&&(n=i)}return null!==n&&(e.getChildBoundables().remove(n),!0)},tn.prototype.itemsTree=function(){if(0===arguments.length){this.build();var e=this.itemsTree(this._root);return null===e?new Ee:e}if(1===arguments.length){for(var t=arguments[0],n=new Ee,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Kt){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof Wt?n.add(i.getItem()):te.shouldNeverReachHere()}return n.size()<=0?null:n}},tn.prototype.insert=function(e,t){te.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Wt(e,t))},tn.prototype.boundablesAtLevel=function(){if(1===arguments.length){var e=arguments[0],t=new Ee;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(te.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var a=o.next();a instanceof Kt?this.boundablesAtLevel(n,a,i):(te.isTrue(a instanceof Wt),-1===n&&i.add(a))}return null}},tn.prototype.query=function(){if(1===arguments.length){var e=arguments[0];this.build();var t=new Ee;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.query(e,this._root,t),t}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(L(arguments[2],Xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt)for(var i=arguments[0],o=arguments[2],a=arguments[1].getChildBoundables(),s=0;s<a.size();s++){var l=a.get(s);this.getIntersectsOp().intersects(l.getBounds(),i)&&(l instanceof Kt?this.query(i,l,o):l instanceof Wt?o.visitItem(l.getItem()):te.shouldNeverReachHere())}else if(L(arguments[2],we)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt)for(var u=arguments[0],c=arguments[2],h=arguments[1].getChildBoundables(),p=0;p<h.size();p++){var d=h.get(p);this.getIntersectsOp().intersects(d.getBounds(),u)&&(d instanceof Kt?this.query(u,d,c):d instanceof Wt?c.add(d.getItem()):te.shouldNeverReachHere())}},tn.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},tn.prototype.getRoot=function(){return this.build(),this._root},tn.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var a=null,s=r.getChildBoundables().iterator();s.hasNext();){var l=s.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Kt&&(o=this.remove(n,l,i))){a=l;break}}return null!==a&&a.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(a),o}},tn.prototype.createHigherLevels=function(e,t){te.isTrue(!e.isEmpty());var n=this.createParentBoundables(e,t+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,t+1)},tn.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var e=0,t=arguments[0].getChildBoundables().iterator();t.hasNext();){var n=t.next();if(n instanceof Kt){var r=this.depth(n);r>e&&(e=r)}}return e+1}},tn.prototype.createParentBoundables=function(e,t){te.isTrue(!e.isEmpty());var n=new Ee;n.add(this.createNode(t));var r=new Ee(e);Qt.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(t)),this.lastNode(n).addChildBoundable(o)}return n},tn.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},tn.prototype.interfaces_=function(){return[t]},tn.prototype.getClass=function(){return tn},tn.compareDoubles=function(e,t){return e>t?1:e<t?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(tn,nn);var rn=function(){},on=function(){};on.prototype.distance=function(e,t){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var an=function(e){function n(t){t=t||n.DEFAULT_NODE_CAPACITY,e.call(this,t)}e&&(n.__proto__=e),(n.prototype=Object.create(e&&e.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(e,t){te.isTrue(e.length>0);for(var n=new Ee,r=0;r<e.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(e[r],t));return n},n.prototype.createNode=function(e){return new sn(e)},n.prototype.size=function(){return 0===arguments.length?e.prototype.size.call(this):e.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return e.prototype.insert.apply(this,arguments);var t=arguments[0],n=arguments[1];if(t.isNull())return null;e.prototype.insert.call(this,t,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(e,t){for(var n=Math.trunc(Math.ceil(e.size()/t)),r=new Array(t).fill(null),i=e.iterator(),o=0;o<t;o++){r[o]=new Ee;for(var a=0;i.hasNext()&&a<n;){var s=i.next();r[o].add(s),a++}}return r},n.prototype.query=function(){if(1===arguments.length){var t=arguments[0];return e.prototype.query.call(this,t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];e.prototype.query.call(this,n,r)}else if(3===arguments.length)if(L(arguments[2],Xt)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt){var i=arguments[0],o=arguments[1],a=arguments[2];e.prototype.query.call(this,i,o,a)}else if(L(arguments[2],we)&&arguments[0]instanceof Object&&arguments[1]instanceof Kt){var s=arguments[0],l=arguments[1],u=arguments[2];e.prototype.query.call(this,s,l,u)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(t,n){return e.prototype.createParentBoundables.call(this,t,n)},n.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],n=arguments[1];return e.prototype.remove.call(this,t,n)}return e.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?e.prototype.depth.call(this):e.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(e,t){te.isTrue(!e.isEmpty());var r=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),i=new Ee(e);Qt.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,t)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(L(arguments[0],on)){var e=arguments[0],t=new en(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof en){var r=arguments[0];return this.nearestNeighbour(r,_.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&L(arguments[1],on)){var i=arguments[0],o=arguments[1],a=new en(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(a)}if(arguments[0]instanceof en&&"number"==typeof arguments[1]){var s=arguments[0],l=arguments[1],u=null,c=new $t;for(c.add(s);!c.isEmpty()&&l>0;){var h=c.poll(),p=h.getDistance();if(p>=l)break;h.isLeaves()?(l=p,u=h):h.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var d=arguments[2],f=new Wt(arguments[0],arguments[1]),m=new en(this.getRoot(),f,d);return this.nearestNeighbour(m)[0]}},n.prototype.interfaces_=function(){return[Yt,t]},n.prototype.getClass=function(){return n},n.centreX=function(e){return n.avg(e.getMinX(),e.getMaxX())},n.avg=function(e,t){return(e+t)/2},n.centreY=function(e){return n.avg(e.getMinY(),e.getMaxY())},r.STRtreeNode.get=function(){return sn},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(t,r){return e.compareDoubles(n.centreX(t.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(t,r){return e.compareDoubles(n.centreY(t.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[e.IntersectsOp]},intersects:function(e,t){return e.intersects(t)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(tn),sn=function(e){function t(){var t=arguments[0];e.call(this,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.computeBounds=function(){for(var e=null,t=this.getChildBoundables().iterator();t.hasNext();){var n=t.next();null===e?e=new H(n.getBounds()):e.expandToInclude(n.getBounds())}return e},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Kt),ln=function(){};ln.prototype.interfaces_=function(){return[]},ln.prototype.getClass=function(){return ln},ln.relativeSign=function(e,t){return e<t?-1:e>t?1:0},ln.compare=function(e,t,n){if(t.equals2D(n))return 0;var r=ln.relativeSign(t.x,n.x),i=ln.relativeSign(t.y,n.y);switch(e){case 0:return ln.compareValue(r,i);case 1:return ln.compareValue(i,r);case 2:return ln.compareValue(i,-r);case 3:return ln.compareValue(-r,i);case 4:return ln.compareValue(-r,-i);case 5:return ln.compareValue(-i,-r);case 6:return ln.compareValue(-i,r);case 7:return ln.compareValue(r,-i)}return te.shouldNeverReachHere("invalid octant value"),0},ln.compareValue=function(e,t){return e<0?-1:e>0?1:t<0?-1:t>0?1:0};var un=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._segString=e,this.coord=new S(t),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!t.equals2D(e.getCoordinate(n))};un.prototype.getCoordinate=function(){return this.coord},un.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex)},un.prototype.compareTo=function(e){var t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:ln.compare(this._segmentOctant,this.coord,t.coord)},un.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===e},un.prototype.isInterior=function(){return this._isInterior},un.prototype.interfaces_=function(){return[x]},un.prototype.getClass=function(){return un};var cn=function(){this._nodeMap=new h,this._edge=null;var e=arguments[0];this._edge=e};cn.prototype.getSplitCoordinates=function(){var e=new Ce;this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next();this.addEdgeCoordinates(n,r,e),n=r}return e.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var e=new Ee;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(var t=e.iterator();t.hasNext();){var n=t.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},cn.prototype.findCollapsesFromExistingVertices=function(e){for(var t=0;t<this._edge.size()-2;t++){var n=this._edge.getCoordinate(t),r=this._edge.getCoordinate(t+2);n.equals2D(r)&&e.add(new R(t+1))}},cn.prototype.addEdgeCoordinates=function(e,t,n){var r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);n.add(new S(e.coord),!1);for(var o=e.segmentIndex+1;o<=t.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new S(t.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(e){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},cn.prototype.findCollapseIndex=function(e,t,n){if(!e.coord.equals2D(t.coord))return!1;var r=t.segmentIndex-e.segmentIndex;return t.isInterior()||r--,1===r&&(n[0]=e.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(e){for(var t=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,t)&&e.add(new R(t[0])),r=i}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)},cn.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new S(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this._edge.getCoordinate(s);return i&&(o[a]=new S(t.coord)),new fn(o,this._edge.getData())},cn.prototype.add=function(e,t){var n=new un(this._edge,e,t,this._edge.getSegmentOctant(t)),r=this._nodeMap.get(n);return null!==r?(te.isTrue(r.coord.equals2D(e),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(e){var t=this._edge.getCoordinates(),n=e.get(0).getCoordinate(0);if(!n.equals2D(t[0]))throw new Q("bad split edge start point at "+n);var r=e.get(e.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(t[t.length-1]))throw new Q("bad split edge end point at "+i)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var hn=function(){};hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new v("Cannot compute the octant for point ( "+e+", "+t+" )");var n=Math.abs(e),r=Math.abs(t);return e>=0?t>=0?n>=r?0:1:n>=r?7:6:t>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof S&&arguments[1]instanceof S){var i=arguments[0],o=arguments[1],a=o.x-i.x,s=o.y-i.y;if(0===a&&0===s)throw new v("Cannot compute the octant for two identical points "+i);return hn.octant(a,s)}};var pn=function(){};pn.prototype.getCoordinates=function(){},pn.prototype.size=function(){},pn.prototype.getCoordinate=function(e){},pn.prototype.isClosed=function(){},pn.prototype.setData=function(e){},pn.prototype.getData=function(){},pn.prototype.interfaces_=function(){return[]},pn.prototype.getClass=function(){return pn};var dn=function(){};dn.prototype.addIntersection=function(e,t){},dn.prototype.interfaces_=function(){return[pn]},dn.prototype.getClass=function(){return dn};var fn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};fn.prototype.getCoordinates=function(){return this._pts},fn.prototype.size=function(){return this._pts.length},fn.prototype.getCoordinate=function(e){return this._pts[e]},fn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},fn.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))},fn.prototype.setData=function(e){this._data=e},fn.prototype.safeOctant=function(e,t){return e.equals2D(t)?0:hn.octant(e,t)},fn.prototype.getData=function(){return this._data},fn.prototype.addIntersection=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new S(arguments[0].getIntersection(r));this.addIntersection(i,n)}},fn.prototype.toString=function(){return J.toLineString(new lt(this._pts))},fn.prototype.getNodeList=function(){return this._nodeList},fn.prototype.addIntersectionNode=function(e,t){var n=t,r=n+1;if(r<this._pts.length){var i=this._pts[r];e.equals2D(i)&&(n=r)}return this._nodeList.add(e,n)},fn.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},fn.prototype.interfaces_=function(){return[dn]},fn.prototype.getClass=function(){return fn},fn.getNodedSubstrings=function(){if(1===arguments.length){var e=arguments[0],t=new Ee;return fn.getNodedSubstrings(e,t),t}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var mn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new S,this.p1=new S;else if(1===arguments.length){var e=arguments[0];this.p0=new S(e.p0),this.p1=new S(e.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new S(t,n),this.p1=new S(r,i)}},gn={serialVersionUID:{configurable:!0}};mn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},mn.prototype.orientationIndex=function(){if(arguments[0]instanceof mn){var e=arguments[0],t=se.orientationIndex(this.p0,this.p1,e.p0),n=se.orientationIndex(this.p0,this.p1,e.p1);return t>=0&&n>=0||t<=0&&n<=0?Math.max(t,n):0}if(arguments[0]instanceof S){var r=arguments[0];return se.orientationIndex(this.p0,this.p1,r)}},mn.prototype.toGeometry=function(e){return e.createLineString([this.p0,this.p1])},mn.prototype.isVertical=function(){return this.p0.x===this.p1.x},mn.prototype.equals=function(e){if(!(e instanceof mn))return!1;var t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)},mn.prototype.intersection=function(e){var t=new ie;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null},mn.prototype.project=function(){if(arguments[0]instanceof S){var e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new S(e);var t=this.projectionFactor(e),n=new S;return n.x=this.p0.x+t*(this.p1.x-this.p0.x),n.y=this.p0.y+t*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof mn){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var a=this.project(r.p0);i<0&&(a=this.p0),i>1&&(a=this.p1);var s=this.project(r.p1);return o<0&&(s=this.p0),o>1&&(s=this.p1),new mn(a,s)}},mn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},mn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},mn.prototype.getCoordinate=function(e){return 0===e?this.p0:this.p1},mn.prototype.distancePerpendicular=function(e){return se.distancePointLinePerpendicular(e,this.p0,this.p1)},mn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},mn.prototype.midPoint=function(){return mn.midPoint(this.p0,this.p1)},mn.prototype.projectionFactor=function(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;var t=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=t*t+n*n;return r<=0?_.NaN:((e.x-this.p0.x)*t+(e.y-this.p0.y)*n)/r},mn.prototype.closestPoints=function(e){var t=this.intersection(e);if(null!==t)return[t,t];var n=new Array(2).fill(null),r=_.MAX_VALUE,i=null,o=this.closestPoint(e.p0);r=o.distance(e.p0),n[0]=o,n[1]=e.p0;var a=this.closestPoint(e.p1);(i=a.distance(e.p1))<r&&(r=i,n[0]=a,n[1]=e.p1);var s=e.closestPoint(this.p0);(i=s.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=s);var l=e.closestPoint(this.p1);return(i=l.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=l),n},mn.prototype.closestPoint=function(e){var t=this.projectionFactor(e);return t>0&&t<1?this.project(e):this.p0.distance(e)<this.p1.distance(e)?this.p0:this.p1},mn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},mn.prototype.getLength=function(){return this.p0.distance(this.p1)},mn.prototype.compareTo=function(e){var t=e,n=this.p0.compareTo(t.p0);return 0!==n?n:this.p1.compareTo(t.p1)},mn.prototype.reverse=function(){var e=this.p0;this.p0=this.p1,this.p1=e},mn.prototype.equalsTopo=function(e){return this.p0.equals(e.p0)&&(this.p1.equals(e.p1)||this.p0.equals(e.p1))&&this.p1.equals(e.p0)},mn.prototype.lineIntersection=function(e){try{return G.intersection(this.p0,this.p1,e.p0,e.p1)}catch(e){if(!(e instanceof q))throw e}return null},mn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},mn.prototype.pointAlongOffset=function(e,t){var n=this.p0.x+e*(this.p1.x-this.p0.x),r=this.p0.y+e*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,a=Math.sqrt(i*i+o*o),s=0,l=0;if(0!==t){if(a<=0)throw new Error("Cannot compute offset from zero-length line segment");s=t*i/a,l=t*o/a}return new S(n-l,r+s)},mn.prototype.setCoordinates=function(){if(1===arguments.length){var e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this.p0.x=t.x,this.p0.y=t.y,this.p1.x=n.x,this.p1.y=n.y}},mn.prototype.segmentFraction=function(e){var t=this.projectionFactor(e);return t<0?t=0:(t>1||_.isNaN(t))&&(t=1),t},mn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},mn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},mn.prototype.distance=function(){if(arguments[0]instanceof mn){var e=arguments[0];return se.distanceLineLine(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof S){var t=arguments[0];return se.distancePointLine(t,this.p0,this.p1)}},mn.prototype.pointAlong=function(e){var t=new S;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t},mn.prototype.hashCode=function(){var e=_.doubleToLongBits(this.p0.x);e^=31*_.doubleToLongBits(this.p0.y);var t=Math.trunc(e)^Math.trunc(e>>32),n=_.doubleToLongBits(this.p1.x);return n^=31*_.doubleToLongBits(this.p1.y),t^Math.trunc(n)^Math.trunc(n>>32)},mn.prototype.interfaces_=function(){return[x,t]},mn.prototype.getClass=function(){return mn},mn.midPoint=function(e,t){return new S((e.x+t.x)/2,(e.y+t.y)/2)},gn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(mn,gn);var yn=function(){this.tempEnv1=new H,this.tempEnv2=new H,this._overlapSeg1=new mn,this._overlapSeg2=new mn};yn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var e=arguments[1],t=arguments[2],n=arguments[3];arguments[0].getLineSegment(e,this._overlapSeg1),t.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},yn.prototype.interfaces_=function(){return[]},yn.prototype.getClass=function(){return yn};var vn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this._pts=e,this._start=t,this._end=n,this._context=r};vn.prototype.getLineSegment=function(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]},vn.prototype.computeSelect=function(e,t,n,r){var i=this._pts[t],o=this._pts[n];if(r.tempEnv1.init(i,o),n-t==1)return r.select(this,t),null;if(!e.intersects(r.tempEnv1))return null;var a=Math.trunc((t+n)/2);t<a&&this.computeSelect(e,t,a,r),a<n&&this.computeSelect(e,a,n,r)},vn.prototype.getCoordinates=function(){for(var e=new Array(this._end-this._start+1).fill(null),t=0,n=this._start;n<=this._end;n++)e[t++]=this._pts[n];return e},vn.prototype.computeOverlaps=function(e,t){this.computeOverlapsInternal(this._start,this._end,e,e._start,e._end,t)},vn.prototype.setId=function(e){this._id=e},vn.prototype.select=function(e,t){this.computeSelect(e,this._start,this._end,t)},vn.prototype.getEnvelope=function(){if(null===this._env){var e=this._pts[this._start],t=this._pts[this._end];this._env=new H(e,t)}return this._env},vn.prototype.getEndIndex=function(){return this._end},vn.prototype.getStartIndex=function(){return this._start},vn.prototype.getContext=function(){return this._context},vn.prototype.getId=function(){return this._id},vn.prototype.computeOverlapsInternal=function(e,t,n,r,i,o){var a=this._pts[e],s=this._pts[t],l=n._pts[r],u=n._pts[i];if(t-e==1&&i-r==1)return o.overlap(this,e,n,r),null;if(o.tempEnv1.init(a,s),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((e+t)/2),h=Math.trunc((r+i)/2);e<c&&(r<h&&this.computeOverlapsInternal(e,c,n,r,h,o),h<i&&this.computeOverlapsInternal(e,c,n,h,i,o)),c<t&&(r<h&&this.computeOverlapsInternal(c,t,n,r,h,o),h<i&&this.computeOverlapsInternal(c,t,n,h,i,o))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var _n=function(){};_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.getChainStartIndices=function(e){var t=0,n=new Ee;n.add(new R(t));do{var r=_n.findChainEnd(e,t);n.add(new R(r)),t=r}while(t<e.length-1);return _n.toIntArray(n)},_n.findChainEnd=function(e,t){for(var n=t;n<e.length-1&&e[n].equals2D(e[n+1]);)n++;if(n>=e.length-1)return e.length-1;for(var r=Bt.quadrant(e[n],e[n+1]),i=t+1;i<e.length&&(e[i-1].equals2D(e[i])||Bt.quadrant(e[i-1],e[i])===r);)i++;return i-1},_n.getChains=function(){if(1===arguments.length){var e=arguments[0];return _n.getChains(e,null)}if(2===arguments.length){for(var t=arguments[0],n=arguments[1],r=new Ee,i=_n.getChainStartIndices(t),o=0;o<i.length-1;o++){var a=new vn(t,i[o],i[o+1],n);r.add(a)}return r}},_n.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var bn=function(){};bn.prototype.computeNodes=function(e){},bn.prototype.getNodedSubstrings=function(){},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var xn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setSegmentIntersector(e)}};xn.prototype.setSegmentIntersector=function(e){this._segInt=e},xn.prototype.interfaces_=function(){return[bn]},xn.prototype.getClass=function(){return xn};var wn=function(e){function t(t){t?e.call(this,t):e.call(this),this._monoChains=new Ee,this._index=new an,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t;var n={SegmentOverlapAction:{configurable:!0}};return t.prototype.getMonotoneChains=function(){return this._monoChains},t.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},t.prototype.getIndex=function(){return this._index},t.prototype.add=function(e){for(var t=_n.getChains(e.getCoordinates(),e).iterator();t.hasNext();){var n=t.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},t.prototype.computeNodes=function(e){this._nodedSegStrings=e;for(var t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()},t.prototype.intersectChains=function(){for(var e=new En(this._segInt),t=this._monoChains.iterator();t.hasNext();)for(var n=t.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,e),this._nOverlaps++),this._segInt.isDone())return null}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},n.SegmentOverlapAction.get=function(){return En},Object.defineProperties(t,n),t}(xn),En=function(e){function t(){e.call(this),this._si=null;var t=arguments[0];this._si=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.overlap=function(){if(4!==arguments.length)return e.prototype.overlap.apply(this,arguments);var t=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,t,o,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(yn),Sn=function e(){if(this._quadrantSegments=e.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=e.CAP_ROUND,this._joinStyle=e.JOIN_ROUND,this._mitreLimit=e.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=e.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(a),this.setMitreLimit(s)}},Cn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Sn.prototype.getEndCapStyle=function(){return this._endCapStyle},Sn.prototype.isSingleSided=function(){return this._isSingleSided},Sn.prototype.setQuadrantSegments=function(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=Sn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Sn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),e<=0&&(this._quadrantSegments=1),this._joinStyle!==Sn.JOIN_ROUND&&(this._quadrantSegments=Sn.DEFAULT_QUADRANT_SEGMENTS)},Sn.prototype.getJoinStyle=function(){return this._joinStyle},Sn.prototype.setJoinStyle=function(e){this._joinStyle=e},Sn.prototype.setSimplifyFactor=function(e){this._simplifyFactor=e<0?0:e},Sn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Sn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Sn.prototype.setEndCapStyle=function(e){this._endCapStyle=e},Sn.prototype.getMitreLimit=function(){return this._mitreLimit},Sn.prototype.setMitreLimit=function(e){this._mitreLimit=e},Sn.prototype.setSingleSided=function(e){this._isSingleSided=e},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},Sn.bufferDistanceError=function(e){var t=Math.PI/2/e;return 1-Math.cos(t/2)},Cn.CAP_ROUND.get=function(){return 1},Cn.CAP_FLAT.get=function(){return 2},Cn.CAP_SQUARE.get=function(){return 3},Cn.JOIN_ROUND.get=function(){return 1},Cn.JOIN_MITRE.get=function(){return 2},Cn.JOIN_BEVEL.get=function(){return 3},Cn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Cn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Cn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Sn,Cn);var Tn=function(e){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=se.COUNTERCLOCKWISE,this._inputLine=e||null},In={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Tn.prototype.isDeletable=function(e,t,n,r){var i=this._inputLine[e],o=this._inputLine[t],a=this._inputLine[n];return!!this.isConcave(i,o,a)&&!!this.isShallow(i,o,a,r)&&this.isShallowSampled(i,o,e,n,r)},Tn.prototype.deleteShallowConcavities=function(){for(var e=1,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(e,t,n,this._distanceTol)&&(this._isDeleted[t]=Tn.DELETE,i=!0,r=!0),e=i?n:t,t=this.findNextNonDeletedIndex(e),n=this.findNextNonDeletedIndex(t)}return r},Tn.prototype.isShallowConcavity=function(e,t,n,r){return se.computeOrientation(e,t,n)===this._angleOrientation&&se.distancePointLine(t,e,n)<r},Tn.prototype.isShallowSampled=function(e,t,n,r,i){var o=Math.trunc((r-n)/Tn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var a=n;a<r;a+=o)if(!this.isShallow(e,t,this._inputLine[a],i))return!1;return!0},Tn.prototype.isConcave=function(e,t,n){return se.computeOrientation(e,t,n)===this._angleOrientation},Tn.prototype.simplify=function(e){this._distanceTol=Math.abs(e),e<0&&(this._angleOrientation=se.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var t=!1;do{t=this.deleteShallowConcavities()}while(t);return this.collapseLine()},Tn.prototype.findNextNonDeletedIndex=function(e){for(var t=e+1;t<this._inputLine.length&&this._isDeleted[t]===Tn.DELETE;)t++;return t},Tn.prototype.isShallow=function(e,t,n,r){return se.distancePointLine(t,e,n)<r},Tn.prototype.collapseLine=function(){for(var e=new Ce,t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==Tn.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()},Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.simplify=function(e,t){return new Tn(e).simplify(t)},In.INIT.get=function(){return 0},In.DELETE.get=function(){return 1},In.KEEP.get=function(){return 1},In.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Tn,In);var kn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Ee},Pn={COORDINATE_ARRAY_TYPE:{configurable:!0}};kn.prototype.getCoordinates=function(){return this._ptList.toArray(kn.COORDINATE_ARRAY_TYPE)},kn.prototype.setPrecisionModel=function(e){this._precisionModel=e},kn.prototype.addPt=function(e){var t=new S(e);if(this._precisionModel.makePrecise(t),this.isRedundant(t))return null;this._ptList.add(t)},kn.prototype.revere=function(){},kn.prototype.addPts=function(e,t){if(t)for(var n=0;n<e.length;n++)this.addPt(e[n]);else for(var r=e.length-1;r>=0;r--)this.addPt(e[r])},kn.prototype.isRedundant=function(e){if(this._ptList.size()<1)return!1;var t=this._ptList.get(this._ptList.size()-1);return e.distance(t)<this._minimimVertexDistance},kn.prototype.toString=function(){return(new yt).createLineString(this.getCoordinates()).toString()},kn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var e=new S(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);if(e.equals(t))return null;this._ptList.add(e)},kn.prototype.setMinimumVertexDistance=function(e){this._minimimVertexDistance=e},kn.prototype.interfaces_=function(){return[]},kn.prototype.getClass=function(){return kn},Pn.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(kn,Pn);var Ln=function(){},Mn={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Ln.prototype.interfaces_=function(){return[]},Ln.prototype.getClass=function(){return Ln},Ln.toDegrees=function(e){return 180*e/Math.PI},Ln.normalize=function(e){for(;e>Math.PI;)e-=Ln.PI_TIMES_2;for(;e<=-Math.PI;)e+=Ln.PI_TIMES_2;return e},Ln.angle=function(){if(1===arguments.length){var e=arguments[0];return Math.atan2(e.y,e.x)}if(2===arguments.length){var t=arguments[0],n=arguments[1],r=n.x-t.x,i=n.y-t.y;return Math.atan2(i,r)}},Ln.isAcute=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)>0},Ln.isObtuse=function(e,t,n){var r=e.x-t.x,i=e.y-t.y;return r*(n.x-t.x)+i*(n.y-t.y)<0},Ln.interiorAngle=function(e,t,n){var r=Ln.angle(t,e),i=Ln.angle(t,n);return Math.abs(i-r)},Ln.normalizePositive=function(e){if(e<0){for(;e<0;)e+=Ln.PI_TIMES_2;e>=Ln.PI_TIMES_2&&(e=0)}else{for(;e>=Ln.PI_TIMES_2;)e-=Ln.PI_TIMES_2;e<0&&(e=0)}return e},Ln.angleBetween=function(e,t,n){var r=Ln.angle(t,e),i=Ln.angle(t,n);return Ln.diff(r,i)},Ln.diff=function(e,t){var n=null;return(n=e<t?t-e:e-t)>Math.PI&&(n=2*Math.PI-n),n},Ln.toRadians=function(e){return e*Math.PI/180},Ln.getTurn=function(e,t){var n=Math.sin(t-e);return n>0?Ln.COUNTERCLOCKWISE:n<0?Ln.CLOCKWISE:Ln.NONE},Ln.angleBetweenOriented=function(e,t,n){var r=Ln.angle(t,e),i=Ln.angle(t,n)-r;return i<=-Math.PI?i+Ln.PI_TIMES_2:i>Math.PI?i-Ln.PI_TIMES_2:i},Mn.PI_TIMES_2.get=function(){return 2*Math.PI},Mn.PI_OVER_2.get=function(){return Math.PI/2},Mn.PI_OVER_4.get=function(){return Math.PI/4},Mn.COUNTERCLOCKWISE.get=function(){return se.COUNTERCLOCKWISE},Mn.CLOCKWISE.get=function(){return se.CLOCKWISE},Mn.NONE.get=function(){return se.COLLINEAR},Object.defineProperties(Ln,Mn);var An=function e(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new mn,this._seg1=new mn,this._offset0=new mn,this._offset1=new mn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=t,this._bufParams=n,this._li=new ie,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Sn.JOIN_ROUND&&(this._closingSegLengthFactor=e.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},On={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};An.prototype.addNextSegment=function(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=se.computeOrientation(this._s0,this._s1,this._s2),r=n===se.CLOCKWISE&&this._side===Ct.LEFT||n===se.COUNTERCLOCKWISE&&this._side===Ct.RIGHT;0===n?this.addCollinear(t):r?this.addOutsideTurn(n,t):this.addInsideTurn(n,t)},An.prototype.addLineEndCap=function(e,t){var n=new mn(e,t),r=new mn;this.computeOffsetSegment(n,Ct.LEFT,this._distance,r);var i=new mn;this.computeOffsetSegment(n,Ct.RIGHT,this._distance,i);var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o);switch(this._bufParams.getEndCapStyle()){case Sn.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(t,s+Math.PI/2,s-Math.PI/2,se.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Sn.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Sn.CAP_SQUARE:var l=new S;l.x=Math.abs(this._distance)*Math.cos(s),l.y=Math.abs(this._distance)*Math.sin(s);var u=new S(r.p1.x+l.x,r.p1.y+l.y),c=new S(i.p1.x+l.x,i.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},An.prototype.getCoordinates=function(){return this._segList.getCoordinates()},An.prototype.addMitreJoin=function(e,t,n,r){var i=!0,o=null;try{o=G.intersection(t.p0,t.p1,n.p0,n.p1),(r<=0?1:o.distance(e)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(e){if(!(e instanceof q))throw e;o=new S(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(t,n,r,this._bufParams.getMitreLimit())},An.prototype.addFilletCorner=function(e,t,n,r,i){var o=t.x-e.x,a=t.y-e.y,s=Math.atan2(a,o),l=n.x-e.x,u=n.y-e.y,c=Math.atan2(u,l);r===se.CLOCKWISE?s<=c&&(s+=2*Math.PI):s>=c&&(s-=2*Math.PI),this._segList.addPt(t),this.addFilletArc(e,s,c,r,i),this._segList.addPt(n)},An.prototype.addOutsideTurn=function(e,t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*An.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Sn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Sn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0))},An.prototype.createSquare=function(e){this._segList.addPt(new S(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new S(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new S(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new S(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()},An.prototype.addSegments=function(e,t){this._segList.addPts(e,t)},An.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},An.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},An.prototype.initSideSegments=function(e,t,n){this._s1=e,this._s2=t,this._side=n,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},An.prototype.addLimitedMitreJoin=function(e,t,n,r){var i=this._seg0.p1,o=Ln.angle(i,this._seg0.p0),a=Ln.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,s=Ln.normalize(o+a),l=Ln.normalize(s+Math.PI),u=r*n,c=n-u*Math.abs(Math.sin(a)),h=i.x+u*Math.cos(l),p=i.y+u*Math.sin(l),d=new S(h,p),f=new mn(i,d),m=f.pointAlongOffset(1,c),g=f.pointAlongOffset(1,-c);this._side===Ct.LEFT?(this._segList.addPt(m),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(m))},An.prototype.computeOffsetSegment=function(e,t,n,r){var i=t===Ct.LEFT?1:-1,o=e.p1.x-e.p0.x,a=e.p1.y-e.p0.y,s=Math.sqrt(o*o+a*a),l=i*n*o/s,u=i*n*a/s;r.p0.x=e.p0.x-u,r.p0.y=e.p0.y+l,r.p1.x=e.p1.x-u,r.p1.y=e.p1.y+l},An.prototype.addFilletArc=function(e,t,n,r,i){var o=r===se.CLOCKWISE?-1:1,a=Math.abs(t-n),s=Math.trunc(a/this._filletAngleQuantum+.5);if(s<1)return null;for(var l=a/s,u=0,c=new S;u<a;){var h=t+o*u;c.x=e.x+i*Math.cos(h),c.y=e.y+i*Math.sin(h),this._segList.addPt(c),u+=l}},An.prototype.addInsideTurn=function(e,t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*An.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new S((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new S((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},An.prototype.createCircle=function(e){var t=new S(e.x+this._distance,e.y);this._segList.addPt(t),this.addFilletArc(e,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},An.prototype.addBevelJoin=function(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)},An.prototype.init=function(e){this._distance=e,this._maxCurveSegmentError=e*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new kn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*An.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},An.prototype.addCollinear=function(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Sn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Sn.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,se.CLOCKWISE,this._distance))},An.prototype.closeRing=function(){this._segList.closeRing()},An.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},An.prototype.interfaces_=function(){return[]},An.prototype.getClass=function(){return An},On.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},On.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},On.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},On.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(An,On);var Rn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t};Rn.prototype.getOffsetCurve=function(e,t){if(this._distance=t,0===t)return null;var n=t<0,r=Math.abs(t),i=this.getSegGen(r);e.length<=1?this.computePointCurve(e[0],i):this.computeOffsetCurve(e,n,i);var o=i.getCoordinates();return n&&Te.reverse(o),o},Rn.prototype.computeSingleSidedBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){n.addSegments(e,!0);var i=Tn.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Ct.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{n.addSegments(e,!1);var s=Tn.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],Ct.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment(),n.closeRing()},Rn.prototype.computeRingBufferCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);t===Ct.RIGHT&&(r=-r);var i=Tn.simplify(e,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],t);for(var a=1;a<=o;a++){var s=1!==a;n.addNextSegment(i[a],s)}n.closeRing()},Rn.prototype.computeLineBufferCurve=function(e,t){var n=this.simplifyTolerance(this._distance),r=Tn.simplify(e,n),i=r.length-1;t.initSideSegments(r[0],r[1],Ct.LEFT);for(var o=2;o<=i;o++)t.addNextSegment(r[o],!0);t.addLastSegment(),t.addLineEndCap(r[i-1],r[i]);var a=Tn.simplify(e,-n),s=a.length-1;t.initSideSegments(a[s],a[s-1],Ct.LEFT);for(var l=s-2;l>=0;l--)t.addNextSegment(a[l],!0);t.addLastSegment(),t.addLineEndCap(a[1],a[0]),t.closeRing()},Rn.prototype.computePointCurve=function(e,t){switch(this._bufParams.getEndCapStyle()){case Sn.CAP_ROUND:t.createCircle(e);break;case Sn.CAP_SQUARE:t.createSquare(e)}},Rn.prototype.getLineCurve=function(e,t){if(this._distance=t,t<0&&!this._bufParams.isSingleSided())return null;if(0===t)return null;var n=Math.abs(t),r=this.getSegGen(n);if(e.length<=1)this.computePointCurve(e[0],r);else if(this._bufParams.isSingleSided()){var i=t<0;this.computeSingleSidedBufferCurve(e,i,r)}else this.computeLineBufferCurve(e,r);return r.getCoordinates()},Rn.prototype.getBufferParameters=function(){return this._bufParams},Rn.prototype.simplifyTolerance=function(e){return e*this._bufParams.getSimplifyFactor()},Rn.prototype.getRingCurve=function(e,t,n){if(this._distance=n,e.length<=2)return this.getLineCurve(e,n);if(0===n)return Rn.copyCoordinates(e);var r=this.getSegGen(n);return this.computeRingBufferCurve(e,t,r),r.getCoordinates()},Rn.prototype.computeOffsetCurve=function(e,t,n){var r=this.simplifyTolerance(this._distance);if(t){var i=Tn.simplify(e,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Ct.LEFT),n.addFirstSegment();for(var a=o-2;a>=0;a--)n.addNextSegment(i[a],!0)}else{var s=Tn.simplify(e,r),l=s.length-1;n.initSideSegments(s[0],s[1],Ct.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(s[u],!0)}n.addLastSegment()},Rn.prototype.getSegGen=function(e){return new An(this._precisionModel,this._bufParams,e)},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Rn.copyCoordinates=function(e){for(var t=new Array(e.length).fill(null),n=0;n<t.length;n++)t[n]=new S(e[n]);return t};var Nn=function(){this._subgraphs=null,this._seg=new mn,this._cga=new se;var e=arguments[0];this._subgraphs=e},Dn={DepthSegment:{configurable:!0}};Nn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var e=arguments[0],t=new Ee,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();e.y<i.getMinY()||e.y>i.getMaxY()||this.findStabbedSegments(e,r.getDirectedEdges(),t)}return t}if(3===arguments.length)if(L(arguments[2],we)&&arguments[0]instanceof S&&arguments[1]instanceof Ut){for(var o=arguments[0],a=arguments[1],s=arguments[2],l=a.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||se.computeOrientation(this._seg.p0,this._seg.p1,o)===se.RIGHT)){var c=a.getDepth(Ct.LEFT);this._seg.p0.equals(l[u])||(c=a.getDepth(Ct.RIGHT));var h=new zn(this._seg,c);s.add(h)}}else if(L(arguments[2],we)&&arguments[0]instanceof S&&L(arguments[1],we))for(var p=arguments[0],d=arguments[2],f=arguments[1].iterator();f.hasNext();){var m=f.next();m.isForward()&&this.findStabbedSegments(p,m,d)}},Nn.prototype.getDepth=function(e){var t=this.findStabbedSegments(e);return 0===t.size()?0:Qt.min(t)._leftDepth},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},Dn.DepthSegment.get=function(){return zn},Object.defineProperties(Nn,Dn);var zn=function(){this._upwardSeg=null,this._leftDepth=null;var e=arguments[0],t=arguments[1];this._upwardSeg=new mn(e),this._leftDepth=t};zn.prototype.compareTo=function(e){var t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(t._upwardSeg);return 0!==n||0!=(n=-1*t._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(t._upwardSeg)},zn.prototype.compareX=function(e,t){var n=e.p0.compareTo(t.p0);return 0!==n?n:e.p1.compareTo(t.p1)},zn.prototype.toString=function(){return this._upwardSeg.toString()},zn.prototype.interfaces_=function(){return[x]},zn.prototype.getClass=function(){return zn};var Fn=function(e,t,n){this.p0=e||null,this.p1=t||null,this.p2=n||null};Fn.prototype.area=function(){return Fn.area(this.p0,this.p1,this.p2)},Fn.prototype.signedArea=function(){return Fn.signedArea(this.p0,this.p1,this.p2)},Fn.prototype.interpolateZ=function(e){if(null===e)throw new v("Supplied point is null.");return Fn.interpolateZ(e,this.p0,this.p1,this.p2)},Fn.prototype.longestSideLength=function(){return Fn.longestSideLength(this.p0,this.p1,this.p2)},Fn.prototype.isAcute=function(){return Fn.isAcute(this.p0,this.p1,this.p2)},Fn.prototype.circumcentre=function(){return Fn.circumcentre(this.p0,this.p1,this.p2)},Fn.prototype.area3D=function(){return Fn.area3D(this.p0,this.p1,this.p2)},Fn.prototype.centroid=function(){return Fn.centroid(this.p0,this.p1,this.p2)},Fn.prototype.inCentre=function(){return Fn.inCentre(this.p0,this.p1,this.p2)},Fn.prototype.interfaces_=function(){return[]},Fn.prototype.getClass=function(){return Fn},Fn.area=function(e,t,n){return Math.abs(((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2)},Fn.signedArea=function(e,t,n){return((n.x-e.x)*(t.y-e.y)-(t.x-e.x)*(n.y-e.y))/2},Fn.det=function(e,t,n,r){return e*r-t*n},Fn.interpolateZ=function(e,t,n,r){var i=t.x,o=t.y,a=n.x-i,s=r.x-i,l=n.y-o,u=r.y-o,c=a*u-s*l,h=e.x-i,p=e.y-o,d=(u*h-s*p)/c,f=(-l*h+a*p)/c;return t.z+d*(n.z-t.z)+f*(r.z-t.z)},Fn.longestSideLength=function(e,t,n){var r=e.distance(t),i=t.distance(n),o=n.distance(e),a=r;return i>a&&(a=i),o>a&&(a=o),a},Fn.isAcute=function(e,t,n){return!!Ln.isAcute(e,t,n)&&!!Ln.isAcute(t,n,e)&&!!Ln.isAcute(n,e,t)},Fn.circumcentre=function(e,t,n){var r=n.x,i=n.y,o=e.x-r,a=e.y-i,s=t.x-r,l=t.y-i,u=2*Fn.det(o,a,s,l),c=Fn.det(a,o*o+a*a,l,s*s+l*l),h=Fn.det(o,o*o+a*a,s,s*s+l*l);return new S(r-c/u,i+h/u)},Fn.perpendicularBisector=function(e,t){var n=t.x-e.x,r=t.y-e.y,i=new G(e.x+n/2,e.y+r/2,1),o=new G(e.x-r+n/2,e.y+n+r/2,1);return new G(i,o)},Fn.angleBisector=function(e,t,n){var r=t.distance(e),i=r/(r+t.distance(n)),o=n.x-e.x,a=n.y-e.y;return new S(e.x+i*o,e.y+i*a)},Fn.area3D=function(e,t,n){var r=t.x-e.x,i=t.y-e.y,o=t.z-e.z,a=n.x-e.x,s=n.y-e.y,l=n.z-e.z,u=i*l-o*s,c=o*a-r*l,h=r*s-i*a,p=u*u+c*c+h*h;return Math.sqrt(p)/2},Fn.centroid=function(e,t,n){var r=(e.x+t.x+n.x)/3,i=(e.y+t.y+n.y)/3;return new S(r,i)},Fn.inCentre=function(e,t,n){var r=t.distance(n),i=e.distance(n),o=e.distance(t),a=r+i+o,s=(r*e.x+i*t.x+o*n.x)/a,l=(r*e.y+i*t.y+o*n.y)/a;return new S(s,l)};var Bn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Ee;var e=arguments[0],t=arguments[1],n=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=n};Bn.prototype.addPoint=function(e){if(this._distance<=0)return null;var t=e.getCoordinates(),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,k.EXTERIOR,k.INTERIOR)},Bn.prototype.addPolygon=function(e){var t=this._distance,n=Ct.LEFT;this._distance<0&&(t=-this._distance,n=Ct.RIGHT);var r=e.getExteriorRing(),i=Te.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,t,n,k.EXTERIOR,k.INTERIOR);for(var o=0;o<e.getNumInteriorRing();o++){var a=e.getInteriorRingN(o),s=Te.removeRepeatedPoints(a.getCoordinates());this._distance>0&&this.isErodedCompletely(a,-this._distance)||this.addPolygonRing(s,t,Ct.opposite(n),k.INTERIOR,k.EXTERIOR)}},Bn.prototype.isTriangleErodedCompletely=function(e,t){var n=new Fn(e[0],e[1],e[2]),r=n.inCentre();return se.distancePointLine(r,n.p0,n.p1)<Math.abs(t)},Bn.prototype.addLineString=function(e){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var t=Te.removeRepeatedPoints(e.getCoordinates()),n=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(n,k.EXTERIOR,k.INTERIOR)},Bn.prototype.addCurve=function(e,t,n){if(null===e||e.length<2)return null;var r=new fn(e,new At(0,k.BOUNDARY,t,n));this._curveList.add(r)},Bn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},Bn.prototype.addPolygonRing=function(e,t,n,r,i){if(0===t&&e.length<tt.MINIMUM_VALID_SIZE)return null;var o=r,a=i;e.length>=tt.MINIMUM_VALID_SIZE&&se.isCCW(e)&&(o=i,a=r,n=Ct.opposite(n));var s=this._curveBuilder.getRingCurve(e,n,t);this.addCurve(s,o,a)},Bn.prototype.add=function(e){if(e.isEmpty())return null;e instanceof Qe?this.addPolygon(e):e instanceof Xe?this.addLineString(e):e instanceof Ke?this.addPoint(e):(e instanceof et||e instanceof qe||e instanceof nt||e instanceof Ue)&&this.addCollection(e)},Bn.prototype.isErodedCompletely=function(e,t){var n=e.getCoordinates();if(n.length<4)return t<0;if(4===n.length)return this.isTriangleErodedCompletely(n,t);var r=e.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return t<0&&2*Math.abs(t)>i},Bn.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn};var jn=function(){};jn.prototype.locate=function(e){},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var Zn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()};Zn.prototype.next=function(){if(this._atStart)return this._atStart=!1,Zn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var e=this._parent.getGeometryN(this._index++);return e instanceof Ue?(this._subcollectionIterator=new Zn(e),this._subcollectionIterator.next()):e},Zn.prototype.remove=function(){throw new Error(this.getClass().getName())},Zn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Zn.prototype.interfaces_=function(){return[xe]},Zn.prototype.getClass=function(){return Zn},Zn.isAtomic=function(e){return!(e instanceof Ue)};var Un=function(){this._geom=null;var e=arguments[0];this._geom=e};Un.prototype.locate=function(e){return Un.locate(e,this._geom)},Un.prototype.interfaces_=function(){return[jn]},Un.prototype.getClass=function(){return Un},Un.isPointInRing=function(e,t){return!!t.getEnvelopeInternal().intersects(e)&&se.isPointInRing(e,t.getCoordinates())},Un.containsPointInPolygon=function(e,t){if(t.isEmpty())return!1;var n=t.getExteriorRing();if(!Un.isPointInRing(e,n))return!1;for(var r=0;r<t.getNumInteriorRing();r++){var i=t.getInteriorRingN(r);if(Un.isPointInRing(e,i))return!1}return!0},Un.containsPoint=function(e,t){if(t instanceof Qe)return Un.containsPointInPolygon(e,t);if(t instanceof Ue)for(var n=new Zn(t);n.hasNext();){var r=n.next();if(r!==t&&Un.containsPoint(e,r))return!0}return!1},Un.locate=function(e,t){return t.isEmpty()?k.EXTERIOR:Un.containsPoint(e,t)?k.INTERIOR:k.EXTERIOR};var qn=function(){this._edgeMap=new h,this._edgeList=null,this._ptInAreaLocation=[k.NONE,k.NONE]};qn.prototype.getNextCW=function(e){this.getEdges();var t=this._edgeList.indexOf(e),n=t-1;return 0===t&&(n=this._edgeList.size()-1),this._edgeList.get(n)},qn.prototype.propagateSideLabels=function(e){for(var t=k.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(e)&&r.getLocation(e,Ct.LEFT)!==k.NONE&&(t=r.getLocation(e,Ct.LEFT))}if(t===k.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getLabel();if(s.getLocation(e,Ct.ON)===k.NONE&&s.setLocation(e,Ct.ON,i),s.isArea(e)){var l=s.getLocation(e,Ct.LEFT),u=s.getLocation(e,Ct.RIGHT);if(u!==k.NONE){if(u!==i)throw new kt("side location conflict",a.getCoordinate());l===k.NONE&&te.shouldNeverReachHere("found single null side (at "+a.getCoordinate()+")"),i=l}else te.isTrue(s.getLocation(e,Ct.LEFT)===k.NONE,"found single null side"),s.setLocation(e,Ct.RIGHT,i),s.setLocation(e,Ct.LEFT,i)}}},qn.prototype.getCoordinate=function(){var e=this.iterator();return e.hasNext()?e.next().getCoordinate():null},qn.prototype.print=function(e){V.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(e)},qn.prototype.isAreaLabelsConsistent=function(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},qn.prototype.checkAreaLabelsConsistent=function(e){var t=this.getEdges();if(t.size()<=0)return!0;var n=t.size()-1,r=t.get(n).getLabel().getLocation(e,Ct.LEFT);te.isTrue(r!==k.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var a=o.next().getLabel();te.isTrue(a.isArea(e),"Found non-area edge");var s=a.getLocation(e,Ct.LEFT),l=a.getLocation(e,Ct.RIGHT);if(s===l)return!1;if(l!==i)return!1;i=s}return!0},qn.prototype.findIndex=function(e){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===e)return t;return-1},qn.prototype.iterator=function(){return this.getEdges().iterator()},qn.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Ee(this._edgeMap.values())),this._edgeList},qn.prototype.getLocation=function(e,t,n){return this._ptInAreaLocation[e]===k.NONE&&(this._ptInAreaLocation[e]=Un.locate(t,n[e].getGeometry())),this._ptInAreaLocation[e]},qn.prototype.toString=function(){var e=new O;e.append("EdgeEndStar:   "+this.getCoordinate()),e.append("\n");for(var t=this.iterator();t.hasNext();){var n=t.next();e.append(n),e.append("\n")}return e.toString()},qn.prototype.computeEdgeEndLabels=function(e){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(e)},qn.prototype.computeLabelling=function(e){this.computeEdgeEndLabels(e[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===k.BOUNDARY&&(t[i]=!0);for(var o=this.iterator();o.hasNext();)for(var a=o.next(),s=a.getLabel(),l=0;l<2;l++)if(s.isAnyNull(l)){var u=k.NONE;if(t[l])u=k.EXTERIOR;else{var c=a.getCoordinate();u=this.getLocation(l,c,e)}s.setAllLocationsIfNull(l,u)}},qn.prototype.getDegree=function(){return this._edgeMap.size()},qn.prototype.insertEdgeEnd=function(e,t){this._edgeMap.put(e,t),this._edgeList=null},qn.prototype.interfaces_=function(){return[]},qn.prototype.getClass=function(){return qn};var Vn=function(e){function t(){e.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var e=null,t=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===e&&i.isInResult()&&(e=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;t=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;t.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===e)throw new kt("no outgoing dirEdge found",this.getCoordinate());te.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),t.setNext(e)}},t.prototype.insert=function(e){var t=e;this.insertEdgeEnd(t,t)},t.prototype.getRightmostEdge=function(){var e=this.getEdges(),t=e.size();if(t<1)return null;var n=e.get(0);if(1===t)return n;var r=e.get(t-1),i=n.getQuadrant(),o=r.getQuadrant();return Bt.isNorthern(i)&&Bt.isNorthern(o)?n:Bt.isNorthern(i)||Bt.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(te.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},t.prototype.print=function(e){V.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var t=this.iterator();t.hasNext();){var n=t.next();e.print("out "),n.print(e),e.println(),e.print("in "),n.getSym().print(e),e.println()}},t.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Ee;for(var e=this.iterator();e.hasNext();){var t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList},t.prototype.updateLabelling=function(e){for(var t=this.iterator();t.hasNext();){var n=t.next().getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}},t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var e=null,t=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===t&&(t=i),null!==e&&i.setNext(e),e=r}t.setNext(e)},t.prototype.computeDepths=function(){if(1===arguments.length){var e=arguments[0],t=this.findIndex(e),n=e.getDepth(Ct.LEFT),r=e.getDepth(Ct.RIGHT),i=this.computeDepths(t+1,this._edgeList.size(),n);if(this.computeDepths(0,t,i)!==r)throw new kt("depth mismatch at "+e.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],a=arguments[2],s=arguments[0];s<o;s++){var l=this._edgeList.get(s);l.setEdgeDepths(Ct.RIGHT,a),a=l.getDepth(Ct.LEFT)}return a}},t.prototype.mergeSymLabels=function(){for(var e=this.iterator();e.hasNext();){var t=e.next();t.getLabel().merge(t.getSym().getLabel())}},t.prototype.linkMinimalDirectedEdges=function(e){for(var t=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),a=o.getSym();switch(null===t&&o.getEdgeRing()===e&&(t=o),r){case this._SCANNING_FOR_INCOMING:if(a.getEdgeRing()!==e)continue;n=a,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==e)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(te.isTrue(null!==t,"found null for first outgoing dirEdge"),te.isTrue(t.getEdgeRing()===e,"unable to link last incoming dirEdge"),n.setNextMin(t))},t.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var e=0,t=this.iterator();t.hasNext();)t.next().isInResult()&&e++;return e}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},t.prototype.getLabel=function(){return this._label},t.prototype.findCoveredLineEdges=function(){for(var e=k.NONE,t=this.iterator();t.hasNext();){var n=t.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){e=k.INTERIOR;break}if(r.isInResult()){e=k.EXTERIOR;break}}}if(e===k.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var a=o.next(),s=a.getSym();a.isLineEdge()?a.getEdge().setCovered(i===k.INTERIOR):(a.isInResult()&&(i=k.EXTERIOR),s.isInResult()&&(i=k.INTERIOR))}},t.prototype.computeLabelling=function(t){e.prototype.computeLabelling.call(this,t),this._label=new At(k.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==k.INTERIOR&&o!==k.BOUNDARY||this._label.setLocation(i,k.INTERIOR)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qn),Gn=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.createNode=function(e){return new zt(e,new Vn)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(qt),Hn=function e(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=e.orientation(t)};Hn.prototype.compareTo=function(e){var t=e;return Hn.compareOriented(this._pts,this._orientation,t._pts,t._orientation)},Hn.prototype.interfaces_=function(){return[x]},Hn.prototype.getClass=function(){return Hn},Hn.orientation=function(e){return 1===Te.increasingDirection(e)},Hn.compareOriented=function(e,t,n,r){for(var i=t?1:-1,o=r?1:-1,a=t?e.length:-1,s=r?n.length:-1,l=t?0:e.length-1,u=r?0:n.length-1;;){var c=e[l].compareTo(n[u]);if(0!==c)return c;var h=(l+=i)===a,p=(u+=o)===s;if(h&&!p)return-1;if(!h&&p)return 1;if(h&&p)return 0}};var Wn=function(){this._edges=new Ee,this._ocaMap=new h};Wn.prototype.print=function(e){e.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var n=this._edges.get(t);t>0&&e.print(","),e.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&e.print(","),e.print(r[i].x+" "+r[i].y);e.println(")")}e.print(")  ")},Wn.prototype.addAll=function(e){for(var t=e.iterator();t.hasNext();)this.add(t.next())},Wn.prototype.findEdgeIndex=function(e){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(e))return t;return-1},Wn.prototype.iterator=function(){return this._edges.iterator()},Wn.prototype.getEdges=function(){return this._edges},Wn.prototype.get=function(e){return this._edges.get(e)},Wn.prototype.findEqualEdge=function(e){var t=new Hn(e.getCoordinates());return this._ocaMap.get(t)},Wn.prototype.add=function(e){this._edges.add(e);var t=new Hn(e.getCoordinates());this._ocaMap.put(t,e)},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var $n=function(){};$n.prototype.processIntersections=function(e,t,n,r){},$n.prototype.isDone=function(){},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var Xn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var e=arguments[0];this._li=e};Xn.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(Xn.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.size()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},Xn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Xn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Xn.prototype.getLineIntersector=function(){return this._li},Xn.prototype.hasProperIntersection=function(){return this._hasProper},Xn.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Xn.prototype.hasIntersection=function(){return this._hasIntersection},Xn.prototype.isDone=function(){return!1},Xn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Xn.prototype.interfaces_=function(){return[$n]},Xn.prototype.getClass=function(){return Xn},Xn.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var Yn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var e=arguments[0],t=arguments[1],n=arguments[2];this.coord=new S(e),this.segmentIndex=t,this.dist=n};Yn.prototype.getSegmentIndex=function(){return this.segmentIndex},Yn.prototype.getCoordinate=function(){return this.coord},Yn.prototype.print=function(e){e.print(this.coord),e.print(" seg # = "+this.segmentIndex),e.println(" dist = "+this.dist)},Yn.prototype.compareTo=function(e){var t=e;return this.compare(t.segmentIndex,t.dist)},Yn.prototype.isEndPoint=function(e){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===e},Yn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Yn.prototype.getDistance=function(){return this.dist},Yn.prototype.compare=function(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0},Yn.prototype.interfaces_=function(){return[x]},Yn.prototype.getClass=function(){return Yn};var Kn=function(){this._nodeMap=new h,this.edge=null;var e=arguments[0];this.edge=e};Kn.prototype.print=function(e){e.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(e)},Kn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Kn.prototype.addSplitEdges=function(e){this.addEndpoints();for(var t=this.iterator(),n=t.next();t.hasNext();){var r=t.next(),i=this.createSplitEdge(n,r);e.add(i),n=r}},Kn.prototype.addEndpoints=function(){var e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)},Kn.prototype.createSplitEdge=function(e,t){var n=t.segmentIndex-e.segmentIndex+2,r=this.edge.pts[t.segmentIndex],i=t.dist>0||!t.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),a=0;o[a++]=new S(e.coord);for(var s=e.segmentIndex+1;s<=t.segmentIndex;s++)o[a++]=this.edge.pts[s];return i&&(o[a]=t.coord),new nr(o,new At(this.edge._label))},Kn.prototype.add=function(e,t,n){var r=new Yn(e,t,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Kn.prototype.isIntersection=function(e){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(e))return!0;return!1},Kn.prototype.interfaces_=function(){return[]},Kn.prototype.getClass=function(){return Kn};var Jn=function(){};Jn.prototype.getChainStartIndices=function(e){var t=0,n=new Ee;n.add(new R(t));do{var r=this.findChainEnd(e,t);n.add(new R(r)),t=r}while(t<e.length-1);return Jn.toIntArray(n)},Jn.prototype.findChainEnd=function(e,t){for(var n=Bt.quadrant(e[t],e[t+1]),r=t+1;r<e.length&&Bt.quadrant(e[r-1],e[r])===n;)r++;return r-1},Jn.prototype.interfaces_=function(){return[]},Jn.prototype.getClass=function(){return Jn},Jn.toIntArray=function(e){for(var t=new Array(e.size()).fill(null),n=0;n<t.length;n++)t[n]=e.get(n).intValue();return t};var Qn=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new H,this.env2=new H;var e=arguments[0];this.e=e,this.pts=e.getCoordinates();var t=new Jn;this.startIndex=t.getChainStartIndices(this.pts)};Qn.prototype.getCoordinates=function(){return this.pts},Qn.prototype.getMaxX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t>n?t:n},Qn.prototype.getMinX=function(e){var t=this.pts[this.startIndex[e]].x,n=this.pts[this.startIndex[e+1]].x;return t<n?t:n},Qn.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var e=arguments[0],t=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[n],t.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2],s=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[i],h=this.pts[o],p=a.pts[s],d=a.pts[l];if(o-i==1&&l-s==1)return u.addIntersections(this.e,i,a.e,s),null;if(this.env1.init(c,h),this.env2.init(p,d),!this.env1.intersects(this.env2))return null;var f=Math.trunc((i+o)/2),m=Math.trunc((s+l)/2);i<f&&(s<m&&this.computeIntersectsForChain(i,f,a,s,m,u),m<l&&this.computeIntersectsForChain(i,f,a,m,l,u)),f<o&&(s<m&&this.computeIntersectsForChain(f,o,a,s,m,u),m<l&&this.computeIntersectsForChain(f,o,a,m,l,u))}},Qn.prototype.getStartIndexes=function(){return this.startIndex},Qn.prototype.computeIntersects=function(e,t){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<e.startIndex.length-1;r++)this.computeIntersectsForChain(n,e,r,t)},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn};var er=function e(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var n=0;n<3;n++)this._depth[t][n]=e.NULL_VALUE},tr={NULL_VALUE:{configurable:!0}};er.prototype.getDepth=function(e,t){return this._depth[e][t]},er.prototype.setDepth=function(e,t,n){this._depth[e][t]=n},er.prototype.isNull=function(){if(0===arguments.length){for(var e=0;e<2;e++)for(var t=0;t<3;t++)if(this._depth[e][t]!==er.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===er.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===er.NULL_VALUE}},er.prototype.normalize=function(){for(var e=0;e<2;e++)if(!this.isNull(e)){var t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),t<0&&(t=0);for(var n=1;n<3;n++){var r=0;this._depth[e][n]>t&&(r=1),this._depth[e][n]=r}}},er.prototype.getDelta=function(e){return this._depth[e][Ct.RIGHT]-this._depth[e][Ct.LEFT]},er.prototype.getLocation=function(e,t){return this._depth[e][t]<=0?k.EXTERIOR:k.INTERIOR},er.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},er.prototype.add=function(){if(1===arguments.length)for(var e=arguments[0],t=0;t<2;t++)for(var n=1;n<3;n++){var r=e.getLocation(t,n);r!==k.EXTERIOR&&r!==k.INTERIOR||(this.isNull(t,n)?this._depth[t][n]=er.depthAtLocation(r):this._depth[t][n]+=er.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===k.INTERIOR&&this._depth[i][o]++}},er.prototype.interfaces_=function(){return[]},er.prototype.getClass=function(){return er},er.depthAtLocation=function(e){return e===k.EXTERIOR?0:e===k.INTERIOR?1:er.NULL_VALUE},tr.NULL_VALUE.get=function(){return-1},Object.defineProperties(er,tr);var nr=function(e){function t(){if(e.call(this),this.pts=null,this._env=null,this.eiList=new Kn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new er,this._depthDelta=0,1===arguments.length){var n=arguments[0];t.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getDepth=function(){return this._depth},t.prototype.getCollapsedEdge=function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,At.toLineLabel(this._label))},t.prototype.isIsolated=function(){return this._isIsolated},t.prototype.getCoordinates=function(){return this.pts},t.prototype.setIsolated=function(e){this._isIsolated=e},t.prototype.setName=function(e){this._name=e},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,a=0;a<this.pts.length;a++)if(this.pts[a].equals2D(n.pts[a])||(r=!1),this.pts[a].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},t.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var e=arguments[0];return this.pts[e]}},t.prototype.print=function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.print(","),e.print(this.pts[t].x+" "+this.pts[t].y);e.print(")  "+this._label+" "+this._depthDelta)},t.prototype.computeIM=function(e){t.updateIM(this._label,e)},t.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},t.prototype.getDepthDelta=function(){return this._depthDelta},t.prototype.getNumPoints=function(){return this.pts.length},t.prototype.printReverse=function(e){e.print("edge "+this._name+": ");for(var t=this.pts.length-1;t>=0;t--)e.print(this.pts[t]+" ");e.println("")},t.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Qn(this)),this._mce},t.prototype.getEnvelope=function(){if(null===this._env){this._env=new H;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env},t.prototype.addIntersection=function(e,t,n,r){var i=new S(e.getIntersection(r)),o=t,a=e.getEdgeDistance(n,r),s=o+1;if(s<this.pts.length){var l=this.pts[s];i.equals2D(l)&&(o=s,a=0)}this.eiList.add(i,o,a)},t.prototype.toString=function(){var e=new O;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var t=0;t<this.pts.length;t++)t>0&&e.append(","),e.append(this.pts[t].x+" "+this.pts[t].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()},t.prototype.isPointwiseEqual=function(e){if(this.pts.length!==e.pts.length)return!1;for(var t=0;t<this.pts.length;t++)if(!this.pts[t].equals2D(e.pts[t]))return!1;return!0},t.prototype.setDepthDelta=function(e){this._depthDelta=e},t.prototype.getEdgeIntersectionList=function(){return this.eiList},t.prototype.addIntersections=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++)this.addIntersection(e,t,n,r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.updateIM=function(){if(2!==arguments.length)return e.prototype.updateIM.apply(this,arguments);var t=arguments[0],n=arguments[1];n.setAtLeastIfValid(t.getLocation(0,Ct.ON),t.getLocation(1,Ct.ON),1),t.isArea()&&(n.setAtLeastIfValid(t.getLocation(0,Ct.LEFT),t.getLocation(1,Ct.LEFT),2),n.setAtLeastIfValid(t.getLocation(0,Ct.RIGHT),t.getLocation(1,Ct.RIGHT),2))},t}(Dt),rr=function(e){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Wn,this._bufParams=e||null};rr.prototype.setWorkingPrecisionModel=function(e){this._workingPrecisionModel=e},rr.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new At(e.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=t.getDepthDelta()+i;t.setDepthDelta(o)}else this._edgeList.add(e),e.setDepthDelta(rr.depthDelta(e.getLabel()))},rr.prototype.buildSubgraphs=function(e,t){for(var n=new Ee,r=e.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),a=new Nn(n).getDepth(o);i.computeDepth(a),i.findResultEdges(),n.add(i),t.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(e){for(var t=new Ee,n=e.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Lt;i.create(r),t.add(i)}}return Qt.sort(t,Qt.reverseOrder()),t},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(e){if(null!==this._workingNoder)return this._workingNoder;var t=new wn,n=new ie;return n.setPrecisionModel(e),t.setSegmentIntersector(new Xn(n)),t},rr.prototype.buffer=function(e,t){var n=this._workingPrecisionModel;null===n&&(n=e.getPrecisionModel()),this._geomFact=e.getFactory();var r=new Rn(n,this._bufParams),i=new Bn(e,t,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Vt(new Gn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),a=new Gt(this._geomFact);this.buildSubgraphs(o,a);var s=a.getPolygons();return s.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(s)},rr.prototype.computeNodedEdges=function(e,t){var n=this.getNoder(t);n.computeNodes(e);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var a=i.getData(),s=new nr(i.getCoordinates(),new At(a));this.insertUniqueEdge(s)}}},rr.prototype.setNoder=function(e){this._workingNoder=e},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(e){var t=e.getLocation(0,Ct.LEFT),n=e.getLocation(0,Ct.RIGHT);return t===k.INTERIOR&&n===k.EXTERIOR?1:t===k.EXTERIOR&&n===k.INTERIOR?-1:0},rr.convertSegStrings=function(e){for(var t=new yt,n=new Ee;e.hasNext();){var r=e.next(),i=t.createLineString(r.getCoordinates());n.add(i)}return t.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var e=arguments[0],t=arguments[1];this._noder=e,this._scaleFactor=t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(L(arguments[0],be))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.rescale(t.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&V.out.println(n)}},ir.prototype.scale=function(){if(L(arguments[0],be)){for(var e=arguments[0],t=new Ee,n=e.iterator();n.hasNext();){var r=n.next();t.add(new fn(this.scale(r.getCoordinates()),r.getData()))}return t}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),a=0;a<i.length;a++)o[a]=new S(Math.round((i[a].x-this._offsetX)*this._scaleFactor),Math.round((i[a].y-this._offsetY)*this._scaleFactor),i[a].z);return Te.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e},ir.prototype.computeNodes=function(e){var t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)},ir.prototype.interfaces_=function(){return[bn]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new ie,this._segStrings=null;var e=arguments[0];this._segStrings=e},ar={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next().getCoordinates();this.checkEndPtVertexIntersections(t[0],this._segStrings),this.checkEndPtVertexIntersections(t[t.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new Q("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();)for(var t=e.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(t,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],a=i.getCoordinates(),s=o.getCoordinates(),l=0;l<a.length-1;l++)for(var u=0;u<s.length-1;u++)this.checkInteriorIntersections(i,l,o,u);else if(4===arguments.length){var c=arguments[0],h=arguments[1],p=arguments[2],d=arguments[3];if(c===p&&h===d)return null;var f=c.getCoordinates()[h],m=c.getCoordinates()[h+1],g=p.getCoordinates()[d],y=p.getCoordinates()[d+1];if(this._li.computeIntersection(f,m,g,y),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,f,m)||this.hasInteriorIntersection(this._li,g,y)))throw new Q("found non-noded intersection at "+f+"-"+m+" and "+g+"-"+y)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var e=this._segStrings.iterator();e.hasNext();){var t=e.next();this.checkCollapses(t)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(e,t,n){for(var r=0;r<e.getIntersectionNum();r++){var i=e.getIntersection(r);if(!i.equals(t)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(e,t,n){if(e.equals(n))throw new Q("found non-noded collapse at "+or.fact.createLineString([e,t,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},ar.fact.get=function(){return new yt},Object.defineProperties(or,ar);var sr=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var e=arguments[0],t=arguments[1],n=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=n,t<=0)throw new v("Scale factor must be non-zero");1!==t&&(this._pt=new S(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new S,this._p1Scaled=new S),this.initCorners(this._pt)},lr={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};sr.prototype.intersectsScaled=function(e,t){var n=Math.min(e.x,t.x),r=Math.max(e.x,t.x),i=Math.min(e.y,t.y),o=Math.max(e.y,t.y),a=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(a)return!1;var s=this.intersectsToleranceSquare(e,t);return te.isTrue(!(a&&s),"Found bad envelope test"),s},sr.prototype.initCorners=function(e){this._minx=e.x-.5,this._maxx=e.x+.5,this._miny=e.y-.5,this._maxy=e.y+.5,this._corner[0]=new S(this._maxx,this._maxy),this._corner[1]=new S(this._minx,this._maxy),this._corner[2]=new S(this._minx,this._miny),this._corner[3]=new S(this._maxx,this._miny)},sr.prototype.intersects=function(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},sr.prototype.scale=function(e){return Math.round(e*this._scaleFactor)},sr.prototype.getCoordinate=function(){return this._originalPt},sr.prototype.copyScaled=function(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)},sr.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var e=sr.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new H(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv},sr.prototype.intersectsPixelClosure=function(e,t){return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},sr.prototype.intersectsToleranceSquare=function(e,t){var n=!1,r=!1;return this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||e.equals(this._pt)||t.equals(this._pt)))))},sr.prototype.addSnappedNode=function(e,t){var n=e.getCoordinate(t),r=e.getCoordinate(t+1);return!!this.intersects(n,r)&&(e.addIntersection(this.getCoordinate(),t),!0)},sr.prototype.interfaces_=function(){return[]},sr.prototype.getClass=function(){return sr},lr.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(sr,lr);var ur=function(){this.tempEnv1=new H,this.selectedSegment=new mn};ur.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var e=arguments[1];arguments[0].getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},ur.prototype.interfaces_=function(){return[]},ur.prototype.getClass=function(){return ur};var cr=function(){this._index=null;var e=arguments[0];this._index=e},hr={HotPixelSnapAction:{configurable:!0}};cr.prototype.snap=function(){if(1===arguments.length){var e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2],i=t.getSafeEnvelope(),o=new pr(t,n,r);return this._index.query(i,{interfaces_:function(){return[Xt]},visitItem:function(e){e.select(i,o)}}),o.isNodeAdded()}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},hr.HotPixelSnapAction.get=function(){return pr},Object.defineProperties(cr,hr);var pr=function(e){function t(){e.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=t,this._parentEdge=n,this._hotPixelVertexIndex=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isNodeAdded=function(){return this._isNodeAdded},t.prototype.select=function(){if(2!==arguments.length)return e.prototype.select.apply(this,arguments);var t=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&t===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,t)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ur),dr=function(){this._li=null,this._interiorIntersections=null;var e=arguments[0];this._li=e,this._interiorIntersections=new Ee};dr.prototype.processIntersections=function(e,t,n,r){if(e===n&&t===r)return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)}},dr.prototype.isDone=function(){return!1},dr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},dr.prototype.interfaces_=function(){return[$n]},dr.prototype.getClass=function(){return dr};var fr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var e=arguments[0];this._pm=e,this._li=new ie,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()};fr.prototype.checkCorrectness=function(e){var t=fn.getNodedSubstrings(e),n=new or(t);try{n.checkValid()}catch(e){if(!(e instanceof U))throw e;e.printStackTrace()}},fr.prototype.getNodedSubstrings=function(){return fn.getNodedSubstrings(this._nodedSegStrings)},fr.prototype.snapRound=function(e,t){var n=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(n),this.computeVertexSnaps(e)},fr.prototype.findInteriorIntersections=function(e,t){var n=new dr(t);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(e),n.getInteriorIntersections()},fr.prototype.computeVertexSnaps=function(){if(L(arguments[0],be))for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof fn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new sr(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},fr.prototype.computeNodes=function(e){this._nodedSegStrings=e,this._noder=new wn,this._pointSnapper=new cr(this._noder.getIndex()),this.snapRound(e,this._li)},fr.prototype.computeIntersectionSnaps=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=new sr(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},fr.prototype.interfaces_=function(){return[bn]},fr.prototype.getClass=function(){return fr};var mr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Sn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var e=arguments[0];this._argGeom=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._argGeom=t,this._bufParams=n}},gr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};mr.prototype.bufferFixedPrecision=function(e){var t=new ir(new fr(new dt(1)),e.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(e),n.setNoder(t),this._resultGeometry=n.buffer(this._argGeom,this._distance)},mr.prototype.bufferReducedPrecision=function(){var e=this;if(0===arguments.length){for(var t=mr.MAX_PRECISION_DIGITS;t>=0;t--){try{e.bufferReducedPrecision(t)}catch(t){if(!(t instanceof kt))throw t;e._saveException=t}if(null!==e._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=mr.precisionScaleFactor(this._argGeom,this._distance,n),i=new dt(r);this.bufferFixedPrecision(i)}},mr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var e=this._argGeom.getFactory().getPrecisionModel();e.getType()===dt.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()},mr.prototype.setQuadrantSegments=function(e){this._bufParams.setQuadrantSegments(e)},mr.prototype.bufferOriginalPrecision=function(){try{var e=new rr(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof Q))throw e;this._saveException=e}},mr.prototype.getResultGeometry=function(e){return this._distance=e,this.computeGeometry(),this._resultGeometry},mr.prototype.setEndCapStyle=function(e){this._bufParams.setEndCapStyle(e)},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr},mr.bufferOp=function(){if(2===arguments.length){var e=arguments[1];return new mr(arguments[0]).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ce&&"number"==typeof arguments[1]){var t=arguments[1],n=arguments[2],r=new mr(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(t)}if(arguments[2]instanceof Sn&&arguments[0]instanceof ce&&"number"==typeof arguments[1]){var i=arguments[1];return new mr(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],a=arguments[2],s=arguments[3],l=new mr(arguments[0]);return l.setQuadrantSegments(a),l.setEndCapStyle(s),l.getResultGeometry(o)}},mr.precisionScaleFactor=function(e,t,n){var r=e.getEnvelopeInternal(),i=M.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(t>0?t:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},gr.CAP_ROUND.get=function(){return Sn.CAP_ROUND},gr.CAP_BUTT.get=function(){return Sn.CAP_FLAT},gr.CAP_FLAT.get=function(){return Sn.CAP_FLAT},gr.CAP_SQUARE.get=function(){return Sn.CAP_SQUARE},gr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(mr,gr);var yr=function(){this._pt=[new S,new S],this._distance=_.NaN,this._isNull=!0};yr.prototype.getCoordinates=function(){return this._pt},yr.prototype.getCoordinate=function(e){return this._pt[e]},yr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},yr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},yr.prototype.getDistance=function(){return this._distance},yr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr};var vr=function(){};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.computeDistance=function(){if(arguments[2]instanceof yr&&arguments[0]instanceof Xe&&arguments[1]instanceof S)for(var e=arguments[1],t=arguments[2],n=arguments[0].getCoordinates(),r=new mn,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(e);t.setMinimum(o,e)}else if(arguments[2]instanceof yr&&arguments[0]instanceof Qe&&arguments[1]instanceof S){var a=arguments[0],s=arguments[1],l=arguments[2];vr.computeDistance(a.getExteriorRing(),s,l);for(var u=0;u<a.getNumInteriorRing();u++)vr.computeDistance(a.getInteriorRingN(u),s,l)}else if(arguments[2]instanceof yr&&arguments[0]instanceof ce&&arguments[1]instanceof S){var c=arguments[0],h=arguments[1],p=arguments[2];if(c instanceof Xe)vr.computeDistance(c,h,p);else if(c instanceof Qe)vr.computeDistance(c,h,p);else if(c instanceof Ue)for(var d=c,f=0;f<d.getNumGeometries();f++){var m=d.getGeometryN(f);vr.computeDistance(m,h,p)}else p.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof yr&&arguments[0]instanceof mn&&arguments[1]instanceof S){var g=arguments[1],y=arguments[2],v=arguments[0].closestPoint(g);y.setMinimum(v,g)}};var _r=function(e){this._maxPtDist=new yr,this._inputGeom=e||null},br={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};_r.prototype.computeMaxMidpointDistance=function(e){var t=new wr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},_r.prototype.computeMaxVertexDistance=function(e){var t=new xr(this._inputGeom);e.apply(t),this._maxPtDist.setMaximum(t.getMaxPointDistance())},_r.prototype.findDistance=function(e){return this.computeMaxVertexDistance(e),this.computeMaxMidpointDistance(e),this._maxPtDist.getDistance()},_r.prototype.getDistancePoints=function(){return this._maxPtDist},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},br.MaxPointDistanceFilter.get=function(){return xr},br.MaxMidpointDistanceFilter.get=function(){return wr},Object.defineProperties(_r,br);var xr=function(e){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=e||null};xr.prototype.filter=function(e){this._minPtDist.initialize(),vr.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xr.prototype.getMaxPointDistance=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[de]},xr.prototype.getClass=function(){return xr};var wr=function(e){this._maxPtDist=new yr,this._minPtDist=new yr,this._geom=e||null};wr.prototype.filter=function(e,t){if(0===t)return null;var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=new S((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),vr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.isDone=function(){return!1},wr.prototype.isGeometryChanged=function(){return!1},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[Ze]},wr.prototype.getClass=function(){return wr};var Er=function(e){this._comps=e||null};Er.prototype.filter=function(e){e instanceof Qe&&this._comps.add(e)},Er.prototype.interfaces_=function(){return[je]},Er.prototype.getClass=function(){return Er},Er.getPolygons=function(){if(1===arguments.length){var e=arguments[0];return Er.getPolygons(e,new Ee)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Qe?n.add(t):t instanceof Ue&&t.apply(new Er(n)),n}};var Sr=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var e=arguments[0];this._lines=e}else if(2===arguments.length){var t=arguments[0],n=arguments[1];this._lines=t,this._isForcedToLineString=n}};Sr.prototype.filter=function(e){if(this._isForcedToLineString&&e instanceof tt){var t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof Xe&&this._lines.add(e)},Sr.prototype.setForceToLineString=function(e){this._isForcedToLineString=e},Sr.prototype.interfaces_=function(){return[ue]},Sr.prototype.getClass=function(){return Sr},Sr.getGeometry=function(){if(1===arguments.length){var e=arguments[0];return e.getFactory().buildGeometry(Sr.getLines(e))}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().buildGeometry(Sr.getLines(t,n))}},Sr.getLines=function(){if(1===arguments.length){var e=arguments[0];return Sr.getLines(e,!1)}if(2===arguments.length){if(L(arguments[0],be)&&L(arguments[1],be)){for(var t=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();Sr.getLines(r,t)}return t}if(arguments[0]instanceof ce&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],a=new Ee;return i.apply(new Sr(a,o)),a}if(arguments[0]instanceof ce&&L(arguments[1],be)){var s=arguments[0],l=arguments[1];return s instanceof Xe?l.add(s):s.apply(new Sr(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&L(arguments[0],be)&&L(arguments[1],be)){for(var u=arguments[1],c=arguments[2],h=arguments[0].iterator();h.hasNext();){var p=h.next();Sr.getLines(p,u,c)}return u}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ce&&L(arguments[1],be)){var d=arguments[1],f=arguments[2];return arguments[0].apply(new Sr(d,f)),d}}};var Cr=function(){if(this._boundaryRule=fe.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(null===e)throw new v("Rule must be non-null");this._boundaryRule=e}};Cr.prototype.locateInternal=function(){if(arguments[0]instanceof S&&arguments[1]instanceof Qe){var e=arguments[0],t=arguments[1];if(t.isEmpty())return k.EXTERIOR;var n=t.getExteriorRing(),r=this.locateInPolygonRing(e,n);if(r===k.EXTERIOR)return k.EXTERIOR;if(r===k.BOUNDARY)return k.BOUNDARY;for(var i=0;i<t.getNumInteriorRing();i++){var o=t.getInteriorRingN(i),a=this.locateInPolygonRing(e,o);if(a===k.INTERIOR)return k.EXTERIOR;if(a===k.BOUNDARY)return k.BOUNDARY}return k.INTERIOR}if(arguments[0]instanceof S&&arguments[1]instanceof Xe){var s=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(s))return k.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!s.equals(u[0])&&!s.equals(u[u.length-1])?se.isOnLine(s,u)?k.INTERIOR:k.EXTERIOR:k.BOUNDARY}if(arguments[0]instanceof S&&arguments[1]instanceof Ke){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?k.INTERIOR:k.EXTERIOR}},Cr.prototype.locateInPolygonRing=function(e,t){return t.getEnvelopeInternal().intersects(e)?se.locatePointInRing(e,t.getCoordinates()):k.EXTERIOR},Cr.prototype.intersects=function(e,t){return this.locate(e,t)!==k.EXTERIOR},Cr.prototype.updateLocationInfo=function(e){e===k.INTERIOR&&(this._isIn=!0),e===k.BOUNDARY&&this._numBoundaries++},Cr.prototype.computeLocation=function(e,t){if(t instanceof Ke&&this.updateLocationInfo(this.locateInternal(e,t)),t instanceof Xe)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof Qe)this.updateLocationInfo(this.locateInternal(e,t));else if(t instanceof qe)for(var n=t,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(e,i))}else if(t instanceof nt)for(var o=t,a=0;a<o.getNumGeometries();a++){var s=o.getGeometryN(a);this.updateLocationInfo(this.locateInternal(e,s))}else if(t instanceof Ue)for(var l=new Zn(t);l.hasNext();){var u=l.next();u!==t&&this.computeLocation(e,u)}},Cr.prototype.locate=function(e,t){return t.isEmpty()?k.EXTERIOR:t instanceof Xe||t instanceof Qe?this.locateInternal(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?k.BOUNDARY:this._numBoundaries>0||this._isIn?k.INTERIOR:k.EXTERIOR)},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr};var Tr=function e(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)e.call(this,arguments[0],e.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];this._component=t,this._segIndex=n,this._pt=r}},Ir={INSIDE_AREA:{configurable:!0}};Tr.prototype.isInsideArea=function(){return this._segIndex===Tr.INSIDE_AREA},Tr.prototype.getCoordinate=function(){return this._pt},Tr.prototype.getGeometryComponent=function(){return this._component},Tr.prototype.getSegmentIndex=function(){return this._segIndex},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Ir.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Tr,Ir);var kr=function(e){this._pts=e||null};kr.prototype.filter=function(e){e instanceof Ke&&this._pts.add(e)},kr.prototype.interfaces_=function(){return[je]},kr.prototype.getClass=function(){return kr},kr.getPoints=function(){if(1===arguments.length){var e=arguments[0];return e instanceof Ke?Qt.singletonList(e):kr.getPoints(e,new Ee)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t instanceof Ke?n.add(t):t instanceof Ue&&t.apply(new kr(n)),n}};var Pr=function(){this._locations=null;var e=arguments[0];this._locations=e};Pr.prototype.filter=function(e){(e instanceof Ke||e instanceof Xe||e instanceof Qe)&&this._locations.add(new Tr(e,0,e.getCoordinate()))},Pr.prototype.interfaces_=function(){return[je]},Pr.prototype.getClass=function(){return Pr},Pr.getLocations=function(e){var t=new Ee;return e.apply(new Pr(t)),t};var Lr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Cr,this._minDistanceLocation=null,this._minDistance=_.MAX_VALUE,2===arguments.length){var e=arguments[0],t=arguments[1];this._geom=[e,t],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Lr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var e=new Array(2).fill(null);if(this.computeContainmentDistance(0,e),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=1-t,i=Er.getPolygons(this._geom[t]);if(i.size()>0){var o=Pr.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[t]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&L(arguments[0],we)&&L(arguments[1],we)){for(var a=arguments[0],s=arguments[1],l=arguments[2],u=0;u<a.size();u++)for(var c=a.get(u),h=0;h<s.size();h++)if(this.computeContainmentDistance(c,s.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Tr&&arguments[1]instanceof Qe){var p=arguments[0],d=arguments[1],f=arguments[2],m=p.getCoordinate();if(k.EXTERIOR!==this._ptLocator.locate(m,d))return this._minDistance=0,f[0]=p,f[1]=new Tr(d,m),null}},Lr.prototype.computeMinDistanceLinesPoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var a=t.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Lr.prototype.computeFacetDistance=function(){var e=new Array(2).fill(null),t=Sr.getLines(this._geom[0]),n=Sr.getLines(this._geom[1]),r=kr.getPoints(this._geom[0]),i=kr.getPoints(this._geom[1]);return this.computeMinDistanceLines(t,n,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(t,i,e),this.updateMinDistance(e,!1),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistanceLinesPoints(n,r,e),this.updateMinDistance(e,!0),this._minDistance<=this._terminateDistance?null:(e[0]=null,e[1]=null,this.computeMinDistancePoints(r,i,e),void this.updateMinDistance(e,!1))))},Lr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Lr.prototype.updateMinDistance=function(e,t){if(null===e[0])return null;t?(this._minDistanceLocation[0]=e[1],this._minDistanceLocation[1]=e[0]):(this._minDistanceLocation[0]=e[0],this._minDistanceLocation[1]=e[1])},Lr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Lr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Xe&&arguments[1]instanceof Ke){var e=arguments[0],t=arguments[1],n=arguments[2];if(e.getEnvelopeInternal().distance(t.getEnvelopeInternal())>this._minDistance)return null;for(var r=e.getCoordinates(),i=t.getCoordinate(),o=0;o<r.length-1;o++){var a=se.distancePointLine(i,r[o],r[o+1]);if(a<this._minDistance){this._minDistance=a;var s=new mn(r[o],r[o+1]).closestPoint(i);n[0]=new Tr(e,o,s),n[1]=new Tr(t,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Xe&&arguments[1]instanceof Xe){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var h=l.getCoordinates(),p=u.getCoordinates(),d=0;d<h.length-1;d++)for(var f=0;f<p.length-1;f++){var m=se.distanceLineLine(h[d],h[d+1],p[f],p[f+1]);if(m<this._minDistance){this._minDistance=m;var g=new mn(h[d],h[d+1]),y=new mn(p[f],p[f+1]),v=g.closestPoints(y);c[0]=new Tr(l,d,v[0]),c[1]=new Tr(u,f,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Lr.prototype.computeMinDistancePoints=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var a=t.get(o),s=i.getCoordinate().distance(a.getCoordinate());if(s<this._minDistance&&(this._minDistance=s,n[0]=new Tr(i,0,i.getCoordinate()),n[1]=new Tr(a,0,a.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Lr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new v("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Lr.prototype.computeMinDistanceLines=function(e,t,n){for(var r=0;r<e.size();r++)for(var i=e.get(r),o=0;o<t.size();o++){var a=t.get(o);if(this.computeMinDistance(i,a,n),this._minDistance<=this._terminateDistance)return null}},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr},Lr.distance=function(e,t){return new Lr(e,t).distance()},Lr.isWithinDistance=function(e,t,n){return new Lr(e,t,n).distance()<=n},Lr.nearestPoints=function(e,t){return new Lr(e,t).nearestPoints()};var Mr=function(){this._pt=[new S,new S],this._distance=_.NaN,this._isNull=!0};Mr.prototype.getCoordinates=function(){return this._pt},Mr.prototype.getCoordinate=function(e){return this._pt[e]},Mr.prototype.setMinimum=function(){if(1===arguments.length){var e=arguments[0];this.setMinimum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r<this._distance&&this.initialize(t,n,r)}},Mr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var e=arguments[0],t=arguments[1];this._pt[0].setCoordinate(e),this._pt[1].setCoordinate(t),this._distance=e.distance(t),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Mr.prototype.toString=function(){return J.toLineString(this._pt[0],this._pt[1])},Mr.prototype.getDistance=function(){return this._distance},Mr.prototype.setMaximum=function(){if(1===arguments.length){var e=arguments[0];this.setMaximum(e._pt[0],e._pt[1])}else if(2===arguments.length){var t=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(t,n),null;var r=t.distance(n);r>this._distance&&this.initialize(t,n,r)}},Mr.prototype.interfaces_=function(){return[]},Mr.prototype.getClass=function(){return Mr};var Ar=function(){};Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.computeDistance=function(){if(arguments[2]instanceof Mr&&arguments[0]instanceof Xe&&arguments[1]instanceof S)for(var e=arguments[0],t=arguments[1],n=arguments[2],r=new mn,i=e.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var a=r.closestPoint(t);n.setMinimum(a,t)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof Qe&&arguments[1]instanceof S){var s=arguments[0],l=arguments[1],u=arguments[2];Ar.computeDistance(s.getExteriorRing(),l,u);for(var c=0;c<s.getNumInteriorRing();c++)Ar.computeDistance(s.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof ce&&arguments[1]instanceof S){var h=arguments[0],p=arguments[1],d=arguments[2];if(h instanceof Xe)Ar.computeDistance(h,p,d);else if(h instanceof Qe)Ar.computeDistance(h,p,d);else if(h instanceof Ue)for(var f=h,m=0;m<f.getNumGeometries();m++){var g=f.getGeometryN(m);Ar.computeDistance(g,p,d)}else d.setMinimum(h.getCoordinate(),p)}else if(arguments[2]instanceof Mr&&arguments[0]instanceof mn&&arguments[1]instanceof S){var y=arguments[1],v=arguments[2],_=arguments[0].closestPoint(y);v.setMinimum(_,y)}};var Or=function(){this._g0=null,this._g1=null,this._ptDist=new Mr,this._densifyFrac=0;var e=arguments[0],t=arguments[1];this._g0=e,this._g1=t},Rr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Or.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Or.prototype.setDensifyFraction=function(e){if(e>1||e<=0)throw new v("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=e},Or.prototype.compute=function(e,t){this.computeOrientedDistance(e,t,this._ptDist),this.computeOrientedDistance(t,e,this._ptDist)},Or.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Or.prototype.computeOrientedDistance=function(e,t,n){var r=new Nr(t);if(e.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new Dr(t,this._densifyFrac);e.apply(i),n.setMaximum(i.getMaxPointDistance())}},Or.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Or.prototype.interfaces_=function(){return[]},Or.prototype.getClass=function(){return Or},Or.distance=function(){if(2===arguments.length)return new Or(arguments[0],arguments[1]).distance();if(3===arguments.length){var e=arguments[2],t=new Or(arguments[0],arguments[1]);return t.setDensifyFraction(e),t.distance()}},Rr.MaxPointDistanceFilter.get=function(){return Nr},Rr.MaxDensifiedByFractionDistanceFilter.get=function(){return Dr},Object.defineProperties(Or,Rr);var Nr=function(){this._maxPtDist=new Mr,this._minPtDist=new Mr,this._euclideanDist=new Ar,this._geom=null;var e=arguments[0];this._geom=e};Nr.prototype.filter=function(e){this._minPtDist.initialize(),Ar.computeDistance(this._geom,e,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Nr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Nr.prototype.interfaces_=function(){return[de]},Nr.prototype.getClass=function(){return Nr};var Dr=function(){this._maxPtDist=new Mr,this._minPtDist=new Mr,this._geom=null,this._numSubSegs=0;var e=arguments[0],t=arguments[1];this._geom=e,this._numSubSegs=Math.trunc(Math.round(1/t))};Dr.prototype.filter=function(e,t){if(0===t)return null;for(var n=e.getCoordinate(t-1),r=e.getCoordinate(t),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,a=0;a<this._numSubSegs;a++){var s=n.x+a*i,l=n.y+a*o,u=new S(s,l);this._minPtDist.initialize(),Ar.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Dr.prototype.isDone=function(){return!1},Dr.prototype.isGeometryChanged=function(){return!1},Dr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dr.prototype.interfaces_=function(){return[Ze]},Dr.prototype.getClass=function(){return Dr};var zr=function(e,t,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._bufDistance=t||null,this._result=n||null},Fr={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};zr.prototype.checkMaximumDistance=function(e,t,n){var r=new Or(t,e);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+J.toLineString(i[0],i[1])+")"}},zr.prototype.isValid=function(){var e=Math.abs(this._bufDistance),t=zr.MAX_DISTANCE_DIFF_FRAC*e;return this._minValidDistance=e-t,this._maxValidDistance=e+t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),zr.VERBOSE&&V.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},zr.prototype.checkNegativeValid=function(){if(!(this._input instanceof Qe||this._input instanceof nt||this._input instanceof Ue))return null;var e=this.getPolygonLines(this._input);if(this.checkMinimumDistance(e,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(e,this._result,this._maxValidDistance)},zr.prototype.getErrorIndicator=function(){return this._errorIndicator},zr.prototype.checkMinimumDistance=function(e,t,n){var r=new Lr(e,t,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=e.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+J.toLineString(i[0],i[1])+" )"}},zr.prototype.checkPositiveValid=function(){var e=this._result.getBoundary();if(this.checkMinimumDistance(this._input,e,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,e,this._maxValidDistance)},zr.prototype.getErrorLocation=function(){return this._errorLocation},zr.prototype.getPolygonLines=function(e){for(var t=new Ee,n=new Sr(t),r=Er.getPolygons(e).iterator();r.hasNext();)r.next().apply(n);return e.getFactory().buildGeometry(t)},zr.prototype.getErrorMessage=function(){return this._errMsg},zr.prototype.interfaces_=function(){return[]},zr.prototype.getClass=function(){return zr},Fr.VERBOSE.get=function(){return!1},Fr.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(zr,Fr);var Br=function(e,t,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=e||null,this._distance=t||null,this._result=n||null},jr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Br.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Br.prototype.checkEnvelope=function(){if(this._distance<0)return null;var e=this._distance*Br.MAX_ENV_DIFF_FRAC;0===e&&(e=.001);var t=new H(this._input.getEnvelopeInternal());t.expandBy(this._distance);var n=new H(this._result.getEnvelopeInternal());n.expandBy(e),n.contains(t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},Br.prototype.checkDistance=function(){var e=new zr(this._input,this._distance,this._result);e.isValid()||(this._isValid=!1,this._errorMsg=e.getErrorMessage(),this._errorLocation=e.getErrorLocation(),this._errorIndicator=e.getErrorIndicator()),this.report("Distance")},Br.prototype.checkArea=function(){var e=this._input.getArea(),t=this._result.getArea();this._distance>0&&e>t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&e<t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Br.prototype.checkPolygonal=function(){this._result instanceof Qe||this._result instanceof nt||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Br.prototype.getErrorIndicator=function(){return this._errorIndicator},Br.prototype.getErrorLocation=function(){return this._errorLocation},Br.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Br.prototype.report=function(e){if(!Br.VERBOSE)return null;V.out.println("Check "+e+": "+(this._isValid?"passed":"FAILED"))},Br.prototype.getErrorMessage=function(){return this._errorMsg},Br.prototype.interfaces_=function(){return[]},Br.prototype.getClass=function(){return Br},Br.isValidMsg=function(e,t,n){var r=new Br(e,t,n);return r.isValid()?null:r.getErrorMessage()},Br.isValid=function(e,t,n){return!!new Br(e,t,n).isValid()},jr.VERBOSE.get=function(){return!1},jr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Br,jr);var Zr=function(){this._pts=null,this._data=null;var e=arguments[0],t=arguments[1];this._pts=e,this._data=t};Zr.prototype.getCoordinates=function(){return this._pts},Zr.prototype.size=function(){return this._pts.length},Zr.prototype.getCoordinate=function(e){return this._pts[e]},Zr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Zr.prototype.getSegmentOctant=function(e){return e===this._pts.length-1?-1:hn.octant(this.getCoordinate(e),this.getCoordinate(e+1))},Zr.prototype.setData=function(e){this._data=e},Zr.prototype.getData=function(){return this._data},Zr.prototype.toString=function(){return J.toLineString(new lt(this._pts))},Zr.prototype.interfaces_=function(){return[pn]},Zr.prototype.getClass=function(){return Zr};var Ur=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Ee,this._intersectionCount=0,this._keepIntersections=!0;var e=arguments[0];this._li=e,this._interiorIntersection=null};Ur.prototype.getInteriorIntersection=function(){return this._interiorIntersection},Ur.prototype.setCheckEndSegmentsOnly=function(e){this._isCheckEndSegmentsOnly=e},Ur.prototype.getIntersectionSegments=function(){return this._intSegments},Ur.prototype.count=function(){return this._intersectionCount},Ur.prototype.getIntersections=function(){return this._intersections},Ur.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},Ur.prototype.setKeepIntersections=function(e){this._keepIntersections=e},Ur.prototype.processIntersections=function(e,t,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===n&&t===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(e,t)&&!this.isEndSegment(n,r))return null;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=a,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},Ur.prototype.isEndSegment=function(e,t){return 0===t||t>=e.size()-2},Ur.prototype.hasIntersection=function(){return null!==this._interiorIntersection},Ur.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},Ur.prototype.interfaces_=function(){return[$n]},Ur.prototype.getClass=function(){return Ur},Ur.createAllIntersectionsFinder=function(e){var t=new Ur(e);return t.setFindAllIntersections(!0),t},Ur.createAnyIntersectionFinder=function(e){return new Ur(e)},Ur.createIntersectionCounter=function(e){var t=new Ur(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t};var qr=function(){this._li=new ie,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var e=arguments[0];this._segStrings=e};qr.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},qr.prototype.getIntersections=function(){return this._segInt.getIntersections()},qr.prototype.isValid=function(){return this.execute(),this._isValid},qr.prototype.setFindAllIntersections=function(e){this._findAllIntersections=e},qr.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new Ur(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var e=new wn;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},qr.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new kt(this.getErrorMessage(),this._segInt.getInteriorIntersection())},qr.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var e=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+J.toLineString(e[0],e[1])+" and "+J.toLineString(e[2],e[3])},qr.prototype.interfaces_=function(){return[]},qr.prototype.getClass=function(){return qr},qr.computeIntersections=function(e){var t=new qr(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()};var Vr=function e(){this._nv=null;var t=arguments[0];this._nv=new qr(e.toSegmentStrings(t))};Vr.prototype.checkValid=function(){this._nv.checkValid()},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.toSegmentStrings=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next();t.add(new Zr(r.getCoordinates(),r))}return t},Vr.checkValid=function(e){new Vr(e).checkValid()};var Gr=function(e){this._mapOp=e};Gr.prototype.map=function(e){for(var t=new Ee,n=0;n<e.getNumGeometries();n++){var r=this._mapOp.map(e.getGeometryN(n));r.isEmpty()||t.add(r)}return e.getFactory().createGeometryCollection(yt.toGeometryArray(t))},Gr.prototype.interfaces_=function(){return[]},Gr.prototype.getClass=function(){return Gr},Gr.map=function(e,t){return new Gr(t).map(e)};var Hr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Ee,this._resultLineList=new Ee;var e=arguments[0],t=arguments[1],n=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=n};Hr.prototype.collectLines=function(e){for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next();this.collectLineEdge(n,e,this._lineEdgesList),this.collectBoundaryTouchEdge(n,e,this._lineEdgesList)}},Hr.prototype.labelIsolatedLine=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._op.getArgGeometry(t));e.getLabel().setLocation(t,n)},Hr.prototype.build=function(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList},Hr.prototype.collectLineEdge=function(e,t,n){var r=e.getLabel(),i=e.getEdge();e.isLineEdge()&&(e.isVisited()||!Ti.isResultOfOp(r,t)||i.isCovered()||(n.add(i),e.setVisitedEdge(!0)))},Hr.prototype.findCoveredLineEdges=function(){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();)e.next().getEdges().findCoveredLineEdges();for(var t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){var n=t.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Hr.prototype.labelIsolatedLines=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Hr.prototype.buildLines=function(e){for(var t=this._lineEdgesList.iterator();t.hasNext();){var n=t.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Hr.prototype.collectBoundaryTouchEdge=function(e,t,n){var r=e.getLabel();return e.isLineEdge()||e.isVisited()||e.isInteriorAreaEdge()||e.getEdge().isInResult()?null:(te.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),void(Ti.isResultOfOp(r,t)&&t===Ti.INTERSECTION&&(n.add(e.getEdge()),e.setVisitedEdge(!0))))},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr};var Wr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Ee;var e=arguments[0],t=arguments[1];this._op=e,this._geometryFactory=t};Wr.prototype.filterCoveredNodeToPoint=function(e){var t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){var n=this._geometryFactory.createPoint(t);this._resultPointList.add(n)}},Wr.prototype.extractNonCoveredResultNodes=function(e){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();){var n=t.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&e!==Ti.INTERSECTION)){var r=n.getLabel();Ti.isResultOfOp(r,e)&&this.filterCoveredNodeToPoint(n)}}},Wr.prototype.build=function(e){return this.extractNonCoveredResultNodes(e),this._resultPointList},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr};var $r=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};$r.prototype.transformPoint=function(e,t){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))},$r.prototype.transformPolygon=function(e,t){var n=!0,r=this.transformLinearRing(e.getExteriorRing(),e);null!==r&&r instanceof tt&&!r.isEmpty()||(n=!1);for(var i=new Ee,o=0;o<e.getNumInteriorRing();o++){var a=this.transformLinearRing(e.getInteriorRingN(o),e);null===a||a.isEmpty()||(a instanceof tt||(n=!1),i.add(a))}if(n)return this._factory.createPolygon(r,i.toArray([]));var s=new Ee;return null!==r&&s.add(r),s.addAll(i),this._factory.buildGeometry(s)},$r.prototype.createCoordinateSequence=function(e){return this._factory.getCoordinateSequenceFactory().create(e)},$r.prototype.getInputGeometry=function(){return this._inputGeom},$r.prototype.transformMultiLineString=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transformLineString(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},$r.prototype.transformCoordinates=function(e,t){return this.copy(e)},$r.prototype.transformLineString=function(e,t){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))},$r.prototype.transformMultiPoint=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transformPoint(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},$r.prototype.transformMultiPolygon=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transformPolygon(e.getGeometryN(r),e);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},$r.prototype.copy=function(e){return e.copy()},$r.prototype.transformGeometryCollection=function(e,t){for(var n=new Ee,r=0;r<e.getNumGeometries();r++){var i=this.transform(e.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(yt.toGeometryArray(n)):this._factory.buildGeometry(n)},$r.prototype.transform=function(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof Ke)return this.transformPoint(e,null);if(e instanceof et)return this.transformMultiPoint(e,null);if(e instanceof tt)return this.transformLinearRing(e,null);if(e instanceof Xe)return this.transformLineString(e,null);if(e instanceof qe)return this.transformMultiLineString(e,null);if(e instanceof Qe)return this.transformPolygon(e,null);if(e instanceof nt)return this.transformMultiPolygon(e,null);if(e instanceof Ue)return this.transformGeometryCollection(e,null);throw new v("Unknown Geometry subtype: "+e.getClass().getName())},$r.prototype.transformLinearRing=function(e,t){var n=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r};var Xr=function e(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new mn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Xe&&"number"==typeof arguments[1]){var t=arguments[1];e.call(this,arguments[0].getCoordinates(),t)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=e.isClosed(n),this._snapTolerance=r}};Xr.prototype.snapVertices=function(e,t){for(var n=this._isClosed?e.size()-1:e.size(),r=0;r<n;r++){var i=e.get(r),o=this.findSnapForVertex(i,t);null!==o&&(e.set(r,new S(o)),0===r&&this._isClosed&&e.set(e.size()-1,new S(o)))}},Xr.prototype.findSnapForVertex=function(e,t){for(var n=0;n<t.length;n++){if(e.equals2D(t[n]))return null;if(e.distance(t[n])<this._snapTolerance)return t[n]}return null},Xr.prototype.snapTo=function(e){var t=new Ce(this._srcPts);return this.snapVertices(t,e),this.snapSegments(t,e),t.toCoordinateArray()},Xr.prototype.snapSegments=function(e,t){if(0===t.length)return null;var n=t.length;t[0].equals2D(t[t.length-1])&&(n=t.length-1);for(var r=0;r<n;r++){var i=t[r],o=this.findSegmentIndexToSnap(i,e);o>=0&&e.add(o+1,new S(i),!1)}},Xr.prototype.findSegmentIndexToSnap=function(e,t){for(var n=_.MAX_VALUE,r=-1,i=0;i<t.size()-1;i++){if(this._seg.p0=t.get(i),this._seg.p1=t.get(i+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(e);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Xr.prototype.setAllowSnappingToSourceVertices=function(e){this._allowSnappingToSourceVertices=e},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.isClosed=function(e){return!(e.length<=1)&&e[0].equals2D(e[e.length-1])};var Yr=function(e){this._srcGeom=e||null},Kr={SNAP_PRECISION_FACTOR:{configurable:!0}};Yr.prototype.snapTo=function(e,t){var n=this.extractTargetCoordinates(e);return new Jr(t,n).transform(this._srcGeom)},Yr.prototype.snapToSelf=function(e,t){var n=this.extractTargetCoordinates(this._srcGeom),r=new Jr(e,n,!0).transform(this._srcGeom),i=r;return t&&L(i,Je)&&(i=r.buffer(0)),i},Yr.prototype.computeSnapTolerance=function(e){return this.computeMinimumSegmentLength(e)/10},Yr.prototype.extractTargetCoordinates=function(e){for(var t=new d,n=e.getCoordinates(),r=0;r<n.length;r++)t.add(n[r]);return t.toArray(new Array(0).fill(null))},Yr.prototype.computeMinimumSegmentLength=function(e){for(var t=_.MAX_VALUE,n=0;n<e.length-1;n++){var r=e[n].distance(e[n+1]);r<t&&(t=r)}return t},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr},Yr.snap=function(e,t,n){var r=new Array(2).fill(null),i=new Yr(e);r[0]=i.snapTo(t,n);var o=new Yr(t);return r[1]=o.snapTo(r[0],n),r},Yr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var e=arguments[0],t=Yr.computeSizeBasedSnapTolerance(e),n=e.getPrecisionModel();if(n.getType()===dt.FIXED){var r=1/n.getScale()*2/1.415;r>t&&(t=r)}return t}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Yr.computeOverlaySnapTolerance(i),Yr.computeOverlaySnapTolerance(o))}},Yr.computeSizeBasedSnapTolerance=function(e){var t=e.getEnvelopeInternal();return Math.min(t.getHeight(),t.getWidth())*Yr.SNAP_PRECISION_FACTOR},Yr.snapToSelf=function(e,t,n){return new Yr(e).snapToSelf(t,n)},Kr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Yr,Kr);var Jr=function(e){function t(t,n,r){e.call(this),this._snapTolerance=t||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.snapLine=function(e,t){var n=new Xr(e,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(t)},t.prototype.transformCoordinates=function(e,t){var n=e.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}($r),Qr=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Qr.prototype.getCommon=function(){return _.longBitsToDouble(this._commonBits)},Qr.prototype.add=function(e){var t=_.doubleToLongBits(e);return this._isFirst?(this._commonBits=t,this._commonSignExp=Qr.signExpBits(this._commonBits),this._isFirst=!1,null):Qr.signExpBits(t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Qr.numCommonMostSigMantissaBits(this._commonBits,t),void(this._commonBits=Qr.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Qr.prototype.toString=function(){if(1===arguments.length){var e=arguments[0],t=_.longBitsToDouble(e),n="0000000000000000000000000000000000000000000000000000000000000000"+_.toBinaryString(e),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+t+" ]"}},Qr.prototype.interfaces_=function(){return[]},Qr.prototype.getClass=function(){return Qr},Qr.getBit=function(e,t){return 0!=(e&1<<t)?1:0},Qr.signExpBits=function(e){return e>>52},Qr.zeroLowerBits=function(e,t){return e&~((1<<t)-1)},Qr.numCommonMostSigMantissaBits=function(e,t){for(var n=0,r=52;r>=0;r--){if(Qr.getBit(e,r)!==Qr.getBit(t,r))return n;n++}return 52};var ei=function(){this._commonCoord=null,this._ccFilter=new ni},ti={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ei.prototype.addCommonBits=function(e){var t=new ri(this._commonCoord);e.apply(t),e.geometryChanged()},ei.prototype.removeCommonBits=function(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;var t=new S(this._commonCoord);t.x=-t.x,t.y=-t.y;var n=new ri(t);return e.apply(n),e.geometryChanged(),e},ei.prototype.getCommonCoordinate=function(){return this._commonCoord},ei.prototype.add=function(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ei.prototype.interfaces_=function(){return[]},ei.prototype.getClass=function(){return ei},ti.CommonCoordinateFilter.get=function(){return ni},ti.Translater.get=function(){return ri},Object.defineProperties(ei,ti);var ni=function(){this._commonBitsX=new Qr,this._commonBitsY=new Qr};ni.prototype.filter=function(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)},ni.prototype.getCommonCoordinate=function(){return new S(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[de]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var e=arguments[0];this.trans=e};ri.prototype.filter=function(e,t){var n=e.getOrdinate(t,0)+this.trans.x,r=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,n),e.setOrdinate(t,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[Ze]},ri.prototype.getClass=function(){return ri};var ii=function(e,t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()};ii.prototype.selfSnap=function(e){return new Yr(e).snapTo(e,this._snapTolerance)},ii.prototype.removeCommonBits=function(e){this._cbr=new ei,this._cbr.add(e[0]),this._cbr.add(e[1]);var t=new Array(2).fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t},ii.prototype.prepareResult=function(e){return this._cbr.addCommonBits(e),e},ii.prototype.getResultGeometry=function(e){var t=this.snap(this._geom),n=Ti.overlayOp(t[0],t[1],e);return this.prepareResult(n)},ii.prototype.checkValid=function(e){e.isValid()||V.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=Yr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(e){var t=this.removeCommonBits(e);return Yr.snap(t[0],t[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(e,t,n){return new ii(e,t).getResultGeometry(n)},ii.union=function(e,t){return ii.overlayOp(e,t,Ti.UNION)},ii.intersection=function(e,t){return ii.overlayOp(e,t,Ti.INTERSECTION)},ii.symDifference=function(e,t){return ii.overlayOp(e,t,Ti.SYMDIFFERENCE)},ii.difference=function(e,t){return ii.overlayOp(e,t,Ti.DIFFERENCE)};var oi=function(e,t){this._geom=new Array(2).fill(null),this._geom[0]=e,this._geom[1]=t};oi.prototype.getResultGeometry=function(e){var t=null,n=!1,r=null;try{t=Ti.overlayOp(this._geom[0],this._geom[1],e),n=!0}catch(e){if(!(e instanceof Q))throw e;r=e}if(!n)try{t=ii.overlayOp(this._geom[0],this._geom[1],e)}catch(e){throw e instanceof Q?r:e}return t},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(e,t,n){return new oi(e,t).getResultGeometry(n)},oi.union=function(e,t){return oi.overlayOp(e,t,Ti.UNION)},oi.intersection=function(e,t){return oi.overlayOp(e,t,Ti.INTERSECTION)},oi.symDifference=function(e,t){return oi.overlayOp(e,t,Ti.SYMDIFFERENCE)},oi.difference=function(e,t){return oi.overlayOp(e,t,Ti.DIFFERENCE)};var ai=function(){this.mce=null,this.chainIndex=null;var e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t};ai.prototype.computeIntersections=function(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)},ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai};var si=function e(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var t=arguments[0],n=arguments[1];this._eventType=e.DELETE,this._xValue=t,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=e.INSERT,this._label=r,this._xValue=i,this._obj=o}},li={INSERT:{configurable:!0},DELETE:{configurable:!0}};si.prototype.isDelete=function(){return this._eventType===si.DELETE},si.prototype.setDeleteEventIndex=function(e){this._deleteEventIndex=e},si.prototype.getObject=function(){return this._obj},si.prototype.compareTo=function(e){var t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0},si.prototype.getInsertEvent=function(){return this._insertEvent},si.prototype.isInsert=function(){return this._eventType===si.INSERT},si.prototype.isSameLabel=function(e){return null!==this._label&&this._label===e._label},si.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},si.prototype.interfaces_=function(){return[x]},si.prototype.getClass=function(){return si},li.INSERT.get=function(){return 1},li.DELETE.get=function(){return 2},Object.defineProperties(si,li);var ui=function(){};ui.prototype.interfaces_=function(){return[]},ui.prototype.getClass=function(){return ui};var ci=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var e=arguments[0],t=arguments[1],n=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=n};ci.prototype.isTrivialIntersection=function(e,t,n,r){if(e===n&&1===this._li.getIntersectionNum()){if(ci.isAdjacentSegments(t,r))return!0;if(e.isClosed()){var i=e.getNumPoints()-1;if(0===t&&r===i||0===r&&t===i)return!0}}return!1},ci.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ci.prototype.setIsDoneIfProperInt=function(e){this._isDoneWhenProperInt=e},ci.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ci.prototype.isBoundaryPointInternal=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next().getCoordinate();if(e.isIntersection(r))return!0}return!1},ci.prototype.hasProperIntersection=function(){return this._hasProper},ci.prototype.hasIntersection=function(){return this._hasIntersection},ci.prototype.isDone=function(){return this._isDone},ci.prototype.isBoundaryPoint=function(e,t){return!(null===t||!this.isBoundaryPointInternal(e,t[0])&&!this.isBoundaryPointInternal(e,t[1]))},ci.prototype.setBoundaryNodes=function(e,t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t},ci.prototype.addIntersections=function(e,t,n,r){if(e===n&&t===r)return null;this.numTests++;var i=e.getCoordinates()[t],o=e.getCoordinates()[t+1],a=n.getCoordinates()[r],s=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,a,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(e,t,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(e.addIntersections(this._li,t,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.isAdjacentSegments=function(e,t){return 1===Math.abs(e-t)};var hi=function(e){function t(){e.call(this),this.events=new Ee,this.nOverlaps=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.prepareEvents=function(){Qt.sort(this.events);for(var e=0;e<this.events.size();e++){var t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}},t.prototype.computeIntersections=function(){if(1===arguments.length){var e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var t=0;t<this.events.size();t++){var n=this.events.get(t);if(n.isInsert()&&this.processOverlaps(t,n.getDeleteEventIndex(),n,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ci&&L(arguments[0],we)&&L(arguments[1],we)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&L(arguments[0],we)&&arguments[1]instanceof ci){var a=arguments[0],s=arguments[1];arguments[2]?this.addEdges(a,null):this.addEdges(a),this.computeIntersections(s)}},t.prototype.addEdge=function(e,t){for(var n=e.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new ai(n,i),a=new si(t,n.getMinX(i),o);this.events.add(a),this.events.add(new si(n.getMaxX(i),a))}},t.prototype.processOverlaps=function(e,t,n,r){for(var i=n.getObject(),o=e;o<t;o++){var a=this.events.get(o);if(a.isInsert()){var s=a.getObject();n.isSameLabel(a)||(i.computeIntersections(s,r),this.nOverlaps++)}}},t.prototype.addEdges=function(){if(1===arguments.length)for(var e=arguments[0].iterator();e.hasNext();){var t=e.next();this.addEdge(t,t)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(ui),pi=function(){this._min=_.POSITIVE_INFINITY,this._max=_.NEGATIVE_INFINITY},di={NodeComparator:{configurable:!0}};pi.prototype.getMin=function(){return this._min},pi.prototype.intersects=function(e,t){return!(this._min>t||this._max<e)},pi.prototype.getMax=function(){return this._max},pi.prototype.toString=function(){return J.toLineString(new S(this._min,0),new S(this._max,0))},pi.prototype.interfaces_=function(){return[]},pi.prototype.getClass=function(){return pi},di.NodeComparator.get=function(){return fi},Object.defineProperties(pi,di);var fi=function(){};fi.prototype.compare=function(e,t){var n=e,r=t,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},fi.prototype.interfaces_=function(){return[E]},fi.prototype.getClass=function(){return fi};var mi=function(e){function t(){e.call(this),this._item=null;var t=arguments[0],n=arguments[1],r=arguments[2];this._min=t,this._max=n,this._item=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;n.visitItem(this._item)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(pi),gi=function(e){function t(){e.call(this),this._node1=null,this._node2=null;var t=arguments[0],n=arguments[1];this._node1=t,this._node2=n,this.buildExtent(this._node1,this._node2)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.buildExtent=function(e,t){this._min=Math.min(e._min,t._min),this._max=Math.max(e._max,t._max)},t.prototype.query=function(e,t,n){if(!this.intersects(e,t))return null;null!==this._node1&&this._node1.query(e,t,n),null!==this._node2&&this._node2.query(e,t,n)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(pi),yi=function(){this._leaves=new Ee,this._root=null,this._level=0};yi.prototype.buildTree=function(){Qt.sort(this._leaves,new pi.NodeComparator);for(var e=this._leaves,t=null,n=new Ee;;){if(this.buildLevel(e,n),1===n.size())return n.get(0);t=e,e=n,n=t}},yi.prototype.insert=function(e,t,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new mi(e,t,n))},yi.prototype.query=function(e,t,n){this.init(),this._root.query(e,t,n)},yi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},yi.prototype.printNode=function(e){V.out.println(J.toLineString(new S(e._min,this._level),new S(e._max,this._level)))},yi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},yi.prototype.buildLevel=function(e,t){this._level++,t.clear();for(var n=0;n<e.size();n+=2){var r=e.get(n);if(null===(n+1<e.size()?e.get(n):null))t.add(r);else{var i=new gi(e.get(n),e.get(n+1));t.add(i)}}},yi.prototype.interfaces_=function(){return[]},yi.prototype.getClass=function(){return yi};var vi=function(){this._items=new Ee};vi.prototype.visitItem=function(e){this._items.add(e)},vi.prototype.getItems=function(){return this._items},vi.prototype.interfaces_=function(){return[Xt]},vi.prototype.getClass=function(){return vi};var _i=function(){this._index=null;var e=arguments[0];if(!L(e,Je))throw new v("Argument must be Polygonal");this._index=new wi(e)},bi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_i.prototype.locate=function(e){var t=new ae(e),n=new xi(t);return this._index.query(e.y,e.y,n),t.getLocation()},_i.prototype.interfaces_=function(){return[jn]},_i.prototype.getClass=function(){return _i},bi.SegmentVisitor.get=function(){return xi},bi.IntervalIndexedGeometry.get=function(){return wi},Object.defineProperties(_i,bi);var xi=function(){this._counter=null;var e=arguments[0];this._counter=e};xi.prototype.visitItem=function(e){var t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))},xi.prototype.interfaces_=function(){return[Xt]},xi.prototype.getClass=function(){return xi};var wi=function(){this._index=new yi;var e=arguments[0];this.init(e)};wi.prototype.init=function(e){for(var t=Sr.getLines(e).iterator();t.hasNext();){var n=t.next().getCoordinates();this.addLine(n)}},wi.prototype.addLine=function(e){for(var t=1;t<e.length;t++){var n=new mn(e[t-1],e[t]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},wi.prototype.query=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new vi;return this._index.query(e,t,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi};var Ei=function(e){function t(){if(e.call(this),this._parentGeom=null,this._lineEdgeMap=new pt,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Cr,2===arguments.length){var t=arguments[0],n=arguments[1],r=fe.OGC_SFS_BOUNDARY_RULE;this._argIndex=t,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=a,null!==o&&this.add(o)}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertBoundaryPoint=function(e,n){var r=this._nodes.addNode(n).getLabel(),i=1;r.getLocation(e,Ct.ON)===k.BOUNDARY&&i++;var o=t.determineBoundary(this._boundaryNodeRule,i);r.setLocation(e,o)},t.prototype.computeSelfNodes=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new ci(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),a=this._parentGeom instanceof tt||this._parentGeom instanceof Qe||this._parentGeom instanceof nt,s=n||!a;return o.computeIntersections(this._edges,i,s),this.addSelfIntersectionNodes(this._argIndex),i}},t.prototype.computeSplitEdges=function(e){for(var t=this._edges.iterator();t.hasNext();)t.next().eiList.addSplitEdges(e)},t.prototype.computeEdgeIntersections=function(e,t,n){var r=new ci(t,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,e._edges,r),r},t.prototype.getGeometry=function(){return this._parentGeom},t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},t.prototype.addPoint=function(){if(arguments[0]instanceof Ke){var e=arguments[0].getCoordinate();this.insertPoint(this._argIndex,e,k.INTERIOR)}else if(arguments[0]instanceof S){var t=arguments[0];this.insertPoint(this._argIndex,t,k.INTERIOR)}},t.prototype.addPolygon=function(e){this.addPolygonRing(e.getExteriorRing(),k.EXTERIOR,k.INTERIOR);for(var t=0;t<e.getNumInteriorRing();t++){var n=e.getInteriorRingN(t);this.addPolygonRing(n,k.INTERIOR,k.EXTERIOR)}},t.prototype.addEdge=function(e){this.insertEdge(e);var t=e.getCoordinates();this.insertPoint(this._argIndex,t[0],k.BOUNDARY),this.insertPoint(this._argIndex,t[t.length-1],k.BOUNDARY)},t.prototype.addLineString=function(e){var t=Te.removeRepeatedPoints(e.getCoordinates());if(t.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=t[0],null;var n=new nr(t,new At(this._argIndex,k.INTERIOR));this._lineEdgeMap.put(e,n),this.insertEdge(n),te.isTrue(t.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,t[0]),this.insertBoundaryPoint(this._argIndex,t[t.length-1])},t.prototype.getInvalidPoint=function(){return this._invalidPoint},t.prototype.getBoundaryPoints=function(){for(var e=this.getBoundaryNodes(),t=new Array(e.size()).fill(null),n=0,r=e.iterator();r.hasNext();){var i=r.next();t[n++]=i.getCoordinate().copy()}return t},t.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},t.prototype.addSelfIntersectionNode=function(e,t,n){if(this.isBoundaryNode(e,t))return null;n===k.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,n)},t.prototype.addPolygonRing=function(e,t,n){if(e.isEmpty())return null;var r=Te.removeRepeatedPoints(e.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=t,o=n;se.isCCW(r)&&(i=n,o=t);var a=new nr(r,new At(this._argIndex,k.BOUNDARY,i,o));this._lineEdgeMap.put(e,a),this.insertEdge(a),this.insertPoint(this._argIndex,r[0],k.BOUNDARY)},t.prototype.insertPoint=function(e,t,n){var r=this._nodes.addNode(t),i=r.getLabel();null===i?r._label=new At(e,n):i.setLocation(e,n)},t.prototype.createEdgeSetIntersector=function(){return new hi},t.prototype.addSelfIntersectionNodes=function(e){for(var t=this._edges.iterator();t.hasNext();)for(var n=t.next(),r=n.getLabel().getLocation(e),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(e,o.coord,r)}},t.prototype.add=function(){if(1!==arguments.length)return e.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof nt&&(this._useBoundaryDeterminationRule=!1),t instanceof Qe)this.addPolygon(t);else if(t instanceof Xe)this.addLineString(t);else if(t instanceof Ke)this.addPoint(t);else if(t instanceof et)this.addCollection(t);else if(t instanceof qe)this.addCollection(t);else if(t instanceof nt)this.addCollection(t);else{if(!(t instanceof Ue))throw new Error(t.getClass().getName());this.addCollection(t)}},t.prototype.addCollection=function(e){for(var t=0;t<e.getNumGeometries();t++){var n=e.getGeometryN(t);this.add(n)}},t.prototype.locate=function(e){return L(this._parentGeom,Je)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _i(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)},t.prototype.findEdge=function(){if(1===arguments.length){var t=arguments[0];return this._lineEdgeMap.get(t)}return e.prototype.findEdge.apply(this,arguments)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t.determineBoundary=function(e,t){return e.isInBoundary(t)?k.BOUNDARY:k.INTERIOR},t}(Vt),Si=function(){if(this._li=new ie,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ei(0,e)}else if(2===arguments.length){var t=arguments[0],n=arguments[1],r=fe.OGC_SFS_BOUNDARY_RULE;t.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(t.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ei(0,t,r),this._arg[1]=new Ei(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ei(0,i,a),this._arg[1]=new Ei(1,o,a)}};Si.prototype.getArgGeometry=function(e){return this._arg[e].getGeometry()},Si.prototype.setComputationPrecision=function(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si};var Ci=function(){};Ci.prototype.interfaces_=function(){return[]},Ci.prototype.getClass=function(){return Ci},Ci.map=function(){if(arguments[0]instanceof ce&&L(arguments[1],Ci.MapOp)){for(var e=arguments[0],t=arguments[1],n=new Ee,r=0;r<e.getNumGeometries();r++){var i=t.map(e.getGeometryN(r));null!==i&&n.add(i)}return e.getFactory().buildGeometry(n)}if(L(arguments[0],be)&&L(arguments[1],Ci.MapOp)){for(var o=arguments[0],a=arguments[1],s=new Ee,l=o.iterator();l.hasNext();){var u=l.next(),c=a.map(u);null!==c&&s.add(c)}return s}},Ci.MapOp=function(){};var Ti=function(e){function t(){var t=arguments[0],n=arguments[1];e.call(this,t,n),this._ptLocator=new Cr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Wn,this._resultPolyList=new Ee,this._resultLineList=new Ee,this._resultPointList=new Ee,this._graph=new Vt(new Gn),this._geomFact=t.getFactory()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.insertUniqueEdge=function(e){var t=this._edgeList.findEqualEdge(e);if(null!==t){var n=t.getLabel(),r=e.getLabel();t.isPointwiseEqual(e)||(r=new At(e.getLabel())).flip();var i=t.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(e)},t.prototype.getGraph=function(){return this._graph},t.prototype.cancelDuplicateResultEdges=function(){for(var e=this._graph.getEdgeEnds().iterator();e.hasNext();){var t=e.next(),n=t.getSym();t.isInResult()&&n.isInResult()&&(t.setInResult(!1),n.setInResult(!1))}},t.prototype.isCoveredByLA=function(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)},t.prototype.computeGeometry=function(e,n,r,i){var o=new Ee;return o.addAll(e),o.addAll(n),o.addAll(r),o.isEmpty()?t.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},t.prototype.mergeSymLabels=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().mergeSymLabels()},t.prototype.isCovered=function(e,t){for(var n=t.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(e,r)!==k.EXTERIOR)return!0}return!1},t.prototype.replaceCollapsedEdges=function(){for(var e=new Ee,t=this._edgeList.iterator();t.hasNext();){var n=t.next();n.isCollapsed()&&(t.remove(),e.add(n.getCollapsedEdge()))}this._edgeList.addAll(e)},t.prototype.updateNodeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getEdges().getLabel();t.getLabel().merge(n)}},t.prototype.getResultGeometry=function(e){return this.computeOverlay(e),this._resultGeom},t.prototype.insertUniqueEdges=function(e){for(var t=e.iterator();t.hasNext();){var n=t.next();this.insertUniqueEdge(n)}},t.prototype.computeOverlay=function(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var t=new Ee;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t),this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Vr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();var n=new Gt(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Hr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(e);var i=new Wr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)},t.prototype.labelIncompleteNode=function(e,t){var n=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,n)},t.prototype.copyPoints=function(e){for(var t=this._arg[e].getNodeIterator();t.hasNext();){var n=t.next();this._graph.addNode(n.getCoordinate()).setLabel(e,n.getLabel().getLocation(e))}},t.prototype.findResultAreaEdges=function(e){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&t.isResultOfOp(i.getLocation(0,Ct.RIGHT),i.getLocation(1,Ct.RIGHT),e)&&r.setInResult(!0)}},t.prototype.computeLabelsFromDepths=function(){for(var e=this._edgeList.iterator();e.hasNext();){var t=e.next(),n=t.getLabel(),r=t.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(te.isTrue(!r.isNull(i,Ct.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Ct.LEFT,r.getLocation(i,Ct.LEFT)),te.isTrue(!r.isNull(i,Ct.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Ct.RIGHT,r.getLocation(i,Ct.RIGHT))))}}},t.prototype.computeLabelling=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();)e.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},t.prototype.labelIncompleteNodes=function(){for(var e=this._graph.getNodes().iterator();e.hasNext();){var t=e.next(),n=t.getLabel();t.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(t,0):this.labelIncompleteNode(t,1)),t.getEdges().updateLabelling(n)}},t.prototype.isCoveredByA=function(e){return!!this.isCovered(e,this._resultPolyList)},t.prototype.interfaces_=function(){return[]},t.prototype.getClass=function(){return t},t}(Si);Ti.overlayOp=function(e,t,n){return new Ti(e,t).getResultGeometry(n)},Ti.intersection=function(e,t){if(e.isEmpty()||t.isEmpty())return Ti.createEmptyResult(Ti.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){var n=t;return Gr.map(e,{interfaces_:function(){return[Ci.MapOp]},map:function(e){return e.intersection(n)}})}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Ti.INTERSECTION)},Ti.symDifference=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Ti.createEmptyResult(Ti.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Ti.SYMDIFFERENCE)},Ti.resultDimension=function(e,t,n){var r=t.getDimension(),i=n.getDimension(),o=-1;switch(e){case Ti.INTERSECTION:o=Math.min(r,i);break;case Ti.UNION:o=Math.max(r,i);break;case Ti.DIFFERENCE:o=r;break;case Ti.SYMDIFFERENCE:o=Math.max(r,i)}return o},Ti.createEmptyResult=function(e,t,n,r){var i=null;switch(Ti.resultDimension(e,t,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Ti.difference=function(e,t){return e.isEmpty()?Ti.createEmptyResult(Ti.DIFFERENCE,e,t,e.getFactory()):t.isEmpty()?e.copy():(e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Ti.DIFFERENCE))},Ti.isResultOfOp=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=e.getLocation(0),r=e.getLocation(1);return Ti.isResultOfOp(n,r,t)}if(3===arguments.length){var i=arguments[0],o=arguments[1],a=arguments[2];switch(i===k.BOUNDARY&&(i=k.INTERIOR),o===k.BOUNDARY&&(o=k.INTERIOR),a){case Ti.INTERSECTION:return i===k.INTERIOR&&o===k.INTERIOR;case Ti.UNION:return i===k.INTERIOR||o===k.INTERIOR;case Ti.DIFFERENCE:return i===k.INTERIOR&&o!==k.INTERIOR;case Ti.SYMDIFFERENCE:return i===k.INTERIOR&&o!==k.INTERIOR||i!==k.INTERIOR&&o===k.INTERIOR}return!1}},Ti.INTERSECTION=1,Ti.UNION=2,Ti.DIFFERENCE=3,Ti.SYMDIFFERENCE=4;var Ii=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Cr,this._seg=new mn;var e=arguments[0],t=arguments[1];this._g=e,this._boundaryDistanceTolerance=t,this._linework=this.extractLinework(e)};Ii.prototype.isWithinToleranceOfBoundary=function(e){for(var t=0;t<this._linework.getNumGeometries();t++)for(var n=this._linework.getGeometryN(t).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(e)<=this._boundaryDistanceTolerance)return!0;return!1},Ii.prototype.getLocation=function(e){return this.isWithinToleranceOfBoundary(e)?k.BOUNDARY:this._ptLocator.locate(e,this._g)},Ii.prototype.extractLinework=function(e){var t=new ki;e.apply(t);var n=t.getLinework(),r=yt.toLineStringArray(n);return e.getFactory().createMultiLineString(r)},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii};var ki=function(){this._linework=null,this._linework=new Ee};ki.prototype.getLinework=function(){return this._linework},ki.prototype.filter=function(e){if(e instanceof Qe){var t=e;this._linework.add(t.getExteriorRing());for(var n=0;n<t.getNumInteriorRing();n++)this._linework.add(t.getInteriorRingN(n))}},ki.prototype.interfaces_=function(){return[je]},ki.prototype.getClass=function(){return ki};var Pi=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var e=arguments[0];this._g=e};Pi.prototype.extractPoints=function(e,t,n){for(var r=e.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],t,n)},Pi.prototype.setSidesToGenerate=function(e,t){this._doLeft=e,this._doRight=t},Pi.prototype.getPoints=function(e){for(var t=new Ee,n=Sr.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,e,t)}return t},Pi.prototype.computeOffsetPoints=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,a=Math.sqrt(i*i+o*o),s=n*i/a,l=n*o/a,u=(t.x+e.x)/2,c=(t.y+e.y)/2;if(this._doLeft){var h=new S(u-l,c+s);r.add(h)}if(this._doRight){var p=new S(u+l,c-s);r.add(p)}},Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi};var Li=function e(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=e.TOLERANCE,this._testCoords=new Ee;var t=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=e.computeBoundaryDistanceTolerance(t,n),this._geom=[t,n,r],this._locFinder=[new Ii(this._geom[0],this._boundaryDistanceTolerance),new Ii(this._geom[1],this._boundaryDistanceTolerance),new Ii(this._geom[2],this._boundaryDistanceTolerance)]},Mi={TOLERANCE:{configurable:!0}};Li.prototype.reportResult=function(e,t,n){V.out.println("Overlay result invalid - A:"+k.toLocationSymbol(t[0])+" B:"+k.toLocationSymbol(t[1])+" expected:"+(n?"i":"e")+" actual:"+k.toLocationSymbol(t[2]))},Li.prototype.isValid=function(e){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(e)},Li.prototype.checkValid=function(){if(1===arguments.length){for(var e=arguments[0],t=0;t<this._testCoords.size();t++){var n=this._testCoords.get(t);if(!this.checkValid(e,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Li.hasLocation(this._location,k.BOUNDARY)||this.isValidResult(r,this._location)}},Li.prototype.addTestPts=function(e){var t=new Pi(e);this._testCoords.addAll(t.getPoints(5*this._boundaryDistanceTolerance))},Li.prototype.isValidResult=function(e,t){var n=Ti.isResultOfOp(t[0],t[1],e),r=!(n^t[2]===k.INTERIOR);return r||this.reportResult(e,t,n),r},Li.prototype.getInvalidLocation=function(){return this._invalidLocation},Li.prototype.interfaces_=function(){return[]},Li.prototype.getClass=function(){return Li},Li.hasLocation=function(e,t){for(var n=0;n<3;n++)if(e[n]===t)return!0;return!1},Li.computeBoundaryDistanceTolerance=function(e,t){return Math.min(Yr.computeSizeBasedSnapTolerance(e),Yr.computeSizeBasedSnapTolerance(t))},Li.isValid=function(e,t,n,r){return new Li(e,t,r).isValid(n)},Mi.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Li,Mi);var Ai=function e(t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=e.extractFactory(t),this._inputGeoms=t};Ai.prototype.extractElements=function(e,t){if(null===e)return null;for(var n=0;n<e.getNumGeometries();n++){var r=e.getGeometryN(n);this._skipEmpty&&r.isEmpty()||t.add(r)}},Ai.prototype.combine=function(){for(var e=new Ee,t=this._inputGeoms.iterator();t.hasNext();){var n=t.next();this.extractElements(n,e)}return 0===e.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(e)},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.combine=function(){if(1===arguments.length)return new Ai(arguments[0]).combine();if(2===arguments.length){var e=arguments[0],t=arguments[1];return new Ai(Ai.createList(e,t)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Ai(Ai.createList(n,r,i)).combine()}},Ai.extractFactory=function(e){return e.isEmpty()?null:e.iterator().next().getFactory()},Ai.createList=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1],n=new Ee;return n.add(e),n.add(t),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],a=new Ee;return a.add(r),a.add(i),a.add(o),a}};var Oi=function(){this._inputPolys=null,this._geomFactory=null;var e=arguments[0];this._inputPolys=e,null===this._inputPolys&&(this._inputPolys=new Ee)},Ri={STRTREE_NODE_CAPACITY:{configurable:!0}};Oi.prototype.reduceToGeometries=function(e){for(var t=new Ee,n=e.iterator();n.hasNext();){var r=n.next(),i=null;L(r,we)?i=this.unionTree(r):r instanceof ce&&(i=r),t.add(i)}return t},Oi.prototype.extractByEnvelope=function(e,t,n){for(var r=new Ee,i=0;i<t.getNumGeometries();i++){var o=t.getGeometryN(i);o.getEnvelopeInternal().intersects(e)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Oi.prototype.unionOptimized=function(e,t){var n=e.getEnvelopeInternal(),r=t.getEnvelopeInternal();if(!n.intersects(r))return Ai.combine(e,t);if(e.getNumGeometries()<=1&&t.getNumGeometries()<=1)return this.unionActual(e,t);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(e,t,i)},Oi.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var e=new an(Oi.STRTREE_NODE_CAPACITY),t=this._inputPolys.iterator();t.hasNext();){var n=t.next();e.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=e.itemsTree();return this.unionTree(r)},Oi.prototype.binaryUnion=function(){if(1===arguments.length){var e=arguments[0];return this.binaryUnion(e,0,e.size())}if(3===arguments.length){var t=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Oi.getGeometry(t,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Oi.getGeometry(t,n),Oi.getGeometry(t,n+1));var o=Math.trunc((r+n)/2),a=this.binaryUnion(t,n,o),s=this.binaryUnion(t,o,r);return this.unionSafe(a,s)}},Oi.prototype.repeatedUnion=function(e){for(var t=null,n=e.iterator();n.hasNext();){var r=n.next();t=null===t?r.copy():t.union(r)}return t},Oi.prototype.unionSafe=function(e,t){return null===e&&null===t?null:null===e?t.copy():null===t?e.copy():this.unionOptimized(e,t)},Oi.prototype.unionActual=function(e,t){return Oi.restrictToPolygons(e.union(t))},Oi.prototype.unionTree=function(e){var t=this.reduceToGeometries(e);return this.binaryUnion(t)},Oi.prototype.unionUsingEnvelopeIntersection=function(e,t,n){var r=new Ee,i=this.extractByEnvelope(n,e,r),o=this.extractByEnvelope(n,t,r),a=this.unionActual(i,o);return r.add(a),Ai.combine(r)},Oi.prototype.bufferUnion=function(){if(1===arguments.length){var e=arguments[0];return e.get(0).getFactory().buildGeometry(e).buffer(0)}if(2===arguments.length){var t=arguments[0],n=arguments[1];return t.getFactory().createGeometryCollection([t,n]).buffer(0)}},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi},Oi.restrictToPolygons=function(e){if(L(e,Je))return e;var t=Er.getPolygons(e);return 1===t.size()?t.get(0):e.getFactory().createMultiPolygon(yt.toPolygonArray(t))},Oi.getGeometry=function(e,t){return t>=e.size()?null:e.get(t)},Oi.union=function(e){return new Oi(e).union()},Ri.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Oi,Ri);var Ni=function(){};Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.union=function(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return Ti.createEmptyResult(Ti.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}return e.checkNotGeometryCollection(e),e.checkNotGeometryCollection(t),oi.overlayOp(e,t,Ti.UNION)},e.GeoJSONReader=Et,e.GeoJSONWriter=St,e.OverlayOp=Ti,e.UnionOp=Ni,e.BufferOp=mr,Object.defineProperty(e,"__esModule",{value:!0})}(t)},24613:function(e){e.exports=function(){"use strict";var e,t,n;function r(r,i){if(e)if(t){var o="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=i(a),"undefined"!=typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([o],{type:"text/javascript"})))}else t=i;else e=i}return r(0,(function(e){var t=n;function n(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}function r(e,n,r,i){const o=new t(e,n,r,i);return function(e){return o.solve(e)}}n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};const i=r(.25,.1,.25,1);function o(e,t,n){return Math.min(n,Math.max(t,e))}function a(e,t,n){const r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function s(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let l=1;function u(e,t){e.forEach((e=>{t[e]&&(t[e]=t[e].bind(t))}))}function c(e,t,n){const r={};for(const i in e)r[i]=t.call(n||this,e[i],i,e);return r}function h(e,t,n){const r={};for(const i in e)t.call(n||this,e[i],i,e)&&(r[i]=e[i]);return r}function p(e){return Array.isArray(e)?e.map(p):"object"==typeof e&&e?c(e,p):e}const d={};function f(e){d[e]||("undefined"!=typeof console&&console.warn(e),d[e]=!0)}function m(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function g(e){let t=0;for(let n,r,i=0,o=e.length,a=o-1;i<o;a=i++)n=e[i],r=e[a],t+=(r.x-n.x)*(n.y+r.y);return t}function y(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}function v(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,r,i)=>{const o=r||i;return t[n]=!o||o.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t}let _,b,x=null;function w(e){if(null==x){const t=e.navigator?e.navigator.userAgent:null;x=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return x}function E(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const S={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e){const t=requestAnimationFrame(e);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(e,t=0){const n=window.document.createElement("canvas"),r=n.getContext("2d");if(!r)throw new Error("failed to create canvas 2d context");return n.width=e.width,n.height=e.height,r.drawImage(e,0,0,e.width,e.height),r.getImageData(-t,-t,e.width+2*t,e.height+2*t)},resolveURL:e=>(_||(_=document.createElement("a")),_.href=e,_.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==b&&(b=matchMedia("(prefers-reduced-motion: reduce)")),b.matches)}};var C=T;function T(e,t){this.x=e,this.y=t}T.prototype={clone:function(){return new T(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},T.convert=function(e){return e instanceof T?e:Array.isArray(e)?new T(e[0],e[1]):e};const I={MAX_PARALLEL_IMAGE_REQUESTS:16,REGISTERED_PROTOCOLS:{}},k="mapbox-tiles";let P,L=500,M=50;function A(){"undefined"==typeof caches||P||(P=caches.open(k))}let O=1/0;const R={supported:!1,testSupport:function(e){!z&&D&&(F?B(e):N=e)}};let N,D,z=!1,F=!1;function B(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,D),e.isContextLost())return;R.supported=!0}catch(e){}e.deleteTexture(t),z=!0}"undefined"!=typeof document&&(D=document.createElement("img"),D.onload=function(){N&&B(N),N=null,F=!0},D.onerror=function(){z=!0,N=null},D.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const j={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};"function"==typeof Object.freeze&&Object.freeze(j);class Z extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}}const U=y()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href;function q(e,t){const n=new AbortController,r=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,referrer:U(),signal:n.signal});let i=!1,o=!1;return"json"===e.type&&r.headers.set("Accept","application/json"),((n,a,s)=>{if(o)return;Date.now();fetch(r).then((n=>n.ok?((n,r,a)=>{("arrayBuffer"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((e=>{o||(i=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((e=>{o||t(new Error(e.message))}))})(n):n.blob().then((r=>t(new Z(n.status,n.statusText,e.url,r)))))).catch((e=>{20!==e.code&&t(new Error(e.message))}))})(),{cancel:()=>{o=!0,i||n.abort()}}}const V=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!y()){const n=e.url.substring(0,e.url.indexOf("://"));return(I.REGISTERED_PROTOCOLS[n]||q)(e,t)}}if(!(/^file:/.test(n=e.url)||/^file:/.test(U())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return q(e,t);if(y()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"===e.type&&(n.responseType="arraybuffer");for(const t in e.headers)n.setRequestHeader(t,e.headers[t]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let r=n.response;if("json"===e.type)try{r=JSON.parse(n.response)}catch(e){return t(e)}t(null,r,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{const r=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new Z(n.status,n.statusText,e.url,r))}},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},G=function(e,t){return V(s(e,{type:"arrayBuffer"}),t)};function H(e){const t=window.document.createElement("a");return t.href=e,t.protocol===window.document.location.protocol&&t.host===window.document.location.host}const W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let $,X;$=[],X=0;const Y=function(e,t){if(R.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),X>=I.MAX_PARALLEL_IMAGE_REQUESTS){const n={requestParameters:e,callback:t,cancelled:!1,cancel(){this.cancelled=!0}};return $.push(n),n}X++;let n=!1;const r=()=>{if(!n)for(n=!0,X--;$.length&&X<I.MAX_PARALLEL_IMAGE_REQUESTS;){const e=$.shift(),{requestParameters:t,callback:n,cancelled:r}=e;r||(e.cancel=Y(t,n).cancel)}},i=G(e,((e,n,i,o)=>{r(),e?t(e):n&&function(e,t){"function"==typeof createImageBitmap?function(e,t){const n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then((e=>{t(null,e)})).catch((e=>{t(new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))}))}(e,t):function(e,t){const n=new Image;n.onload=()=>{t(null,n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((()=>{n.src=W}))},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const r=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(r):W}(e,t)}(n,((e,n)=>{null!=e?t(e):null!=n&&t(null,n,{cacheControl:i,expires:o})}))}));return{cancel:()=>{i.cancel(),r()}}};function K(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function J(e,t,n){if(n&&n[e]){const r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}class Q{constructor(e,t={}){s(this,t),this.type=e}}class ee extends Q{constructor(e,t={}){super("error",s({error:e},t))}}class te{on(e,t){return this._listeners=this._listeners||{},K(e,t,this._listeners),this}off(e,t){return J(e,t,this._listeners),J(e,t,this._oneTimeListeners),this}once(e,t){return this._oneTimeListeners=this._oneTimeListeners||{},K(e,t,this._oneTimeListeners),this}fire(e,t){"string"==typeof e&&(e=new Q(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const t of r)J(n,t,this._oneTimeListeners),t.call(this,e);const i=this._eventedParent;i&&(s(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof ee&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var ne={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1},elevationOffset:{type:"number",default:450}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class re{constructor(e,t,n,r){this.message=(e?`${e}: `:"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)}}function ie(e){const t=e.value;return t?[new re(e.key,t,"constants have been deprecated as of v8")]:[]}function oe(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}function ae(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function se(e){if(Array.isArray(e))return e.map(se);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=se(e[n]);return t}return ae(e)}class le extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ue{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[e,n]of t)this.bindings[e]=n}concat(e){return new ue(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const ce={kind:"null"},he={kind:"number"},pe={kind:"string"},de={kind:"boolean"},fe={kind:"color"},me={kind:"object"},ge={kind:"value"},ye={kind:"collator"},ve={kind:"formatted"},_e={kind:"padding"},be={kind:"resolvedImage"};function xe(e,t){return{kind:"array",itemType:e,N:t}}function we(e){if("array"===e.kind){const t=we(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const Ee=[ce,he,pe,de,fe,ve,me,xe(ge),_e,be];function Se(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Se(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Ee)if(!Se(e,t))return null}return`Expected ${we(e)} but found ${we(t)} instead.`}function Ce(e,t){return t.some((t=>t.kind===e.kind))}function Te(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}var Ie,ke={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Pe(e){return(e=Math.round(e))<0?0:e>255?255:e}function Le(e){return Pe("%"===e[e.length-1]?parseFloat(e)/100*255:parseInt(e))}function Me(e){return(t="%"===e[e.length-1]?parseFloat(e)/100:parseFloat(e))<0?0:t>1?1:t;var t}function Ae(e,t,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}try{Ie={}.parseCSSColor=function(e){var t,n=e.replace(/ /g,"").toLowerCase();if(n in ke)return ke[n].slice();if("#"===n[0])return 4===n.length?(t=parseInt(n.substr(1),16))>=0&&t<=4095?[(3840&t)>>4|(3840&t)>>8,240&t|(240&t)>>4,15&t|(15&t)<<4,1]:null:7===n.length&&(t=parseInt(n.substr(1),16))>=0&&t<=16777215?[(16711680&t)>>16,(65280&t)>>8,255&t,1]:null;var r=n.indexOf("("),i=n.indexOf(")");if(-1!==r&&i+1===n.length){var o=n.substr(0,r),a=n.substr(r+1,i-(r+1)).split(","),s=1;switch(o){case"rgba":if(4!==a.length)return null;s=Me(a.pop());case"rgb":return 3!==a.length?null:[Le(a[0]),Le(a[1]),Le(a[2]),s];case"hsla":if(4!==a.length)return null;s=Me(a.pop());case"hsl":if(3!==a.length)return null;var l=(parseFloat(a[0])%360+360)%360/360,u=Me(a[1]),c=Me(a[2]),h=c<=.5?c*(u+1):c+u-c*u,p=2*c-h;return[Pe(255*Ae(p,h,l+1/3)),Pe(255*Ae(p,h,l)),Pe(255*Ae(p,h,l-1/3)),s];default:return null}}return null}}catch(e){}class Oe{constructor(e,t,n,r=1){this.r=e,this.g=t,this.b=n,this.a=r}static parse(e){if(!e)return;if(e instanceof Oe)return e;if("string"!=typeof e)return;const t=Ie(e);return t?new Oe(t[0]/255*t[3],t[1]/255*t[3],t[2]/255*t[3],t[3]):void 0}toString(){const[e,t,n,r]=this.toArray();return`rgba(${Math.round(e)},${Math.round(t)},${Math.round(n)},${r})`}toArray(){const{r:e,g:t,b:n,a:r}=this;return 0===r?[0,0,0,0]:[255*e/r,255*t/r,255*n/r,r]}}Oe.black=new Oe(0,0,0,1),Oe.white=new Oe(1,1,1,1),Oe.transparent=new Oe(0,0,0,0),Oe.red=new Oe(1,0,0,1);class Re{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ne{constructor(e,t,n,r,i){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i}}class De{constructor(e){this.sections=e}static fromString(e){return new De([new Ne(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof De?e:De.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}}class ze{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof ze)return e;if("number"==typeof e)return new ze([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new ze(e)}}toString(){return JSON.stringify(this.values)}}class Fe{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Fe({name:e,available:!1}):null}}function Be(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function je(e){if(null===e)return!0;if("string"==typeof e)return!0;if("boolean"==typeof e)return!0;if("number"==typeof e)return!0;if(e instanceof Oe)return!0;if(e instanceof Re)return!0;if(e instanceof De)return!0;if(e instanceof ze)return!0;if(e instanceof Fe)return!0;if(Array.isArray(e)){for(const t of e)if(!je(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!je(e[t]))return!1;return!0}return!1}function Ze(e){if(null===e)return ce;if("string"==typeof e)return pe;if("boolean"==typeof e)return de;if("number"==typeof e)return he;if(e instanceof Oe)return fe;if(e instanceof Re)return ye;if(e instanceof De)return ve;if(e instanceof ze)return _e;if(e instanceof Fe)return be;if(Array.isArray(e)){const t=e.length;let n;for(const t of e){const e=Ze(t);if(n){if(n===e)continue;n=ge;break}n=e}return xe(n||ge,t)}return me}function Ue(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Oe||e instanceof De||e instanceof ze||e instanceof Fe?e.toString():JSON.stringify(e)}class qe{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!je(e[1]))return t.error("invalid value");const n=e[1];let r=Ze(n);const i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new qe(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class Ve{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const Ge={string:pe,number:he,boolean:de,object:me};class He{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in Ge)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=Ge[n],r++}else i=ge;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=xe(i,o)}else{if(!Ge[i])throw new Error(`Types doesn't contain name = ${i}`);n=Ge[i]}const o=[];for(;r<e.length;r++){const n=t.parse(e[r],r,ge);if(!n)return null;o.push(n)}return new He(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Se(this.type,Ze(n)))return n;if(t===this.args.length-1)throw new Ve(`Expected value to be of type ${we(this.type)}, but found ${we(Ze(n))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const We={"to-boolean":de,"to-color":fe,"to-number":he,"to-string":pe};class $e{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!We[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=We[n],i=[];for(let n=1;n<e.length;n++){const r=t.parse(e[n],n,ge);if(!r)return null;i.push(r)}return new $e(r,i)}evaluate(e){if("boolean"===this.type.kind)return Boolean(this.args[0].evaluate(e));if("color"===this.type.kind){let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof Oe)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rbga value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Be(t[0],t[1],t[2],t[3]),!n))return new Oe(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Ve(n||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}if("padding"===this.type.kind){let t;for(const n of this.args){t=n.evaluate(e);const r=ze.parse(t);if(r)return r}throw new Ve(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}if("number"===this.type.kind){let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Ve(`Could not convert ${JSON.stringify(t)} to number.`)}return"formatted"===this.type.kind?De.fromString(Ue(this.args[0].evaluate(e))):"resolvedImage"===this.type.kind?Fe.fromString(Ue(this.args[0].evaluate(e))):Ue(this.args[0].evaluate(e))}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const Xe=["Unknown","Point","LineString","Polygon"];class Ye{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Xe[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Oe.parse(e)),t}}class Ke{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],r=Ke.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter((([t])=>!Array.isArray(t)||t.length===e.length-1));let s=null;for(const[r,o]of a){s=new bt(t.registry,t.path,null,t.scope);const a=[];let l=!1;for(let t=1;t<e.length;t++){const n=e[t],i=Array.isArray(r)?r[t-1]:r.type,o=s.parse(n,1+a.length,i);if(!o){l=!0;break}a.push(o)}if(!l)if(Array.isArray(r)&&r.length!==a.length)s.error(`Expected ${r.length} arguments, but found ${a.length} instead.`);else{for(let e=0;e<a.length;e++){const t=Array.isArray(r)?r[e]:r.type,n=a[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Ke(n,i,o,a)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map((([e])=>{return t=e,Array.isArray(t)?`(${t.map(we).join(", ")})`:`(${we(t.type)}...)`;var t})).join(" | "),r=[];for(let n=1;n<e.length;n++){const i=t.parse(e[n],1+r.length);if(!i)return null;r.push(we(i.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){Ke.definitions=t;for(const n in t)e[n]=Ke}}class Je{constructor(e,t,n){this.type=ye,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,de);if(!r)return null;const i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,de);if(!i)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,pe),!o)?null:new Je(r,i,o)}evaluate(e){return new Re(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}const Qe=8192;function et(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function tt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function nt(e,t){const n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*Qe),Math.round(r*i*Qe)]}function rt(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function it(e,t){let n=!1;for(let a=0,s=t.length;a<s;a++){const s=t[a];for(let t=0,a=s.length;t<a-1;t++){if(rt(e,s[t],s[t+1]))return!1;(i=s[t])[1]>(r=e)[1]!=(o=s[t+1])[1]>r[1]&&r[0]<(o[0]-i[0])*(r[1]-i[1])/(o[1]-i[1])+i[0]&&(n=!n)}}var r,i,o;return n}function ot(e,t){for(let n=0;n<t.length;n++)if(it(e,t[n]))return!0;return!1}function at(e,t,n,r){const i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function st(e,t,n){for(const u of n)for(let n=0;n<u.length-1;++n)if(0!=(s=[(a=u[n+1])[0]-(o=u[n])[0],a[1]-o[1]])[0]*(l=[(i=t)[0]-(r=e)[0],i[1]-r[1]])[1]-s[1]*l[0]&&at(r,i,o,a)&&at(o,a,r,i))return!0;var r,i,o,a,s,l;return!1}function lt(e,t){for(let n=0;n<e.length;++n)if(!it(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(st(e[n],e[n+1],t))return!1;return!0}function ut(e,t){for(let n=0;n<t.length;n++)if(lt(e,t[n]))return!0;return!1}function ct(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<e[i].length;r++){const a=nt(e[i][r],n);et(t,a),o.push(a)}r.push(o)}return r}function ht(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=ct(e[i],t,n);r.push(o)}return r}function pt(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let i=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===i&&(i=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=i}et(t,e)}function dt(e,t,n,r){const i=Math.pow(2,r.z)*Qe,o=[r.x*Qe,r.y*Qe],a=[];for(const r of e)for(const e of r){const r=[e.x+o[0],e.y+o[1]];pt(r,t,n,i),a.push(r)}return a}function ft(e,t,n,r){const i=Math.pow(2,r.z)*Qe,o=[r.x*Qe,r.y*Qe],a=[];for(const n of e){const e=[];for(const r of n){const n=[r.x+o[0],r.y+o[1]];et(t,n),e.push(n)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const r of e)pt(r,t,n,i)}var s;return a}class mt{constructor(e,t){this.type=de,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(je(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new mt(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new mt(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new mt(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=ct(t.coordinates,r,i),a=dt(e.geometry(),n,r,i);if(!tt(n,r))return!1;for(const e of a)if(!it(e,o))return!1}if("MultiPolygon"===t.type){const o=ht(t.coordinates,r,i),a=dt(e.geometry(),n,r,i);if(!tt(n,r))return!1;for(const e of a)if(!ot(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=ct(t.coordinates,r,i),a=ft(e.geometry(),n,r,i);if(!tt(n,r))return!1;for(const e of a)if(!lt(e,o))return!1}if("MultiPolygon"===t.type){const o=ht(t.coordinates,r,i),a=ft(e.geometry(),n,r,i);if(!tt(n,r))return!1;for(const e of a)if(!ut(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}function gt(e){if(e instanceof Ke){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof mt)return!1;let t=!0;return e.eachChild((e=>{t&&!gt(e)&&(t=!1)})),t}function yt(e){if(e instanceof Ke&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!yt(e)&&(t=!1)})),t}function vt(e,t){if(e instanceof Ke&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!vt(e,t)&&(n=!1)})),n}class _t{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new _t(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class bt{constructor(e,t=[],n,r=new ue,i=[]){this.registry=e,this.path=t,this.key=t.map((e=>`[${e}]`)).join(""),this.scope=r,this.errors=i,this.expectedType=n}parse(e,t,n,r,i={}){return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}_parse(e,t){function n(e,t,n){return"assert"===n?new He(t,[e]):"coerce"===n?new $e(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,i=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==i.kind&&"string"!==i.kind)if("padding"!==e.kind||"value"!==i.kind&&"number"!==i.kind&&"array"!==i.kind){if(this.checkSubtype(e,i))return null}else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"coerce");else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof qe)&&"resolvedImage"!==r.type.kind&&xt(r)){const t=new Ye;try{r=new qe(r.type,r.evaluate(t))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new bt(this.registry,r,t||null,i,this.errors)}error(e,...t){const n=`${this.key}${t.map((e=>`[${e}]`)).join("")}`;this.errors.push(new le(n,e))}checkSubtype(e,t){const n=Se(e,t);return n&&this.error(n),n}}function xt(e){if(e instanceof _t)return xt(e.boundExpression);if(e instanceof Ke&&"error"===e.name)return!1;if(e instanceof Je)return!1;if(e instanceof mt)return!1;const t=e instanceof $e||e instanceof He;let n=!0;return e.eachChild((e=>{n=t?n&&xt(e):n&&e instanceof qe})),!!n&&gt(e)&&vt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function wt(e,t){const n=e.length-1;let r,i,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),r=e[s],i=e[s+1],r<=t){if(s===n||t<i)return s;o=s+1}else{if(!(r>t))throw new Ve("Input is not a number.");a=s-1}return 0}class Et{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[e,t]of n)this.labels.push(e),this.outputs.push(t)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,he);if(!n)return null;const r=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let n=1;n<e.length;n+=2){const o=1===n?-1/0:e[n],a=e[n+1],s=n,l=n+1;if("number"!=typeof o)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=o)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const u=t.parse(a,l,i);if(!u)return null;i=i||u.type,r.push([o,u])}return new Et(i,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[wt(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function St(e,t,n){return e*(1-n)+t*n}var Ct=Object.freeze({__proto__:null,number:St,color:function(e,t,n){return new Oe(St(e.r,t.r,n),St(e.g,t.g,n),St(e.b,t.b,n),St(e.a,t.a,n))},array:function(e,t,n){return e.map(((e,r)=>St(e,t[r],n)))},padding:function(e,t,n){const r=e.values,i=t.values;return new ze([St(r[0],i[0],n),St(r[1],i[1],n),St(r[2],i[2],n),St(r[3],i[3],n)])}});const Tt=.95047,It=1.08883,kt=4/29,Pt=6/29,Lt=3*Pt*Pt,Mt=Math.PI/180,At=180/Math.PI;function Ot(e){return e>.008856451679035631?Math.pow(e,1/3):e/Lt+kt}function Rt(e){return e>Pt?e*e*e:Lt*(e-kt)}function Nt(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Dt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zt(e){const t=Dt(e.r),n=Dt(e.g),r=Dt(e.b),i=Ot((.4124564*t+.3575761*n+.1804375*r)/Tt),o=Ot((.2126729*t+.7151522*n+.072175*r)/1);return{l:116*o-16,a:500*(i-o),b:200*(o-Ot((.0193339*t+.119192*n+.9503041*r)/It)),alpha:e.a}}function Ft(e){let t=(e.l+16)/116,n=isNaN(e.a)?t:t+e.a/500,r=isNaN(e.b)?t:t-e.b/200;return t=1*Rt(t),n=Tt*Rt(n),r=It*Rt(r),new Oe(Nt(3.2404542*n-1.5371385*t-.4985314*r),Nt(-.969266*n+1.8760108*t+.041556*r),Nt(.0556434*n-.2040259*t+1.0572252*r),e.alpha)}function Bt(e,t,n){const r=t-e;return e+n*(r>180||r<-180?r-360*Math.round(r/360):r)}const jt={forward:zt,reverse:Ft,interpolate:function(e,t,n){return{l:St(e.l,t.l,n),a:St(e.a,t.a,n),b:St(e.b,t.b,n),alpha:St(e.alpha,t.alpha,n)}}},Zt={forward:function(e){const{l:t,a:n,b:r}=zt(e),i=Math.atan2(r,n)*At;return{h:i<0?i+360:i,c:Math.sqrt(n*n+r*r),l:t,alpha:e.a}},reverse:function(e){const t=e.h*Mt,n=e.c;return Ft({l:e.l,a:Math.cos(t)*n,b:Math.sin(t)*n,alpha:e.alpha})},interpolate:function(e,t,n){return{h:Bt(e.h,t.h,n),c:St(e.c,t.c,n),l:St(e.l,t.l,n),alpha:St(e.alpha,t.alpha,n)}}};var Ut=Object.freeze({__proto__:null,lab:jt,hcl:Zt});class qt{constructor(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[e,t]of i)this.labels.push(e),this.outputs.push(t)}static interpolationFactor(e,n,r,i){let o=0;if("exponential"===e.name)o=Vt(n,e.base,r,i);else if("linear"===e.name)o=Vt(n,1,r,i);else if("cubic-bezier"===e.name){const a=e.controlPoints;o=new t(a[0],a[1],a[2],a[3]).solve(Vt(n,1,r,i))}return o}static parse(e,t){let[n,r,i,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,he),!i)return null;const a=[];let s=null;"interpolate-hcl"===n||"interpolate-lab"===n?s=fe:t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType);for(let e=0;e<o.length;e+=2){const n=o[e],r=o[e+1],i=e+3,l=e+4;if("number"!=typeof n)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=n)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const u=t.parse(r,l,s);if(!u)return null;s=s||u.type,a.push([n,u])}return"number"===s.kind||"color"===s.kind||"padding"===s.kind||"array"===s.kind&&"number"===s.itemType.kind&&"number"==typeof s.N?new qt(s,n,r,i,a):t.error(`Type ${we(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);const o=wt(t,r),a=qt.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);return"interpolate"===this.operator?Ct[this.type.kind.toLowerCase()](s,l,a):"interpolate-hcl"===this.operator?Zt.reverse(Zt.interpolate(Zt.forward(s),Zt.forward(l),a)):jt.reverse(jt.interpolate(jt.forward(s),jt.forward(l),a))}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Vt(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}class Gt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const r of e.slice(1)){const e=t.parse(r,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,i.push(e)}if(!n)throw new Error("No output type");const o=r&&i.some((e=>Se(r,e.type)));return new Gt(o?ge:n,i)}evaluate(e){let t,n=null,r=0;for(const i of this.args)if(r++,n=i.evaluate(e),n&&n instanceof Fe&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}class Ht{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error(`Expected string, but found ${typeof i} instead.`,r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const o=t.parse(e[r+1],r+1);if(!o)return null;n.push([i,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new Ht(n,r):null}outputDefined(){return this.result.outputDefined()}}class Wt{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,he),r=t.parse(e[2],2,xe(t.expectedType||ge));return n&&r?new Wt(r.type.itemType,n,r):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Ve(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Ve(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Ve(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class $t{constructor(e,t){this.type=de,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ge),r=t.parse(e[2],2,ge);return n&&r?Ce(n.type,[de,pe,he,ce,ge])?new $t(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${we(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Te(t,["boolean","string","number","null"]))throw new Ve(`Expected first argument to be of type boolean, string, number or null, but found ${we(Ze(t))} instead.`);if(!Te(n,["string","array"]))throw new Ve(`Expected second argument to be of type array or string, but found ${we(Ze(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Xt{constructor(e,t,n){this.type=he,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ge),r=t.parse(e[2],2,ge);if(!n||!r)return null;if(!Ce(n.type,[de,pe,he,ce,ge]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${we(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,he);return i?new Xt(n,r,i):null}return new Xt(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Te(t,["boolean","string","number","null"]))throw new Ve(`Expected first argument to be of type boolean, string, number or null, but found ${we(Ze(t))} instead.`);if(!Te(n,["string","array"]))throw new Ve(`Expected second argument to be of type array or string, but found ${we(Ze(n))} instead.`);if(this.fromIndex){const r=this.fromIndex.evaluate(e);return n.indexOf(t,r)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Yt{constructor(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const i={},o=[];for(let a=2;a<e.length-1;a+=2){let s=e[a];const l=e[a+1];Array.isArray(s)||(s=[s]);const u=t.concat(a);if(0===s.length)return u.error("Expected at least one branch label.");for(const e of s){if("number"!=typeof e&&"string"!=typeof e)return u.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return u.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return u.error("Numeric branch labels must be integer values.");if(n){if(u.checkSubtype(n,Ze(e)))return null}else n=Ze(e);if(void 0!==i[String(e)])return u.error("Branch labels must be unique.");i[String(e)]=o.length}const c=t.parse(l,a,r);if(!c)return null;r=r||c.type,o.push(c)}const a=t.parse(e[1],1,ge);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,r);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new Yt(n,r,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ze(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}}class Kt{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let i=1;i<e.length-1;i+=2){const o=t.parse(e[i],i,de);if(!o)return null;const a=t.parse(e[i+1],i+1,n);if(!a)return null;r.push([o,a]),n=n||a.type}const i=t.parse(e[e.length-1],e.length-1,n);if(!i)return null;if(!n)throw new Error("Can't infer output type");return new Kt(n,r,i)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((([e,t])=>t.outputDefined()))&&this.otherwise.outputDefined()}}class Jt{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,ge),r=t.parse(e[2],2,he);if(!n||!r)return null;if(!Ce(n.type,[xe(ge),pe,ge]))return t.error(`Expected first argument to be of type array or string, but found ${we(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,he);return i?new Jt(n.type,n,r,i):null}return new Jt(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Te(t,["string","array"]))throw new Ve(`Expected first argument to be of type array or string, but found ${we(Ze(t))} instead.`);if(this.endIndex){const r=this.endIndex.evaluate(e);return t.slice(n,r)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function Qt(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function en(e,t,n,r){return 0===r.compare(t,n)}function tn(e,t,n){const r="=="!==e&&"!="!==e;return class i{constructor(e,t,n){this.type=de,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,ge);if(!o)return null;if(!Qt(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${we(o.type)}'.`);let a=t.parse(e[2],2,ge);if(!a)return null;if(!Qt(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${we(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${we(o.type)}' and '${we(a.type)}'.`);r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new He(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new He(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,ye),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const t=Ze(o),n=Ze(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Ve(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=Ze(o),n=Ze(a);if("string"!==e.kind||"string"!==n.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const nn=tn("==",(function(e,t,n){return t===n}),en),rn=tn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,r){return!en(0,t,n,r)})),on=tn("<",(function(e,t,n){return t<n}),(function(e,t,n,r){return r.compare(t,n)<0})),an=tn(">",(function(e,t,n){return t>n}),(function(e,t,n,r){return r.compare(t,n)>0})),sn=tn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,r){return r.compare(t,n)<=0})),ln=tn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,r){return r.compare(t,n)>=0}));class un{constructor(e,t,n,r,i){this.type=pe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,he);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=t.parse(r.locale,1,pe),!i))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,pe),!o))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,he),!a))return null;let s=null;return r["max-fraction-digits"]&&(s=t.parse(r["max-fraction-digits"],1,he),!s)?null:new un(n,i,o,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class cn{constructor(e){this.type=ve,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let i=!1;for(let n=1;n<=e.length-1;++n){const o=e[n];if(i&&"object"==typeof o&&!Array.isArray(o)){i=!1;let e=null;if(o["font-scale"]&&(e=t.parse(o["font-scale"],1,he),!e))return null;let n=null;if(o["text-font"]&&(n=t.parse(o["text-font"],1,xe(pe)),!n))return null;let a=null;if(o["text-color"]&&(a=t.parse(o["text-color"],1,fe),!a))return null;const s=r[r.length-1];s.scale=e,s.font=n,s.textColor=a}else{const o=t.parse(e[n],1,ge);if(!o)return null;const a=o.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:o,scale:null,font:null,textColor:null})}}return new cn(r)}evaluate(e){return new De(this.sections.map((t=>{const n=t.content.evaluate(e);return Ze(n)===be?new Ne("",n,null,null,null):new Ne(Ue(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}}class hn{constructor(e){this.type=be,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,pe);return n?new hn(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=Fe.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class pn{constructor(e){this.type=he,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${we(n.type)} instead.`):new pn(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new Ve(`Expected value to be of type string or array, but found ${we(Ze(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const dn={"==":nn,"!=":rn,">":an,"<":on,">=":ln,"<=":sn,array:He,at:Wt,boolean:He,case:Kt,coalesce:Gt,collator:Je,format:cn,image:hn,in:$t,"index-of":Xt,interpolate:qt,"interpolate-hcl":qt,"interpolate-lab":qt,length:pn,let:Ht,literal:qe,match:Yt,number:He,"number-format":un,object:He,slice:Jt,step:Et,string:He,"to-boolean":$e,"to-color":$e,"to-number":$e,"to-string":$e,var:_t,within:mt};function fn(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=Be(t,n,r,o);if(a)throw new Ve(a);return new Oe(t/255*o,n/255*o,r/255*o,o)}function mn(e,t){return e in t}function gn(e,t){const n=t[e];return void 0===n?null:n}function yn(e){return{type:e}}function vn(e){return{result:"success",value:e}}function _n(e){return{result:"error",value:e}}function bn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function xn(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function wn(e){return!!e.expression&&e.expression.interpolated}function En(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function Sn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Cn(e){return e}function Tn(e,t){const n="color"===t.type,r=e.stops&&"object"==typeof e.stops[0][0],i=r||!(r||void 0!==e.property),o=e.type||(wn(t)?"exponential":"interval");if(n||"padding"===t.type){const r=n?Oe.parse:ze.parse;(e=oe({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],r(e[1])]))),e.default=r(e.default?e.default:t.default)}if(e.colorSpace&&"rgb"!==e.colorSpace&&!Ut[e.colorSpace])throw new Error(`Unknown color space: ${e.colorSpace}`);let a,s,l;if("exponential"===o)a=Ln;else if("interval"===o)a=Pn;else if("categorical"===o){a=kn,s=Object.create(null);for(const t of e.stops)s[t[0]]=t[1];l=typeof e.stops[0][0]}else{if("identity"!==o)throw new Error(`Unknown function type "${o}"`);a=Mn}if(r){const n={},r=[];for(let t=0;t<e.stops.length;t++){const i=e.stops[t],o=i[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},r.push(o)),n[o].stops.push([i[0].value,i[1]])}const i=[];for(const e of r)i.push([n[e].zoom,Tn(n[e],t)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:qt.interpolationFactor.bind(void 0,o),zoomStops:i.map((e=>e[0])),evaluate:({zoom:n},r)=>Ln({stops:i,base:e.base},t,n).evaluate(n,r)}}if(i){const n="exponential"===o?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:qt.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:({zoom:n})=>a(e,t,n,s,l)}}return{kind:"source",evaluate(n,r){const i=r&&r.properties?r.properties[e.property]:void 0;return void 0===i?In(e.default,t.default):a(e,t,i,s,l)}}}function In(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function kn(e,t,n,r,i){return In(typeof n===i?r[n]:void 0,e.default,t.default)}function Pn(e,t,n){if("number"!==En(n))return In(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=wt(e.stops.map((e=>e[0])),n);return e.stops[i][1]}function Ln(e,t,n){const r=void 0!==e.base?e.base:1;if("number"!==En(n))return In(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=wt(e.stops.map((e=>e[0])),n),a=function(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1];let u=Ct[t.type]||Cn;if(e.colorSpace&&"rgb"!==e.colorSpace){const t=Ut[e.colorSpace];u=(e,n)=>t.reverse(t.interpolate(t.forward(e),t.forward(n),a))}return"function"==typeof s.evaluate?{evaluate(...e){const t=s.evaluate.apply(void 0,e),n=l.evaluate.apply(void 0,e);if(void 0!==t&&void 0!==n)return u(t,n,a)}}:u(s,l,a)}function Mn(e,t,n){switch(t.type){case"color":n=Oe.parse(n);break;case"formatted":n=De.fromString(n.toString());break;case"resolvedImage":n=Fe.fromString(n.toString());break;case"padding":n=ze.parse(n);break;default:En(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0)}return In(n,e.default,t.default)}Ke.register(dn,{error:[{kind:"error"},[pe],(e,[t])=>{throw new Ve(t.evaluate(e))}],typeof:[pe,[ge],(e,[t])=>we(Ze(t.evaluate(e)))],"to-rgba":[xe(he,4),[fe],(e,[t])=>t.evaluate(e).toArray()],rgb:[fe,[he,he,he],fn],rgba:[fe,[he,he,he,he],fn],has:{type:de,overloads:[[[pe],(e,[t])=>mn(t.evaluate(e),e.properties())],[[pe,me],(e,[t,n])=>mn(t.evaluate(e),n.evaluate(e))]]},get:{type:ge,overloads:[[[pe],(e,[t])=>gn(t.evaluate(e),e.properties())],[[pe,me],(e,[t,n])=>gn(t.evaluate(e),n.evaluate(e))]]},"feature-state":[ge,[pe],(e,[t])=>gn(t.evaluate(e),e.featureState||{})],properties:[me,[],e=>e.properties()],"geometry-type":[pe,[],e=>e.geometryType()],id:[ge,[],e=>e.id()],zoom:[he,[],e=>e.globals.zoom],"heatmap-density":[he,[],e=>e.globals.heatmapDensity||0],"line-progress":[he,[],e=>e.globals.lineProgress||0],accumulated:[ge,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[he,yn(he),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[he,yn(he),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:he,overloads:[[[he,he],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[he],(e,[t])=>-t.evaluate(e)]]},"/":[he,[he,he],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[he,[he,he],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[he,[],()=>Math.LN2],pi:[he,[],()=>Math.PI],e:[he,[],()=>Math.E],"^":[he,[he,he],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[he,[he],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[he,[he],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[he,[he],(e,[t])=>Math.log(t.evaluate(e))],log2:[he,[he],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[he,[he],(e,[t])=>Math.sin(t.evaluate(e))],cos:[he,[he],(e,[t])=>Math.cos(t.evaluate(e))],tan:[he,[he],(e,[t])=>Math.tan(t.evaluate(e))],asin:[he,[he],(e,[t])=>Math.asin(t.evaluate(e))],acos:[he,[he],(e,[t])=>Math.acos(t.evaluate(e))],atan:[he,[he],(e,[t])=>Math.atan(t.evaluate(e))],min:[he,yn(he),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[he,yn(he),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[he,[he],(e,[t])=>Math.abs(t.evaluate(e))],round:[he,[he],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[he,[he],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[he,[he],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[de,[pe,ge],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[de,[ge],(e,[t])=>e.id()===t.value],"filter-type-==":[de,[pe],(e,[t])=>e.geometryType()===t.value],"filter-<":[de,[pe,ge],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[de,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[de,[pe,ge],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[de,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[de,[pe,ge],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[de,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[de,[pe,ge],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[de,[ge],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[de,[ge],(e,[t])=>t.value in e.properties()],"filter-has-id":[de,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[de,[xe(pe)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[de,[xe(ge)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[de,[pe,xe(ge)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[de,[pe,xe(ge)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:de,overloads:[[[de,de],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[yn(de),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:de,overloads:[[[de,de],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[yn(de),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[de,[de],(e,[t])=>!t.evaluate(e)],"is-supported-script":[de,[pe],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[pe,[pe],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[pe,[pe],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[pe,yn(ge),(e,t)=>t.map((t=>Ue(t.evaluate(e)))).join("")],"resolved-locale":[pe,[ye],(e,[t])=>t.evaluate(e).resolvedLocale()]});class An{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new Ye,this._defaultValue=t?function(e){return"color"===e.type&&Sn(e.default)?new Oe(0,0,0,0):"color"===e.type?Oe.parse(e.default)||null:"padding"===e.type?ze.parse(e.default)||null:void 0===e.default?null:e.default}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,i,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Ve(`Expected value to be one of ${Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function On(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in dn}function Rn(e,t){const n=new bt(dn,[],t?function(e){const t={color:fe,string:pe,number:he,enum:pe,boolean:de,formatted:ve,padding:_e,resolvedImage:be};return"array"===e.type?xe(t[e.value]||ge,e.length):t[e.type]}(t):void 0),r=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return r?vn(new An(r,t)):_n(n.errors)}class Nn{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!yt(t.expression)}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}}class Dn{constructor(e,t,n,r){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!yt(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._styleExpression.evaluate(e,t,n,r,i,o)}interpolationFactor(e,t,n){return this.interpolationType?qt.interpolationFactor(this.interpolationType,e,t,n):0}}function zn(e,t){const n=Rn(e,t);if("error"===n.result)return n;const r=n.value.expression,i=gt(r);if(!i&&!bn(t))return _n([new le("","data expressions not supported")]);const o=vt(r,["zoom"]);if(!o&&!xn(t))return _n([new le("","zoom expressions not supported")]);const a=Bn(r);return a||o?a instanceof le?_n([a]):a instanceof qt&&!wn(t)?_n([new le("",'"interpolate" expressions cannot be used with this property')]):vn(a?new Dn(i?"camera":"composite",n.value,a.labels,a instanceof qt?a.interpolation:void 0):new Nn(i?"constant":"source",n.value)):_n([new le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Fn{constructor(e,t){this._parameters=e,this._specification=t,oe(this,Tn(this._parameters,this._specification))}static deserialize(e){return new Fn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Bn(e){let t=null;if(e instanceof Ht)t=Bn(e.result);else if(e instanceof Gt){for(const n of e.args)if(t=Bn(n),t)break}else(e instanceof Et||e instanceof qt)&&e.input instanceof Ke&&"zoom"===e.input.name&&(t=e);return t instanceof le||e.eachChild((e=>{const n=Bn(e);n instanceof le?t=n:!t&&n?t=new le("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new le("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function jn(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec;let s=[];const l=En(n);if("object"!==l)return[new re(t,n,`object expected, ${l} found`)];for(const e in n){const l=e.split(".")[0],u=r[l]||r["*"];let c;if(i[l])c=i[l];else if(r[l])c=fr;else if(i["*"])c=i["*"];else{if(!r["*"]){s.push(new re(t,n[e],`unknown property "${e}"`));continue}c=fr}s=s.concat(c({key:(t?`${t}.`:t)+e,value:n[e],valueSpec:u,style:o,styleSpec:a,object:n,objectKey:e},n))}for(const e in r)i[e]||r[e].required&&void 0===r[e].default&&void 0===n[e]&&s.push(new re(t,n,`missing required property "${e}"`));return s}function Zn(e){const t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||fr;if("array"!==En(t))return[new re(o,t,`array expected, ${En(t)} found`)];if(n.length&&t.length!==n.length)return[new re(o,t,`array length ${n.length} expected, length ${t.length} found`)];if(n["min-length"]&&t.length<n["min-length"])return[new re(o,t,`array length at least ${n["min-length"]} expected, length ${t.length} found`)];let s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===En(n.value)&&(s=n.value);let l=[];for(let e=0;e<t.length;e++)l=l.concat(a({array:t,arrayIndex:e,value:t[e],valueSpec:s,style:r,styleSpec:i,key:`${o}[${e}]`}));return l}function Un(e){const t=e.key,n=e.value,r=e.valueSpec;let i=En(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new re(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new re(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new re(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function qn(e){const t=e.valueSpec,n=ae(e.value.type);let r,i,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,u="array"===En(e.value.stops)&&"array"===En(e.value.stops[0])&&"object"===En(e.value.stops[0][0]),c=jn({key:e.key,value:e.value,valueSpec:e.styleSpec.function,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new re(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const r=e.value;return t=t.concat(Zn({key:e.key,value:r,valueSpec:e.valueSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===En(r)&&0===r.length&&t.push(new re(e.key,r,"array must have at least one stop")),t},default:function(e){return fr({key:e.key,value:e.value,valueSpec:t,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&c.push(new re(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||c.push(new re(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!wn(e.valueSpec)&&c.push(new re(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!bn(e.valueSpec)?c.push(new re(e.key,e.value,"property functions not supported")):s&&!xn(e.valueSpec)&&c.push(new re(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!u||void 0!==e.value.property||c.push(new re(e.key,e.value,'"property" property is required')),c;function h(e){let n=[];const r=e.value,s=e.key;if("array"!==En(r))return[new re(s,r,`array expected, ${En(r)} found`)];if(2!==r.length)return[new re(s,r,`array length 2 expected, length ${r.length} found`)];if(u){if("object"!==En(r[0]))return[new re(s,r,`object expected, ${En(r[0])} found`)];if(void 0===r[0].zoom)return[new re(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new re(s,r,"object stop key must have value")];if(o&&o>ae(r[0].zoom))return[new re(s,r[0].zoom,"stop zoom values must appear in ascending order")];ae(r[0].zoom)!==o&&(o=ae(r[0].zoom),i=void 0,a={}),n=n.concat(jn({key:`${s}[0]`,value:r[0],valueSpec:{zoom:{}},style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Un,value:p}}))}else n=n.concat(p({key:`${s}[0]`,value:r[0],valueSpec:{},style:e.style,styleSpec:e.styleSpec},r));return On(se(r[1]))?n.concat([new re(`${s}[1]`,r[1],"expressions are not allowed in function stops.")]):n.concat(fr({key:`${s}[1]`,value:r[1],valueSpec:t,style:e.style,styleSpec:e.styleSpec}))}function p(e,o){const s=En(e.value),l=ae(e.value),u=null!==e.value?e.value:o;if(r){if(s!==r)return[new re(e.key,u,`${s} stop domain type must match previous stop domain type ${r}`)]}else r=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new re(e.key,u,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let r=`number expected, ${s} found`;return bn(t)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new re(e.key,u,r)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==i&&l<i?[new re(e.key,u,"stop domain values must appear in ascending order")]:(i=l,"categorical"===n&&l in a?[new re(e.key,u,"stop domain values must be unique")]:(a[l]=!0,[])):[new re(e.key,u,`integer expected, found ${l}`)]}}function Vn(e){const t=("property"===e.expressionContext?zn:Rn)(se(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new re(`${e.key}${t.key}`,e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new re(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!yt(n))return[new re(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!yt(n))return[new re(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!vt(n,["zoom","feature-state"]))return[new re(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!gt(n))return[new re(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Gn(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(ae(n))&&i.push(new re(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(ae(n))&&i.push(new re(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function Hn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!Hn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Wn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function $n(e){if(null==e)return{filter:()=>!0,needGeometry:!1};Hn(e)||(e=Kn(e));const t=Rn(e,Wn);if("error"===t.result)throw new Error(t.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return{filter:(e,n,r)=>t.value.evaluate(e,n,{},r),needGeometry:Yn(e)}}function Xn(e,t){return e<t?-1:e>t?1:0}function Yn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Yn(e[t]))return!0;return!1}function Kn(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?Jn(e[1],e[2],"=="):"!="===t?tr(Jn(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Jn(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Kn))):"all"===t?["all"].concat(e.slice(1).map(Kn)):"none"===t?["all"].concat(e.slice(1).map(Kn).map(tr)):"in"===t?Qn(e[1],e.slice(2)):"!in"===t?tr(Qn(e[1],e.slice(2))):"has"===t?er(e[1]):"!has"===t?tr(er(e[1])):"within"!==t||e;var n}function Jn(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function Qn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Xn)]]:["filter-in-small",e,["literal",t]]}}function er(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function tr(e){return["!",e]}function nr(e){return Hn(se(e.value))?Vn(oe({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):rr(e)}function rr(e){const t=e.value,n=e.key;if("array"!==En(t))return[new re(n,t,`array expected, ${En(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new re(n,t,"filter array must have at least 1 element")];switch(o=o.concat(Gn({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),ae(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===ae(t[1])&&o.push(new re(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&o.push(new re(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=En(t[1]),"string"!==i&&o.push(new re(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let a=2;a<t.length;a++)i=En(t[a]),"$type"===ae(t[1])?o=o.concat(Gn({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new re(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let r=1;r<t.length;r++)o=o.concat(rr({key:`${n}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=En(t[1]),2!==t.length?o.push(new re(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==i&&o.push(new re(`${n}[1]`,t[1],`string expected, ${i} found`));break;case"within":i=En(t[1]),2!==t.length?o.push(new re(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"object"!==i&&o.push(new re(`${n}[1]`,t[1],`object expected, ${i} found`))}return o}function ir(e,t){const n=e.key,r=e.style,i=e.styleSpec,o=e.value,a=e.objectKey,s=i[`${t}_${e.layerType}`];if(!s)return[];const l=a.match(/^(.*)-transition$/);if("paint"===t&&l&&s[l[1]]&&s[l[1]].transition)return fr({key:n,value:o,valueSpec:i.transition,style:r,styleSpec:i});const u=e.valueSpec||s[a];if(!u)return[new re(n,o,`unknown property "${a}"`)];let c;if("string"===En(o)&&bn(u)&&!u.tokens&&(c=/^{([^}]+)}$/.exec(o)))return[new re(n,o,`"${a}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(c[1])} }\`.`)];const h=[];return"symbol"===e.layerType&&("text-field"===a&&r&&!r.glyphs&&h.push(new re(n,o,'use of "text-field" requires a style "glyphs" property')),"text-font"===a&&Sn(se(o))&&"identity"===ae(o.type)&&h.push(new re(n,o,'"text-font" does not support identity functions'))),h.concat(fr({key:e.key,value:o,valueSpec:u,style:r,styleSpec:i,expressionContext:"property",propertyType:t,propertyKey:a}))}function or(e){return ir(e,"paint")}function ar(e){return ir(e,"layout")}function sr(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;n.type||n.ref||t.push(new re(r,n,'either "type" or "ref" is required'));let a=ae(n.type);const s=ae(n.ref);if(n.id){const o=ae(n.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];ae(e.id)===o&&t.push(new re(r,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new re(r,n[e],`"${e}" is prohibited for ref layers`))})),i.layers.forEach((t=>{ae(t.id)===s&&(e=t)})),e?e.ref?t.push(new re(r,n.ref,"ref cannot reference another ref layer")):a=ae(e.type):t.push(new re(r,n.ref,`ref layer "${s}" not found`))}else if("background"!==a)if(n.source){const e=i.sources&&i.sources[n.source],o=e&&ae(e.type);e?"vector"===o&&"raster"===a?t.push(new re(r,n.source,`layer "${n.id}" requires a raster source`)):"raster"===o&&"raster"!==a?t.push(new re(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a?t.push(new re(r,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&e.lineMetrics||t.push(new re(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new re(r,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new re(r,n.source,`source "${n.source}" not found`))}else t.push(new re(r,n,'missing required property "source"'));return t=t.concat(jn({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":()=>[],type:()=>fr({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,object:n,objectKey:"type"}),filter:nr,layout:e=>jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>ar(oe({layerType:a},e))}}),paint:e=>jn({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{"*":e=>or(oe({layerType:a},e))}})}})),t}function lr(e){const t=e.value,n=e.key,r=En(t);return"string"!==r?[new re(n,t,`string expected, ${r} found`)]:[]}const ur={promoteId:function({key:e,value:t}){if("string"===En(t))return lr({key:e,value:t});{const n=[];for(const r in t)n.push(...lr({key:`${e}.${r}`,value:t[r]}));return n}}};function cr(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style;if(!t.type)return[new re(n,t,'"type" is required')];const o=ae(t.type);let a;switch(o){case"vector":case"raster":case"raster-dem":return a=jn({key:n,value:t,valueSpec:r[`source_${o.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:ur}),a;case"geojson":if(a=jn({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,objectElementValidators:ur}),t.cluster)for(const e in t.clusterProperties){const[r,i]=t.clusterProperties[e],o="string"==typeof r?[r,["accumulated"],["get",e]]:r;a.push(...Vn({key:`${n}.${e}.map`,value:i,expressionContext:"cluster-map"})),a.push(...Vn({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return a;case"video":return jn({key:n,value:t,valueSpec:r.source_video,style:i,styleSpec:r});case"image":return jn({key:n,value:t,valueSpec:r.source_image,style:i,styleSpec:r});case"canvas":return[new re(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Gn({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:i,styleSpec:r})}}function hr(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=En(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new re("light",t,`object expected, ${a} found`)]),o;for(const e in t){const a=e.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?fr({key:e,value:t[e],valueSpec:n.transition,style:i,styleSpec:n}):r[e]?fr({key:e,value:t[e],valueSpec:r[e],style:i,styleSpec:n}):[new re(e,t[e],`unknown property "${e}"`)])}return o}function pr(e){const t=e.value,n=e.styleSpec,r=n.terrain,i=e.style;let o=[];const a=En(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new re("terrain",t,`object expected, ${a} found`)]),o;for(const e in t)o=o.concat(r[e]?fr({key:e,value:t[e],valueSpec:r[e],style:i,styleSpec:n}):[new re(e,t[e],`unknown property "${e}"`)]);return o}const dr={"*":()=>[],array:Zn,boolean:function(e){const t=e.value,n=e.key,r=En(t);return"boolean"!==r?[new re(n,t,`boolean expected, ${r} found`)]:[]},number:Un,color:function(e){const t=e.key,n=e.value,r=En(n);return"string"!==r?[new re(t,n,`color expected, ${r} found`)]:null===Ie(n)?[new re(t,n,`color expected, "${n}" found`)]:[]},constants:ie,enum:Gn,filter:nr,function:qn,layer:sr,object:jn,source:cr,light:hr,terrain:pr,string:lr,formatted:function(e){return 0===lr(e).length?[]:Vn(e)},resolvedImage:function(e){return 0===lr(e).length?[]:Vn(e)},padding:function(e){const t=e.key,n=e.value;if("array"===En(n)){if(n.length<1||n.length>4)return[new re(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const e={type:"number"};let r=[];for(let i=0;i<n.length;i++)r=r.concat(fr({key:`${t}[${i}]`,value:n[i],valueSpec:e}));return r}return Un({key:t,value:n,valueSpec:{}})}};function fr(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return n.expression&&Sn(ae(t))?qn(e):n.expression&&On(se(t))?Vn(e):n.type&&dr[n.type]?dr[n.type](e):jn(oe({},e,{valueSpec:n.type?r[n.type]:n}))}function mr(e){const t=e.value,n=e.key,r=lr(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new re(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new re(n,t,'"glyphs" url must include a "{range}" token'))),r}function gr(e,t=ne){let n=[];return n=n.concat(fr({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,objectElementValidators:{glyphs:mr,"*":()=>[]}})),e.constants&&(n=n.concat(ie({key:"constants",value:e.constants,style:e,styleSpec:t}))),yr(n)}function yr(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function vr(e){return function(...t){return yr(e.apply(this,t))}}gr.source=vr(cr),gr.light=vr(hr),gr.terrain=vr(pr),gr.layer=vr(sr),gr.filter=vr(nr),gr.paintProperty=vr(or),gr.layoutProperty=vr(ar);const _r=gr,br=_r.light,xr=_r.paintProperty,wr=_r.layoutProperty;function Er(e,t){let n=!1;if(t&&t.length)for(const r of t)e.fire(new ee(new Error(r.message))),n=!0;return n}class Sr{constructor(e,t,n){const r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(let e=0;e<this.d*this.d;e++){const t=i[3+e],n=i[3+e+1];r.push(t===n?null:i.subarray(t,n))}const o=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],o),this.bboxes=i.subarray(o),this.insert=this._insertReadonly}else{this.d=t+2*n;for(let e=0;e<this.d*this.d;e++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;const i=n/t*e;this.min=-i,this.max=e+i}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,n,r,i,o){this.cells[i].push(o)}query(e,t,n,r,i){const o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);{const o=[];return this._forEachCell(e,t,n,r,this._queryCell,o,{},i),o}}_queryCell(e,t,n,r,i,o,a,s){const l=this.cells[i];if(null!==l){const i=this.keys,u=this.bboxes;for(let c=0;c<l.length;c++){const h=l[c];if(void 0===a[h]){const l=4*h;(s?s(u[l+0],u[l+1],u[l+2],u[l+3]):e<=u[l+2]&&t<=u[l+3]&&n>=u[l+0]&&r>=u[l+1])?(a[h]=!0,o.push(i[h])):a[h]=!1}}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToCellCoord(e),u=this._convertToCellCoord(t),c=this._convertToCellCoord(n),h=this._convertToCellCoord(r);for(let p=l;p<=c;p++)for(let l=u;l<=h;l++){const u=this.d*l+p;if((!s||s(this._convertFromCellCoord(p),this._convertFromCellCoord(l),this._convertFromCellCoord(p+1),this._convertFromCellCoord(l+1)))&&i.call(this,e,t,n,r,u,o,a,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let n=0;for(let e=0;e<this.cells.length;e++)n+=this.cells[e].length;const r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;let i=t;for(let t=0;t<e.length;t++){const n=e[t];r[3+t]=i,r.set(n,i),i+=n.length}return r[3+e.length]=i,r.set(this.keys,i),i+=this.keys.length,r[3+e.length+1]=i,r.set(this.bboxes,i),i+=this.bboxes.length,r.buffer}static serialize(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}static deserialize(e){return new Sr(e.buffer)}}const Cr={};function Tr(e,t,n={}){if(Cr[e])throw new Error(`${e} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Cr[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}Tr("Object",Object),Tr("TransferableGridIndex",Sr),Tr("Color",Oe),Tr("Error",Error),Tr("AJAXError",Z),Tr("ResolvedImage",Fe),Tr("StylePropertyFunction",Fn),Tr("StyleExpression",An,{omit:["_evaluator"]}),Tr("ZoomDependentExpression",Dn),Tr("ZoomConstantExpression",Nn),Tr("CompoundExpression",Ke,{omit:["_evaluate"]});for(const e in dn)dn[e]._classRegistryKey||Tr(`Expression_${e}`,dn[e]);function Ir(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function kr(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(Ir(e))return t&&t.push(e),e;if(E(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const r of e)n.push(kr(r,t));return n}if("object"==typeof e){const n=e.constructor,r=n._classRegistryKey;if(!r)throw new Error("can't serialize object of unregistered class");if(!Cr[r])throw new Error(`${r} is not registered.`);const i=n.serialize?n.serialize(e,t):{};if(n.serialize){if(t&&i===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const n in e){if(!e.hasOwnProperty(n))continue;if(Cr[r].omit.indexOf(n)>=0)continue;const o=e[n];i[n]=Cr[r].shallow.indexOf(n)>=0?o:kr(o,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==r&&(i.$name=r),i}throw new Error("can't serialize object of type "+typeof e)}function Pr(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||Ir(e)||E(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(Pr);if("object"==typeof e){const t=e.$name||"Object";if(!Cr[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:n}=Cr[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(e);const r=Object.create(n.prototype);for(const n of Object.keys(e)){if("$name"===n)continue;const i=e[n];r[n]=Cr[t].shallow.indexOf(n)>=0?i:Pr(i)}return r}throw new Error("can't deserialize object of type "+typeof e)}class Lr{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}const Mr={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Ar(e){for(const t of e)if(Nr(t.charCodeAt(0)))return!0;return!1}function Or(e){for(const t of e)if(!Rr(t.charCodeAt(0)))return!1;return!0}function Rr(e){return!(Mr.Arabic(e)||Mr["Arabic Supplement"](e)||Mr["Arabic Extended-A"](e)||Mr["Arabic Presentation Forms-A"](e)||Mr["Arabic Presentation Forms-B"](e))}function Nr(e){return!(746!==e&&747!==e&&(e<4352||!(Mr["Bopomofo Extended"](e)||Mr.Bopomofo(e)||Mr["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Mr["CJK Compatibility Ideographs"](e)||Mr["CJK Compatibility"](e)||Mr["CJK Radicals Supplement"](e)||Mr["CJK Strokes"](e)||!(!Mr["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Mr["CJK Unified Ideographs Extension A"](e)||Mr["CJK Unified Ideographs"](e)||Mr["Enclosed CJK Letters and Months"](e)||Mr["Hangul Compatibility Jamo"](e)||Mr["Hangul Jamo Extended-A"](e)||Mr["Hangul Jamo Extended-B"](e)||Mr["Hangul Jamo"](e)||Mr["Hangul Syllables"](e)||Mr.Hiragana(e)||Mr["Ideographic Description Characters"](e)||Mr.Kanbun(e)||Mr["Kangxi Radicals"](e)||Mr["Katakana Phonetic Extensions"](e)||Mr.Katakana(e)&&12540!==e||!(!Mr["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Mr["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Mr["Unified Canadian Aboriginal Syllabics"](e)||Mr["Unified Canadian Aboriginal Syllabics Extended"](e)||Mr["Vertical Forms"](e)||Mr["Yijing Hexagram Symbols"](e)||Mr["Yi Syllables"](e)||Mr["Yi Radicals"](e))))}function Dr(e){return!(Nr(e)||function(e){return!!(Mr["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Mr["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Mr["Letterlike Symbols"](e)||Mr["Number Forms"](e)||Mr["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Mr["Control Pictures"](e)&&9251!==e||Mr["Optical Character Recognition"](e)||Mr["Enclosed Alphanumerics"](e)||Mr["Geometric Shapes"](e)||Mr["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Mr["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Mr["CJK Symbols and Punctuation"](e)||Mr.Katakana(e)||Mr["Private Use Area"](e)||Mr["CJK Compatibility Forms"](e)||Mr["Small Form Variants"](e)||Mr["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function zr(e){return e>=1424&&e<=2303||Mr["Arabic Presentation Forms-A"](e)||Mr["Arabic Presentation Forms-B"](e)}function Fr(e,t){return!(!t&&zr(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Mr.Khmer(e))}function Br(e){for(const t of e)if(zr(t.charCodeAt(0)))return!0;return!1}const jr="deferred",Zr="loading",Ur="loaded";let qr=null,Vr="unavailable",Gr=null;const Hr=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(Vr="error"),qr&&qr(e)};function Wr(){$r.fire(new Q("pluginStateChange",{pluginStatus:Vr,pluginURL:Gr}))}const $r=new te,Xr=function(){return Vr},Yr=function(){if(Vr!==jr||!Gr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Vr=Zr,Wr(),Gr&&G({url:Gr},(e=>{e?Hr(e):(Vr=Ur,Wr())}))},Kr={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Vr===Ur||null!=Kr.applyArabicShaping,isLoading:()=>Vr===Zr,setState(e){if(!y())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");Vr=e.pluginStatus,Gr=e.pluginURL},isParsed(){if(!y())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=Kr.applyArabicShaping&&null!=Kr.processBidirectionalText&&null!=Kr.processStyledBidirectionalText},getPluginURL(){if(!y())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return Gr}};class Jr{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Lr,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(!Fr(n.charCodeAt(0),t))return!1;return!0}(e,Kr.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}class Qr{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(Sn(e))return new Fn(e,t);if(On(e)){const n=zn(e,t);if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));return n.value}{let n=e;return"color"===t.type&&"string"==typeof e?n=Oe.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)||(n=ze.parse(e)),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class ei{constructor(e){this.property=e,this.value=new Qr(e,void 0)}transitioned(e,t){return new ni(this.property,this.value,t,s({},e.transition,this.transition),e.now)}untransitioned(){return new ni(this.property,this.value,null,{},0)}}class ti{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return p(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new ei(this._values[e].property)),this._values[e].value=new Qr(this._values[e].property,null===t?void 0:p(t))}getTransition(e){return p(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new ei(this._values[e].property)),this._values[e].transition=p(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const r=this.getTransition(t);void 0!==r&&(e[`${t}-transition`]=r)}return e}transitioned(e,t){const n=new ri(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].transitioned(e,t._values[r]);return n}untransitioned(){const e=new ri(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class ni{constructor(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,function(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}}return i}}class ri{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const r=new ai(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class ii{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}getValue(e){return p(this._values[e].value)}setValue(e,t){this._values[e]=new Qr(this._values[e].property,null===t?void 0:p(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const r=new ai(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}}class oi{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}class ai{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class si{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,n){const r=Ct[this.specification.type];return r?r(e,t,n):e}}class li{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,r){return new oi(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new oi(this,{kind:"constant",value:void 0},e.parameters);const r=Ct[this.specification.type];return r?new oi(this,{kind:"constant",value:r(e.value.value,t.value.value,n)},e.parameters):e}evaluate(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)}}class ui extends li{possiblyEvaluate(e,t,n,r){if(void 0===e.value)return new oi(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new oi(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new oi(this,{kind:"constant",value:n},t)}return new oi(this,e.expression,t)}evaluate(e,t,n,r,i,o){if("source"===e.kind){const a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class ci{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Jr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Jr(Math.floor(t.zoom),t)),e.expression.evaluate(new Jr(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class hi{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}interpolate(){return!1}}class pi{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const r=this.defaultPropertyValues[t]=new Qr(n,void 0),i=this.defaultTransitionablePropertyValues[t]=new ei(n);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}}}Tr("DataDrivenProperty",li),Tr("DataConstantProperty",si),Tr("CrossFadedDataDrivenProperty",ui),Tr("CrossFadedProperty",ci),Tr("ColorRampProperty",hi);const di="-transition";class fi extends te{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new ii(t.layout)),t.paint)){this._transitionablePaint=new ti(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ai(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t,n={}){null!=t&&this._validate(wr,`layers.${this.id}.layout.${e}`,e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(di)?this._transitionablePaint.getTransition(e.slice(0,-di.length)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(xr,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(e.endsWith(di))return this._transitionablePaint.setTransition(e.slice(0,-di.length),t||void 0),!1;{const n=this._transitionablePaint._values[e],r="cross-faded-data-driven"===n.property.specification["property-type"],i=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||r||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),h(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,r,i={}){return(!i||!1!==i.validate)&&Er(this,e.call(_r,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:ne,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof oi&&bn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const mi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class gi{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class yi{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function vi(e,t=1){let n=0,r=0;return{members:e.map((e=>{const i=mi[e.type].BYTES_PER_ELEMENT,o=n=_i(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}})),size:_i(n,Math.max(r,t)),alignment:t}}function _i(e,t){return Math.ceil(e/t)*t}class bi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}bi.prototype.bytesPerElement=4,Tr("StructArrayLayout2i4",bi);class xi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e}}xi.prototype.bytesPerElement=8,Tr("StructArrayLayout4i8",xi);class wi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}wi.prototype.bytesPerElement=12,Tr("StructArrayLayout2i4i12",wi);class Ei extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e}}Ei.prototype.bytesPerElement=8,Tr("StructArrayLayout2i4ub8",Ei);class Si extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}Si.prototype.bytesPerElement=8,Tr("StructArrayLayout2f8",Si);class Ci extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l,u)}emplace(e,t,n,r,i,o,a,s,l,u,c){const h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=n,this.uint16[h+2]=r,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=u,this.uint16[h+9]=c,e}}Ci.prototype.bytesPerElement=20,Tr("StructArrayLayout10ui20",Ci);class Ti extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u,c,h){const p=this.length;return this.resize(p+1),this.emplace(p,e,t,n,r,i,o,a,s,l,u,c,h)}emplace(e,t,n,r,i,o,a,s,l,u,c,h,p){const d=12*e;return this.int16[d+0]=t,this.int16[d+1]=n,this.int16[d+2]=r,this.int16[d+3]=i,this.uint16[d+4]=o,this.uint16[d+5]=a,this.uint16[d+6]=s,this.uint16[d+7]=l,this.int16[d+8]=u,this.int16[d+9]=c,this.int16[d+10]=h,this.int16[d+11]=p,e}}Ti.prototype.bytesPerElement=24,Tr("StructArrayLayout4i4ui4i24",Ti);class Ii extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}Ii.prototype.bytesPerElement=12,Tr("StructArrayLayout3f12",Ii);class ki extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}ki.prototype.bytesPerElement=4,Tr("StructArrayLayout1ul4",ki);class Pi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,o,a,s,l)}emplace(e,t,n,r,i,o,a,s,l,u){const c=10*e,h=5*e;return this.int16[c+0]=t,this.int16[c+1]=n,this.int16[c+2]=r,this.int16[c+3]=i,this.int16[c+4]=o,this.int16[c+5]=a,this.uint32[h+3]=s,this.uint16[c+8]=l,this.uint16[c+9]=u,e}}Pi.prototype.bytesPerElement=20,Tr("StructArrayLayout6i1ul2ui20",Pi);class Li extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}Li.prototype.bytesPerElement=12,Tr("StructArrayLayout2i2i2i12",Li);class Mi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)}emplace(e,t,n,r,i,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e}}Mi.prototype.bytesPerElement=16,Tr("StructArrayLayout2f1f2i16",Mi);class Ai extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=12*e,a=3*e;return this.uint8[o+0]=t,this.uint8[o+1]=n,this.float32[a+1]=r,this.float32[a+2]=i,e}}Ai.prototype.bytesPerElement=12,Tr("StructArrayLayout2ub2f12",Ai);class Oi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}Oi.prototype.bytesPerElement=6,Tr("StructArrayLayout3ui6",Oi);class Ri extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g)}emplace(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g,y){const v=24*e,_=12*e,b=48*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=u,this.uint16[v+12]=c,this.float32[_+7]=h,this.float32[_+8]=p,this.uint8[b+36]=d,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,e}}Ri.prototype.bytesPerElement=48,Tr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ri);class Ni extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g,y,v,_,b,x,w,E,S,C,T,I){const k=this.length;return this.resize(k+1),this.emplace(k,e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g,y,v,_,b,x,w,E,S,C,T,I)}emplace(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g,y,v,_,b,x,w,E,S,C,T,I,k){const P=34*e,L=17*e;return this.int16[P+0]=t,this.int16[P+1]=n,this.int16[P+2]=r,this.int16[P+3]=i,this.int16[P+4]=o,this.int16[P+5]=a,this.int16[P+6]=s,this.int16[P+7]=l,this.uint16[P+8]=u,this.uint16[P+9]=c,this.uint16[P+10]=h,this.uint16[P+11]=p,this.uint16[P+12]=d,this.uint16[P+13]=f,this.uint16[P+14]=m,this.uint16[P+15]=g,this.uint16[P+16]=y,this.uint16[P+17]=v,this.uint16[P+18]=_,this.uint16[P+19]=b,this.uint16[P+20]=x,this.uint16[P+21]=w,this.uint16[P+22]=E,this.uint32[L+12]=S,this.float32[L+13]=C,this.float32[L+14]=T,this.float32[L+15]=I,this.float32[L+16]=k,e}}Ni.prototype.bytesPerElement=68,Tr("StructArrayLayout8i15ui1ul4f68",Ni);class Di extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Di.prototype.bytesPerElement=4,Tr("StructArrayLayout1f4",Di);class zi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}zi.prototype.bytesPerElement=6,Tr("StructArrayLayout3i6",zi);class Fi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e}}Fi.prototype.bytesPerElement=8,Tr("StructArrayLayout1ul2ui8",Fi);class Bi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}Bi.prototype.bytesPerElement=4,Tr("StructArrayLayout2ui4",Bi);class ji extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}ji.prototype.bytesPerElement=2,Tr("StructArrayLayout1ui2",ji);class Zi extends yi{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e}}Zi.prototype.bytesPerElement=16,Tr("StructArrayLayout4f16",Zi);class Ui extends gi{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new C(this.anchorPointX,this.anchorPointY)}}Ui.prototype.size=20;class qi extends Pi{get(e){return new Ui(this,e)}}Tr("CollisionBoxArray",qi);class Vi extends gi{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Vi.prototype.size=48;class Gi extends Ri{get(e){return new Vi(this,e)}}Tr("PlacedSymbolArray",Gi);class Hi extends gi{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get textOffset0(){return this._structArray.float32[this._pos4+14]}get textOffset1(){return this._structArray.float32[this._pos4+15]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+16]}}Hi.prototype.size=68;class Wi extends Ni{get(e){return new Hi(this,e)}}Tr("SymbolInstanceArray",Wi);class $i extends Di{getoffsetX(e){return this.float32[1*e+0]}}Tr("GlyphOffsetArray",$i);class Xi extends zi{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Tr("SymbolLineVertexArray",Xi);class Yi extends gi{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Yi.prototype.size=8;class Ki extends Fi{get(e){return new Yi(this,e)}}Tr("FeatureIndexArray",Ki);class Ji extends bi{}class Qi extends bi{}class eo extends bi{}class to extends wi{}class no extends Ei{}class ro extends Si{}class io extends Ci{}class oo extends Ti{}class ao extends Ii{}class so extends ki{}class lo extends Li{}class uo extends Ai{}class co extends Oi{}class ho extends Bi{}const po=vi([{name:"a_pos",components:2,type:"Int16"}],4),{members:fo}=po;class mo{constructor(e=[]){this.segments=e}prepareSegment(e,t,n,r){let i=this.segments[this.segments.length-1];return e>mo.MAX_VERTEX_ARRAY_LENGTH&&f(`Max vertices per segment is ${mo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}`),(!i||i.vertexLength+e>mo.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r)&&(i={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==r&&(i.sortKey=r),this.segments.push(i)),i}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,r){return new mo([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}function go(e,t){return 256*(e=o(Math.floor(e),0,255))+o(Math.floor(t),0,255)}mo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Tr("SegmentVector",mo);const yo=vi([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var vo={exports:{}},_o=function(e,t){var n,r,i,o,a,s,l,u;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,u=0;u<r;)l=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(u+2))<<16;case 2:l^=(255&e.charCodeAt(u+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(u)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0},bo=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0};vo.exports=_o,vo.exports.murmur3=_o,vo.exports.murmur2=bo;class xo{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,r){this.ids.push(wo(e)),this.positions.push(t,n,r)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const t=wo(e);let n=0,r=this.ids.length-1;for(;n<r;){const e=n+r>>1;this.ids[e]>=t?r=e:n=e+1}const i=[];for(;this.ids[n]===t;)i.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return i}static serialize(e,t){const n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return Eo(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}static deserialize(e){const t=new xo;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function wo(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:vo.exports(String(e))}function Eo(e,t,n,r){for(;n<r;){const i=e[n+r>>1];let o=n-1,a=r+1;for(;;){do{o++}while(e[o]<i);do{a--}while(e[a]>i);if(o>=a)break;So(e,o,a),So(t,3*o,3*a),So(t,3*o+1,3*a+1),So(t,3*o+2,3*a+2)}a-n<r-a?(Eo(e,t,n,a),n=a+1):(Eo(e,t,a+1,r),r=a)}}function So(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}Tr("FeaturePositionMap",xo);class Co{constructor(e,t){this.gl=e.gl,this.location=t}}class To extends Co{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class Io extends Co{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class ko extends Co{constructor(e,t){super(e,t),this.current=Oe.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Po=new Float32Array(16);function Lo(e){return[go(255*e.r,255*e.g),go(255*e.b,255*e.a)]}class Mo{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>`u_${e}`)),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new ko(e,t):new To(e,t)}}class Ao{constructor(e,t){this.uniformNames=t.map((e=>`u_${e}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,n,r){const i="u_pattern_to"===r?this.patternTo:"u_pattern_from"===r?this.patternFrom:"u_pixel_ratio_to"===r?this.pixelRatioTo:"u_pixel_ratio_from"===r?this.pixelRatioFrom:null;i&&e.set(i)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)?new Io(e,t):new To(e,t)}}class Oo{constructor(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new r}populatePaintArray(e,t,n,r,i){const o=this.paintVertexArray.length,a=this.expression.evaluate(new Jr(0),t,{},r,[],i);this.paintVertexArray.resize(e),this._setPaintValue(o,e,a)}updatePaintArray(e,t,n,r){const i=this.expression.evaluate({zoom:0},n,r);this._setPaintValue(e,t,i)}_setPaintValue(e,t,n){if("color"===this.type){const r=Lo(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ro{constructor(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map((e=>`u_${e}_t`)),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:`a_${e}`,type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new o}populatePaintArray(e,t,n,r,i){const o=this.expression.evaluate(new Jr(this.zoom),t,{},r,[],i),a=this.expression.evaluate(new Jr(this.zoom+1),t,{},r,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(s,e,o,a)}updatePaintArray(e,t,n,r){const i=this.expression.evaluate({zoom:this.zoom},n,r),o=this.expression.evaluate({zoom:this.zoom+1},n,r);this._setPaintValue(e,t,i,o)}_setPaintValue(e,t,n,r){if("color"===this.type){const i=Lo(n),o=Lo(r);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=o(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}getBinding(e,t,n){return new To(e,t)}}class No{constructor(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(e,t,n){const r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,r,i){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],i)}_setPaintValues(e,t,n,r){if(!r||!n)return;const{min:i,mid:o,max:a}=n,s=r[i],l=r[o],u=r[a];if(s&&l&&u)for(let n=e;n<t;n++)this.zoomInPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],s.tl[0],s.tl[1],s.br[0],s.br[1],l.pixelRatio,s.pixelRatio),this.zoomOutPaintVertexArray.emplace(n,l.tl[0],l.tl[1],l.br[0],l.br[1],u.tl[0],u.tl[1],u.br[0],u.br[1],l.pixelRatio,u.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,yo.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,yo.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Do{constructor(e,t,n){this.binders={},this._buffers=[];const r=[];for(const i in e.paint._values){if(!n(i))continue;const o=e.paint.get(i);if(!(o instanceof oi&&bn(o.property.specification)))continue;const a=Fo(i,e.type),s=o.value,l=o.property.specification.type,u=o.property.useIntegerZoom,c=o.property.specification["property-type"],h="cross-faded"===c||"cross-faded-data-driven"===c;if("constant"===s.kind)this.binders[i]=h?new Ao(s.value,a):new Mo(s.value,a,l),r.push(`/u_${i}`);else if("source"===s.kind||h){const n=Bo(i,l,"source");this.binders[i]=h?new No(s,l,u,t,n,e.id):new Oo(s,a,l,n),r.push(`/a_${i}`)}else{const e=Bo(i,l,"composite");this.binders[i]=new Ro(s,a,l,u,t,e),r.push(`/z_${i}`)}}this.cacheKey=r.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Oo||t instanceof Ro?t.maxValue:0}populatePaintArrays(e,t,n,r,i){for(const o in this.binders){const a=this.binders[o];(a instanceof Oo||a instanceof Ro||a instanceof No)&&a.populatePaintArray(e,t,n,r,i)}}setConstantPatternPositions(e,t){for(const n in this.binders){const r=this.binders[n];r instanceof Ao&&r.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,n,r,i){let o=!1;for(const a in e){const s=t.getPositions(a);for(const t of s){const s=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof Oo||l instanceof Ro||l instanceof No)&&!0===l.expression.isStateDependent){const u=r.paint.get(n);l.expression=u.value,l.updatePaintArray(t.start,t.end,s,e[a],i),o=!0}}}}return o}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Mo||n instanceof Ao)&&e.push(...n.uniformNames.map((e=>`#define HAS_UNIFORM_${e}`)))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Oo||n instanceof Ro)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof No)for(let t=0;t<yo.members.length;t++)e.push(yo.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Mo||n instanceof Ao||n instanceof Ro)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const r in this.binders){const i=this.binders[r];if(i instanceof Mo||i instanceof Ao||i instanceof Ro)for(const o of i.uniformNames)if(t[o]){const a=i.getBinding(e,t[o],o);n.push({name:o,property:r,binding:a})}}return n}setUniforms(e,t,n,r){for(const{name:e,property:i,binding:o}of t)this.binders[i].setUniform(o,r,n.get(i),e)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof No){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof Oo||n instanceof Ro)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof Oo||n instanceof Ro||n instanceof No)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Oo||t instanceof Ro||t instanceof No)&&t.destroy()}}}class zo{constructor(e,t,n=(()=>!0)){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new Do(r,t,n);this.needsUpload=!1,this._featureMap=new xo,this._bufferOffset=0}populatePaintArrays(e,t,n,r,i,o){for(const n in this.programConfigurations)this.programConfigurations[n].populatePaintArrays(e,t,r,i,o);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,r){for(const i of n)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function Fo(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(`${t}-`,"").replace(/-/g,"_")]}function Bo(e,t,n){const r={color:{source:Si,composite:Zi},number:{source:Di,composite:Si}},i=function(e){return{"line-pattern":{source:io,composite:io},"fill-pattern":{source:io,composite:io},"fill-extrusion-pattern":{source:io,composite:io}}[e]}(e);return i&&i[n]||r[t][n]}Tr("ConstantBinder",Mo),Tr("CrossFadedConstantBinder",Ao),Tr("SourceExpressionBinder",Oo),Tr("CrossFadedCompositeBinder",No),Tr("CompositeExpressionBinder",Ro),Tr("ProgramConfiguration",Do,{omit:["_buffers"]}),Tr("ProgramConfigurationSet",zo);var jo=8192;const Zo=Math.pow(2,14)-1,Uo=-Zo-1;function qo(e){const t=jo/e.extent,n=e.loadGeometry();for(let e=0;e<n.length;e++){const r=n[e];for(let e=0;e<r.length;e++){const n=r[e],i=Math.round(n.x*t),a=Math.round(n.y*t);n.x=o(i,Uo,Zo),n.y=o(a,Uo,Zo),(i<n.x||i>n.x+1||a<n.y||a>n.y+1)&&f("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function Vo(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?qo(e):[]}}function Go(e,t,n,r,i){e.emplaceBack(2*t+(r+1)/2,2*n+(i+1)/2)}class Ho{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new Qi,this.indexArray=new co,this.segments=new mo,this.programConfigurations=new zo(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){const r=this.layers[0],i=[];let o=null,a=!1;"circle"===r.type&&(o=r.layout.get("circle-sort-key"),a=!o.isConstant());for(const{feature:t,id:r,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Vo(t,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),u,n))continue;const c=a?o.evaluate(u,{},n):void 0,h={id:r,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:qo(t),patterns:{},sortKey:c};i.push(h)}a&&i.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of i){const{geometry:i,index:o,sourceLayerIndex:a}=r,s=e[o].feature;this.addFeature(r,i,o,n),t.featureIndex.insert(s,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,fo),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r){for(const n of t)for(const t of n){const n=t.x,r=t.y;if(n<0||n>=jo||r<0||r>=jo)continue;const i=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),o=i.vertexLength;Go(this.layoutVertexArray,n,r,-1,-1),Go(this.layoutVertexArray,n,r,1,-1),Go(this.layoutVertexArray,n,r,1,1),Go(this.layoutVertexArray,n,r,-1,1),this.indexArray.emplaceBack(o,o+1,o+2),this.indexArray.emplaceBack(o,o+3,o+2),i.vertexLength+=4,i.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},r)}}function Wo(e,t){for(let n=0;n<e.length;n++)if(na(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(na(e,t[n]))return!0;return!!Ko(e,t)}function $o(e,t,n){return!!na(e,t)||!!Qo(t,e,n)}function Xo(e,t){if(1===e.length)return ta(t,e[0]);for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++)if(na(e,r[t]))return!0}for(let n=0;n<e.length;n++)if(ta(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Ko(e,t[n]))return!0;return!1}function Yo(e,t,n){if(e.length>1){if(Ko(e,t))return!0;for(let r=0;r<t.length;r++)if(Qo(t[r],e,n))return!0}for(let r=0;r<e.length;r++)if(Qo(e[r],t,n))return!0;return!1}function Ko(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1];for(let e=0;e<t.length-1;e++)if(Jo(r,i,t[e],t[e+1]))return!0}return!1}function Jo(e,t,n,r){return m(e,n,r)!==m(t,n,r)&&m(e,t,n)!==m(e,t,r)}function Qo(e,t,n){const r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(let n=1;n<t.length;n++)if(ea(e,t[n-1],t[n])<r)return!0;return!1}function ea(e,t,n){const r=t.distSqr(n);if(0===r)return e.distSqr(t);const i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function ta(e,t){let n,r,i,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)r=n[e],i=n[a],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function na(e,t){let n=!1;for(let r=0,i=e.length-1;r<e.length;i=r++){const o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function ra(e,t,n){const r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;const o=m(e,t,n[0]);return o!==m(e,t,n[1])||o!==m(e,t,n[2])||o!==m(e,t,n[3])}function ia(e,t,n){const r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function oa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function aa(e,t,n,r,i){if(!t[0]&&!t[1])return e;const o=C.convert(t)._mult(i);"viewport"===n&&o._rotate(-r);const a=[];for(let t=0;t<e.length;t++)a.push(e[t].sub(o));return a}Tr("CircleBucket",Ho,{omit:["layers"]});const sa=new pi({"circle-sort-key":new li(ne.layout_circle["circle-sort-key"])});var la={paint:new pi({"circle-radius":new li(ne.paint_circle["circle-radius"]),"circle-color":new li(ne.paint_circle["circle-color"]),"circle-blur":new li(ne.paint_circle["circle-blur"]),"circle-opacity":new li(ne.paint_circle["circle-opacity"]),"circle-translate":new si(ne.paint_circle["circle-translate"]),"circle-translate-anchor":new si(ne.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new si(ne.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new si(ne.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new li(ne.paint_circle["circle-stroke-width"]),"circle-stroke-color":new li(ne.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new li(ne.paint_circle["circle-stroke-opacity"])}),layout:sa},ua=1e-6,ca="undefined"!=typeof Float32Array?Float32Array:Array;function ha(){var e=new ca(9);return ca!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function pa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function da(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],d=t[10],f=t[11],m=t[12],g=t[13],y=t[14],v=t[15],_=n[0],b=n[1],x=n[2],w=n[3];return e[0]=_*r+b*s+x*h+w*m,e[1]=_*i+b*l+x*p+w*g,e[2]=_*o+b*u+x*d+w*y,e[3]=_*a+b*c+x*f+w*v,e[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*h+(w=n[7])*m,e[5]=_*i+b*l+x*p+w*g,e[6]=_*o+b*u+x*d+w*y,e[7]=_*a+b*c+x*f+w*v,e[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*h+(w=n[11])*m,e[9]=_*i+b*l+x*p+w*g,e[10]=_*o+b*u+x*d+w*y,e[11]=_*a+b*c+x*f+w*v,e[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*h+(w=n[15])*m,e[13]=_*i+b*l+x*p+w*g,e[14]=_*o+b*u+x*d+w*y,e[15]=_*a+b*c+x*f+w*v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var fa,ma=da;function ga(){var e=new ca(3);return ca!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function ya(e,t,n){var r=new ca(3);return r[0]=e,r[1]=t,r[2]=n,r}function va(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function _a(){var e=new ca(4);return ca!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function ba(e,t){const n=va([],[e.x,e.y,0,1],t);return new C(n[0]/n[3],n[1]/n[3])}ga(),fa=new ca(4),ca!=Float32Array&&(fa[0]=0,fa[1]=0,fa[2]=0,fa[3]=0),ga(),ya(1,0,0),ya(0,1,0),_a(),_a(),ha(),function(){var e;e=new ca(2),ca!=Float32Array&&(e[0]=0,e[1]=0)}();class xa extends Ho{}Tr("HeatmapBucket",xa,{omit:["layers"]});var wa={paint:new pi({"heatmap-radius":new li(ne.paint_heatmap["heatmap-radius"]),"heatmap-weight":new li(ne.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new si(ne.paint_heatmap["heatmap-intensity"]),"heatmap-color":new hi(ne.paint_heatmap["heatmap-color"]),"heatmap-opacity":new si(ne.paint_heatmap["heatmap-opacity"])})};function Ea(e,{width:t,height:n},r,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*n*r)throw new RangeError(`mismatched image size. expected: ${i.length} but got: ${t*n*r}`)}else i=new Uint8Array(t*n*r);return e.width=t,e.height=n,e.data=i,e}function Sa(e,{width:t,height:n},r){if(t===e.width&&n===e.height)return;const i=Ea({},{width:t,height:n},r);Ca(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,n)},r),e.width=t,e.height=n,e.data=i.data}function Ca(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;if(a===s)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<i.height;l++){const u=((n.y+l)*e.width+n.x)*o,c=((r.y+l)*t.width+r.x)*o;for(let e=0;e<i.width*o;e++)s[c+e]=a[u+e]}return t}class Ta{constructor(e,t){Ea(this,e,1,t)}resize(e){Sa(this,e,1)}clone(){return new Ta({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){Ca(e,t,n,r,i,1)}}class Ia{constructor(e,t){Ea(this,e,4,t)}resize(e){Sa(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Ia({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){Ca(e,t,n,r,i,4)}}function ka(e){const t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Ia({width:n,height:r});if(Math.log(n)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${n}`);const o=(n,r,o)=>{t[e.evaluationKey]=o;const a=e.expression.evaluate(t);i.data[n+r+0]=Math.floor(255*a.r/a.a),i.data[n+r+1]=Math.floor(255*a.g/a.a),i.data[n+r+2]=Math.floor(255*a.b/a.a),i.data[n+r+3]=Math.floor(255*a.a)};if(e.clips)for(let t=0,i=0;t<r;++t,i+=4*n)for(let r=0,a=0;r<n;r++,a+=4){const s=r/(n-1),{start:l,end:u}=e.clips[t];o(i,a,l*(1-s)+u*s)}else for(let e=0,t=0;e<n;e++,t+=4)o(0,t,e/(n-1));return i}Tr("AlphaImage",Ta),Tr("RGBAImage",Ia);var Pa={paint:new pi({"hillshade-illumination-direction":new si(ne.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new si(ne.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new si(ne.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new si(ne.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new si(ne.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new si(ne.paint_hillshade["hillshade-accent-color"])})};const La=vi([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ma}=La;var Aa={exports:{}};function Oa(e,t,n){n=n||2;var r,i,o,a,s,l,u,c=t&&t.length,h=c?t[0]*n:e.length,p=Ra(e,0,h,n,!0),d=[];if(!p||p.next===p.prev)return d;if(c&&(p=function(e,t,n,r){var i,o,a,s=[];for(i=0,o=t.length;i<o;i++)(a=Ra(e,t[i]*r,i<o-1?t[i+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),s.push(Ga(a));for(s.sort(Za),i=0;i<s.length;i++)n=Ua(s[i],n);return n}(e,t,p,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var f=n;f<h;f+=n)(s=e[f])<r&&(r=s),(l=e[f+1])<i&&(i=l),s>o&&(o=s),l>a&&(a=l);u=0!==(u=Math.max(o-r,a-i))?32767/u:0}return Da(p,d,n,r,i,u,0),d}function Ra(e,t,n,r,i){var o,a;if(i===is(e,t,n,r)>0)for(o=t;o<n;o+=r)a=ts(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=ts(o,e[o],e[o+1],a);return a&&Xa(a,a.next)&&(ns(a),a=a.next),a}function Na(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Xa(r,r.next)&&0!==$a(r.prev,r,r.next))r=r.next;else{if(ns(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Da(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=Va(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,u=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1)}(i)}(e,r,i,o);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Fa(e,r,i,o):za(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),ns(e),e=l.next,u=l.next;else if((e=l)===u){a?1===a?Da(e=Ba(Na(e),t,n),t,n,r,i,o,2):2===a&&ja(e,t,n,r,i,o):Da(Na(e),t,n,r,i,o,1);break}}}function za(e){var t=e.prev,n=e,r=e.next;if($a(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,h=s<l?s<u?s:u:l<u?l:u,p=i>o?i>a?i:a:o>a?o:a,d=s>l?s>u?s:u:l>u?l:u,f=r.next;f!==t;){if(f.x>=c&&f.x<=p&&f.y>=h&&f.y<=d&&Ha(i,s,o,l,a,u,f.x,f.y)&&$a(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Fa(e,t,n,r){var i=e.prev,o=e,a=e.next;if($a(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,u=a.x,c=i.y,h=o.y,p=a.y,d=s<l?s<u?s:u:l<u?l:u,f=c<h?c<p?c:p:h<p?h:p,m=s>l?s>u?s:u:l>u?l:u,g=c>h?c>p?c:p:h>p?h:p,y=Va(d,f,t,n,r),v=Va(m,g,t,n,r),_=e.prevZ,b=e.nextZ;_&&_.z>=y&&b&&b.z<=v;){if(_.x>=d&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&Ha(s,c,l,h,u,p,_.x,_.y)&&$a(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=d&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Ha(s,c,l,h,u,p,b.x,b.y)&&$a(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=y;){if(_.x>=d&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&Ha(s,c,l,h,u,p,_.x,_.y)&&$a(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=v;){if(b.x>=d&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Ha(s,c,l,h,u,p,b.x,b.y)&&$a(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Ba(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Xa(i,o)&&Ya(i,r,r.next,o)&&Qa(i,o)&&Qa(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),ns(r),ns(r.next),r=e=o),r=r.next}while(r!==e);return Na(r)}function ja(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Wa(a,s)){var l=es(a,s);return a=Na(a,a.next),l=Na(l,l.next),Da(a,t,n,r,i,o,0),void Da(l,t,n,r,i,o,0)}s=s.next}a=a.next}while(a!==e)}function Za(e,t){return e.x-t.x}function Ua(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,h=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Ha(o<h?i:a,o,c,h,o<h?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),Qa(r,e)&&(l<p||l===p&&(r.x>n.x||r.x===n.x&&qa(n,r)))&&(n=r,p=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=es(n,e);return Na(r,r.next),Na(n,n.next)}function qa(e,t){return $a(e.prev,e,t.prev)<0&&$a(t.next,e,e.next)<0}function Va(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Ga(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ha(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Wa(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ya(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Qa(e,t)&&Qa(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&($a(e.prev,e,t.prev)||$a(e,t.prev,t))||Xa(e,t)&&$a(e.prev,e,e.next)>0&&$a(t.prev,t,t.next)>0)}function $a(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Xa(e,t){return e.x===t.x&&e.y===t.y}function Ya(e,t,n,r){var i=Ja($a(e,t,n)),o=Ja($a(e,t,r)),a=Ja($a(n,r,e)),s=Ja($a(n,r,t));return i!==o&&a!==s||!(0!==i||!Ka(e,n,t))||!(0!==o||!Ka(e,r,t))||!(0!==a||!Ka(n,e,r))||!(0!==s||!Ka(n,t,r))}function Ka(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ja(e){return e>0?1:e<0?-1:0}function Qa(e,t){return $a(e.prev,e,e.next)<0?$a(e,t,e.next)>=0&&$a(e,e.prev,t)>=0:$a(e,t,e.prev)<0||$a(e,e.next,t)<0}function es(e,t){var n=new rs(e.i,e.x,e.y),r=new rs(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function ts(e,t,n,r){var i=new rs(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function ns(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function rs(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function is(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}function os(e,t,n,r,i){as(e,t,n||0,r||e.length-1,i||ls)}function as(e,t,n,r,i){for(;r>n;){if(r-n>600){var o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);as(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}var c=e[t],h=n,p=r;for(ss(e,n,t),i(e[r],c)>0&&ss(e,n,r);h<p;){for(ss(e,h,p),h++,p--;i(e[h],c)<0;)h++;for(;i(e[p],c)>0;)p--}0===i(e[n],c)?ss(e,n,p):ss(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}}function ss(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function ls(e,t){return e<t?-1:e>t?1:0}function us(e,t){const n=e.length;if(n<=1)return[e];const r=[];let i,o;for(let t=0;t<n;t++){const n=g(e[t]);0!==n&&(e[t].area=Math.abs(n),void 0===o&&(o=n<0),o===n<0?(i&&r.push(i),i=[e[t]]):i.push(e[t]))}if(i&&r.push(i),t>1)for(let e=0;e<r.length;e++)r[e].length<=t||(os(r[e],t,1,r[e].length-1,cs),r[e]=r[e].slice(0,t));return r}function cs(e,t){return t.area-e.area}function hs(e,t,n){const r=n.patternDependencies;let i=!1;for(const n of t){const t=n.paint.get(`${e}-pattern`);t.isConstant()||(i=!0);const o=t.constantOr(null);o&&(i=!0,r[o.to]=!0,r[o.from]=!0)}return i}function ps(e,t,n,r,i){const o=i.patternDependencies;for(const a of t){const t=a.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:r-1},n,{},i.availableImages),s=t.evaluate({zoom:r},n,{},i.availableImages),l=t.evaluate({zoom:r+1},n,{},i.availableImages);e=e&&e.name?e.name:e,s=s&&s.name?s.name:s,l=l&&l.name?l.name:l,o[e]=!0,o[s]=!0,o[l]=!0,n.patterns[a.id]={min:e,mid:s,max:l}}}return n}Aa.exports=Oa,Aa.exports.default=Oa,Oa.deviation=function(e,t,n,r){var i=t&&t.length,o=Math.abs(is(e,0,i?t[0]*n:e.length,n));if(i)for(var a=0,s=t.length;a<s;a++)o-=Math.abs(is(e,t[a]*n,a<s-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<r.length;a+=3){var u=r[a]*n,c=r[a+1]*n,h=r[a+2]*n;l+=Math.abs((e[u]-e[h])*(e[c+1]-e[u+1])-(e[u]-e[c])*(e[h+1]-e[u+1]))}return 0===o&&0===l?0:Math.abs((l-o)/o)},Oa.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&n.holes.push(r+=e[i-1].length)}return n};class ds{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new eo,this.indexArray=new co,this.indexArray2=new ho,this.programConfigurations=new zo(e.layers,e.zoom),this.segments=new mo,this.segments2=new mo,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=hs("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),i=!r.isConstant(),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:u}of e){const e=this.layers[0]._featureFilter.needGeometry,c=Vo(a,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),c,n))continue;const h=i?r.evaluate(c,{},n,t.availableImages):void 0,p={id:s,properties:a.properties,type:a.type,sourceLayerIndex:u,index:l,geometry:e?c.geometry:qo(a),patterns:{},sortKey:h};o.push(p)}i&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:i,index:o,sourceLayerIndex:a}=r;if(this.hasPattern){const e=ps("fill",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,i,o,n,{});t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ma),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,r,i){for(const e of us(t,500)){let t=0;for(const n of e)t+=n.length;const n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray),r=n.vertexLength,i=[],o=[];for(const t of e){if(0===t.length)continue;t!==e[0]&&o.push(i.length/2);const n=this.segments2.prepareSegment(t.length,this.layoutVertexArray,this.indexArray2),r=n.vertexLength;this.layoutVertexArray.emplaceBack(t[0].x,t[0].y),this.indexArray2.emplaceBack(r+t.length-1,r),i.push(t[0].x),i.push(t[0].y);for(let e=1;e<t.length;e++)this.layoutVertexArray.emplaceBack(t[e].x,t[e].y),this.indexArray2.emplaceBack(r+e-1,r+e),i.push(t[e].x),i.push(t[e].y);n.vertexLength+=t.length,n.primitiveLength+=t.length}const a=Aa.exports(i,o);for(let e=0;e<a.length;e+=3)this.indexArray.emplaceBack(r+a[e],r+a[e+1],r+a[e+2]);n.vertexLength+=t,n.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}Tr("FillBucket",ds,{omit:["layers","patternFeatures"]});const fs=new pi({"fill-sort-key":new li(ne.layout_fill["fill-sort-key"])});var ms={paint:new pi({"fill-antialias":new si(ne.paint_fill["fill-antialias"]),"fill-opacity":new li(ne.paint_fill["fill-opacity"]),"fill-color":new li(ne.paint_fill["fill-color"]),"fill-outline-color":new li(ne.paint_fill["fill-outline-color"]),"fill-translate":new si(ne.paint_fill["fill-translate"]),"fill-translate-anchor":new si(ne.paint_fill["fill-translate-anchor"]),"fill-pattern":new ui(ne.paint_fill["fill-pattern"])}),layout:fs};const gs=vi([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),ys=vi([{name:"a_centroid",components:2,type:"Int16"}],4),{members:vs}=gs;var _s={},bs=C,xs=ws;function ws(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Es,this,t)}function Es(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function Ss(e){for(var t,n,r=0,i=0,o=e.length,a=o-1;i<o;a=i++)r+=((n=e[a]).x-(t=e[i]).x)*(t.y+n.y);return r}ws.types=["Unknown","Point","LineString","Polygon"],ws.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,r=1,i=0,o=0,a=0,s=[];e.pos<n;){if(i<=0){var l=e.readVarint();r=7&l,i=l>>3}if(i--,1===r||2===r)o+=e.readSVarint(),a+=e.readSVarint(),1===r&&(t&&s.push(t),t=[]),t.push(new bs(o,a));else{if(7!==r)throw new Error("unknown command "+r);t&&t.push(t[0].clone())}}return t&&s.push(t),s},ws.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,u=-1/0;e.pos<t;){if(r<=0){var c=e.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<a&&(a=i),i>s&&(s=i),(o+=e.readSVarint())<l&&(l=o),o>u&&(u=o);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,s,u]},ws.prototype.toGeoJSON=function(e,t,n){var r,i,o=this.extent*Math.pow(2,n),a=this.extent*e,s=this.extent*t,l=this.loadGeometry(),u=ws.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/o-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+s)/o)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(r=0;r<l.length;r++)h[r]=l[r][0];c(l=h);break;case 2:for(r=0;r<l.length;r++)c(l[r]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],o=0;o<t;o++){var a=Ss(e[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[e[o]]):n.push(e[o]))}return n&&i.push(n),i}(l),r=0;r<l.length;r++)for(i=0;i<l[r].length;i++)c(l[r][i])}1===l.length?l=l[0]:u="Multi"+u;var p={type:"Feature",geometry:{type:u,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p};var Cs=xs,Ts=Is;function Is(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(ks,this,t),this.length=this._features.length}function ks(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}Is.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Cs(this._pbf,t,this.extent,this._keys,this._values)};var Ps=Ts;function Ls(e,t,n){if(3===e){var r=new Ps(n,n.readVarint()+n.pos);r.length&&(t[r.name]=r)}}_s.VectorTile=function(e,t){this.layers=e.readFields(Ls,{},t)},_s.VectorTileFeature=xs,_s.VectorTileLayer=Ts;const Ms=_s.VectorTileFeature.types,As=Math.pow(2,13);function Os(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*As)+a,i*As*2,o*As*2,Math.round(s))}class Rs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new to,this.centroidVertexArray=new Ji,this.indexArray=new co,this.programConfigurations=new zo(e.layers,e.zoom),this.segments=new mo,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.features=[],this.hasPattern=hs("fill-extrusion",this.layers,t);for(const{feature:r,id:i,index:o,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Vo(r,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),s,n))continue;const l={id:i,sourceLayerIndex:a,index:o,geometry:e?s.geometry:qo(r),properties:r.properties,type:r.type,patterns:{}};this.hasPattern?this.features.push(ps("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,o,n,{}),t.featureIndex.insert(r,l.geometry,o,a,this.index,!0)}}addFeatures(e,t,n){for(const e of this.features){const{geometry:r}=e;this.addFeature(e,r,e.index,t,n)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,vs),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,ys.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,n,r,i){const o={x:0,y:0,vertexCount:0};for(const n of us(t,500)){let t=0;for(const e of n)t+=e.length;let r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of n){if(0===e.length)continue;if(Ds(e))continue;let t=0;for(let n=0;n<e.length;n++){const i=e[n];if(n>=1){const a=e[n-1];if(!Ns(i,a)){r.vertexLength+4>mo.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=i.sub(a)._perp()._unit(),n=a.dist(i);t+n>32768&&(t=0),Os(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,0,t),Os(this.layoutVertexArray,i.x,i.y,e.x,e.y,0,1,t),o.x+=2*i.x,o.y+=2*i.y,o.vertexCount+=2,t+=n,Os(this.layoutVertexArray,a.x,a.y,e.x,e.y,0,0,t),Os(this.layoutVertexArray,a.x,a.y,e.x,e.y,0,1,t),o.x+=2*a.x,o.y+=2*a.y,o.vertexCount+=2;const s=r.vertexLength;this.indexArray.emplaceBack(s,s+2,s+1),this.indexArray.emplaceBack(s+1,s+2,s+3),r.vertexLength+=4,r.primitiveLength+=2}}}}if(r.vertexLength+t>mo.MAX_VERTEX_ARRAY_LENGTH&&(r=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==Ms[e.type])continue;const i=[],a=[],s=r.vertexLength;for(const e of n)if(0!==e.length){e!==n[0]&&a.push(i.length/2);for(let t=0;t<e.length;t++){const n=e[t];Os(this.layoutVertexArray,n.x,n.y,0,0,1,1,0),o.x+=n.x,o.y+=n.y,o.vertexCount+=1,i.push(n.x),i.push(n.y)}}const l=Aa.exports(i,a);for(let e=0;e<l.length;e+=3)this.indexArray.emplaceBack(s+l[e],s+l[e+2],s+l[e+1]);r.primitiveLength+=l.length/3,r.vertexLength+=t}for(let e=0;e<o.vertexCount;e++)this.centroidVertexArray.emplaceBack(Math.floor(o.x/o.vertexCount),Math.floor(o.y/o.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}}function Ns(e,t){return e.x===t.x&&(e.x<0||e.x>jo)||e.y===t.y&&(e.y<0||e.y>jo)}function Ds(e){return e.every((e=>e.x<0))||e.every((e=>e.x>jo))||e.every((e=>e.y<0))||e.every((e=>e.y>jo))}Tr("FillExtrusionBucket",Rs,{omit:["layers","features"]});var zs={paint:new pi({"fill-extrusion-opacity":new si(ne["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new li(ne["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new si(ne["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new si(ne["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new ui(ne["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new li(ne["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new li(ne["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new si(ne["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function Fs(e,t){return e.x*t.x+e.y*t.y}function Bs(e,t){if(1===e.length){let n=0;const r=t[n++];let i;for(;!i||r.equals(i);)if(i=t[n++],!i)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=i.sub(r),l=o.sub(r),u=a.sub(r),c=Fs(s,s),h=Fs(s,l),p=Fs(l,l),d=Fs(u,s),f=Fs(u,l),m=c*p-h*h,g=(p*d-h*f)/m,y=(c*f-h*d)/m,v=r.z*(1-g-y)+i.z*g+o.z*y;if(isFinite(v))return v}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}const js=vi([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Zs}=js,Us=vi([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:qs}=Us,Vs=_s.VectorTileFeature.types,Gs=Math.cos(Math.PI/180*37.5),Hs=Math.pow(2,14)/.5;class Ws{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new no,this.layoutVertexArray2=new ro,this.indexArray=new co,this.programConfigurations=new zo(e.layers,e.zoom),this.segments=new mo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=hs("line",this.layers,t);const r=this.layers[0].layout.get("line-sort-key"),i=!r.isConstant(),o=[];for(const{feature:t,id:a,index:s,sourceLayerIndex:l}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Vo(t,e);if(!this.layers[0]._featureFilter.filter(new Jr(this.zoom),u,n))continue;const c=i?r.evaluate(u,{},n):void 0,h={id:a,properties:t.properties,type:t.type,sourceLayerIndex:l,index:s,geometry:e?u.geometry:qo(t),patterns:{},sortKey:c};o.push(h)}i&&o.sort(((e,t)=>e.sortKey-t.sortKey));for(const r of o){const{geometry:i,index:o,sourceLayerIndex:a}=r;if(this.hasPattern){const e=ps("line",this.layers,r,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(r,i,o,n,{});t.featureIndex.insert(e[o].feature,i,o,a,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const e of this.patternFeatures)this.addFeature(e,e.geometry,e.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,qs)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Zs),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,r,i){const o=this.layers[0].layout,a=o.get("line-join").evaluate(e,{}),s=o.get("line-cap"),l=o.get("line-miter-limit"),u=o.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const n of t)this.addLine(n,e,a,s,l,u);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,i,r)}addLine(e,t,n,r,i,o){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===Vs[t.type];let s=e.length;for(;s>=2&&e[s-1].equals(e[s-2]);)s--;let l=0;for(;l<s-1&&e[l].equals(e[l+1]);)l++;if(s<(a?3:2))return;"bevel"===n&&(i=1.05);const u=this.overscaling<=16?122880/(512*this.overscaling):0,c=this.segments.prepareSegment(10*s,this.layoutVertexArray,this.indexArray);let h,p,d,f,m;this.e1=this.e2=-1,a&&(h=e[s-2],m=e[l].sub(h)._unit()._perp());for(let t=l;t<s;t++){if(d=t===s-1?a?e[l+1]:void 0:e[t+1],d&&e[t].equals(d))continue;m&&(f=m),h&&(p=h),h=e[t],m=d?d.sub(h)._unit()._perp():f,f=f||m;let g=f.add(m);0===g.x&&0===g.y||g._unit();const y=f.x*m.x+f.y*m.y,v=g.x*m.x+g.y*m.y,_=0!==v?1/v:1/0,b=2*Math.sqrt(2-2*v),x=v<Gs&&p&&d,w=f.x*m.y-f.y*m.x>0;if(x&&t>l){const e=h.dist(p);if(e>2*u){const t=h.sub(h.sub(p)._mult(u/e)._round());this.updateDistance(p,t),this.addCurrentVertex(t,f,0,0,c),p=t}}const E=p&&d;let S=E?n:a?"butt":r;if(E&&"round"===S&&(_<o?S="miter":_<=2&&(S="fakeround")),"miter"===S&&_>i&&(S="bevel"),"bevel"===S&&(_>2&&(S="flipbevel"),_<i&&(S="miter")),p&&this.updateDistance(p,h),"miter"===S)g._mult(_),this.addCurrentVertex(h,g,0,0,c);else if("flipbevel"===S){if(_>100)g=m.mult(-1);else{const e=_*f.add(m).mag()/f.sub(m).mag();g._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,g,0,0,c),this.addCurrentVertex(h,g.mult(-1),0,0,c)}else if("bevel"===S||"fakeround"===S){const e=-Math.sqrt(_*_-1),t=w?e:0,n=w?0:e;if(p&&this.addCurrentVertex(h,f,t,n,c),"fakeround"===S){const e=Math.round(180*b/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const r=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,r.x,r.y,!1,w,0,c)}}d&&this.addCurrentVertex(h,m,-t,-n,c)}else if("butt"===S)this.addCurrentVertex(h,g,0,0,c);else if("square"===S){const e=p?1:-1;this.addCurrentVertex(h,g,e,e,c)}else"round"===S&&(p&&(this.addCurrentVertex(h,f,0,0,c),this.addCurrentVertex(h,f,1,1,c,!0)),d&&(this.addCurrentVertex(h,m,-1,-1,c,!0),this.addCurrentVertex(h,m,0,0,c)));if(x&&t<s-1){const e=h.dist(d);if(e>2*u){const t=h.add(d.sub(h)._mult(u/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,c),h=t}}}}addCurrentVertex(e,t,n,r,i,o=!1){const a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>Hs/2&&0===this.totalDistance&&(this.distance=0,this.addCurrentVertex(e,t,n,r,i,o))}addHalfVertex({x:e,y:t},n,r,i,o,a,s){const l=.5*(this.lineClips?this.scaledDistance*(Hs-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const u=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),s.primitiveLength++),o?this.e2=u:this.e1=u}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}Tr("LineBucket",Ws,{omit:["layers","patternFeatures"]});const $s=new pi({"line-cap":new si(ne.layout_line["line-cap"]),"line-join":new li(ne.layout_line["line-join"]),"line-miter-limit":new si(ne.layout_line["line-miter-limit"]),"line-round-limit":new si(ne.layout_line["line-round-limit"]),"line-sort-key":new li(ne.layout_line["line-sort-key"])});var Xs={paint:new pi({"line-opacity":new li(ne.paint_line["line-opacity"]),"line-color":new li(ne.paint_line["line-color"]),"line-translate":new si(ne.paint_line["line-translate"]),"line-translate-anchor":new si(ne.paint_line["line-translate-anchor"]),"line-width":new li(ne.paint_line["line-width"]),"line-gap-width":new li(ne.paint_line["line-gap-width"]),"line-offset":new li(ne.paint_line["line-offset"]),"line-blur":new li(ne.paint_line["line-blur"]),"line-dasharray":new ci(ne.paint_line["line-dasharray"]),"line-pattern":new ui(ne.paint_line["line-pattern"]),"line-gradient":new hi(ne.paint_line["line-gradient"])}),layout:$s};const Ys=new class extends li{possiblyEvaluate(e,t){return t=new Jr(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,r){return t=s({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,r)}}(Xs.paint.properties["line-width"].specification);function Ks(e,t){return t>0?t+2*e:e}Ys.useIntegerZoom=!0;const Js=vi([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Qs=vi([{name:"a_projected_pos",components:3,type:"Float32"}],4);vi([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const el=vi([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);vi([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const tl=vi([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),nl=vi([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function rl(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),Kr.applyArabicShaping&&(e=Kr.applyArabicShaping(e)),e}(e.text,t,n)})),e}vi([{name:"triangle",components:3,type:"Uint16"}]),vi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),vi([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),vi([{type:"Float32",name:"offsetX"}]),vi([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const il={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"};var ol=24,al=ul,sl=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,u=l>>1,c=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-c)-1,d>>=-c,c+=s;c>0;o=256*o+e[t+h],h+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+h],h+=p,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=u}return(d?-1:1)*a*Math.pow(2,o-r)},ll=function(e,t,n,r,i,o){var a,s,l,u=8*o-i-1,c=(1<<u)-1,h=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[n+d]=255&a,d+=f,a/=256,u-=8);e[n+d-f]|=128*m};function ul(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}ul.Varint=0,ul.Fixed64=1,ul.Bytes=2,ul.Fixed32=5;var cl,hl=4294967296,pl=1/hl,dl="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function fl(e){return e.type===ul.Bytes?e.readVarint()+e.pos:e.pos+1}function ml(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function gl(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function yl(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function vl(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function _l(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function bl(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function xl(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function wl(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function El(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Sl(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Cl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Tl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function Il(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function kl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function Pl(e,t,n){1===e&&n.readMessage(Ll,t)}function Ll(e,t,n){if(3===e){const{id:e,bitmap:r,width:i,height:o,left:a,top:s,advance:l}=n.readMessage(Ml,{});t.push({id:e,bitmap:new Ta({width:i+6,height:o+6},r),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function Ml(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Al(e){let t=0,n=0;for(const r of e)t+=r.w*r.h,n=Math.max(n,r.w);e.sort(((e,t)=>t.h-e.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,o=0;for(const t of e)for(let e=r.length-1;e>=0;e--){const n=r[e];if(!(t.w>n.w||t.h>n.h)){if(t.x=n.x,t.y=n.y,o=Math.max(o,t.y+t.h),i=Math.max(i,t.x+t.w),t.w===n.w&&t.h===n.h){const t=r.pop();e<r.length&&(r[e]=t)}else t.h===n.h?(n.x+=t.w,n.w-=t.w):t.w===n.w?(n.y+=t.h,n.h-=t.h):(r.push({x:n.x+t.w,y:n.y,w:n.w-t.w,h:t.h}),n.y+=t.h,n.h-=t.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}ul.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Tl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=kl(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Tl(this.buf,this.pos)+Tl(this.buf,this.pos+4)*hl;return this.pos+=8,e},readSFixed64:function(){var e=Tl(this.buf,this.pos)+kl(this.buf,this.pos+4)*hl;return this.pos+=8,e},readFloat:function(){var e=sl(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=sl(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(r=(112&(i=o[n.pos++]))>>4,i<128)return ml(e,r,t);if(r|=(127&(i=o[n.pos++]))<<3,i<128)return ml(e,r,t);if(r|=(127&(i=o[n.pos++]))<<10,i<128)return ml(e,r,t);if(r|=(127&(i=o[n.pos++]))<<17,i<128)return ml(e,r,t);if(r|=(127&(i=o[n.pos++]))<<24,i<128)return ml(e,r,t);if(r|=(1&(i=o[n.pos++]))<<31,i<128)return ml(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&dl?function(e,t,n){return dl.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var r="",i=t;i<n;){var o,a,s,l=e[i],u=null,c=l>239?4:l>223?3:l>191?2:1;if(i+c>n)break;1===c?l<128&&(u=l):2===c?128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)<=127&&(u=null):3===c?(a=e[i+2],128==(192&(o=e[i+1]))&&128==(192&a)&&((u=(15&l)<<12|(63&o)<<6|63&a)<=2047||u>=55296&&u<=57343)&&(u=null)):4===c&&(a=e[i+2],s=e[i+3],128==(192&(o=e[i+1]))&&128==(192&a)&&128==(192&s)&&((u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)<=65535||u>=1114112)&&(u=null)),null===u?(u=65533,c=1):u>65535&&(u-=65536,r+=String.fromCharCode(u>>>10&1023|55296),u=56320|1023&u),r+=String.fromCharCode(u),i+=c}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==ul.Bytes)return e.push(this.readVarint(t));var n=fl(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==ul.Bytes)return e.push(this.readSVarint());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==ul.Bytes)return e.push(this.readBoolean());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==ul.Bytes)return e.push(this.readFloat());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==ul.Bytes)return e.push(this.readDouble());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==ul.Bytes)return e.push(this.readFixed32());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==ul.Bytes)return e.push(this.readSFixed32());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==ul.Bytes)return e.push(this.readFixed64());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==ul.Bytes)return e.push(this.readSFixed64());var t=fl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===ul.Varint)for(;this.buf[this.pos++]>127;);else if(t===ul.Bytes)this.pos=this.readVarint()+this.pos;else if(t===ul.Fixed32)this.pos+=4;else{if(t!==ul.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),Il(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),Il(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),Il(this.buf,-1&e,this.pos),Il(this.buf,Math.floor(e*pl),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),Il(this.buf,-1&e,this.pos),Il(this.buf,Math.floor(e*pl),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&gl(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),ll(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),ll(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&gl(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,ul.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,yl,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,vl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,xl,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,_l,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,bl,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,wl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,El,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Sl,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Cl,t)},writeBytesField:function(e,t){this.writeTag(e,ul.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,ul.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,ul.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,ul.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,ul.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,ul.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,ul.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,ul.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,ul.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,ul.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};class Ol{constructor(e,{pixelRatio:t,version:n,stretchX:r,stretchY:i,content:o}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=i,this.content=o,this.version=n}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Rl{constructor(e,t){const n={},r={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,n,i),this.addImages(t,r,i);const{w:o,h:a}=Al(i),s=new Ia({width:o||1,height:a||1});for(const t in e){const r=e[t],i=n[t].paddedRect;Ia.copy(r.data,s,{x:0,y:0},{x:i.x+1,y:i.y+1},r.data)}for(const e in t){const n=t[e],i=r[e].paddedRect,o=i.x+1,a=i.y+1,l=n.data.width,u=n.data.height;Ia.copy(n.data,s,{x:0,y:0},{x:o,y:a},n.data),Ia.copy(n.data,s,{x:0,y:u-1},{x:o,y:a-1},{width:l,height:1}),Ia.copy(n.data,s,{x:0,y:0},{x:o,y:a+u},{width:l,height:1}),Ia.copy(n.data,s,{x:l-1,y:0},{x:o-1,y:a},{width:1,height:u}),Ia.copy(n.data,s,{x:0,y:0},{x:o+l,y:a},{width:1,height:u})}this.image=s,this.iconPositions=n,this.patternPositions=r}addImages(e,t,n){for(const r in e){const i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new Ol(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,i]=e.tl;n.update(t.data,void 0,{x:r,y:i})}}Tr("ImagePosition",Ol),Tr("ImageAtlas",Rl),e.WritingMode=void 0,(cl=e.WritingMode||(e.WritingMode={}))[cl.none=0]="none",cl[cl.horizontal=1]="horizontal",cl[cl.vertical=2]="vertical",cl[cl.horizontalOnly=3]="horizontalOnly";const Nl=-17;class Dl{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new Dl;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new Dl;return t.imageName=e,t}}class zl{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new zl;for(let r=0;r<e.sections.length;r++){const i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let n=0;n<e.length;n++){const r=e.charCodeAt(n+1)||null,i=e.charCodeAt(n-1)||null;t+=r&&Dr(r)&&!il[e[n+1]]||i&&Dr(i)&&!il[e[n-1]]||!il[e[n]]?e[n]:il[e[n]]}return t}(this.text)}trim(){let e=0;for(let t=0;t<this.text.length&&Bl[this.text.charCodeAt(t)];t++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&Bl[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new zl;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(Dl.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let t=0;t<e.text.length;++t)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void f("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(Dl.forImage(t)),this.sectionIndex.push(this.sections.length-1)):f("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Fl(t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g){const y=zl.fromFeature(t,o);let v;p===e.WritingMode.vertical&&y.verticalizePunctuation();const{processBidirectionalText:_,processStyledBidirectionalText:b}=Kr;if(_&&1===y.sections.length){v=[];const e=_(y.toString(),Hl(y,c,a,n,i,f,m));for(const t of e){const e=new zl;e.text=t,e.sections=y.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);v.push(e)}}else if(b){v=[];const e=b(y.text,y.sectionIndex,Hl(y,c,a,n,i,f,m));for(const t of e){const e=new zl;e.text=t[0],e.sectionIndex=t[1],e.sections=y.sections,v.push(e)}}else v=function(e,t){const n=[],r=e.text;let i=0;for(const r of t)n.push(e.substring(i,r)),i=r;return i<r.length&&n.push(e.substring(i,r.length)),n}(y,Hl(y,c,a,n,i,f,m));const x=[],w={positionedLines:x,text:y.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:p,iconsInText:!1,verticalizable:!1};return function(t,n,r,i,o,a,s,l,u,c,h,p){let d=0,f=Nl,m=0,g=0;const y="right"===l?1:"left"===l?0:.5;let v=0;for(const s of o){s.trim();const o=s.getMaxScale(),l=(o-1)*ol,b={positionedGlyphs:[],lineOffset:0};t.positionedLines[v]=b;const x=b.positionedGlyphs;let w=0;if(!s.length()){f+=a,++v;continue}for(let a=0;a<s.length();a++){const m=s.getSection(a),g=s.getSectionIndex(a),y=s.getCharCode(a);let v=0,b=null,E=null,S=null,C=ol;const T=!(u===e.WritingMode.horizontal||!h&&!Nr(y)||h&&(Bl[y]||(_=y,Mr.Arabic(_)||Mr["Arabic Supplement"](_)||Mr["Arabic Extended-A"](_)||Mr["Arabic Presentation Forms-A"](_)||Mr["Arabic Presentation Forms-B"](_))));if(m.imageName){const e=i[m.imageName];if(!e)continue;S=m.imageName,t.iconsInText=t.iconsInText||!0,E=e.paddedRect;const n=e.displaySize;m.scale=m.scale*ol/p,b={width:n[0],height:n[1],left:1,top:-3,advance:T?n[1]:n[0]},v=l+(ol-n[1]*m.scale),C=b.advance;const r=T?n[0]*m.scale-ol*o:n[1]*m.scale-ol*o;r>0&&r>w&&(w=r)}else{const e=r[m.fontStack],t=e&&e[y];if(t&&t.rect)E=t.rect,b=t.metrics;else{const e=n[m.fontStack],t=e&&e[y];if(!t)continue;b=t.metrics}v=(o-m.scale)*ol}T?(t.verticalizable=!0,x.push({glyph:y,imageName:S,x:d,y:f+v,vertical:T,scale:m.scale,fontStack:m.fontStack,sectionIndex:g,metrics:b,rect:E}),d+=C*m.scale+c):(x.push({glyph:y,imageName:S,x:d,y:f+v,vertical:T,scale:m.scale,fontStack:m.fontStack,sectionIndex:g,metrics:b,rect:E}),d+=b.advance*m.scale+c)}0!==x.length&&(m=Math.max(d-c,m),$l(x,0,x.length-1,y,w)),d=0;const E=a*o+w;b.lineOffset=Math.max(w,l),f+=E,g=Math.max(E,g),++v}var _;const b=f-Nl,{horizontalAlign:x,verticalAlign:w}=Wl(s);(function(e,t,n,r,i,o,a,s,l){const u=(t-n)*i;let c=0;c=o!==a?-s*r-Nl:(-r*l+.5)*a;for(const t of e)for(const e of t.positionedGlyphs)e.x+=u,e.y+=c})(t.positionedLines,y,x,w,m,g,a,b,o.length),t.top+=-w*b,t.bottom=t.top+b,t.left+=-x*m,t.right=t.left+m}(w,n,r,i,v,s,l,u,p,c,d,g),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&w}const Bl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},jl={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Zl(e,t,n,r,i,o){if(t.imageName){const e=r[t.imageName];return e?e.displaySize[0]*t.scale*ol/o+i:0}{const r=n[t.fontStack],o=r&&r[e];return o?o.metrics.advance*t.scale+i:0}}function Ul(e,t,n,r){const i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function ql(e,t,n){let r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function Vl(e,t,n,r,i,o){let a=null,s=Ul(t,n,i,o);for(const e of r){const r=Ul(t-e.x,n,i,o)+e.badness;r<=s&&(a=e,s=r)}return{index:e,x:t,priorBreak:a,badness:s}}function Gl(e){return e?Gl(e.priorBreak).concat(e.index):[]}function Hl(e,t,n,r,i,o,a){if("point"!==o)return[];if(!e)return[];const s=[],l=function(e,t,n,r,i,o){let a=0;for(let n=0;n<e.length();n++){const s=e.getSection(n);a+=Zl(e.getCharCode(n),s,r,i,t,o)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,r,i,a),u=e.text.indexOf("​")>=0;let c=0;for(let n=0;n<e.length();n++){const o=e.getSection(n),p=e.getCharCode(n);if(Bl[p]||(c+=Zl(p,o,r,i,t,a)),n<e.length()-1){const t=!((h=p)<11904||!(Mr["Bopomofo Extended"](h)||Mr.Bopomofo(h)||Mr["CJK Compatibility Forms"](h)||Mr["CJK Compatibility Ideographs"](h)||Mr["CJK Compatibility"](h)||Mr["CJK Radicals Supplement"](h)||Mr["CJK Strokes"](h)||Mr["CJK Symbols and Punctuation"](h)||Mr["CJK Unified Ideographs Extension A"](h)||Mr["CJK Unified Ideographs"](h)||Mr["Enclosed CJK Letters and Months"](h)||Mr["Halfwidth and Fullwidth Forms"](h)||Mr.Hiragana(h)||Mr["Ideographic Description Characters"](h)||Mr["Kangxi Radicals"](h)||Mr["Katakana Phonetic Extensions"](h)||Mr.Katakana(h)||Mr["Vertical Forms"](h)||Mr["Yi Radicals"](h)||Mr["Yi Syllables"](h)));(jl[p]||t||o.imageName)&&s.push(Vl(n+1,c,l,s,ql(p,e.getCharCode(n+1),t&&u),!1))}}var h;return Gl(Vl(e.length(),c,l,s,0,!0))}function Wl(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function $l(e,t,n,r,i){if(!r&&!i)return;const o=e[n],a=(e[n].x+o.metrics.advance*o.scale)*r;for(let r=t;r<=n;r++)e[r].x-=a,e[r].y+=i}function Xl(e,t,n){const{horizontalAlign:r,verticalAlign:i}=Wl(n),o=t[0]-e.displaySize[0]*r,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function Yl(e,t,n,r,i,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,u=t.right*o;let c,h,p,d;"width"===n||"both"===n?(d=i[0]+l-r[3],h=i[0]+u+r[1]):(d=i[0]+(l+u-a.displaySize[0])/2,h=d+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===n||"both"===n?(c=i[1]+f-r[0],p=i[1]+m+r[2]):(c=i[1]+(f+m-a.displaySize[1])/2,p=c+a.displaySize[1]),{image:a,top:c,right:h,bottom:p,left:d,collisionPadding:s}}const Kl=128;function Jl(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Jr(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:r}=n;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let o=i;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[i],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:r}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Jr(a)),maxSize:n.evaluate(new Jr(s)),interpolationType:r}}}class Ql extends C{constructor(e,t,n,r){super(e,t),this.angle=n,void 0!==r&&(this.segment=r)}clone(){return new Ql(this.x,this.y,this.angle,this.segment)}}function eu(e,t,n,r,i){if(void 0===t.segment)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let u=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),u+=o;s-l[0].distance>r;)u-=l.shift().angleDelta;if(u>i)return!1;a++,s+=t.dist(n)}return!0}function tu(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function nu(e,t,n){return e?.6*t*n:0}function ru(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function iu(e,t,n,r,i,o){const a=nu(n,i,o),s=ru(n,r)*o;let l=0;const u=tu(e)/2;for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1],o=r.dist(i);if(l+o>u){const c=(u-l)/o,h=St(r.x,i.x,c),p=St(r.y,i.y,c),d=new Ql(h,p,i.angleTo(r),n);return d._round(),!a||eu(e,d,s,a,t)?d:void 0}l+=o}}function ou(e,t,n,r,i,o,a,s,l){const u=nu(r,o,a),c=ru(r,i),h=c*a,p=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),au(e,p?t/2*s%t:(c/2+2*o)*a*s%t,t,u,n,h,p,!1,l)}function au(e,t,n,r,i,o,a,s,l){const u=o/2,c=tu(e);let h=0,p=t-n,d=[];for(let t=0;t<e.length-1;t++){const a=e[t],s=e[t+1],f=a.dist(s),m=s.angleTo(a);for(;p+n<h+f;){p+=n;const g=(p-h)/f,y=St(a.x,s.x,g),v=St(a.y,s.y,g);if(y>=0&&y<l&&v>=0&&v<l&&p-u>=0&&p+u<=c){const n=new Ql(y,v,m,t);n._round(),r&&!eu(e,n,o,r,i)||d.push(n)}}h+=f}return s||d.length||a||(d=au(e,h/2,n,r,i,o,a,!0,l)),d}function su(e,t,n,r,i){const o=[];for(let a=0;a<e.length;a++){const s=e[a];let l;for(let e=0;e<s.length-1;e++){let a=s[e],u=s[e+1];a.x<t&&u.x<t||(a.x<t?a=new C(t,a.y+(t-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x<t&&(u=new C(t,a.y+(t-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y<n&&u.y<n||(a.y<n?a=new C(a.x+(n-a.y)/(u.y-a.y)*(u.x-a.x),n)._round():u.y<n&&(u=new C(a.x+(n-a.y)/(u.y-a.y)*(u.x-a.x),n)._round()),a.x>=r&&u.x>=r||(a.x>=r?a=new C(r,a.y+(r-a.x)/(u.x-a.x)*(u.y-a.y))._round():u.x>=r&&(u=new C(r,a.y+(r-a.x)/(u.x-a.x)*(u.y-a.y))._round()),a.y>=i&&u.y>=i||(a.y>=i?a=new C(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round():u.y>=i&&(u=new C(a.x+(i-a.y)/(u.y-a.y)*(u.x-a.x),i)._round()),l&&a.equals(l[l.length-1])||(l=[a],o.push(l)),l.push(u)))))}}return o}function lu(e,t,n,r){const i=[],o=e.image,a=o.pixelRatio,s=o.paddedRect.w-2,l=o.paddedRect.h-2,u=e.right-e.left,c=e.bottom-e.top,h=o.stretchX||[[0,s]],p=o.stretchY||[[0,l]],d=(e,t)=>e+t[1]-t[0],f=h.reduce(d,0),m=p.reduce(d,0),g=s-f,y=l-m;let v=0,_=f,b=0,x=m,w=0,E=g,S=0,T=y;if(o.content&&r){const e=o.content;v=uu(h,0,e[0]),b=uu(p,0,e[1]),_=uu(h,e[0],e[2]),x=uu(p,e[1],e[3]),w=e[0]-v,S=e[1]-b,E=e[2]-e[0]-_,T=e[3]-e[1]-x}const I=(r,i,s,l)=>{const h=hu(r.stretch-v,_,u,e.left),p=pu(r.fixed-w,E,r.stretch,f),d=hu(i.stretch-b,x,c,e.top),g=pu(i.fixed-S,T,i.stretch,m),y=hu(s.stretch-v,_,u,e.left),I=pu(s.fixed-w,E,s.stretch,f),k=hu(l.stretch-b,x,c,e.top),P=pu(l.fixed-S,T,l.stretch,m),L=new C(h,d),M=new C(y,d),A=new C(y,k),O=new C(h,k),R=new C(p/a,g/a),N=new C(I/a,P/a),D=t*Math.PI/180;if(D){const e=Math.sin(D),t=Math.cos(D),n=[t,-e,e,t];L._matMult(n),M._matMult(n),O._matMult(n),A._matMult(n)}const z=r.stretch+r.fixed,F=i.stretch+i.fixed;return{tl:L,tr:M,bl:O,br:A,tex:{x:o.paddedRect.x+1+z,y:o.paddedRect.y+1+F,w:s.stretch+s.fixed-z,h:l.stretch+l.fixed-F},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:R,pixelOffsetBR:N,minFontScaleX:E/a/u,minFontScaleY:T/a/c,isSDF:n}};if(r&&(o.stretchX||o.stretchY)){const e=cu(h,g,f),t=cu(p,y,m);for(let n=0;n<e.length-1;n++){const r=e[n],o=e[n+1];for(let e=0;e<t.length-1;e++)i.push(I(r,t[e],o,t[e+1]))}}else i.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:s+1},{fixed:0,stretch:l+1}));return i}function uu(e,t,n){let r=0;for(const i of e)r+=Math.max(t,Math.min(n,i[1]))-Math.max(t,Math.min(n,i[0]));return r}function cu(e,t,n){const r=[{fixed:-1,stretch:0}];for(const[t,n]of e){const e=r[r.length-1];r.push({fixed:t-e.stretch,stretch:e.stretch}),r.push({fixed:t-e.stretch,stretch:e.stretch+(n-t)})}return r.push({fixed:t+1,stretch:n}),r}function hu(e,t,n,r){return e/t*n+r}function pu(e,t,n,r){return e-t*n/r}Tr("Anchor",Ql);class du{constructor(e,t,n,r,i,o,a,s,l,u){if(this.boxStartIndex=e.length,l){let e=o.top,t=o.bottom;const n=o.collisionPadding;n&&(e-=n[1],t+=n[3]);let r=t-e;r>0&&(r=Math.max(10,r),this.circleDiameter=r)}else{let l=o.top*a-s[0],c=o.bottom*a+s[2],h=o.left*a-s[3],p=o.right*a+s[1];const d=o.collisionPadding;if(d&&(h-=d[0]*a,l-=d[1]*a,p+=d[2]*a,c+=d[3]*a),u){const e=new C(h,l),t=new C(p,l),n=new C(h,c),r=new C(p,c),i=u*Math.PI/180;e._rotate(i),t._rotate(i),n._rotate(i),r._rotate(i),h=Math.min(e.x,t.x,n.x,r.x),p=Math.max(e.x,t.x,n.x,r.x),l=Math.min(e.y,t.y,n.y,r.y),c=Math.max(e.y,t.y,n.y,r.y)}e.emplaceBack(t.x,t.y,h,l,p,c,n,r,i)}this.boxEndIndex=e.length}}class fu{constructor(e=[],t=mu){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let e=(this.length>>1)-1;e>=0;e--)this._down(e)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1),o=t[r];const a=r+1;if(a<this.length&&n(t[a],o)<0&&(r=a,o=t[a]),n(o,i)>=0)break;t[e]=o,e=r}t[e]=i}}function mu(e,t){return e<t?-1:e>t?1:0}function gu(e,t=1,n=!1){let r=1/0,i=1/0,o=-1/0,a=-1/0;const s=e[0];for(let e=0;e<s.length;e++){const t=s[e];(!e||t.x<r)&&(r=t.x),(!e||t.y<i)&&(i=t.y),(!e||t.x>o)&&(o=t.x),(!e||t.y>a)&&(a=t.y)}const l=Math.min(o-r,a-i);let u=l/2;const c=new fu([],yu);if(0===l)return new C(r,i);for(let t=r;t<o;t+=l)for(let n=i;n<a;n+=l)c.push(new vu(t+u,n+u,u,e));let h=function(e){let t=0,n=0,r=0;const i=e[0];for(let e=0,o=i.length,a=o-1;e<o;a=e++){const o=i[e],s=i[a],l=o.x*s.y-s.x*o.y;n+=(o.x+s.x)*l,r+=(o.y+s.y)*l,t+=3*l}return new vu(n/t,r/t,0,e)}(e),p=c.length;for(;c.length;){const r=c.pop();(r.d>h.d||!h.d)&&(h=r,n&&console.log("found best %d after %d probes",Math.round(1e4*r.d)/1e4,p)),r.max-h.d<=t||(u=r.h/2,c.push(new vu(r.p.x-u,r.p.y-u,u,e)),c.push(new vu(r.p.x+u,r.p.y-u,u,e)),c.push(new vu(r.p.x-u,r.p.y+u,u,e)),c.push(new vu(r.p.x+u,r.p.y+u,u,e)),p+=4)}return n&&(console.log(`num probes: ${p}`),console.log(`best distance: ${h.d}`)),h.p}function yu(e,t){return t.max-e.max}function vu(e,t,n,r){this.p=new C(e,t),this.h=n,this.d=function(e,t){let n=!1,r=1/0;for(let i=0;i<t.length;i++){const o=t[i];for(let t=0,i=o.length,a=i-1;t<i;a=t++){const i=o[t],s=o[a];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(n=!n),r=Math.min(r,ea(e,i,s))}}return(n?1:-1)*Math.sqrt(r)}(this.p,r),this.max=this.d+this.h*Math.SQRT2}const _u=Number.POSITIVE_INFINITY;function bu(e,t){return t[1]!==_u?function(e,t,n){let r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){let n=0,r=0;t<0&&(t=0);const i=t/Math.sqrt(2);switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function xu(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function wu(t,n,r,i,o,a,s,l,u,c,h){let p=a.textMaxSize.evaluate(n,{});void 0===p&&(p=s);const d=t.layers[0].layout,m=d.get("icon-offset").evaluate(n,{},h),g=Cu(r.horizontal),y=s/24,v=t.tilePixelRatio*y,_=t.tilePixelRatio*p/24,b=t.tilePixelRatio*l,x=t.tilePixelRatio*d.get("symbol-spacing"),w=d.get("text-padding")*t.tilePixelRatio,E=function(e,t,n,r=1){const i=e.get("icon-padding").evaluate(t,{},n),o=i&&i.values;return[o[0]*r,o[1]*r,o[2]*r,o[3]*r]}(d,n,h,t.tilePixelRatio),S=d.get("text-max-angle")/180*Math.PI,C="viewport"!==d.get("text-rotation-alignment")&&"point"!==d.get("symbol-placement"),T="map"===d.get("icon-rotation-alignment")&&"point"!==d.get("symbol-placement"),I=d.get("symbol-placement"),k=x/2,P=d.get("icon-text-fit");let L;i&&"none"!==P&&(t.allowVerticalPlacement&&r.vertical&&(L=Yl(i,r.vertical,P,d.get("icon-text-fit-padding"),m,y)),g&&(i=Yl(i,g,P,d.get("icon-text-fit-padding"),m,y)));const M=(l,p)=>{p.x<0||p.x>=jo||p.y<0||p.y>=jo||function(t,n,r,i,o,a,s,l,u,c,h,p,d,m,g,y,v,_,b,x,w,E,S,C,T){const I=t.addToLineVertexArray(n,r);let k,P,L,M,A=0,O=0,R=0,N=0,D=-1,z=-1;const F={};let B=vo.exports(""),j=0,Z=0;if(void 0===l._unevaluatedLayout.getValue("text-radial-offset")?[j,Z]=l.layout.get("text-offset").evaluate(w,{},C).map((e=>e*ol)):(j=l.layout.get("text-radial-offset").evaluate(w,{},C)*ol,Z=_u),t.allowVerticalPlacement&&i.vertical){const e=l.layout.get("text-rotate").evaluate(w,{},C)+90;L=new du(u,n,c,h,p,i.vertical,d,m,g,e),s&&(M=new du(u,n,c,h,p,s,v,_,g,e))}if(o){const r=l.layout.get("icon-rotate").evaluate(w,{}),i="none"!==l.layout.get("icon-text-fit"),a=lu(o,r,S,i),d=s?lu(s,r,S,i):void 0;P=new du(u,n,c,h,p,o,v,_,!1,r),A=4*a.length;const m=t.iconSizeData;let g=null;"source"===m.kind?(g=[Kl*l.layout.get("icon-size").evaluate(w,{})],g[0]>Eu&&f(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===m.kind&&(g=[Kl*E.compositeIconSizes[0].evaluate(w,{},C),Kl*E.compositeIconSizes[1].evaluate(w,{},C)],(g[0]>Eu||g[1]>Eu)&&f(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),t.addSymbols(t.icon,a,g,x,b,w,e.WritingMode.none,n,I.lineStartIndex,I.lineLength,-1,C),D=t.icon.placedSymbolArray.length-1,d&&(O=4*d.length,t.addSymbols(t.icon,d,g,x,b,w,e.WritingMode.vertical,n,I.lineStartIndex,I.lineLength,-1,C),z=t.icon.placedSymbolArray.length-1)}const U=Object.keys(i.horizontal);for(const r of U){const o=i.horizontal[r];if(!k){B=vo.exports(o.text);const e=l.layout.get("text-rotate").evaluate(w,{},C);k=new du(u,n,c,h,p,o,d,m,g,e)}const s=1===o.positionedLines.length;if(R+=Su(t,n,o,a,l,g,w,y,I,i.vertical?e.WritingMode.horizontal:e.WritingMode.horizontalOnly,s?U:[r],F,D,E,C),s)break}i.vertical&&(N+=Su(t,n,i.vertical,a,l,g,w,y,I,e.WritingMode.vertical,["vertical"],F,z,E,C));const q=k?k.boxStartIndex:t.collisionBoxArray.length,V=k?k.boxEndIndex:t.collisionBoxArray.length,G=L?L.boxStartIndex:t.collisionBoxArray.length,H=L?L.boxEndIndex:t.collisionBoxArray.length,W=P?P.boxStartIndex:t.collisionBoxArray.length,$=P?P.boxEndIndex:t.collisionBoxArray.length,X=M?M.boxStartIndex:t.collisionBoxArray.length,Y=M?M.boxEndIndex:t.collisionBoxArray.length;let K=-1;const J=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;K=J(k,K),K=J(L,K),K=J(P,K),K=J(M,K);const Q=K>-1?1:0;Q&&(K*=T/ol),t.glyphOffsetArray.length>=Ru.MAX_GLYPHS&&f("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==w.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,w.sortKey),t.symbolInstances.emplaceBack(n.x,n.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,D,z,B,q,V,G,H,W,$,X,Y,c,R,N,A,O,Q,0,d,j,Z,K)}(t,p,l,r,i,o,L,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,v,[w,w,w,w],C,u,b,E,T,m,n,a,c,h,s)};if("line"===I)for(const e of su(n.geometry,0,0,jo,jo)){const n=ou(e,x,S,r.vertical||g,i,24,_,t.overscaling,jo);for(const r of n){const n=g;n&&Tu(t,n.text,k,r)||M(e,r)}}else if("line-center"===I){for(const e of n.geometry)if(e.length>1){const t=iu(e,S,r.vertical||g,i,24,_);t&&M(e,t)}}else if("Polygon"===n.type)for(const e of us(n.geometry,0)){const t=gu(e,16);M(e[0],new Ql(t.x,t.y,0))}else if("LineString"===n.type)for(const e of n.geometry)M(e,new Ql(e[0].x,e[0].y,0));else if("Point"===n.type)for(const e of n.geometry)for(const t of e)M([t],new Ql(t.x,t.y,0))}const Eu=32640;function Su(e,t,n,r,i,o,a,s,l,u,c,h,p,d,m){const g=function(e,t,n,r,i,o,a,s){const l=r.layout.get("text-rotate").evaluate(o,{})*Math.PI/180,u=[];for(const e of t.positionedLines)for(const r of e.positionedGlyphs){if(!r.rect)continue;const o=r.rect||{};let c=4,h=!0,p=1,d=0;const f=(i||s)&&r.vertical,m=r.metrics.advance*r.scale/2;if(s&&t.verticalizable){const t=(r.scale-1)*ol,n=(ol-r.metrics.width*r.scale)/2;d=e.lineOffset/2-(r.imageName?-n:t)}if(r.imageName){const e=a[r.imageName];h=e.sdf,p=e.pixelRatio,c=1/p}const g=i?[r.x+m,r.y]:[0,0];let y=i?[0,0]:[r.x+m+n[0],r.y+n[1]-d],v=[0,0];f&&(v=y,y=[0,0]);const _=(r.metrics.left-c)*r.scale-m+y[0],b=(-r.metrics.top-c)*r.scale+y[1],x=_+o.w*r.scale/p,w=b+o.h*r.scale/p,E=new C(_,b),S=new C(x,b),T=new C(_,w),I=new C(x,w);if(f){const e=new C(-m,m-Nl),t=-Math.PI/2,n=12-m,i=new C(22-n,-(r.imageName?n:0)),o=new C(...v);E._rotateAround(t,e)._add(i)._add(o),S._rotateAround(t,e)._add(i)._add(o),T._rotateAround(t,e)._add(i)._add(o),I._rotateAround(t,e)._add(i)._add(o)}if(l){const e=Math.sin(l),t=Math.cos(l),n=[t,-e,e,t];E._matMult(n),S._matMult(n),T._matMult(n),I._matMult(n)}const k=new C(0,0),P=new C(0,0);u.push({tl:E,tr:S,bl:T,br:I,tex:o,writingMode:t.writingMode,glyphOffset:g,sectionIndex:r.sectionIndex,isSDF:h,pixelOffsetTL:k,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}return u}(0,n,s,i,o,a,r,e.allowVerticalPlacement),y=e.textSizeData;let v=null;"source"===y.kind?(v=[Kl*i.layout.get("text-size").evaluate(a,{})],v[0]>Eu&&f(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===y.kind&&(v=[Kl*d.compositeTextSizes[0].evaluate(a,{},m),Kl*d.compositeTextSizes[1].evaluate(a,{},m)],(v[0]>Eu||v[1]>Eu)&&f(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),e.addSymbols(e.text,g,v,s,o,a,u,t,l.lineStartIndex,l.lineLength,p,m);for(const t of c)h[t]=e.text.placedSymbolArray.length-1;return 4*g.length}function Cu(e){for(const t in e)return e[t];return null}function Tu(e,t,n,r){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(r.dist(e[t])<n)return!0}else i[t]=[];return i[t].push(r),!1}const Iu=_s.VectorTileFeature.types,ku=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Pu(e,t,n,r,i,o,a,s,l,u,c,h,p){const d=s?Math.min(Eu,Math.round(s[0])):0,f=s?Math.min(Eu,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(d<<1)+(l?1:0),f,16*u,16*c,256*h,256*p)}function Lu(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function Mu(e){for(const t of e.sections)if(Br(t.text))return!0;return!1}class Au{constructor(e){this.layoutVertexArray=new oo,this.indexArray=new co,this.programConfigurations=e,this.segments=new mo,this.dynamicLayoutVertexArray=new ao,this.opacityVertexArray=new so,this.placedSymbolArray=new Gi}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Js.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Qs.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,ku,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Tr("SymbolBuffers",Au);class Ou{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new mo,this.collisionVertexArray=new uo}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,el.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Tr("CollisionBuffers",Ou);class Ru{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=pa([]),this.placementViewportMatrix=pa([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Jl(this.zoom,n["text-size"]),this.iconSizeData=Jl(this.zoom,n["icon-size"]);const r=this.layers[0].layout,i=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.canOverlap="never"!==Bu(r,"text-overlap","text-allow-overlap")||"never"!==Bu(r,"icon-overlap","icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map((t=>e.WritingMode[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new Au(new zo(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new Au(new zo(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new $i,this.lineVertexArray=new Xi,this.symbolInstances=new Wi}calculateGlyphDependencies(e,t,n,r,i){for(let o=0;o<e.length;o++)if(t[e.charCodeAt(o)]=!0,(n||r)&&i){const n=il[e.charAt(o)];n&&(t[n.charCodeAt(0)]=!0)}}populate(t,n,r){const i=this.layers[0],o=i.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),u=("constant"!==s.value.kind||s.value.value instanceof De&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),c="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],!u&&!c)return;const p=n.iconDependencies,d=n.glyphDependencies,f=n.availableImages,m=new Jr(this.zoom);for(const{feature:n,id:s,index:l,sourceLayerIndex:g}of t){const t=i._featureFilter.needGeometry,y=Vo(n,t);if(!i._featureFilter.filter(m,y,r))continue;let v,_;if(t||(y.geometry=qo(n)),u){const e=i.getValueAndResolveTokens("text-field",y,r,f),t=De.factory(e);Mu(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===Xr()||this.hasRTLText&&Kr.isParsed())&&(v=rl(t,i,y))}if(c){const e=i.getValueAndResolveTokens("icon-image",y,r,f);_=e instanceof Fe?e:Fe.fromString(e)}if(!v&&!_)continue;const b=this.sortFeaturesByKey?h.evaluate(y,{},r):void 0;if(this.features.push({id:s,text:v,icon:_,index:l,sourceLayerIndex:g,geometry:y.geometry,properties:n.properties,type:Iu[n.type],sortKey:b}),_&&(p[_.name]=!0),v){const t=a.evaluate(y,{},r).join(","),n="viewport"!==o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.WritingMode.vertical)>=0;for(const e of v.sections)if(e.image)p[e.image.name]=!0;else{const r=Ar(v.toString()),i=e.fontStack||t,o=d[i]=d[i]||{};this.calculateGlyphDependencies(e.text,o,n,this.allowVerticalPlacement,r)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},r=[];let i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){const o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){const o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(e,t,n){const r=n?t[0][t[0].length-1]:t[0][0];return`${e}:${r.x}:${r.y}`}for(let u=0;u<e.length;u++){const c=e[u],h=c.geometry,p=c.text?c.text.toString():null;if(!p){o(u);continue}const d=l(p,h),f=l(p,h,!0);if(d in n&&f in t&&n[d]!==t[f]){const e=s(d,f,h),i=a(d,f,r[e].geometry);delete t[d],delete n[f],n[l(p,r[i].geometry,!0)]=i,r[e].geometry=null}else d in n?a(d,f,h):f in t?s(d,f,h):(o(u),t[d]=i-1,n[f]=i-1)}return r.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]);const i={};for(let r=e.segment+1;r<t.length;r++)i[r]={x:t[r].x,y:t[r].y,tileUnitDistanceFromAnchor:n},r<t.length-1&&(n+=t[r+1].dist(t[r]));for(let n=e.segment||0;n>=0;n--)i[n]={x:t[n].x,y:t[n].y,tileUnitDistanceFromAnchor:r},n>0&&(r+=t[n-1].dist(t[n]));for(let e=0;e<t.length;e++){const t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,n,r,i,o,a,s,l,u,c,h,p){const d=t.indexArray,f=t.layoutVertexArray,m=t.segments.prepareSegment(4*n.length,f,d,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,y=m.vertexLength,v=this.allowVerticalPlacement&&s===e.WritingMode.vertical?Math.PI/2:0,_=a.text&&a.text.sections;for(let e=0;e<n.length;e++){const{tl:i,tr:o,bl:s,br:u,tex:c,pixelOffsetTL:h,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:E}=n[e],S=m.vertexLength,C=x[1];Pu(f,l.x,l.y,i.x,C+i.y,c.x,c.y,r,w,h.x,h.y,y,b),Pu(f,l.x,l.y,o.x,C+o.y,c.x+c.w,c.y,r,w,g.x,h.y,y,b),Pu(f,l.x,l.y,s.x,C+s.y,c.x,c.y+c.h,r,w,h.x,g.y,y,b),Pu(f,l.x,l.y,u.x,C+u.y,c.x+c.w,c.y+c.h,r,w,g.x,g.y,y,b),Lu(t.dynamicLayoutVertexArray,l,v),d.emplaceBack(S,S+1,S+2),d.emplaceBack(S+1,S+2,S+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==n.length-1&&E===n[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,a,a.index,{},p,_&&_[E])}t.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,u,c,l.segment,r?r[0]:0,r?r[1]:0,i[0],i[1],s,0,!1,0,h)}_addCollisionDebugVertex(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))}addCollisionDebugVertices(e,t,n,r,i,o,a){const s=i.segments.prepareSegment(4,i.layoutVertexArray,i.indexArray),l=s.vertexLength,u=i.layoutVertexArray,c=i.collisionVertexArray,h=a.anchorX,p=a.anchorY;this._addCollisionDebugVertex(u,c,o,h,p,new C(e,t)),this._addCollisionDebugVertex(u,c,o,h,p,new C(n,t)),this._addCollisionDebugVertex(u,c,o,h,p,new C(n,r)),this._addCollisionDebugVertex(u,c,o,h,p,new C(e,r)),s.vertexLength+=4;const d=i.indexArray;d.emplaceBack(l,l+1),d.emplaceBack(l+1,l+2),d.emplaceBack(l+2,l+3),d.emplaceBack(l+3,l),s.primitiveLength+=4}addDebugCollisionBoxes(e,t,n,r){for(let i=e;i<t;i++){const e=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,r?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Ou(lo,tl.members,ho),this.iconCollisionBox=new Ou(lo,tl.members,ho);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,n,r,i,o,a,s,l){const u={};for(let r=t;r<n;r++){const t=e.get(r);u.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},u.textFeatureIndex=t.featureIndex;break}for(let t=r;t<i;t++){const n=e.get(t);u.verticalTextBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},u.verticalTextFeatureIndex=n.featureIndex;break}for(let t=o;t<a;t++){const n=e.get(t);u.iconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},u.iconFeatureIndex=n.featureIndex;break}for(let t=s;t<l;t++){const n=e.get(t);u.verticalIconBox={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2,anchorPointX:n.anchorPointX,anchorPointY:n.anchorPointY},u.verticalIconFeatureIndex=n.featureIndex;break}return u}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs;for(let t=n.vertexStartIndex;t<r;t+=4)e.indexArray.emplaceBack(t,t+1,t+2),e.indexArray.emplaceBack(t+1,t+2,t+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[];for(let e=0;e<this.symbolInstances.length;++e){o.push(e);const a=this.symbolInstances.get(e);r.push(0|Math.round(t*a.anchorX+n*a.anchorY)),i.push(a.featureIndex)}return o.sort(((e,t)=>r[e]-r[t]||i[t]-i[e])),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Tr("SymbolBucket",Ru,{omit:["layers","collisionBoxArray","features","compareText"]}),Ru.MAX_GLYPHS=65535,Ru.addDynamicAttributes=Lu;const Nu=new pi({"symbol-placement":new si(ne.layout_symbol["symbol-placement"]),"symbol-spacing":new si(ne.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new si(ne.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new li(ne.layout_symbol["symbol-sort-key"]),"symbol-z-order":new si(ne.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new si(ne.layout_symbol["icon-allow-overlap"]),"icon-overlap":new si(ne.layout_symbol["icon-overlap"]),"icon-ignore-placement":new si(ne.layout_symbol["icon-ignore-placement"]),"icon-optional":new si(ne.layout_symbol["icon-optional"]),"icon-rotation-alignment":new si(ne.layout_symbol["icon-rotation-alignment"]),"icon-size":new li(ne.layout_symbol["icon-size"]),"icon-text-fit":new si(ne.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new si(ne.layout_symbol["icon-text-fit-padding"]),"icon-image":new li(ne.layout_symbol["icon-image"]),"icon-rotate":new li(ne.layout_symbol["icon-rotate"]),"icon-padding":new li(ne.layout_symbol["icon-padding"]),"icon-keep-upright":new si(ne.layout_symbol["icon-keep-upright"]),"icon-offset":new li(ne.layout_symbol["icon-offset"]),"icon-anchor":new li(ne.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new si(ne.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new si(ne.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new si(ne.layout_symbol["text-rotation-alignment"]),"text-field":new li(ne.layout_symbol["text-field"]),"text-font":new li(ne.layout_symbol["text-font"]),"text-size":new li(ne.layout_symbol["text-size"]),"text-max-width":new li(ne.layout_symbol["text-max-width"]),"text-line-height":new si(ne.layout_symbol["text-line-height"]),"text-letter-spacing":new li(ne.layout_symbol["text-letter-spacing"]),"text-justify":new li(ne.layout_symbol["text-justify"]),"text-radial-offset":new li(ne.layout_symbol["text-radial-offset"]),"text-variable-anchor":new si(ne.layout_symbol["text-variable-anchor"]),"text-anchor":new li(ne.layout_symbol["text-anchor"]),"text-max-angle":new si(ne.layout_symbol["text-max-angle"]),"text-writing-mode":new si(ne.layout_symbol["text-writing-mode"]),"text-rotate":new li(ne.layout_symbol["text-rotate"]),"text-padding":new si(ne.layout_symbol["text-padding"]),"text-keep-upright":new si(ne.layout_symbol["text-keep-upright"]),"text-transform":new li(ne.layout_symbol["text-transform"]),"text-offset":new li(ne.layout_symbol["text-offset"]),"text-allow-overlap":new si(ne.layout_symbol["text-allow-overlap"]),"text-overlap":new si(ne.layout_symbol["text-overlap"]),"text-ignore-placement":new si(ne.layout_symbol["text-ignore-placement"]),"text-optional":new si(ne.layout_symbol["text-optional"])});var Du={paint:new pi({"icon-opacity":new li(ne.paint_symbol["icon-opacity"]),"icon-color":new li(ne.paint_symbol["icon-color"]),"icon-halo-color":new li(ne.paint_symbol["icon-halo-color"]),"icon-halo-width":new li(ne.paint_symbol["icon-halo-width"]),"icon-halo-blur":new li(ne.paint_symbol["icon-halo-blur"]),"icon-translate":new si(ne.paint_symbol["icon-translate"]),"icon-translate-anchor":new si(ne.paint_symbol["icon-translate-anchor"]),"text-opacity":new li(ne.paint_symbol["text-opacity"]),"text-color":new li(ne.paint_symbol["text-color"],{runtimeType:fe,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new li(ne.paint_symbol["text-halo-color"]),"text-halo-width":new li(ne.paint_symbol["text-halo-width"]),"text-halo-blur":new li(ne.paint_symbol["text-halo-blur"]),"text-translate":new si(ne.paint_symbol["text-translate"]),"text-translate-anchor":new si(ne.paint_symbol["text-translate-anchor"])}),layout:Nu};class zu{constructor(e){if(void 0===e.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:ce,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Tr("FormatSectionOverride",zu,{omit:["defaultValue"]});class Fu extends fi{constructor(e){super(e,Du)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,r){const i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||On(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>n in e?String(e[n]):""))}(t.properties,i)}createBucket(e){return new Ru(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of Du.paint.overridableProperties){if(!Fu.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new zu(t),r=new An(n,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new Nn("source",r):new Dn("composite",r,t.value.zoomStops),this.paint._values[e]=new oi(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&Fu.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),r=Du.paint.properties[t];let i=!1;const o=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof De)o(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{i||(t instanceof qe&&Ze(t.value)===ve?o(t.value.sections):t instanceof cn?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return i}}function Bu(e,t,n){let r="never";const i=e.get(t);return i?r=i:e.get(n)&&(r="always"),r}var ju={paint:new pi({"background-color":new si(ne.paint_background["background-color"]),"background-pattern":new ci(ne.paint_background["background-pattern"]),"background-opacity":new si(ne.paint_background["background-opacity"])})},Zu={paint:new pi({"raster-opacity":new si(ne.paint_raster["raster-opacity"]),"raster-hue-rotate":new si(ne.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new si(ne.paint_raster["raster-brightness-min"]),"raster-brightness-max":new si(ne.paint_raster["raster-brightness-max"]),"raster-saturation":new si(ne.paint_raster["raster-saturation"]),"raster-contrast":new si(ne.paint_raster["raster-contrast"]),"raster-resampling":new si(ne.paint_raster["raster-resampling"]),"raster-fade-duration":new si(ne.paint_raster["raster-fade-duration"])})};class Uu extends fi{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}const qu={circle:class extends fi{constructor(e){super(e,la)}createBucket(e){return new Ho(e)}queryRadius(e){const t=e;return ia("circle-radius",this,t)+ia("circle-stroke-width",this,t)+oa(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a,s){const l=aa(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),o.angle,a),u=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),c="map"===this.paint.get("circle-pitch-alignment"),h=c?l:function(e,t){return e.map((e=>ba(e,t)))}(l,s),p=c?u*a:u;for(const e of r)for(const t of e){const e=c?t:ba(t,s);let n=p;const r=va([],[t.x,t.y,0,1],s);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?n*=r[3]/o.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(n*=o.cameraToCenterDistance/r[3]),$o(h,e,n))return!0}return!1}},heatmap:class extends fi{constructor(e){super(e,wa),this._updateColorRamp()}createBucket(e){return new xa(e)}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=ka({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}},hillshade:class extends fi{constructor(e){super(e,Pa)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}},fill:class extends fi{constructor(e){super(e,ms)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new ds(e)}queryRadius(){return oa(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a){return Xo(aa(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),o.angle,a),r)}isTileClipped(){return!0}},"fill-extrusion":class extends fi{constructor(e){super(e,zs)}createBucket(e){return new Rs(e)}queryRadius(){return oa(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,n,r,i,o,a,s){const l=aa(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),o.angle,a),u=this.paint.get("fill-extrusion-height").evaluate(t,n),c=this.paint.get("fill-extrusion-base").evaluate(t,n),h=function(e,t,n,r){const i=[];for(const n of e){const e=[n.x,n.y,0,1];va(e,e,t),i.push(new C(e[0]/e[3],e[1]/e[3]))}return i}(l,s),p=function(e,t,n,r){const i=[],o=[],a=r[8]*t,s=r[9]*t,l=r[10]*t,u=r[11]*t,c=r[8]*n,h=r[9]*n,p=r[10]*n,d=r[11]*n;for(const t of e){const e=[],n=[];for(const i of t){const t=i.x,o=i.y,f=r[0]*t+r[4]*o+r[12],m=r[1]*t+r[5]*o+r[13],g=r[2]*t+r[6]*o+r[14],y=r[3]*t+r[7]*o+r[15],v=g+l,_=y+u,b=f+c,x=m+h,w=g+p,E=y+d,S=new C((f+a)/_,(m+s)/_);S.z=v/_,e.push(S);const T=new C(b/E,x/E);T.z=w/E,n.push(T)}i.push(e),o.push(n)}return[i,o]}(r,c,u,s);return function(e,t,n){let r=1/0;Xo(n,t)&&(r=Bs(n,t[0]));for(let i=0;i<t.length;i++){const o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){const t=o[e],i=[t,o[e+1],a[e+1],a[e],t];Wo(n,i)&&(r=Math.min(r,Bs(n,i)))}}return r!==1/0&&r}(p[0],p[1],h)}},line:class extends fi{constructor(e){super(e,Xs),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(e){"line-gradient"===e&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Et,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER)}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=Ys.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new Ws(e)}queryRadius(e){const t=e,n=Ks(ia("line-width",this,t),ia("line-gap-width",this,t)),r=ia("line-offset",this,t);return n/2+Math.abs(r)+oa(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,r,i,o,a){const s=aa(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),o.angle,a),l=a/2*Ks(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),u=this.paint.get("line-offset").evaluate(t,n);return u&&(r=function(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=[];for(let e=0;e<i.length;e++){const n=i[e-1],r=i[e],a=i[e+1],s=0===e?new C(0,0):r.sub(n)._unit()._perp(),l=e===i.length-1?new C(0,0):a.sub(r)._unit()._perp(),u=s._add(l)._unit(),c=u.x*l.x+u.y*l.y;0!==c&&u._mult(1/c),o.push(u._mult(t)._add(r))}n.push(o)}return n}(r,u*a)),function(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(e.length>=3)for(let t=0;t<i.length;t++)if(na(e,i[t]))return!0;if(Yo(e,i,n))return!0}return!1}(s,r,l)}isTileClipped(){return!0}},symbol:Fu,background:class extends fi{constructor(e){super(e,ju)}},raster:class extends fi{constructor(e){super(e,Zu)}}};class Vu{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const Gu=6371008.8;class Hu{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Hu(a(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Gu*Math.acos(Math.min(i,1))}toBounds(e=0){const t=360*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return new Wu(new Hu(this.lng-n,this.lat-t),new Hu(this.lng+n,this.lat+t))}static convert(e){if(e instanceof Hu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Hu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Hu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}class Wu{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1]))}setNorthEast(e){return this._ne=e instanceof Hu?new Hu(e.lng,e.lat):Hu.convert(e),this}setSouthWest(e){return this._sw=e instanceof Hu?new Hu(e.lng,e.lat):Hu.convert(e),this}extend(e){const t=this._sw,n=this._ne;let r,i;if(e instanceof Hu)r=e,i=e;else{if(!(e instanceof Wu))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend(Wu.convert(e)):this.extend(Hu.convert(e)):this;if(r=e._sw,i=e._ne,!r||!i)return this}return t||n?(t.lng=Math.min(r.lng,t.lng),t.lat=Math.min(r.lat,t.lat),n.lng=Math.max(i.lng,n.lng),n.lat=Math.max(i.lat,n.lat)):(this._sw=new Hu(r.lng,r.lat),this._ne=new Hu(i.lng,i.lat)),this}getCenter(){return new Hu((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Hu(this.getWest(),this.getNorth())}getSouthEast(){return new Hu(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:t,lat:n}=Hu.convert(e);let r=this._sw.lng<=t&&t<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=t&&t>=this._ne.lng),this._sw.lat<=n&&n<=this._ne.lat&&r}static convert(e){return e instanceof Wu?e:e?new Wu(e):e}}const $u=2*Math.PI*Gu;function Xu(e){return $u*Math.cos(e*Math.PI/180)}function Yu(e){return(180+e)/360}function Ku(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Ju(e,t){return e/Xu(t)}function Qu(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class ec{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=Hu.convert(e);return new ec(Yu(n.lng),Ku(n.lat),Ju(t,n.lat))}toLngLat(){return new Hu(360*this.x-180,Qu(this.y))}toAltitude(){return this.z*Xu(Qu(this.y))}meterInMercatorCoordinateUnits(){return 1/$u*(e=Qu(this.y),1/Math.cos(e*Math.PI/180));var e}}function tc(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}class nc{constructor(e,t,n){if(e<0||e>25||n<0||n>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))throw new Error(`x=${t}, y=${n}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=t,this.y=n,this.key=oc(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,n){const r=(o=this.y,a=this.z,s=tc(256*(i=this.x),256*(o=Math.pow(2,a)-o-1),a),l=tc(256*(i+1),256*(o+1),a),s[0]+","+s[1]+","+l[0]+","+l[1]);var i,o,a,s,l;const u=function(e,t,n){let r,i="";for(let o=e;o>0;o--)r=1<<o-1,i+=(t&r?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,u).replace(/{bbox-epsg-3857}/g,r)}isChildOf(e){const t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){const t=Math.pow(2,this.z);return new C((e.x*t-this.x)*jo,(e.y*t-this.y)*jo)}toString(){return`${this.z}/${this.x}/${this.y}`}}class rc{constructor(e,t){this.wrap=e,this.canonical=t,this.key=oc(e,t.z,t.z,t.x,t.y)}}class ic{constructor(e,t,n,r,i){if(e<n)throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${n}`);this.overscaledZ=e,this.wrap=t,this.canonical=new nc(n,+r,+i),this.key=oc(t,e,n,r,i)}clone(){return new ic(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const t=this.canonical.z-e;return e>this.canonical.z?new ic(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new ic(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const n=this.canonical.z-e;return e>this.canonical.z?oc(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):oc(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new ic(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new ic(t,this.wrap,t,n,r),new ic(t,this.wrap,t,n+1,r),new ic(t,this.wrap,t,n,r+1),new ic(t,this.wrap,t,n+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new ic(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new ic(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new rc(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new ec(e.x-this.wrap,e.y))}}function oc(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);const o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}Tr("CanonicalTileID",nc),Tr("OverscaledTileID",ic,{omit:["posMatrix"]});class ac{constructor(e,t,n){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&"mapbox"!==n&&"terrarium"!==n)return void f(`"${n}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=t.height;const r=this.dim=t.height-2;this.data=new Uint32Array(t.data.buffer),this.encoding=n||"mapbox";for(let e=0;e<r;e++)this.data[this._idx(-1,e)]=this.data[this._idx(0,e)],this.data[this._idx(r,e)]=this.data[this._idx(r-1,e)],this.data[this._idx(e,-1)]=this.data[this._idx(e,0)],this.data[this._idx(e,r)]=this.data[this._idx(e,r-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(r,-1)]=this.data[this._idx(r-1,0)],this.data[this._idx(-1,r)]=this.data[this._idx(0,r-1)],this.data[this._idx(r,r)]=this.data[this._idx(r-1,r-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let e=0;e<r;e++)for(let t=0;t<r;t++){const n=this.get(e,t);n>this.max&&(this.max=n),n<this.min&&(this.min=n)}}get(e,t){const n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return("terrarium"===this.encoding?this._unpackTerrarium:this._unpackMapbox)(n[r],n[r+1],n[r+2])}getUnpackVector(){return"terrarium"===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}_unpackMapbox(e,t,n){return(256*e*256+256*t+n)/10-1e4}_unpackTerrarium(e,t,n){return 256*e+t+n/256-32768}getPixels(){return new Ia({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let t=o;t<a;t++)for(let n=r;n<i;n++)this.data[this._idx(n,t)]=e.data[this._idx(n+s,t+l)]}}Tr("DEMData",ac);class sc{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[e]}}class lc{constructor(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=r,this.properties=e.properties,this.id=i}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class uc{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Sr(jo,16,0),this.grid3D=new Sr(jo,16,0),this.featureIndexArray=new Ki,this.promoteId=t}insert(e,t,n,r,i,o){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);const s=o?this.grid3D:this.grid;for(let e=0;e<t.length;e++){const n=t[e],r=[1/0,1/0,-1/0,-1/0];for(let e=0;e<n.length;e++){const t=n[e];r[0]=Math.min(r[0],t.x),r[1]=Math.min(r[1],t.y),r[2]=Math.max(r[2],t.x),r[3]=Math.max(r[3],t.y)}r[0]<jo&&r[1]<jo&&r[2]>=0&&r[3]>=0&&s.insert(a,r[0],r[1],r[2],r[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new _s.VectorTile(new al(this.rawTileData)).layers,this.sourceLayerCoder=new sc(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,n,r){this.loadVTLayers();const i=e.params||{},o=jo/e.tileSize/e.scale,a=$n(i.filter),s=e.queryGeometry,l=e.queryPadding*o,u=hc(s),c=this.grid.query(u.minX-l,u.minY-l,u.maxX+l,u.maxY+l),h=hc(e.cameraQueryGeometry),p=this.grid3D.query(h.minX-l,h.minY-l,h.maxX+l,h.maxY+l,((t,n,r,i)=>function(e,t,n,r,i){for(const o of e)if(t<=o.x&&n<=o.y&&r>=o.x&&i>=o.y)return!0;const o=[new C(t,n),new C(t,i),new C(r,i),new C(r,n)];if(e.length>2)for(const t of o)if(na(e,t))return!0;for(let t=0;t<e.length-1;t++)if(ra(e[t],e[t+1],o))return!0;return!1}(e.cameraQueryGeometry,t-l,n-l,r+l,i+l)));for(const e of p)c.push(e);c.sort(pc);const d={};let f;for(let l=0;l<c.length;l++){const u=c[l];if(u===f)continue;f=u;const h=this.featureIndexArray.get(u);let p=null;this.loadMatchingFeature(d,h.bucketIndex,h.sourceLayerIndex,h.featureIndex,a,i.layers,i.availableImages,t,n,r,((t,n,r)=>(p||(p=qo(t)),n.queryIntersectsFeature(s,t,r,p,this.z,e.transform,o,e.pixelPosMatrix))))}return d}loadMatchingFeature(e,t,n,r,i,o,a,l,u,c,h){const p=this.bucketLayerIDs[t];if(o&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(o,p))return;const d=this.sourceLayerCoder.decode(n),f=this.vtLayers[d].feature(r);if(i.needGeometry){const e=Vo(f,!0);if(!i.filter(new Jr(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new Jr(this.tileID.overscaledZ),f))return;const m=this.getId(f,d);for(let t=0;t<p.length;t++){const n=p[t];if(o&&o.indexOf(n)<0)continue;const i=l[n];if(!i)continue;let d={};m&&c&&(d=c.getState(i.sourceLayer||"_geojsonTileLayer",m));const g=s({},u[n]);g.paint=cc(g.paint,i.paint,f,d,a),g.layout=cc(g.layout,i.layout,f,d,a);const y=!h||h(f,i,d);if(!y)continue;const v=new lc(f,this.z,this.x,this.y,m);v.layer=g;let _=e[n];void 0===_&&(_=e[n]=[]),_.push({featureIndex:r,feature:v,intersectionZ:y})}}lookupSymbolFeatures(e,t,n,r,i,o,a,s){const l={};this.loadVTLayers();const u=$n(i);for(const i of e)this.loadMatchingFeature(l,n,r,i,u,o,a,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;return this.promoteId&&(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof n&&(n=Number(n))),n}}function cc(e,t,n,r,i){return c(e,((e,o)=>{const a=t instanceof ai?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a}))}function hc(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return{minX:t,minY:n,maxX:r,maxY:i}}function pc(e,t){return t-e}var dc;Tr("FeatureIndex",uc,{omit:["rawTileData","sourceLayerCoder"]}),e.PerformanceMarkers=void 0,(dc=e.PerformanceMarkers||(e.PerformanceMarkers={})).create="create",dc.load="load",dc.fullLoad="fullLoad";let fc=null,mc=[];const gc=1e3/30,yc={mark(e){performance.mark(e)},frame(e){const t=e;null!=fc&&mc.push(t-fc),fc=t},clearMetrics(){fc=null,mc=[],performance.clearMeasures("loadTime"),performance.clearMeasures("fullLoadTime");for(const t in e.PerformanceMarkers)performance.clearMarks(e.PerformanceMarkers[t])},getPerformanceMetrics(){performance.measure("loadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.load),performance.measure("fullLoadTime",e.PerformanceMarkers.create,e.PerformanceMarkers.fullLoad);const t=performance.getEntriesByName("loadTime")[0].duration,n=performance.getEntriesByName("fullLoadTime")[0].duration,r=mc.length,i=1/(mc.reduce(((e,t)=>e+t),0)/r/1e3),o=mc.filter((e=>e>gc)).reduce(((e,t)=>e+(t-gc)/gc),0);return{loadTime:t,fullLoadTime:n,fps:i,percentDroppedFrames:o/(r+o)*100}}};e.AJAXError=Z,e.ARRAY_TYPE=ca,e.Actor=class{constructor(e,t,n){this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},u(["receive","process"],this),this.invoker=new Vu(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=y()?e:window}send(e,t,n,r,i=!1){const o=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[o]=n);const a=w(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:e,hasCallback:!!n,targetMapId:r,mustQueue:i,sourceMapId:this.mapId,data:kr(t,a)},a),{cancel:()=>{n&&delete this.callbacks[o],this.target.postMessage({id:o,type:"<cancel>",targetMapId:r,sourceMapId:this.mapId})}}}receive(e){const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e()}else y()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)}process(){if(!this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Pr(t.error)):n(null,Pr(t.data)))}else{let n=!1;const r=w(this.globalScope)?void 0:[],i=t.hasCallback?(t,i)=>{n=!0,delete this.cancelCallbacks[e],this.target.postMessage({id:e,type:"<response>",sourceMapId:this.mapId,error:t?kr(t):null,data:kr(i,r)},r)}:e=>{n=!0};let o=null;const a=Pr(t.data);if(this.parent[t.type])o=this.parent[t.type](t.sourceMapId,a,i);else if(this.parent.getWorkerSource){const e=t.type.split(".");o=this.parent.getWorkerSource(t.sourceMapId,e[0],a.source)[e[1]](a,i)}else i(new Error(`Could not find function ${t.type}`));!n&&o&&o.cancel&&(this.cancelCallbacks[e]=o.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.AlphaImage=Ta,e.CanonicalTileID=nc,e.CollisionBoxArray=qi,e.CollisionCircleLayoutArray=class extends Mi{},e.Color=Oe,e.DEMData=ac,e.DataConstantProperty=si,e.DictionaryCoder=sc,e.EXTENT=jo,e.ErrorEvent=ee,e.EvaluationParameters=Jr,e.Event=Q,e.Evented=te,e.FeatureIndex=uc,e.FillBucket=ds,e.FillExtrusionBucket=Rs,e.GeoJSONFeature=lc,e.ImageAtlas=Rl,e.ImagePosition=Ol,e.LineBucket=Ws,e.LineStripIndexArray=class extends ji{},e.LngLat=Hu,e.LngLatBounds=Wu,e.MercatorCoordinate=ec,e.ONE_EM=ol,e.OverscaledTileID=ic,e.PerformanceUtils=yc,e.PosArray=Ji,e.Properties=pi,e.QuadTriangleArray=class extends Oi{},e.RGBAImage=Ia,e.RasterBoundsArray=class extends xi{},e.RequestPerformance=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.ResourceType=j,e.SegmentVector=mo,e.SymbolBucket=Ru,e.Transitionable=ti,e.TriangleIndexArray=co,e.Uniform1f=To,e.Uniform1i=class extends Co{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.Uniform2f=class extends Co{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.Uniform3f=class extends Co{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.Uniform4f=Io,e.UniformColor=ko,e.UniformMatrix4f=class extends Co{constructor(e,t){super(e,t),this.current=Po}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.UnwrappedTileID=rc,e.ValidationError=re,e.ZoomHistory=Lr,e.add=function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e},e.addDynamicAttributes=Lu,e.asyncAll=function(e,t,n){if(!e.length)return n(null,[]);let r=e.length;const i=new Array(e.length);let o=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(o=e),i[a]=t,0==--r&&n(o,i)}))}))},e.bezier=r,e.bindAll=u,e.cacheEntryPossiblyAdded=function(e){O++,O>M&&(e.getActor().send("enforceCacheSizeLimit",L),O=0)},e.clamp=o,e.clearTileCache=function(e){const t=caches.delete(k);e&&t.catch(e).then((()=>e()))},e.clipLine=su,e.clone=function(e){var t=new ca(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.clone$1=p,e.clone$2=function(e){var t=new ca(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.collisionCircleLayout=nl,e.config=I,e.copy=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.create=function(){var e=new ca(16);return ca!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.create$1=ha,e.createExpression=Rn,e.createFilter=$n,e.createLayout=vi,e.createStyleLayer=function(e){return"custom"===e.type?new Uu(e):new qu[e.type](e)},e.cross=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e},e.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.dot$1=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.ease=i,e.emitValidationErrors=Er,e.enforceCacheSizeLimit=function(e){A(),P&&P.then((t=>{t.keys().then((n=>{for(let r=0;r<n.length-e;r++)t.delete(n[r])}))}))},e.equals=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],h=e[9],p=e[10],d=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=t[0],_=t[1],b=t[2],x=t[3],w=t[4],E=t[5],S=t[6],C=t[7],T=t[8],I=t[9],k=t[10],P=t[11],L=t[12],M=t[13],A=t[14],O=t[15];return Math.abs(n-v)<=ua*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(r-_)<=ua*Math.max(1,Math.abs(r),Math.abs(_))&&Math.abs(i-b)<=ua*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-x)<=ua*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-w)<=ua*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(s-E)<=ua*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(l-S)<=ua*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(u-C)<=ua*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(c-T)<=ua*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(h-I)<=ua*Math.max(1,Math.abs(h),Math.abs(I))&&Math.abs(p-k)<=ua*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(d-P)<=ua*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(f-L)<=ua*Math.max(1,Math.abs(f),Math.abs(L))&&Math.abs(m-M)<=ua*Math.max(1,Math.abs(m),Math.abs(M))&&Math.abs(g-A)<=ua*Math.max(1,Math.abs(g),Math.abs(A))&&Math.abs(y-O)<=ua*Math.max(1,Math.abs(y),Math.abs(O))},e.evaluateSizeForFeature=function(e,{uSize:t,uSizeT:n},{lowerSize:r,upperSize:i}){return"source"===e.kind?r/Kl:"composite"===e.kind?St(r/Kl,i/Kl,n):t},e.evaluateSizeForZoom=function(e,t){let n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:a,maxZoom:s}=e,l=i?o(qt.interpolationFactor(i,t,a,s),0,1):0;"camera"===e.kind?r=St(e.minSize,e.maxSize,l):n=l}return{uSizeT:n,uSize:r}},e.evaluateVariableOffset=bu,e.evented=$r,e.exported=S,e.exported$1=R,e.extend=s,e.filterObject=h,e.fromRotation=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.fromScaling=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.getAnchorAlignment=Wl,e.getAnchorJustification=xu,e.getArrayBuffer=G,e.getImage=Y,e.getJSON=function(e,t){return V(s(e,{type:"json"}),t)},e.getOverlapMode=Bu,e.getRTLTextPluginStatus=Xr,e.getReferrer=U,e.getVideo=function(e,t){const n=window.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let t=0;t<e.length;t++){const r=window.document.createElement("source");H(e[t])||(n.crossOrigin="Anonymous"),r.src=e[t],n.appendChild(r)}return{cancel:()=>{}}},e.identity=pa,e.invert=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],u=t[7],c=t[8],h=t[9],p=t[10],d=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=n*s-r*a,_=n*l-i*a,b=n*u-o*a,x=r*l-i*s,w=r*u-o*s,E=i*u-o*l,S=c*m-h*f,C=c*g-p*f,T=c*y-d*f,I=h*g-p*m,k=h*y-d*m,P=p*y-d*g,L=v*P-_*k+b*I+x*T-w*C+E*S;return L?(e[0]=(s*P-l*k+u*I)*(L=1/L),e[1]=(i*k-r*P-o*I)*L,e[2]=(m*E-g*w+y*x)*L,e[3]=(p*w-h*E-d*x)*L,e[4]=(l*T-a*P-u*C)*L,e[5]=(n*P-i*T+o*C)*L,e[6]=(g*b-f*E-y*_)*L,e[7]=(c*E-p*b+d*_)*L,e[8]=(a*k-s*T+u*S)*L,e[9]=(r*T-n*k-o*S)*L,e[10]=(f*w-m*b+y*v)*L,e[11]=(h*b-c*w-d*v)*L,e[12]=(s*C-a*I-l*S)*L,e[13]=(n*I-r*C+i*S)*L,e[14]=(m*_-f*x-g*v)*L,e[15]=(c*x-h*_+p*v)*L,e):null},e.isImageBitmap=E,e.isSafari=w,e.isWorker=y,e.keysDifference=function(e,t){const n=[];for(const r in e)r in t||n.push(r);return n},e.lazyLoadRTLTextPlugin=function(){Kr.isLoading()||Kr.isLoaded()||"deferred"!==Xr()||Yr()},e.makeRequest=V,e.mapObject=c,e.mercatorXfromLng=Yu,e.mercatorYfromLat=Ku,e.mercatorZfromAltitude=Ju,e.mul=ma,e.mul$1=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},e.multiply=da,e.nextPowerOfTwo=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.normalize=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.number=St,e.ortho=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),u=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*u,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*u,e[15]=1,e},e.parseCacheControl=v,e.parseGlyphPbf=function(e){return new al(e).readFields(Pl,[])},e.pbf=al,e.performSymbolLayout=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=jo/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;const n=t.bucket.layers[0].layout,r=t.bucket.layers[0]._unevaluatedLayout._values,i={layoutIconSize:r["icon-size"].possiblyEvaluate(new Jr(t.bucket.zoom+1),t.canonical),layoutTextSize:r["text-size"].possiblyEvaluate(new Jr(t.bucket.zoom+1),t.canonical),textMaxSize:r["text-size"].possiblyEvaluate(new Jr(18))};if("composite"===t.bucket.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.textSizeData;i.compositeTextSizes=[r["text-size"].possiblyEvaluate(new Jr(e),t.canonical),r["text-size"].possiblyEvaluate(new Jr(n),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.iconSizeData;i.compositeIconSizes=[r["icon-size"].possiblyEvaluate(new Jr(e),t.canonical),r["icon-size"].possiblyEvaluate(new Jr(n),t.canonical)]}const o=n.get("text-line-height")*ol,a="viewport"!==n.get("text-rotation-alignment")&&"point"!==n.get("symbol-placement"),s=n.get("text-keep-upright"),l=n.get("text-size");for(const r of t.bucket.features){const u=n.get("text-font").evaluate(r,{},t.canonical).join(","),c=l.evaluate(r,{},t.canonical),h=i.layoutTextSize.evaluate(r,{},t.canonical),p=i.layoutIconSize.evaluate(r,{},t.canonical),d={horizontal:{},vertical:void 0},m=r.text;let g,y=[0,0];if(m){const i=m.toString(),l=n.get("text-letter-spacing").evaluate(r,{},t.canonical)*ol,p=Or(i)?l:0,f=n.get("text-anchor").evaluate(r,{},t.canonical),g=n.get("text-variable-anchor");if(!g){const e=n.get("text-radial-offset").evaluate(r,{},t.canonical);y=e?bu(f,[e*ol,_u]):n.get("text-offset").evaluate(r,{},t.canonical).map((e=>e*ol))}let v=a?"center":n.get("text-justify").evaluate(r,{},t.canonical);const _=n.get("symbol-placement"),b="point"===_?n.get("text-max-width").evaluate(r,{},t.canonical)*ol:0,x=()=>{t.bucket.allowVerticalPlacement&&Ar(i)&&(d.vertical=Fl(m,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,o,f,"left",p,y,e.WritingMode.vertical,!0,_,h,c))};if(!a&&g){const n="auto"===v?g.map((e=>xu(e))):[v];let r=!1;for(let i=0;i<n.length;i++){const a=n[i];if(!d.horizontal[a])if(r)d.horizontal[a]=d.horizontal[0];else{const n=Fl(m,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,o,"center",a,p,y,e.WritingMode.horizontal,!1,_,h,c);n&&(d.horizontal[a]=n,r=1===n.positionedLines.length)}}x()}else{"auto"===v&&(v=xu(f));const n=Fl(m,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,o,f,v,p,y,e.WritingMode.horizontal,!1,_,h,c);n&&(d.horizontal[v]=n),x(),Ar(i)&&a&&s&&(d.vertical=Fl(m,t.glyphMap,t.glyphPositions,t.imagePositions,u,b,o,f,v,p,y,e.WritingMode.vertical,!1,_,h,c))}}let v=!1;if(r.icon&&r.icon.name){const e=t.imageMap[r.icon.name];e&&(g=Xl(t.imagePositions[r.icon.name],n.get("icon-offset").evaluate(r,{},t.canonical),n.get("icon-anchor").evaluate(r,{},t.canonical)),v=!!e.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=v:t.bucket.sdfIcons!==v&&f("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.bucket.pixelRatio||0!==n.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}const _=Cu(d.horizontal)||d.vertical;t.bucket.iconsInText=!!_&&_.iconsInText,(_||g)&&wu(t.bucket,r,d,g,t.imageMap,i,h,p,y,v,t.canonical)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.perspective=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(e[10]=(i+r)*(o=1/(r-i)),e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e},e.pick=function(e,t){const n={};for(let r=0;r<t.length;r++){const i=t[r];i in e&&(n[i]=e[i])}return n},e.plugin=Kr,e.pointGeometry=C,e.polygonIntersectsPolygon=Wo,e.potpack=Al,e.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],e.register=Tr,e.registerForPluginStateChange=function(e){return e({pluginStatus:Vr,pluginURL:Gr}),$r.on("pluginStateChange",e),e},e.renderColorRamp=ka,e.rotateX=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],p=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+u*r,e[5]=a*i+c*r,e[6]=s*i+h*r,e[7]=l*i+p*r,e[8]=u*i-o*r,e[9]=c*i-a*r,e[10]=h*i-s*r,e[11]=p*i-l*r,e},e.rotateZ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],u=t[4],c=t[5],h=t[6],p=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+u*r,e[1]=a*i+c*r,e[2]=s*i+h*r,e[3]=l*i+p*r,e[4]=u*i-o*r,e[5]=c*i-a*r,e[6]=h*i-s*r,e[7]=p*i-l*r,e},e.scale=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.scale$1=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e},e.setCacheLimits=function(e,t){L=e,M=t},e.setRTLTextPlugin=function(e,t,n=!1){if(Vr===jr||Vr===Zr||Vr===Ur)throw new Error("setRTLTextPlugin cannot be called multiple times.");Gr=S.resolveURL(e),Vr=jr,qr=t,Wr(),n||Yr()},e.spec=ne,e.sphericalToCartesian=function([e,t,n]){return t+=90,t*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(t)*Math.sin(n),y:e*Math.sin(t)*Math.sin(n),z:e*Math.cos(n)}},e.sqrLen=function(e){var t=e[0],n=e[1];return t*t+n*n},e.sub=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.toEvaluationFeature=Vo,e.transformMat3=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.transformMat4=va,e.transformMat4$1=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},e.translate=function(e,t,n){var r,i,o,a,s,l,u,c,h,p,d,f,m=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],c=t[7],h=t[8],p=t[9],d=t[10],f=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=u,e[7]=c,e[8]=h,e[9]=p,e[10]=d,e[11]=f,e[12]=r*m+s*g+h*y+t[12],e[13]=i*m+l*g+p*y+t[13],e[14]=o*m+u*g+d*y+t[14],e[15]=a*m+c*g+f*y+t[15]),e},e.triggerPluginCompletionEvent=Hr,e.unicodeBlockLookup=Mr,e.uniqueId=function(){return l++},e.validateCustomStyleLayer=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.validateLight=br,e.validateStyle=_r,e.vectorTile=_s,e.warnOnce=f,e.wrap=a})),r(0,(function(e){function t(e){const n=typeof e;if("number"===n||"boolean"===n||"string"===n||null==e)return JSON.stringify(e);if(Array.isArray(e)){let n="[";for(const r of e)n+=`${t(r)},`;return`${n}]`}const r=Object.keys(e).sort();let i="{";for(let n=0;n<r.length;n++)i+=`${JSON.stringify(r[n])}:${t(e[r[n]])},`;return`${i}}`}function n(n){let r="";for(const i of e.refProperties)r+=`/${t(n[i])}`;return r}class r{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,r){for(const n of t){this._layerConfigs[n.id]=n;const t=this._layers[n.id]=e.createStyleLayer(n);t._featureFilter=e.createFilter(t.filter),this.keyCache[n.id]&&delete this.keyCache[n.id]}for(const e of r)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=function(e,t){const r={};for(let i=0;i<e.length;i++){const o=t&&t[e[i].id]||n(e[i]);t&&(t[e[i].id]=o);let a=r[o];a||(a=r[o]=[]),a.push(e[i])}const i=[];for(const e in r)i.push(r[e]);return i}(Object.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const r=n.source||"";let i=this.familiesBySource[r];i||(i=this.familiesBySource[r]={});const o=n.sourceLayer||"_geojsonTileLayer";let a=i[o];a||(a=i[o]=[]),a.push(t)}}}class i{constructor(t){const n={},r=[];for(const e in t){const i=t[e],o=n[e]={};for(const e in i){const t=i[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};r.push(n),o[e]={rect:n,metrics:t.metrics}}}const{w:i,h:o}=e.potpack(r),a=new e.AlphaImage({width:i||1,height:o||1});for(const r in t){const i=t[r];for(const t in i){const o=i[+t];if(!o||0===o.bitmap.width||0===o.bitmap.height)continue;const s=n[r][t].rect;e.AlphaImage.copy(o.bitmap,a,{x:0,y:0},{x:s.x+1,y:s.y+1},o.bitmap)}}this.image=a,this.positions=n}}e.register("GlyphAtlas",i);class o{constructor(t){this.tileID=new e.OverscaledTileID(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId}parse(t,n,r,o,s){this.status="parsing",this.data=t,this.collisionBoxArray=new e.CollisionBoxArray;const l=new e.DictionaryCoder(Object.keys(t.layers).sort()),u=new e.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];const c={},h={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:r},p=n.familiesBySource[this.source];for(const n in p){const i=t.layers[n];if(!i)continue;1===i.version&&e.warnOnce(`Vector tile source "${this.source}" layer "${n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const o=l.encode(n),s=[];for(let e=0;e<i.length;e++){const t=i.feature(e),r=u.getId(t,n);s.push({feature:t,id:r,index:e,sourceLayerIndex:o})}for(const t of p[n]){const n=t[0];n.source!==this.source&&e.warnOnce(`layer.source = ${n.source} does not equal this.source = ${this.source}`),n.minzoom&&this.zoom<Math.floor(n.minzoom)||n.maxzoom&&this.zoom>=n.maxzoom||"none"!==n.visibility&&(a(t,this.zoom,r),(c[n.id]=n.createBucket({index:u.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:o,sourceID:this.source})).populate(s,h,this.tileID.canonical),u.bucketLayerIDs.push(t.map((e=>e.id))))}}let d,f,m,g;const y=e.mapObject(h.glyphDependencies,(e=>Object.keys(e).map(Number)));Object.keys(y).length?o.send("getGlyphs",{uid:this.uid,stacks:y},((e,t)=>{d||(d=e,f=t,b.call(this))})):f={};const v=Object.keys(h.iconDependencies);v.length?o.send("getImages",{icons:v,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{d||(d=e,m=t,b.call(this))})):m={};const _=Object.keys(h.patternDependencies);function b(){if(d)return s(d);if(f&&m&&g){const t=new i(f),n=new e.ImageAtlas(m,g);for(const i in c){const o=c[i];o instanceof e.SymbolBucket?(a(o.layers,this.zoom,r),e.performSymbolLayout({bucket:o,glyphMap:f,glyphPositions:t.positions,imageMap:m,imagePositions:n.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):o.hasPattern&&(o instanceof e.LineBucket||o instanceof e.FillBucket||o instanceof e.FillExtrusionBucket)&&(a(o.layers,this.zoom,r),o.addFeatures(h,this.tileID.canonical,n.patternPositions))}this.status="done",s(null,{buckets:Object.values(c).filter((e=>!e.isEmpty())),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:n,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?m:null,glyphPositions:this.returnDependencies?t.positions:null})}}_.length?o.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{d||(d=e,g=t,b.call(this))})):g={},b.call(this)}}function a(t,n,r){const i=new e.EvaluationParameters(n);for(const e of t)e.recalculate(i,r)}function s(t,n){const r=e.getArrayBuffer(t.request,((t,r,i,o)=>{t?n(t):r&&n(null,{vectorTile:new e.vectorTile.VectorTile(new e.pbf(r)),rawData:r,cacheControl:i,expires:o})}));return()=>{r.cancel(),n()}}class l{constructor(e,t,n,r){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=r||s,this.loading={},this.loaded={}}loadTile(t,n){const r=t.uid;this.loading||(this.loading={});const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request),a=this.loading[r]=new o(t);a.abort=this.loadVectorData(t,((t,o)=>{if(delete this.loading[r],t||!o)return a.status="done",this.loaded[r]=a,n(t);const s=o.rawData,l={};o.expires&&(l.expires=o.expires),o.cacheControl&&(l.cacheControl=o.cacheControl);const u={};if(i){const e=i.finish();e&&(u.resourceTiming=JSON.parse(JSON.stringify(e)))}a.vectorTile=o.vectorTile,a.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,r)=>{if(t||!r)return n(t);n(null,e.extend({rawTileData:s.slice(0)},r,l,u))})),this.loaded=this.loaded||{},this.loaded[r]=a}))}reloadTile(e,t){const n=this.loaded,r=e.uid,i=this;if(n&&n[r]){const o=n[r];o.showCollisionBoxes=e.showCollisionBoxes;const a=(e,n)=>{const r=o.reloadCallback;r&&(delete o.reloadCallback,o.parse(o.vectorTile,i.layerIndex,this.availableImages,i.actor,r)),t(e,n)};"parsing"===o.status?o.reloadCallback=a:"done"===o.status&&(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,a):a())}}abortTile(e,t){const n=this.loading,r=e.uid;n&&n[r]&&n[r].abort&&(n[r].abort(),delete n[r]),t()}removeTile(e,t){const n=this.loaded,r=e.uid;n&&n[r]&&delete n[r],t()}}class u{constructor(){this.loaded={}}loadTile(t,n){const{uid:r,encoding:i,rawImageData:o}=t,a=e.isImageBitmap(o)?this.getImageData(o):o,s=new e.DEMData(r,a,i);this.loaded=this.loaded||{},this.loaded[r]=s,n(null,s)}getImageData(t){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(t.width,t.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=t.width,this.offscreenCanvas.height=t.height,this.offscreenCanvasContext.drawImage(t,0,0,t.width,t.height);const n=this.offscreenCanvasContext.getImageData(-1,-1,t.width+2,t.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new e.RGBAImage({width:n.width,height:n.height},n.data)}removeTile(e){const t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}var c=function e(t,n){var r,i=t&&t.type;if("FeatureCollection"===i)for(r=0;r<t.features.length;r++)e(t.features[r],n);else if("GeometryCollection"===i)for(r=0;r<t.geometries.length;r++)e(t.geometries[r],n);else if("Feature"===i)e(t.geometry,n);else if("Polygon"===i)h(t.coordinates,n);else if("MultiPolygon"===i)for(r=0;r<t.coordinates.length;r++)h(t.coordinates[r],n);return t};function h(e,t){if(0!==e.length){p(e[0],t);for(var n=1;n<e.length;n++)p(e[n],!t)}}function p(e,t){for(var n=0,r=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}const d=e.vectorTile.VectorTileFeature.prototype.toGeoJSON;class f{constructor(t){this._feature=t,this.extent=e.EXTENT,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.pointGeometry(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const r=[];for(const t of n)r.push(new e.pointGeometry(t[0],t[1]));t.push(r)}return t}}toGeoJSON(e,t,n){return d.call(this,e,t,n)}}class m{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.EXTENT,this.length=t.length,this._features=t}feature(e){return new f(this._features[e])}}var g={exports:{}},y=e.pointGeometry,v=e.vectorTile.VectorTileFeature,_=b;function b(e,t){this.options=t||{},this.features=e,this.length=e.length}function x(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}b.prototype.feature=function(e){return new x(this.features[e],this.options.extent)},x.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],r=[],i=0;i<n.length;i++)r.push(new y(n[i][0],n[i][1]));this.geometry.push(r)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,r=1/0,i=-1/0,o=0;o<e.length;o++)for(var a=e[o],s=0;s<a.length;s++){var l=a[s];t=Math.min(t,l.x),n=Math.max(n,l.x),r=Math.min(r,l.y),i=Math.max(i,l.y)}return[t,r,n,i]},x.prototype.toGeoJSON=v.prototype.toGeoJSON;var w=e.pbf,E=_;function S(e){var t=new w;return function(e,t){for(var n in e.layers)t.writeMessage(3,C,e.layers[n])}(e,t),t.finish()}function C(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var r={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)r.feature=e.feature(n),t.writeMessage(2,T,r);var i=r.keys;for(n=0;n<i.length;n++)t.writeStringField(3,i[n]);var o=r.values;for(n=0;n<o.length;n++)t.writeMessage(4,M,o[n])}function T(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,I,e),t.writeVarintField(3,n.type),t.writeMessage(4,L,n)}function I(e,t){var n=e.feature,r=e.keys,i=e.values,o=e.keycache,a=e.valuecache;for(var s in n.properties){var l=n.properties[s],u=o[s];if(null!==l){void 0===u&&(r.push(s),o[s]=u=r.length-1),t.writeVarint(u);var c=typeof l;"string"!==c&&"boolean"!==c&&"number"!==c&&(l=JSON.stringify(l));var h=c+":"+l,p=a[h];void 0===p&&(i.push(l),a[h]=p=i.length-1),t.writeVarint(p)}}}function k(e,t){return(t<<3)+(7&e)}function P(e){return e<<1^e>>31}function L(e,t){for(var n=e.loadGeometry(),r=e.type,i=0,o=0,a=n.length,s=0;s<a;s++){var l=n[s],u=1;1===r&&(u=l.length),t.writeVarint(k(1,u));for(var c=3===r?l.length-1:l.length,h=0;h<c;h++){1===h&&1!==r&&t.writeVarint(k(2,c-1));var p=l[h].x-i,d=l[h].y-o;t.writeVarint(P(p)),t.writeVarint(P(d)),i+=p,o+=d}3===r&&t.writeVarint(k(7,1))}}function M(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}function A(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;O(e,t,a,r,i,o%2),A(e,t,n,r,a-1,o+1),A(e,t,n,a+1,i,o+1)}function O(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const a=i-r+1,s=n-r+1,l=Math.log(a),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(a-u)/a)*(s-a/2<0?-1:1);O(e,t,n,Math.max(r,Math.floor(n-s*u/a+c)),Math.min(i,Math.floor(n+(a-s)*u/a+c)),o)}const a=t[2*n+o];let s=r,l=i;for(R(e,t,r,n),t[2*i+o]>a&&R(e,t,r,i);s<l;){for(R(e,t,s,l),s++,l--;t[2*s+o]<a;)s++;for(;t[2*l+o]>a;)l--}t[2*r+o]===a?R(e,t,r,l):(l++,R(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function R(e,t,n,r){N(e,n,r),N(t,2*n,2*r),N(t,2*n+1,2*r+1)}function N(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function D(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}g.exports=S,g.exports.fromVectorTileJs=S,g.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var r in e)n[r]=new E(e[r].features,t),n[r].name=r,n[r].version=t.version,n[r].extent=t.extent;return S({layers:n})},g.exports.GeoJSONWrapper=E;const z=e=>e[0],F=e=>e[1];class B{constructor(e,t=z,n=F,r=64,i=Float64Array){this.nodeSize=r,this.points=e;const o=e.length<65536?Uint16Array:Uint32Array,a=this.ids=new o(e.length),s=this.coords=new i(2*e.length);for(let r=0;r<e.length;r++)a[r]=r,s[2*r]=t(e[r]),s[2*r+1]=n(e[r]);A(a,s,r,0,a.length-1,0)}range(e,t,n,r){return function(e,t,n,r,i,o,a){const s=[0,e.length-1,0],l=[];let u,c;for(;s.length;){const h=s.pop(),p=s.pop(),d=s.pop();if(p-d<=a){for(let a=d;a<=p;a++)u=t[2*a],c=t[2*a+1],u>=n&&u<=i&&c>=r&&c<=o&&l.push(e[a]);continue}const f=Math.floor((d+p)/2);u=t[2*f],c=t[2*f+1],u>=n&&u<=i&&c>=r&&c<=o&&l.push(e[f]);const m=(h+1)%2;(0===h?n<=u:r<=c)&&(s.push(d),s.push(f-1),s.push(m)),(0===h?i>=u:o>=c)&&(s.push(f+1),s.push(p),s.push(m))}return l}(this.ids,this.coords,e,t,n,r,this.nodeSize)}within(e,t,n){return function(e,t,n,r,i,o){const a=[0,e.length-1,0],s=[],l=i*i;for(;a.length;){const u=a.pop(),c=a.pop(),h=a.pop();if(c-h<=o){for(let i=h;i<=c;i++)D(t[2*i],t[2*i+1],n,r)<=l&&s.push(e[i]);continue}const p=Math.floor((h+c)/2),d=t[2*p],f=t[2*p+1];D(d,f,n,r)<=l&&s.push(e[p]);const m=(u+1)%2;(0===u?n-i<=d:r-i<=f)&&(a.push(h),a.push(p-1),a.push(m)),(0===u?n+i>=d:r+i>=f)&&(a.push(p+1),a.push(c),a.push(m))}return s}(this.ids,this.coords,e,t,n,this.nodeSize)}}const j={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Z=Math.fround||(U=new Float32Array(1),e=>(U[0]=+e,U[0]));var U;class q{constructor(e){this.options=K(Object.create(j),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:n,maxZoom:r,nodeSize:i}=this.options;t&&console.time("total time");const o=`prepare ${e.length} points`;t&&console.time(o),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(G(e[t],t));this.trees[r+1]=new B(a,J,Q,i,Float32Array),t&&console.timeEnd(o);for(let e=r;e>=n;e--){const n=+Date.now();a=this._cluster(a,e),this.trees[e]=new B(a,J,Q,i,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-n)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,i,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range($(n),X(o),$(i),X(r)),l=[];for(const e of s){const t=a.points[e];l.push(t.numPoints?H(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.points[t];if(!o)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o.x,o.y,a),l=[];for(const t of s){const n=i.points[t];n.parentId===e&&l.push(n.numPoints?H(n):this.points[n.index])}if(0===l.length)throw new Error(r);return l}getLeaves(e,t,n){const r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/i,u=(n+1+s)/i,c={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,u),r.points,t,n,i,c),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,u),r.points,i,n,i,c),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,u),r.points,-1,n,i,c),c.features.length?c:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const o=this.getChildren(t);for(const t of o){const o=t.properties;if(o&&o.cluster?i+o.point_count<=r?i+=o.point_count:i=this._appendLeaves(e,o.cluster_id,n,r,i):i<r?i++:e.push(t),e.length===n)break}return i}_addTileFeatures(e,t,n,r,i,o){for(const a of e){const e=t[a],s=e.numPoints;let l,u,c;if(s)l=W(e),u=e.x,c=e.y;else{const t=this.points[e.index];l=t.properties,u=$(t.geometry.coordinates[0]),c=X(t.geometry.coordinates[1])}const h={type:1,geometry:[[Math.round(this.options.extent*(u*i-n)),Math.round(this.options.extent*(c*i-r))]],tags:l};let p;s?p=e.id:this.options.generateId?p=e.index:this.points[e.index].id&&(p=this.points[e.index].id),void 0!==p&&(h.id=p),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const n=[],{radius:r,extent:i,reduce:o,minPoints:a}=this.options,s=r/(i*Math.pow(2,t));for(let r=0;r<e.length;r++){const i=e[r];if(i.zoom<=t)continue;i.zoom=t;const l=this.trees[t+1],u=l.within(i.x,i.y,s),c=i.numPoints||1;let h=c;for(const e of u){const n=l.points[e];n.zoom>t&&(h+=n.numPoints||1)}if(h>c&&h>=a){let e=i.x*c,a=i.y*c,s=o&&c>1?this._map(i,!0):null;const p=(r<<5)+(t+1)+this.points.length;for(const n of u){const r=l.points[n];if(r.zoom<=t)continue;r.zoom=t;const u=r.numPoints||1;e+=r.x*u,a+=r.y*u,r.parentId=p,o&&(s||(s=this._map(i,!0)),o(s,this._map(r)))}i.parentId=p,n.push(V(e/h,a/h,p,h,s))}else if(n.push(i),h>1)for(const e of u){const r=l.points[e];r.zoom<=t||(r.zoom=t,n.push(r))}}return n}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?K({},e.properties):e.properties;const n=this.points[e.index].properties,r=this.options.map(n);return t&&r===n?K({},r):r}}function V(e,t,n,r,i){return{x:Z(e),y:Z(t),zoom:1/0,id:n,parentId:-1,numPoints:r,properties:i}}function G(e,t){const[n,r]=e.geometry.coordinates;return{x:Z($(n)),y:Z(X(r)),zoom:1/0,index:t,parentId:-1}}function H(e){return{type:"Feature",id:e.id,properties:W(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),Y(e.y)]}};var t}function W(e){const t=e.numPoints,n=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return K(K({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:n})}function $(e){return e/360+.5}function X(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Y(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function K(e,t){for(const n in t)e[n]=t[n];return e}function J(e){return e.x}function Q(e){return e.y}function ee(e,t,n,r){for(var i,o=r,a=n-t>>1,s=n-t,l=e[t],u=e[t+1],c=e[n],h=e[n+1],p=t+3;p<n;p+=3){var d=te(e[p],e[p+1],l,u,c,h);if(d>o)i=p,o=d;else if(d===o){var f=Math.abs(p-a);f<s&&(i=p,s=f)}}o>r&&(i-t>3&&ee(e,t,i,r),e[i+2]=o,n-i>3&&ee(e,i,n,r))}function te(e,t,n,r,i,o){var a=i-n,s=o-r;if(0!==a||0!==s){var l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return(a=e-n)*a+(s=t-r)*s}function ne(e,t,n,r){var i={id:void 0===e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)re(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var r=0;r<t.length;r++)re(e,t[r]);else if("MultiPolygon"===n)for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)re(e,t[r][i])}(i),i}function re(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function ie(e,t,n,r){if(t.geometry){var i=t.geometry.coordinates,o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)oe(i,s);else if("MultiPoint"===o)for(var u=0;u<i.length;u++)oe(i[u],s);else if("LineString"===o)ae(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(u=0;u<i.length;u++)ae(i[u],s=[],a,!1),e.push(ne(l,"LineString",s,t.properties));return}se(i,s,a,!1)}else if("Polygon"===o)se(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(u=0;u<t.geometry.geometries.length;u++)ie(e,{id:l,geometry:t.geometry.geometries[u],properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(u=0;u<i.length;u++){var c=[];se(i[u],c,a,!0),s.push(c)}}e.push(ne(l,o,s,t.properties))}}function oe(e,t){t.push(le(e[0])),t.push(ue(e[1])),t.push(0)}function ae(e,t,n,r){for(var i,o,a=0,s=0;s<e.length;s++){var l=le(e[s][0]),u=ue(e[s][1]);t.push(l),t.push(u),t.push(0),s>0&&(a+=r?(i*u-l*o)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(u-o,2))),i=l,o=u}var c=t.length-3;t[2]=1,ee(t,0,c,n),t[c+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function se(e,t,n,r){for(var i=0;i<e.length;i++){var o=[];ae(e[i],o,n,r),t.push(o)}}function le(e){return e/360+.5}function ue(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ce(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;for(var l=[],u=0;u<e.length;u++){var c=e[u],h=c.geometry,p=c.type,d=0===i?c.minX:c.minY,f=0===i?c.maxX:c.maxY;if(d>=n&&f<r)l.push(c);else if(!(f<n||d>=r)){var m=[];if("Point"===p||"MultiPoint"===p)he(h,m,n,r,i);else if("LineString"===p)pe(h,m,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===p)fe(h,m,n,r,i,!1);else if("Polygon"===p)fe(h,m,n,r,i,!0);else if("MultiPolygon"===p)for(var g=0;g<h.length;g++){var y=[];fe(h[g],y,n,r,i,!0),y.length&&m.push(y)}if(m.length){if(s.lineMetrics&&"LineString"===p){for(g=0;g<m.length;g++)l.push(ne(c.id,p,m[g],c.tags));continue}"LineString"!==p&&"MultiLineString"!==p||(1===m.length?(p="LineString",m=m[0]):p="MultiLineString"),"Point"!==p&&"MultiPoint"!==p||(p=3===m.length?"Point":"MultiPoint"),l.push(ne(c.id,p,m,c.tags))}}}return l.length?l:null}function he(e,t,n,r,i){for(var o=0;o<e.length;o+=3){var a=e[o+i];a>=n&&a<=r&&(t.push(e[o]),t.push(e[o+1]),t.push(e[o+2]))}}function pe(e,t,n,r,i,o,a){for(var s,l,u=de(e),c=0===i?ge:ye,h=e.start,p=0;p<e.length-3;p+=3){var d=e[p],f=e[p+1],m=e[p+2],g=e[p+3],y=e[p+4],v=0===i?d:f,_=0===i?g:y,b=!1;a&&(s=Math.sqrt(Math.pow(d-g,2)+Math.pow(f-y,2))),v<n?_>n&&(l=c(u,d,f,g,y,n),a&&(u.start=h+s*l)):v>r?_<r&&(l=c(u,d,f,g,y,r),a&&(u.start=h+s*l)):me(u,d,f,m),_<n&&v>=n&&(l=c(u,d,f,g,y,n),b=!0),_>r&&v<=r&&(l=c(u,d,f,g,y,r),b=!0),!o&&b&&(a&&(u.end=h+s*l),t.push(u),u=de(e)),a&&(h+=s)}var x=e.length-3;d=e[x],f=e[x+1],m=e[x+2],(v=0===i?d:f)>=n&&v<=r&&me(u,d,f,m),x=u.length-3,o&&x>=3&&(u[x]!==u[0]||u[x+1]!==u[1])&&me(u,u[0],u[1],u[2]),u.length&&t.push(u)}function de(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function fe(e,t,n,r,i,o){for(var a=0;a<e.length;a++)pe(e[a],t,n,r,i,o,!1)}function me(e,t,n,r){e.push(t),e.push(n),e.push(r)}function ge(e,t,n,r,i,o){var a=(o-t)/(r-t);return e.push(o),e.push(n+(i-n)*a),e.push(1),a}function ye(e,t,n,r,i,o){var a=(o-n)/(i-n);return e.push(t+(r-t)*a),e.push(o),e.push(1),a}function ve(e,t){for(var n=[],r=0;r<e.length;r++){var i,o=e[r],a=o.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)i=_e(o.geometry,t);else if("MultiLineString"===a||"Polygon"===a){i=[];for(var s=0;s<o.geometry.length;s++)i.push(_e(o.geometry[s],t))}else if("MultiPolygon"===a)for(i=[],s=0;s<o.geometry.length;s++){for(var l=[],u=0;u<o.geometry[s].length;u++)l.push(_e(o.geometry[s][u],t));i.push(l)}n.push(ne(o.id,a,i,o.tags))}return n}function _e(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function be(e,t){if(e.transformed)return e;var n,r,i,o=1<<e.z,a=e.x,s=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],u=l.geometry,c=l.type;if(l.geometry=[],1===c)for(r=0;r<u.length;r+=2)l.geometry.push(xe(u[r],u[r+1],t,o,a,s));else for(r=0;r<u.length;r++){var h=[];for(i=0;i<u[r].length;i+=2)h.push(xe(u[r][i],u[r][i+1],t,o,a,s));l.geometry.push(h)}}return e.transformed=!0,e}function xe(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function we(e,t,n,r,i){for(var o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s<e.length;s++){a.numFeatures++,Ee(a,e[s],o,i);var l=e[s].minX,u=e[s].minY,c=e[s].maxX,h=e[s].maxY;l<a.minX&&(a.minX=l),u<a.minY&&(a.minY=u),c>a.maxX&&(a.maxX=c),h>a.maxY&&(a.maxY=h)}return a}function Ee(e,t,n,r){var i=t.geometry,o=t.type,a=[];if("Point"===o||"MultiPoint"===o)for(var s=0;s<i.length;s+=3)a.push(i[s]),a.push(i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)Se(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(s=0;s<i.length;s++)Se(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(var l=0;l<i.length;l++){var u=i[l];for(s=0;s<u.length;s++)Se(a,u[s],e,n,!0,0===s)}if(a.length){var c=t.tags||null;if("LineString"===o&&r.lineMetrics){for(var h in c={},t.tags)c[h]=t.tags[h];c.mapbox_clip_start=i.start/i.size,c.mapbox_clip_end=i.end/i.size}var p={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:c};null!==t.id&&(p.id=t.id),e.features.push(p)}}function Se(e,t,n,r,i,o){var a=r*r;if(r>0&&t.size<(i?a:r))n.numPoints+=t.length/3;else{for(var s=[],l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l]),s.push(t[l+1])),n.numPoints++;i&&function(e,t){for(var n=0,r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(r=0,i=e.length;r<i/2;r+=2){var a=e[r],s=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=a,e[i-1-r]=s}}(s,o),e.push(s)}}function Ce(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var r=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var r=0;r<e.features.length;r++)ie(n,e.features[r],t,r);else ie(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(e,t){var n=t.buffer/t.extent,r=e,i=ce(e,1,-1-n,n,0,-1,2,t),o=ce(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=ce(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=ve(i,1).concat(r)),o&&(r=r.concat(ve(o,-1)))),r}(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Te(e,t,n){return 32*((1<<e)*n+t)+e}function Ie(e,t){const n=e.tileID.canonical;if(!this._geoJSONIndex)return t(null,null);const r=this._geoJSONIndex.getTile(n.z,n.x,n.y);if(!r)return t(null,null);const i=new m(r.features);let o=g.exports(i);0===o.byteOffset&&o.byteLength===o.buffer.byteLength||(o=new Uint8Array(o)),t(null,{vectorTile:i,rawData:o.buffer})}Ce.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ce.prototype.splitTile=function(e,t,n,r,i,o,a){for(var s=[e,t,n,r],l=this.options,u=l.debug;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();var c=1<<t,h=Te(t,n,r),p=this.tiles[h];if(!p&&(u>1&&console.time("creation"),p=this.tiles[h]=we(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),u)){u>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,p.numFeatures,p.numPoints,p.numSimplified),console.timeEnd("creation"));var d="z"+t;this.stats[d]=(this.stats[d]||0)+1,this.total++}if(p.source=e,i){if(t===l.maxZoom||t===i)continue;var f=1<<i-t;if(n!==Math.floor(o/f)||r!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||p.numPoints<=l.indexMaxPoints)continue;if(p.source=null,0!==e.length){u>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,E=.5+x,S=1+x;m=g=y=v=null,_=ce(e,c,n-x,n+E,0,p.minX,p.maxX,l),b=ce(e,c,n+w,n+S,0,p.minX,p.maxX,l),e=null,_&&(m=ce(_,c,r-x,r+E,1,p.minY,p.maxY,l),g=ce(_,c,r+w,r+S,1,p.minY,p.maxY,l),_=null),b&&(y=ce(b,c,r-x,r+E,1,p.minY,p.maxY,l),v=ce(b,c,r+w,r+S,1,p.minY,p.maxY,l),b=null),u>1&&console.timeEnd("clipping"),s.push(m||[],t+1,2*n,2*r),s.push(g||[],t+1,2*n,2*r+1),s.push(y||[],t+1,2*n+1,2*r),s.push(v||[],t+1,2*n+1,2*r+1)}}},Ce.prototype.getTile=function(e,t,n){var r=this.options,i=r.extent,o=r.debug;if(e<0||e>24)return null;var a=1<<e,s=Te(e,t=(t%a+a)%a,n);if(this.tiles[s])return be(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,u=e,c=t,h=n;!l&&u>0;)u--,c=Math.floor(c/2),h=Math.floor(h/2),l=this.tiles[Te(u,c,h)];return l&&l.source?(o>1&&console.log("found parent tile z%d-%d-%d",u,c,h),o>1&&console.time("drilling down"),this.splitTile(l.source,u,c,h,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?be(this.tiles[s],i):null):null};class ke extends l{constructor(e,t,n,r){super(e,t,n,Ie),r&&(this.loadGeoJSON=r)}loadData(t,n){var r;null===(r=this._pendingRequest)||void 0===r||r.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const i=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.RequestPerformance(t.request);this._pendingCallback=n,this._pendingRequest=this.loadGeoJSON(t,((r,o)=>{if(delete this._pendingCallback,delete this._pendingRequest,r||!o)return n(r);if("object"!=typeof o)return n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));{c(o,!0);try{if(t.filter){const n=e.createExpression(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((e=>`${e.key}: ${e.message}`)).join(", "));const r=o.features.filter((e=>n.value.evaluate({zoom:0},e)));o={type:"FeatureCollection",features:r}}this._geoJSONIndex=t.cluster?new q(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const r={},i={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const t of s){const[o,a]=n[t],s=e.createExpression(a),l=e.createExpression("string"==typeof o?[o,["accumulated"],["get",t]]:o);r[t]=s.value,i[t]=l.value}return t.map=e=>{a.properties=e;const t={};for(const e of s)t[e]=r[e].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const t of s)o.accumulated=e[t],e[t]=i[t].evaluate(o,a)},t}(t)).load(o.features):function(e,t){return new Ce(e,t)}(o,t.geojsonVtOptions)}catch(r){return n(r)}this.loaded={};const a={};if(i){const e=i.finish();e&&(a.resourceTiming={},a.resourceTiming[t.source]=JSON.parse(JSON.stringify(e)))}n(null,a)}}))}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}loadGeoJSON(t,n){if(t.request)return e.getJSON(t.request,n);if("string"==typeof t.data)try{n(null,JSON.parse(t.data))}catch(e){n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`))}else n(new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`));return{cancel:()=>{}}}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class Pe{constructor(t){this.self=t,this.actor=new e.Actor(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:l,geojson:ke},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.plugin.isParsed())throw new Error("RTL text plugin already registered.");e.plugin.applyArabicShaping=t.applyArabicShaping,e.plugin.processBidirectionalText=t.processBidirectionalText,e.plugin.processStyledBidirectionalText=t.processStyledBidirectionalText}}setReferrer(e,t){this.referrer=t}setImages(e,t,n){this.availableImages[e]=t;for(const n in this.workerSources[e]){const r=this.workerSources[e][n];for(const e in r)r[e].availableImages=t}n()}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)}loadDEMTile(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)}reloadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeDEMTile(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const r=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==r.removeSource?r.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,r){try{e.plugin.setState(n);const t=e.plugin.getPluginURL();if(e.plugin.isLoaded()&&!e.plugin.isParsed()&&null!=t){this.self.importScripts(t);const n=e.plugin.isParsed();r(n?void 0:new Error(`RTL Text Plugin failed to import scripts from ${t}`),n)}}catch(e){r(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let t=this.layerIndexes[e];return t||(t=this.layerIndexes[e]=new r),t}getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const r={send:(t,n,r)=>{this.actor.send(t,n,r,e)}};this.workerSources[e][t][n]=new this.workerSourceTypes[t](r,this.getLayerIndex(e),this.getAvailableImages(e))}return this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new u),this.demWorkerSources[e][t]}enforceCacheSizeLimit(t,n){e.enforceCacheSizeLimit(n)}}return e.isWorker()&&(self.worker=new Pe(self)),Pe})),r(0,(function(e){var t=n;function n(e){return!function(e){return"undefined"==typeof window||"undefined"==typeof document?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var e,t,n=new Blob([""],{type:"text/javascript"}),r=URL.createObjectURL(n);try{t=new Worker(r),e=!0}catch(t){e=!1}return t&&t.terminate(),URL.revokeObjectURL(r),e}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var e=document.createElement("canvas");e.width=e.height=1;var t=e.getContext("2d");if(!t)return!1;var n=t.getImageData(0,0,1,1);return n&&n.width===e.width}()?(void 0===r[t=e&&e.failIfMajorPerformanceCaveat]&&(r[t]=function(e){var t,r=function(e){var t=document.createElement("canvas"),r=Object.create(n.webGLContextAttributes);return r.failIfMajorPerformanceCaveat=e,t.getContext("webgl",r)||t.getContext("experimental-webgl",r)}(e);if(!r)return!1;try{t=r.createShader(r.VERTEX_SHADER)}catch(e){return!1}return!(!t||r.isContextLost())&&(r.shaderSource(t,"void main() {}"),r.compileShader(t),!0===r.getShaderParameter(t,r.COMPILE_STATUS))}(t)),r[t]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var t}(e)}var r={};function i(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!i(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!i(e[n],t[n]))return!1;return!0}return e===t}n.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};class o{static testProp(e){if(!o.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in o.docStyle)return e[t];return e[0]}static create(e,t,n){const r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){o.docStyle&&o.selectProp&&(o.userSelect=o.docStyle[o.selectProp],o.docStyle[o.selectProp]="none")}static enableDrag(){o.docStyle&&o.selectProp&&(o.docStyle[o.selectProp]=o.userSelect)}static setTransform(e,t){e.style[o.transformProp]=t}static addEventListener(e,t,n,r={}){e.addEventListener(t,n,"passive"in r?r:r.capture)}static removeEventListener(e,t,n,r={}){e.removeEventListener(t,n,"passive"in r?r:r.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",o.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",o.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",o.suppressClickInternal,!0)}),0)}static mousePos(t,n){const r=t.getBoundingClientRect();return new e.pointGeometry(n.clientX-r.left-t.clientLeft,n.clientY-r.top-t.clientTop)}static touchPos(t,n){const r=t.getBoundingClientRect(),i=[];for(let o=0;o<n.length;o++)i.push(new e.pointGeometry(n[o].clientX-r.left-t.clientLeft,n[o].clientY-r.top-t.clientTop));return i}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}o.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,o.selectProp=o.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),o.transformProp=o.testProp(["transform","WebkitTransform"]);class a{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeSpriteURL(e,t,n){const r=function(e){const t=e.match(s);if(!t)throw new Error(`Unable to parse URL "${e}"`);return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return r.path+=`${t}${n}`,function(e){const t=e.params.length?`?${e.params.join("&")}`:"";return`${e.protocol}://${e.authority}${e.path}${t}`}(r)}setTransformRequest(e){this._transformRequestFn=e}}const s=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;class l{constructor(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)}update(t,n,r){const{width:i,height:o}=t,a=!(this.size&&this.size[0]===i&&this.size[1]===o||r),{context:s}=this,{gl:l}=s;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),s.pixelStoreUnpackFlipY.set(!1),s.pixelStoreUnpack.set(1),s.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),a)this.size=[i,o],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,i,o,0,this.format,l.UNSIGNED_BYTE,t.data);else{const{x:n,y:a}=r||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.isImageBitmap(t)?l.texSubImage2D(l.TEXTURE_2D,0,n,a,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,n,a,i,o,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,n){const{context:r}=this,{gl:i}=r;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function u(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class c extends e.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(e){return this.images[e]}addImage(e,t){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let r=!0;return this._validateStretch(n.stretchX,n.data&&n.data.width)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,n.data&&n.data.height)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new e.ErrorEvent(new Error(`Image "${t}" has invalid "content" value`))),r=!1),r}_validateStretch(e,t){if(!e)return!0;let n=0;for(const r of e){if(r[0]<n||r[1]<r[0]||t<r[1])return!1;n=r[1]}return!0}_validateContent(e,t){return!(e&&(4!==e.length||e[0]<0||t.data.width<e[0]||e[1]<0||t.data.height<e[1]||e[2]<0||t.data.width<e[2]||e[3]<0||t.data.height<e[3]||e[2]<e[0]||e[3]<e[1]))}updateImage(e,t){const n=this.images[e];if(n.data.width!==t.data.width||n.data.height!==t.data.height)throw new Error(`size mismatch between old image (${n.data.width}x${n.data.height}) and new image (${t.data.width}x${t.data.height}).`);t.version=n.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const t of e)this.images[t]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const r={};for(const n of t){this.images[n]||this.fire(new e.Event("styleimagemissing",{id:n}));const t=this.images[n];t?r[n]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.warnOnce(`Image "${n}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}n(null,r)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],r=this.getImage(t);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{const n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},i=new e.ImagePosition(n,r);this.patterns[t]={bin:n,position:i}}return this._updatePatternAtlas(),this.patterns[t].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new l(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:r}=e.potpack(t),i=this.atlasImage;i.resize({width:n||1,height:r||1});for(const t in this.patterns){const{bin:n}=this.patterns[t],r=n.x+1,o=n.y+1,a=this.images[t].data,s=a.width,l=a.height;e.RGBAImage.copy(a,i,{x:0,y:0},{x:r,y:o},{width:s,height:l}),e.RGBAImage.copy(a,i,{x:0,y:l-1},{x:r,y:o-1},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:r,y:o+l},{width:s,height:1}),e.RGBAImage.copy(a,i,{x:s-1,y:0},{x:r-1,y:o},{width:1,height:l}),e.RGBAImage.copy(a,i,{x:0,y:0},{x:r+s,y:o},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const n of t){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const t=this.images[n];t||e.warnOnce(`Image with ID: "${n}" was not found`),u(t)&&this.updateImage(n,t)}}}const h=1e20;function p(e,t,n,r,i,o,a,s,l){for(let u=t;u<t+r;u++)d(e,n*o+u,o,i,a,s,l);for(let u=n;u<n+i;u++)d(e,u*o+t,1,r,a,s,l)}function d(e,t,n,r,i,o,a){o[0]=0,a[0]=-h,a[1]=h,i[0]=e[t];for(let s=1,l=0,u=0;s<r;s++){i[s]=e[t+s*n];const r=s*s;do{const e=o[l];u=(i[s]-i[e]+r-e*e)/(s-e)/2}while(u<=a[l]&&--l>-1);l++,o[l]=s,a[l]=u,a[l+1]=h}for(let s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;const r=o[l],u=s-r;e[t+s*n]=i[r]+u*u}}class f{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,n){const r=[];for(const e in t)for(const n of t[e])r.push({stack:e,id:n});e.asyncAll(r,(({stack:e,id:t},n)=>{let r=this.entries[e];r||(r=this.entries[e]={glyphs:{},requests:{},ranges:{}});let i=r.glyphs[t];if(void 0!==i)return void n(null,{stack:e,id:t,glyph:i});if(i=this._tinySDF(r,e,t),i)return r.glyphs[t]=i,void n(null,{stack:e,id:t,glyph:i});const o=Math.floor(t/256);if(256*o>65535)return void n(new Error("glyphs > 65535 not supported"));if(r.ranges[o])return void n(null,{stack:e,id:t,glyph:i});let a=r.requests[o];a||(a=r.requests[o]=[],f.loadGlyphRange(e,o,this.url,this.requestManager,((e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t[+e]);r.ranges[o]=!0}for(const n of a)n(e,t);delete r.requests[o]}))),a.push(((r,i)=>{r?n(r):i&&n(null,{stack:e,id:t,glyph:i[t]||null})}))}),((e,t)=>{if(e)n(e);else if(t){const e={};for(const{stack:n,id:r,glyph:i}of t)(e[n]||(e[n]={}))[r]=i&&{id:i.id,bitmap:i.bitmap.clone(),metrics:i.metrics};n(null,e)}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.unicodeBlockLookup["CJK Unified Ideographs"](t)||e.unicodeBlockLookup["Hangul Syllables"](t)||e.unicodeBlockLookup.Hiragana(t)||e.unicodeBlockLookup.Katakana(t))}_tinySDF(t,n,r){const i=this.localIdeographFontFamily;if(!i)return;if(!this._doesCharSupportLocalGlyph(r))return;let o=t.tinySDF;if(!o){let e="400";/bold/i.test(n)?e="900":/medium/i.test(n)?e="500":/light/i.test(n)&&(e="200"),o=t.tinySDF=new f.TinySDF({fontSize:24,buffer:3,radius:8,cutoff:.25,fontFamily:i,fontWeight:e})}const a=o.draw(String.fromCharCode(r));return{id:r,bitmap:new e.AlphaImage({width:a.width||30,height:a.height||30},a.data),metrics:{width:a.glyphWidth||24,height:a.glyphHeight||24,left:a.glyphLeft||0,top:a.glyphTop-27||-8,advance:a.glyphAdvance||24}}}}f.loadGlyphRange=function(t,n,r,i,o){const a=256*n,s=a+255,l=i.transformRequest(r.replace("{fontstack}",t).replace("{range}",`${a}-${s}`),e.ResourceType.Glyphs);e.getArrayBuffer(l,((t,n)=>{if(t)o(t);else if(n){const t={};for(const r of e.parseGlyphPbf(n))t[r.id]=r;o(null,t)}}))},f.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:r=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal"}={}){this.buffer=t,this.cutoff=r,this.radius=n;const s=this.size=e+4*t,l=this._createCanvas(s),u=this.ctx=l.getContext("2d",{willReadFrequently:!0});u.font=`${a} ${o} ${e}px ${i}`,u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.min(this.size-this.buffer,Math.ceil(o-i)),l=Math.min(this.size-this.buffer,a+Math.ceil(r)),u=s+2*this.buffer,c=l+2*this.buffer,d=Math.max(u*c,0),f=new Uint8ClampedArray(d),m={data:f,width:u,height:c,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return m;const{ctx:g,buffer:y,gridInner:v,gridOuter:_}=this;g.clearRect(y,y,s,l),g.fillText(e,y,y+a);const b=g.getImageData(y,y,s,l);_.fill(h,0,d),v.fill(0,0,d);for(let e=0;e<l;e++)for(let t=0;t<s;t++){const n=b.data[4*(e*s+t)+3]/255;if(0===n)continue;const r=(e+y)*u+t+y;if(1===n)_[r]=0,v[r]=h;else{const e=.5-n;_[r]=e>0?e*e:0,v[r]=e<0?e*e:0}}p(_,0,0,u,c,u,this.f,this.v,this.z),p(v,y,y,s,l,u,this.f,this.v,this.z);for(let e=0;e<d;e++){const t=Math.sqrt(_[e])-Math.sqrt(v[e]);f[e]=Math.round(255-255*(t/this.radius+this.cutoff))}return m}};const m=new e.Properties({anchor:new e.DataConstantProperty(e.spec.light.anchor),position:new class{constructor(){this.specification=e.spec.light.position}possiblyEvaluate(t,n){return e.sphericalToCartesian(t.expression.evaluate(n))}interpolate(t,n,r){return{x:e.number(t.x,n.x,r),y:e.number(t.y,n.y,r),z:e.number(t.z,n.z,r)}}},color:new e.DataConstantProperty(e.spec.light.color),intensity:new e.DataConstantProperty(e.spec.light.intensity)}),g="-transition";class y extends e.Evented{constructor(t){super(),this._transitionable=new e.Transitionable(m),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t,n={}){if(!this._validate(e.validateLight,t,n))for(const e in t){const n=t[e];e.endsWith(g)?this._transitionable.setTransition(e.slice(0,-g.length),n):this._transitionable.setValue(e,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,r){return(!r||!1!==r.validate)&&e.emitValidationErrors(this,t.call(e.validateStyle,e.extend({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.spec})))}}class v{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const r=[];let i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let t=1;t<e.length;t++){a=!a;const l=e[t];i=s*n,s+=l,o=s*n,r.push({left:i,right:o,isDash:a,zeroLength:0===l})}return r}addRoundDash(e,t,n){const r=t/2;for(let t=-n;t<=n;t++){const i=this.width*(this.nextRow+n+t);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),u=Math.abs(s-a.right),c=Math.min(l,u);let h;const p=t/n*(r+1);if(a.isDash){const e=r-Math.abs(p);h=Math.sqrt(c*c+e*e)}else h=r-Math.sqrt(c*c+p*p);this.data[i+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e){for(let t=e.length-1;t>=0;--t){const n=e[t],r=e[t+1];n.zeroLength?e.splice(t,1):r&&r.isDash===n.isDash&&(r.left=n.left,e.splice(t,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const r=this.width*this.nextRow;let i=0,o=e[i];for(let t=0;t<this.width;t++){t/o.right>1&&(o=e[++i]);const n=Math.abs(t-o.left),a=Math.abs(t-o.right),s=Math.min(n,a);this.data[r+t]=Math.max(0,Math.min(255,(o.isDash?s:-s)+128))}}addDash(t,n){const r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return e.warnOnce("LineAtlas out of space"),null;let o=0;for(let e=0;e<t.length;e++)o+=t[e];if(0!==o){const e=this.width/o,i=this.getDashRanges(t,this.width,e);n?this.addRoundDash(i,e,r):this.addRegularDash(i)}const a={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:o};return this.nextRow+=i,this.dirty=!0,a}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class _{constructor(t,n){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=e.uniqueId();const r=this.workerPool.acquire(this.id);for(let e=0;e<r.length;e++){const t=new _.Actor(r[e],n,this.id);t.name=`Worker ${e}`,this.actors.push(t)}if(!this.actors.length)throw new Error("No actors found")}broadcast(t,n,r){e.asyncAll(this.actors,((e,r)=>{e.send(t,n,r)}),r=r||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach((e=>{e.remove()})),this.actors=[],this.workerPool.release(this.id)}}function b(t,n,r){const i=function(n,i){if(n)return r(n);if(i){const n=e.pick(e.extend(i,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);i.vector_layers&&(n.vectorLayers=i.vector_layers,n.vectorLayerIds=n.vectorLayers.map((e=>e.id))),r(null,n)}};return t.url?e.getJSON(n.transformRequest(t.url,e.ResourceType.Source),i):e.exported.frame((()=>i(null,t)))}_.Actor=e.Actor;class x{constructor(t,n,r){this.bounds=e.LngLatBounds.convert(this.validateBounds(t)),this.minzoom=n||0,this.maxzoom=r||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),r=Math.floor(e.mercatorXfromLng(this.bounds.getWest())*n),i=Math.floor(e.mercatorYfromLat(this.bounds.getNorth())*n),o=Math.ceil(e.mercatorXfromLng(this.bounds.getEast())*n),a=Math.ceil(e.mercatorYfromLat(this.bounds.getSouth())*n);return t.x>=r&&t.x<o&&t.y>=i&&t.y<a}}class w extends e.Evented{constructor(t,n,r,i){if(super(),this.id=t,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.extend(this,e.pick(n,["url","scheme","tileSize","promoteId"])),this._options=e.extend({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=b(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new x(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i={request:this.map._requestManager.transformRequest(r,e.ResourceType.Tile),uid:t.uid,tileID:t.tileID,zoom:t.tileID.overscaledZ,tileSize:this.tileSize*t.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function o(r,i){return delete t.request,t.aborted?n(null):r&&404!==r.status?n(r):(i&&i.resourceTiming&&(t.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),e.cacheEntryPossiblyAdded(this.dispatcher),n(null),void(t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,t.actor&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=n:t.request=t.actor.send("reloadTile",i,o.bind(this)):(t.actor=this.dispatcher.getActor(),t.request=t.actor.send("loadTile",i,o.bind(this)))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class E extends e.Evented{constructor(t,n,r,i){super(),this.id=t,this.dispatcher=r,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.extend({type:"raster"},n),e.extend(this,e.pick(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=b(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(e.extend(this,n),n.bounds&&(this.tileBounds=new x(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return e.extend({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),((r,i,o)=>{if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(i){this.map._refreshExpiredTiles&&t.setExpiryData(o);const r=this.map.painter.context,a=r.gl;t.texture=this.map.painter.getTileTexture(i.width),t.texture?t.texture.update(i,{useMipmap:!0}):(t.texture=new l(r,i,a.RGBA,{useMipmap:!0}),t.texture.bind(a.LINEAR,a.CLAMP_TO_EDGE,a.LINEAR_MIPMAP_NEAREST),r.extTextureFilterAnisotropic&&a.texParameterf(a.TEXTURE_2D,r.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,r.extTextureFilterAnisotropicMax)),t.state="loaded",e.cacheEntryPossiblyAdded(this.dispatcher),n(null)}}))}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}let S;class C extends E{constructor(t,n,r,i){super(t,n,r,i),this.type="raster-dem",this.maxzoom=22,this._options=e.extend({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox"}serialize(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}}loadTile(t,n){const r=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);function i(e,r){e&&(t.state="errored",n(e)),r&&(t.dem=r,t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0,t.state="loaded",n(null))}t.request=e.getImage(this.map._requestManager.transformRequest(r,e.ResourceType.Tile),function(r,o){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(r)t.state="errored",n(r);else if(o){this.map._refreshExpiredTiles&&t.setExpiryData(o),delete o.cacheControl,delete o.expires;const n=e.isImageBitmap(o)&&(null==S&&(S="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),S)?o:e.exported.getImageData(o,1),r={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:n,encoding:this.encoding};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",r,i.bind(this)))}}.bind(this)),t.neighboringTiles=this._getNeighboringTiles(t.tileID)}_getNeighboringTiles(t){const n=t.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+r)%r,s=n.x+1===r?t.wrap+1:t.wrap,l={};return l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new e.OverscaledTileID(t.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.OverscaledTileID(t.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}class T extends e.Evented{constructor(t,n,r,i){super(),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=r.getActor(),this.setEventedParent(i),this._data=n.data,this._options=e.extend({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const o=e.EXTENT/this.tileSize;this.workerOptions=e.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*o,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*o,extent:e.EXTENT,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.EXTENT,radius:(n.clusterRadius||50)*o,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions)}load(){this._updateWorkerData("metadata")}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData("content"),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,r){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},r),this}_updateWorkerData(t){const n=e.extend({},this.workerOptions),r=this._data;"string"==typeof r?(n.request=this.map._requestManager.transformRequest(e.exported.resolveURL(r),e.ResourceType.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(r),this._pendingLoads++,this.fire(new e.Event("dataloading",{dataType:"source"})),this.actor.send(`${this.type}.loadData`,n,((n,r)=>{if(this._pendingLoads--,this._removed||r&&r.abandoned)return void this.fire(new e.Event("dataabort",{dataType:"source",sourceDataType:t}));let i=null;if(r&&r.resourceTiming&&r.resourceTiming[this.id]&&(i=r.resourceTiming[this.id].slice(0)),n)return void this.fire(new e.ErrorEvent(n));const o={dataType:"source",sourceDataType:t};this._collectResourceTiming&&i&&i.length>0&&e.extend(o,{resourceTiming:i}),this.fire(new e.Event("data",o))}))}loaded(){return 0===this._pendingLoads}loadTile(e,t){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor;const r={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(n,r,((r,i)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):r?t(r):(e.loadVectorData(i,this.map.painter,"reloadTile"===n),t(null)))))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}serialize(){return e.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}}var I=e.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class k extends e.Evented{constructor(e,t,n,r){super(),this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=t}load(t,n){this._loaded=!1,this.fire(new e.Event("dataloading",{dataType:"source"})),this.url=this.options.url,e.getImage(this.map._requestManager.transformRequest(this.url,e.ResourceType.Image),((r,i)=>{this._loaded=!0,r?this.fire(new e.ErrorEvent(r)):i&&(this.image=i,t&&(this.coordinates=t),n&&n(),this._finishLoading())}))}loaded(){return this._loaded}updateImage(e){return this.image&&e.url?(this.options.url=e.url,this.load(e.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}setCoordinates(t){this.coordinates=t;const n=t.map(e.MercatorCoordinate.fromLngLat);this.tileID=function(t){let n=1/0,r=1/0,i=-1/0,o=-1/0;for(const e of t)n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y);const a=Math.max(i-n,o-r),s=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,s);return new e.CanonicalTileID(s,Math.floor((n+i)/2*l),Math.floor((r+o)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z;const r=n.map((e=>this.tileID.getTilePoint(e)._round()));return this._boundsArray=new e.RasterBoundsArray,this._boundsArray.emplaceBack(r[0].x,r[0].y,0,0),this._boundsArray.emplaceBack(r[1].x,r[1].y,e.EXTENT,0),this._boundsArray.emplaceBack(r[3].x,r[3].y,0,e.EXTENT),this._boundsArray.emplaceBack(r[2].x,r[2].y,e.EXTENT,e.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new l(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}class P extends k{constructor(e,t,n,r){super(e,t,n,r),this.roundZoom=!0,this.type="video",this.options=t}load(){this._loaded=!1;const t=this.options;this.urls=[];for(const n of t.urls)this.urls.push(this.map._requestManager.transformRequest(n,e.ResourceType.Source).url);e.getVideo(this.urls,((t,n)=>{this._loaded=!0,t?this.fire(new e.ErrorEvent(t)):n&&(this.video=n,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new l(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class L extends k{constructor(t,n,r,i){super(t,n,r,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.ErrorEvent(new e.ValidationError(`sources.${t}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,r=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,I.members)),this.boundsSegments||(this.boundsSegments=e.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new l(n,this.canvas,r.RGBA,{premultiply:!0});for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const M={vector:w,raster:E,"raster-dem":C,geojson:T,video:P,image:k,canvas:L};function A(t,n){const r=e.create();return e.translate(r,r,[1,1,0]),e.scale(r,r,[.5*t.width,.5*t.height,1]),e.multiply(r,r,t.calculatePosMatrix(n.toUnwrapped()))}function O(e,t,n,r,i,o){const a=function(e,t,n){if(e)for(const r of e){const e=t[r];if(e&&e.source===n&&"fill-extrusion"===e.type)return!0}else for(const e in t){const r=t[e];if(r.source===n&&"fill-extrusion"===r.type)return!0}return!1}(i&&i.layers,t,e.id),s=o.maxPitchScaleFactor(),l=e.tilesIn(r,s,a);l.sort(R);const u=[];for(const r of l)u.push({wrappedTileID:r.tileID.wrapped().key,queryResults:r.tile.queryRenderedFeatures(t,n,e._state,r.queryGeometry,r.cameraQueryGeometry,r.scale,i,o,s,A(e.transform,r.tileID))});const c=function(e){const t={},n={};for(const r of e){const e=r.queryResults,i=r.wrappedTileID,o=n[i]=n[i]||{};for(const n in e){const r=e[n],i=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of r)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(u);for(const t in c)c[t].forEach((t=>{const n=t.feature,r=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}));return c}function R(e,t){const n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}class N{constructor(t,n){this.tileID=t,this.uid=e.uniqueId(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.textures=[],this.textureCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(t){const n=t+this.timeAdded;n<e.exported.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.textures.forEach((t=>e.saveTileTexture(t))),this.demTexture=null,this.textures=[],this.textureCoords={}}loadVectorData(t,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const r of e){const e=r.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=r}}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.SymbolBucket){if(this.hasSymbolBuckets=!0,!r)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.SymbolBucket&&n.hasRTLText){this.hasRTLText=!0,e.lazyLoadRTLTextPlugin();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(e).queryRadius(t))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.CollisionBoxArray}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new l(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new l(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,r,i,o,a,s,l,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:u,transform:s,params:a,queryPadding:this.queryPadding*l},e,t,n):{}}querySourceFeatures(t,n){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const i=r.loadVTLayers(),o=n?n.sourceLayer:"",a=i._geojsonTileLayer||i[o];if(!a)return;const s=e.createFilter(n&&n.filter),{z:l,x:u,y:c}=this.tileID.canonical,h={z:l,x:u,y:c};for(let n=0;n<a.length;n++){const i=a.feature(n);if(s.needGeometry){const t=e.toEvaluationFeature(i,!0);if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!s.filter(new e.EvaluationParameters(this.tileID.overscaledZ),i))continue;const p=r.getId(i,o),d=new e.GeoJSONFeature(i,l,u,c,p);d.tile=h,t.push(d)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const n=this.expirationTime;if(t.cacheControl){const n=e.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(n)if(this.expirationTime<n)t=!0;else{const r=this.expirationTime-n;r?this.expirationTime=e+Math.max(r,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const r in this.buckets){if(!t.style.hasLayer(r))continue;const i=this.buckets[r],o=i.layers[0].sourceLayer||"_geojsonTileLayer",a=n[o],s=e[o];if(!a||!s||0===Object.keys(s).length)continue;i.update(s,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(r);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.exported.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=e.exported.now()+t}setDependencies(e,t){const n={};for(const e of t)n[e]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}}class D{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const i={value:t,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout((()=>{this.remove(e,i)}),n)),this.data[r].push(i),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const r of this.data[n])e(r.value)||t.push(r);for(const e of t)this.remove(e.value.tileID,e)}}class z{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,n,r){const i=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][i]=this.stateChanges[t][i]||{},e.extend(this.stateChanges[t][i],r),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==i&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][i]){this.deletedStates[t][i]={};for(const e in this.state[t][i])r[e]||(this.deletedStates[t][i][e]=null)}else for(const e in r)this.deletedStates[t]&&this.deletedStates[t][i]&&null===this.deletedStates[t][i][e]&&delete this.deletedStates[t][i][e]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}getState(t,n){const r=String(n),i=e.extend({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const e=this.deletedStates[t][n];if(null===e)return{};for(const t in e)delete i[t]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(t,n){const r={};for(const t in this.stateChanges){this.state[t]=this.state[t]||{};const n={};for(const r in this.stateChanges[t])this.state[t][r]||(this.state[t][r]={}),e.extend(this.state[t][r],this.stateChanges[t][r]),n[r]=this.state[t][r];r[t]=n}for(const t in this.deletedStates){this.state[t]=this.state[t]||{};const n={};if(null===this.deletedStates[t])for(const e in this.state[t])n[e]={},this.state[t][e]={};else for(const e in this.deletedStates[t]){if(null===this.deletedStates[t][e])this.state[t][e]={};else for(const n of Object.keys(this.deletedStates[t][e]))delete this.state[t][e][n];n[e]=this.state[t][e]}r[t]=r[t]||{},e.extend(r[t],n)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(const e in t)t[e].setFeatureState(r,n)}}class F extends e.Evented{constructor(t,n,r){super(),this.id=t,this.dispatcher=r,this.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain))})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=function(t,n,r,i){const o=new M[n.type](t,n,r,i);if(o.id!==t)throw new Error(`Expected Source id to be ${t} instead of ${o.id}`);return e.bindAll(["load","abort","unload","serialize","prepare"],o),o}(t,n,r,this),this._tiles={},this._cache=new D(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new z}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,t){return this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(t){this._source.abortTile&&this._source.abortTile(t,(()=>{})),this._source.fire(new e.Event("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(B).map((e=>e.key))}getRenderableIds(t){const n=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&n.push(this._tiles[e]);return t?n.sort(((t,n)=>{const r=t.tileID,i=n.tileID,o=new e.pointGeometry(r.canonical.x,r.canonical.y)._rotate(this.transform.angle),a=new e.pointGeometry(i.canonical.x,i.canonical.y)._rotate(this.transform.angle);return r.overscaledZ-i.overscaledZ||a.y-o.y||a.x-o.x})).map((e=>e.tileID.key)):n.map((e=>e.tileID)).sort(B).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(t,n,r,i){if(i)return t.state="errored",void(404!==i.status?this._source.fire(new e.ErrorEvent(i,{tile:t})):this.update(this.transform,this.terrain));t.timeAdded=e.exported.now(),"expired"===r&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.Event("data",{dataType:"source",tile:t,coord:t.tileID}))}_backfillDEM(e){const t=this.getRenderableIds();for(let r=0;r<t.length;r++){const i=t[r];if(e.neighboringTiles&&e.neighboringTiles[i]){const t=this.getTileByID(i);n(e,t),n(t,e)}}function n(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const r=t.tileID.canonical.y-e.tileID.canonical.y,i=Math.pow(2,e.tileID.canonical.z),o=t.tileID.key;0===n&&0===r||Math.abs(r)>1||(Math.abs(n)>1&&(1===Math.abs(n+i)?n+=i:1===Math.abs(n-i)&&(n-=i)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,r),e.neighboringTiles&&e.neighboringTiles[o]&&(e.neighboringTiles[o].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,r){for(const i in this._tiles){let o=this._tiles[i];if(r[i]||!o.hasData()||o.tileID.overscaledZ<=t||o.tileID.overscaledZ>n)continue;let a=o.tileID;for(;o&&o.tileID.overscaledZ>t+1;){const e=o.tileID.scaledTo(o.tileID.overscaledZ-1);o=this._tiles[e.key],o&&o.hasData()&&(a=e)}let s=a;for(;s.overscaledZ>t;)if(s=s.scaledTo(s.overscaledZ-1),e[s.key]){r[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),r=this._getLoadedTile(t);if(r)return r}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(e){const t=Math.ceil(e.width/this._source.tileSize)+1,n=Math.ceil(e.height/this._source.tileSize)+1,r=Math.floor(t*n*5),i="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(i)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),e[r.tileID.key]=r}this._tiles=e;for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e in this._tiles)this._setTileReloadTimer(e,this._tiles[e])}}update(t,n){if(this.transform=t,this.terrain=n,!this._sourceLoaded||this._paused)return;let r;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?r=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.OverscaledTileID(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(r=t.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n}),this._source.hasTile&&(r=r.filter((e=>this._source.hasTile(e))))):r=[];const i=t.coveringZoomLevel(this._source),o=Math.max(i-F.maxOverzooming,this._source.minzoom),a=Math.max(i+F.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const e={};for(const t of r)if(t.canonical.z>this._source.minzoom){const n=t.scaledTo(t.canonical.z-1);e[n.key]=n;const r=t.scaledTo(Math.max(this._source.minzoom,Math.min(t.canonical.z,5)));e[r.key]=r}r=r.concat(Object.values(e))}const s=this._updateRetainedTiles(r,i);if(j(this._source.type)){const t={},l={},u=Object.keys(s);for(const n of u){const r=s[n],i=this._tiles[n];if(!i||i.fadeEndTime&&i.fadeEndTime<=e.exported.now())continue;const a=this.findLoadedParent(r,o);a&&(this._addTile(a.tileID),t[a.tileID.key]=a.tileID),l[n]=r}this._retainLoadedChildren(l,i,a,s);for(const e in t)s[e]||(this._coveredTiles[e]=!0,s[e]=t[e]);if(n){const e={},t={};for(const n of r)this._tiles[n.key].hasData()?e[n.key]=n:t[n.key]=n;for(const n in t){const r=t[n].children(this._source.maxzoom);this._tiles[r[0].key]&&this._tiles[r[1].key]&&this._tiles[r[2].key]&&this._tiles[r[3].key]&&(e[r[0].key]=s[r[0].key]=r[0],e[r[1].key]=s[r[1].key]=r[1],e[r[2].key]=s[r[2].key]=r[2],e[r[3].key]=s[r[3].key]=r[3],delete t[n])}for(const n in t){const r=this.findLoadedParent(t[n],this._source.minzoom);if(r){e[r.tileID.key]=s[r.tileID.key]=r.tileID;for(const t in e)e[t].isChildOf(r.tileID)&&delete e[t]}}for(const t in this._tiles)e[t]||(this._coveredTiles[t]=!0)}}for(const e in s)this._tiles[e].clearFadeHold();const l=e.keysDifference(this._tiles,s);for(const e of l){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){const n={},r={},i=Math.max(t-F.maxOverzooming,this._source.minzoom),o=Math.max(t+F.maxUnderzooming,this._source.minzoom),a={};for(const r of e){const e=this._addTile(r);n[r.key]=r,e.hasData()||t<this._source.maxzoom&&(a[r.key]=r)}this._retainLoadedChildren(a,t,o,n);for(const o of e){let e=this._tiles[o.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=o.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){n[e.key]=e;continue}}else{const e=o.children(this._source.maxzoom);if(n[e[0].key]&&n[e[1].key]&&n[e[2].key]&&n[e[3].key])continue}let a=e.wasRequested();for(let t=o.overscaledZ-1;t>=i;--t){const i=o.scaledTo(t);if(r[i.key])break;if(r[i.key]=!0,e=this.getTile(i),!e&&a&&(e=this._addTile(i)),e&&(n[i.key]=i,a=e.wasRequested(),e.hasData()))break}}return n}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,r=this._tiles[e].tileID;for(;r.overscaledZ>0;){if(r.key in this._loadedParentTiles){n=this._loadedParentTiles[r.key];break}t.push(r.key);const e=r.scaledTo(r.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;r=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(t){let n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));const r=n;return n||(n=new N(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n.uses++,this._tiles[t.key]=n,r||this._source.fire(new e.Event("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(t,n,r){const i=[],o=this.transform;if(!o)return i;const a=r?o.getCameraQueryGeometry(t):t,s=t.map((e=>o.pointCoordinate(e,this.terrain))),l=a.map((e=>o.pointCoordinate(e,this.terrain))),u=this.getIds();let c=1/0,h=1/0,p=-1/0,d=-1/0;for(const e of l)c=Math.min(c,e.x),h=Math.min(h,e.y),p=Math.max(p,e.x),d=Math.max(d,e.y);for(let t=0;t<u.length;t++){const r=this._tiles[u[t]];if(r.holdingForFade())continue;const a=r.tileID,f=Math.pow(2,o.zoom-r.tileID.overscaledZ),m=n*r.queryPadding*e.EXTENT/r.tileSize/f,g=[a.getTilePoint(new e.MercatorCoordinate(c,h)),a.getTilePoint(new e.MercatorCoordinate(p,d))];if(g[0].x-m<e.EXTENT&&g[0].y-m<e.EXTENT&&g[1].x+m>=0&&g[1].y+m>=0){const e=s.map((e=>a.getTilePoint(e))),t=l.map((e=>a.getTilePoint(e)));i.push({tile:r,tileID:a,queryGeometry:e,cameraQueryGeometry:t,scale:f})}}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const e of t)e.posMatrix=this.transform.calculatePosMatrix(e.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(j(this._source.type))for(const t in this._tiles){const n=this._tiles[t];if(void 0!==n.fadeEndTime&&n.fadeEndTime>=e.exported.now())return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const r=this._tiles[e];r&&r.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}}function B(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function j(e){return"raster"===e||"image"===e||"video"===e}F.maxOverzooming=10,F.maxUnderzooming=3;const Z="mapboxgl_preloaded_worker_pool";class U{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<U.workerCount;)this.workers.push(new Worker(xi.workerUrl));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Z]}numActive(){return Object.keys(this.active).length}}const q=Math.floor(e.exported.hardwareConcurrency/2);let V;function G(){return V||(V=new U),V}function H(t,n){const r={};for(const e in t)"ref"!==e&&(r[e]=t[e]);return e.refProperties.forEach((e=>{e in n&&(r[e]=n[e])})),r}function W(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=H(e[n],t[e[n].ref]));return e}U.workerCount=Math.max(Math.min(q,6),1);const $={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function X(e,t,n){n.push({command:$.addSource,args:[e,t[e]]})}function Y(e,t,n){t.push({command:$.removeSource,args:[e]}),n[e]=!0}function K(e,t,n,r){Y(e,n,r),X(e,t,n)}function J(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!i(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!i(e[n][r],t[n][r]))return!1;return!0}function Q(e,t,n,r,o,a){let s;for(s in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||n.push({command:a,args:[r,s,t[s],o]}));for(s in t)Object.prototype.hasOwnProperty.call(t,s)&&!Object.prototype.hasOwnProperty.call(e,s)&&(i(e[s],t[s])||n.push({command:a,args:[r,s,t[s],o]}))}function ee(e){return e.id}function te(e,t){return e[t.id]=t,e}class ne{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let e=1;e<this.points.length;e++)this._distances[e]=this._distances[e-1]+this.points[e].dist(this.points[e-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.clamp(t,0,1);let n=1,r=this._distances[n];const i=t*this.paddedLength+this.padding;for(;r<i&&n<this._distances.length;)r=this._distances[++n];const o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}function re(e,t){let n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}class ie{constructor(e,t,n){const r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let e=0;e<this.xCellCount*this.yCellCount;e++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}insertCircle(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}_insertBoxCell(e,t,n,r,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,n,r,i,o){this.circleCells[i].push(o)}_query(e,t,n,r,i,o,a){if(n<0||e>this.width||r<0||t>this.height)return[];const s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return[{key:null,x1:e,y1:t,x2:n,y2:r}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],r=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-r,y1:n-r,x2:t+r,y2:n+r})}}else this._forEachCell(e,t,n,r,this._queryCell,s,{hitTest:i,overlapMode:o,seenUids:{box:{},circle:{}}},a);return s}query(e,t,n,r){return this._query(e,t,n,r,!1,null)}hitTest(e,t,n,r,i,o){return this._query(e,t,n,r,!0,i,o).length>0}hitTestCircle(e,t,n,r,i){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!1;const u=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,u,{hitTest:!0,overlapMode:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),u.length>0}_queryCell(e,t,n,r,i,o,a,s){const{seenUids:l,hitTest:u,overlapMode:c}=a,h=this.boxCells[i];if(null!==h){const i=this.bboxes;for(const a of h)if(!l.box[a]){l.box[a]=!0;const h=4*a,p=this.boxKeys[a];if(e<=i[h+2]&&t<=i[h+3]&&n>=i[h+0]&&r>=i[h+1]&&(!s||s(p))&&(!u||!re(c,p.overlapMode))&&(o.push({key:p,x1:i[h],y1:i[h+1],x2:i[h+2],y2:i[h+3]}),u))return!0}}const p=this.circleCells[i];if(null!==p){const i=this.circles;for(const a of p)if(!l.circle[a]){l.circle[a]=!0;const h=3*a,p=this.circleKeys[a];if(this._circleAndRectCollide(i[h],i[h+1],i[h+2],e,t,n,r)&&(!s||s(p))&&(!u||!re(c,p.overlapMode))){const e=i[h],t=i[h+1],n=i[h+2];if(o.push({key:p,x1:e-n,y1:t-n,x2:e+n,y2:t+n}),u)return!0}}}return!1}_queryCellCircle(e,t,n,r,i,o,a,s){const{circle:l,seenUids:u,overlapMode:c}=a,h=this.boxCells[i];if(null!==h){const e=this.bboxes;for(const t of h)if(!u.box[t]){u.box[t]=!0;const n=4*t,r=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(r))&&!re(c,r.overlapMode))return o.push(!0),!0}}const p=this.circleCells[i];if(null!==p){const e=this.circles;for(const t of p)if(!u.circle[t]){u.circle[t]=!0;const n=3*t,r=this.circleKeys[t];if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(r))&&!re(c,r.overlapMode))return o.push(!0),!0}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToXCellCoord(e),u=this._convertToYCellCoord(t),c=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r);for(let p=l;p<=c;p++)for(let l=u;l<=h;l++)if(i.call(this,e,t,n,r,this.xCellCount*l+p,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,r,i,o){const a=r-e,s=i-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,r,i,o,a){const s=(o-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;const u=(a-i)/2,c=Math.abs(t-(i+u));if(c>u+n)return!1;if(l<=s||c<=u)return!0;const h=l-s,p=c-u;return h*h+p*p<=n*n}}function oe(t,n,r,i,o){const a=e.create();return n?(e.scale(a,a,[1/o,1/o,1]),r||e.rotateZ(a,a,i.angle)):e.multiply(a,i.labelPlaneMatrix,t),a}function ae(t,n,r,i,o){if(n){const n=e.clone(t);return e.scale(n,n,[o,o,1]),r||e.rotateZ(n,n,-i.angle),n}return i.glCoordMatrix}function se(t,n,r){let i;r?(i=[t.x,t.y,r(t.x,t.y),1],e.transformMat4(i,i,n)):(i=[t.x,t.y,0,1],ve(i,i,n));const o=i[3];return{point:new e.pointGeometry(i[0]/o,i[1]/o),signedDistanceFromCamera:o}}function le(e,t){return.5+e/t*.5}function ue(e,t){const n=e[0]/e[3],r=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&r>=-t[1]&&r<=t[1]}function ce(t,n,r,i,o,a,s,l,u,c){const h=i?t.textSizeData:t.iconSizeData,p=e.evaluateSizeForZoom(h,r.transform.zoom),d=[256/r.width*2+1,256/r.height*2+1],f=i?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();const m=t.lineVertexArray,g=i?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=r.transform.width/r.transform.height;let v=!1;for(let i=0;i<g.length;i++){const _=g.get(i);if(_.hidden||_.writingMode===e.WritingMode.vertical&&!v){ye(_.numGlyphs,f);continue}let b;if(v=!1,c?(b=[_.anchorX,_.anchorY,c(_.anchorX,_.anchorY),1],e.transformMat4(b,b,n)):(b=[_.anchorX,_.anchorY,0,1],ve(b,b,n)),!ue(b,d)){ye(_.numGlyphs,f);continue}const x=le(r.transform.cameraToCenterDistance,b[3]),w=e.evaluateSizeForFeature(h,p,_),E=s?w/x:w*x,S=new e.pointGeometry(_.anchorX,_.anchorY),C=se(S,o,c).point,T={},I=de(_,E,!1,l,n,o,a,t.glyphOffsetArray,m,f,C,S,T,y,u,c);v=I.useVertical,(I.notEnoughRoom||v||I.needsFlipping&&de(_,E,!0,l,n,o,a,t.glyphOffsetArray,m,f,C,S,T,y,u,c).notEnoughRoom)&&ye(_.numGlyphs,f)}i?t.text.dynamicLayoutVertexBuffer.updateData(f):t.icon.dynamicLayoutVertexBuffer.updateData(f)}function he(e,t,n,r,i,o,a,s,l,u,c,h,p){const d=s.glyphStartIndex+s.numGlyphs,f=s.lineStartIndex,m=s.lineStartIndex+s.lineLength,g=t.getoffsetX(s.glyphStartIndex),y=t.getoffsetX(d-1),v=me(e*g,n,r,i,o,a,s.segment,f,m,l,u,c,h,p);if(!v)return null;const _=me(e*y,n,r,i,o,a,s.segment,f,m,l,u,c,h,p);return _?{first:v,last:_}:null}function pe(t,n,r,i){return t===e.WritingMode.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(t===e.WritingMode.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function de(t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g){const y=n/24,v=t.lineOffsetX*y,_=t.lineOffsetY*y;let b;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,n=t.lineStartIndex,o=t.lineStartIndex+t.lineLength,c=he(y,l,v,_,r,h,p,t,u,a,d,m,g);if(!c)return{notEnoughRoom:!0};const x=se(c.first.point,s,g).point,w=se(c.last.point,s,g).point;if(i&&!r){const e=pe(t.writingMode,x,w,f);if(e)return e}b=[c.first];for(let i=t.glyphStartIndex+1;i<e-1;i++)b.push(me(y*l.getoffsetX(i),v,_,r,h,p,t.segment,n,o,u,a,d,m,g));b.push(c.last)}else{if(i&&!r){const n=se(p,o,g).point,r=t.lineStartIndex+t.segment+1,i=new e.pointGeometry(u.getx(r),u.gety(r)),a=se(i,o,g),s=a.signedDistanceFromCamera>0?a.point:fe(p,i,n,1,o,g),l=pe(t.writingMode,n,s,f);if(l)return l}const n=me(y*l.getoffsetX(t.glyphStartIndex),v,_,r,h,p,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,u,a,d,m,g);if(!n)return{notEnoughRoom:!0};b=[n]}for(const t of b)e.addDynamicAttributes(c,t.point,t.angle);return{}}function fe(e,t,n,r,i,o){const a=se(e.add(e.sub(t)._unit()),i,o).point,s=n.sub(a);return n.add(s._mult(r/s.mag()))}function me(t,n,r,i,o,a,s,l,u,c,h,p,d,f){const m=i?t-n:t+n;let g=m>0?1:-1,y=0;i&&(g*=-1,y=Math.PI),g<0&&(y+=Math.PI);let v=g>0?l+s:l+s+1,_=o,b=o,x=0,w=0;const E=Math.abs(m),S=[];for(;x+w<=E;){if(v+=g,v<l||v>=u)return null;if(b=_,S.push(_),_=p[v],void 0===_){const t=new e.pointGeometry(c.getx(v),c.gety(v)),n=se(t,h,f);if(n.signedDistanceFromCamera>0)_=p[v]=n.point;else{const n=v-g;_=fe(0===x?a:new e.pointGeometry(c.getx(n),c.gety(n)),t,b,E-x+1,h,f)}}x+=w,w=b.dist(_)}const C=(E-x)/w,T=_.sub(b),I=T.mult(C)._add(b);I._add(T._unit()._perp()._mult(r*g));const k=y+Math.atan2(_.y-b.y,_.x-b.x);return S.push(I),{point:I,angle:d?k:0,path:S}}const ge=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function ye(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(ge,3*e)}}function ve(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}const _e=100;class be{constructor(e,t=new ie(e.width+200,e.height+200,25),n=new ie(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+_e,this.screenBottomBoundary=e.height+_e,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,n,r,i,o){const a=this.projectAndGetPerspectiveRatio(r,e.anchorPointX,e.anchorPointY,o),s=n*a.perspectiveRatio,l=e.x1*s+a.point.x,u=e.y1*s+a.point.y,c=e.x2*s+a.point.x,h=e.y2*s+a.point.y;return!this.isInsideGrid(l,u,c,h)||"always"!==t&&this.grid.hitTest(l,u,c,h,t,i)||a.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[l,u,c,h],offscreen:this.isOffscreen(l,u,c,h)}}placeCollisionCircles(t,n,r,i,o,a,s,l,u,c,h,p,d,f){const m=[],g=new e.pointGeometry(n.anchorX,n.anchorY),y=se(g,a,f),v=le(this.transform.cameraToCenterDistance,y.signedDistanceFromCamera),_=(c?o/v:o*v)/e.ONE_EM,b=se(g,s,f).point,x=he(_,i,n.lineOffsetX*_,n.lineOffsetY*_,!1,b,g,n,r,s,{},!1,f);let w=!1,E=!1,S=!0;if(x){const n=.5*p*v+d,r=new e.pointGeometry(-100,-100),i=new e.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),o=new ne,a=x.first,s=x.last;let c=[];for(let e=a.path.length-1;e>=1;e--)c.push(a.path[e]);for(let e=1;e<s.path.length;e++)c.push(s.path[e]);const g=2.5*n;if(l){const e=c.map((e=>se(e,l,f)));c=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point))}let y=[];if(c.length>0){const t=c[0].clone(),n=c[0].clone();for(let e=1;e<c.length;e++)t.x=Math.min(t.x,c[e].x),t.y=Math.min(t.y,c[e].y),n.x=Math.max(n.x,c[e].x),n.y=Math.max(n.y,c[e].y);y=t.x>=r.x&&n.x<=i.x&&t.y>=r.y&&n.y<=i.y?[c]:n.x<r.x||t.x>i.x||n.y<r.y||t.y>i.y?[]:e.clipLine([c],r.x,r.y,i.x,i.y)}for(const e of y){o.reset(e,.25*n);let r=0;r=o.length<=.5*n?1:Math.ceil(o.paddedLength/g)+1;for(let e=0;e<r;e++){const i=e/Math.max(r-1,1),a=o.lerp(i),s=a.x+_e,l=a.y+_e;m.push(s,l,n,0);const c=s-n,p=l-n,d=s+n,f=l+n;if(S=S&&this.isOffscreen(c,p,d,f),E=E||this.isInsideGrid(c,p,d,f),"always"!==t&&this.grid.hitTestCircle(s,l,n,t,h)&&(w=!0,!u))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!u&&w||!E||v<this.perspectiveRatioCutoff?[]:m,offscreen:S,collisionDetected:w}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let r=1/0,i=1/0,o=-1/0,a=-1/0;for(const s of t){const t=new e.pointGeometry(s.x+_e,s.y+_e);r=Math.min(r,t.x),i=Math.min(i,t.y),o=Math.max(o,t.x),a=Math.max(a,t.y),n.push(t)}const s=this.grid.query(r,i,o,a).concat(this.ignoredGrid.query(r,i,o,a)),l={},u={};for(const t of s){const r=t.key;if(void 0===l[r.bucketInstanceId]&&(l[r.bucketInstanceId]={}),l[r.bucketInstanceId][r.featureIndex])continue;const i=[new e.pointGeometry(t.x1,t.y1),new e.pointGeometry(t.x2,t.y1),new e.pointGeometry(t.x2,t.y2),new e.pointGeometry(t.x1,t.y2)];e.polygonIntersectsPolygon(n,i)&&(l[r.bucketInstanceId][r.featureIndex]=!0,void 0===u[r.bucketInstanceId]&&(u[r.bucketInstanceId]=[]),u[r.bucketInstanceId].push(r.featureIndex))}return u}insertCollisionBox(e,t,n,r,i,o){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,r,i,o){const a=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:t};for(let t=0;t<e.length;t+=4)a.insertCircle(s,e[t],e[t+1],e[t+2])}projectAndGetPerspectiveRatio(t,n,r,i){let o;return i?(o=[n,r,i(n,r),1],e.transformMat4(o,o,t)):(o=[n,r,0,1],ve(o,o,t)),{point:new e.pointGeometry((o[0]/o[3]+1)/2*this.transform.width+_e,(-o[1]/o[3]+1)/2*this.transform.height+_e),perspectiveRatio:.5+this.transform.cameraToCenterDistance/o[3]*.5}}isOffscreen(e,t,n,r){return n<_e||e>=this.screenRightBoundary||r<_e||t>this.screenBottomBoundary}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.identity([]);return e.translate(t,t,[-100,-100,0]),t}}function xe(t,n,r){return n*(e.EXTENT/(t.tileSize*Math.pow(2,r-t.tileID.overscaledZ)))}class we{constructor(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class Ee{constructor(e,t,n,r,i){this.text=new we(e?e.text:null,t,n,i),this.icon=new we(e?e.icon:null,t,r,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Se{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class Ce{constructor(){this.invProjMatrix=e.create(),this.viewportMatrix=e.create(),this.circles=[]}}class Te{constructor(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}}class Ie{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function ke(t,n,r,i,o){const{horizontalAlign:a,verticalAlign:s}=e.getAnchorAlignment(t),l=-(a-.5)*n,u=-(s-.5)*r,c=e.evaluateVariableOffset(t,i);return new e.pointGeometry(l+c[0]*o,u+c[1]*o)}function Pe(t,n,r,i,o,a){const{x1:s,x2:l,y1:u,y2:c,anchorPointX:h,anchorPointY:p}=t,d=new e.pointGeometry(n,r);return i&&d._rotate(o?a:-a),{x1:s+d.x,y1:u+d.y,x2:l+d.x,y2:c+d.y,anchorPointX:h,anchorPointY:p}}class Le{constructor(e,t,n,r,i){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new be(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Ie(r),this.collisionCircleArrays={},this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,r,i){const o=r.getBucket(n),a=r.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=r.collisionBoxArray,l=o.layers[0].layout,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),c=r.tileSize/e.EXTENT,h=this.transform.calculatePosMatrix(r.tileID.toUnwrapped()),p="map"===l.get("text-pitch-alignment"),d="map"===l.get("text-rotation-alignment"),f=xe(r,1,this.transform.zoom),m=oe(h,p,d,this.transform,f);let g=null;if(p){const t=ae(h,p,d,this.transform,f);g=e.multiply([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[o.bucketInstanceId]=new Te(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);const y={bucket:o,layout:l,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:u,textPixelRatio:c,holdingForFade:r.holdingForFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:e.evaluateSizeForZoom(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const e of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i}=e;t.push({sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:y})}attemptAnchorPlacement(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m){const g=[h.textOffset0,h.textOffset1],y=ke(e,n,r,g,i),v=this.collisionIndex.placeCollisionBox(Pe(t,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate,m);if((!f||0!==this.collisionIndex.placeCollisionBox(Pe(f,y.x,y.y,o,a,this.transform.angle),c,s,l,u.predicate,m).box.length)&&v.box.length>0){let t;if(this.prevPlacement&&this.prevPlacement.variableOffsets[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID]&&this.prevPlacement.placements[h.crossTileID].text&&(t=this.prevPlacement.variableOffsets[h.crossTileID].anchor),0===h.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[h.crossTileID]={textOffset:g,width:n,height:r,anchor:e,textBoxScale:i,prevAnchor:t},this.markUsedJustification(p,e,h,d),p.allowVerticalPlacement&&(this.markUsedOrientation(p,d,h),this.placedOrientations[h.crossTileID]=d),{shift:y,placedGlyphBoxes:v}}}placeLayerBucketPart(t,n,r){const{bucket:i,layout:o,posMatrix:a,textLabelPlaneMatrix:s,labelToScreenMatrix:l,textPixelRatio:u,holdingForFade:c,collisionBoxArray:h,partiallyEvaluatedTextSize:p,collisionGroup:d}=t.parameters,f=o.get("text-optional"),m=o.get("icon-optional"),g=e.getOverlapMode(o,"text-overlap","text-allow-overlap"),y="always"===g,v=e.getOverlapMode(o,"icon-overlap","icon-allow-overlap"),_="always"===v,b="map"===o.get("text-rotation-alignment"),x="map"===o.get("text-pitch-alignment"),w="none"!==o.get("icon-text-fit"),E="viewport-y"===o.get("symbol-z-order"),S=y&&(_||!i.hasIconData()||m),C=_&&(y||!i.hasTextData()||f);!i.collisionArrays&&h&&i.deserializeCollisionBoxes(h);const T=(t,h)=>{if(n[t.crossTileID])return;if(c)return void(this.placements[t.crossTileID]=new Se(!1,!1,!1));let _=!1,E=!1,T=!0,I=null,k={box:null,offscreen:null},P={box:null,offscreen:null},L=null,M=null,A=null,O=0,R=0,N=0;h.textFeatureIndex?O=h.textFeatureIndex:t.useRuntimeCollisionCircles&&(O=t.featureIndex),h.verticalTextFeatureIndex&&(R=h.verticalTextFeatureIndex);const D=this.retainedQueryData[i.bucketInstanceId].tileID,z=this.terrain?(e,t)=>this.terrain.getElevation(D,e,t):null;for(const e of["textBox","verticalTextBox","iconBox","verticalIconBox"]){const t=h[e];t&&(t.elevation=z?z(t.anchorPointX,t.anchorPointY):0)}const F=h.textBox;if(F){const n=n=>{let r=e.WritingMode.horizontal;if(i.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,r=e,this.markUsedOrientation(i,r,t))}return r},r=(n,r)=>{if(i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&h.verticalTextBox){for(const t of i.writingModes)if(t===e.WritingMode.vertical?(k=r(),P=k):k=n(),k&&k.box&&k.box.length)break}else k=n()};if(o.get("text-variable-anchor")){let s=o.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[t.crossTileID]){const e=this.prevPlacement.variableOffsets[t.crossTileID];s.indexOf(e.anchor)>0&&(s=s.filter((t=>t!==e.anchor)),s.unshift(e.anchor))}const l=(e,n,r)=>{const o=e.x2-e.x1,l=e.y2-e.y1,c=t.textBoxScale,h=w&&"never"===v?n:null;let p={box:[],offscreen:!1};const f="never"!==g?2*s.length:s.length;for(let n=0;n<f;++n){const f=this.attemptAnchorPlacement(s[n%s.length],e,o,l,c,b,x,u,a,d,n>=s.length?g:"never",t,i,r,h,z);if(f&&(p=f.placedGlyphBoxes,p&&p.box&&p.box.length)){_=!0,I=f.shift;break}}return p};r((()=>l(F,h.iconBox,e.WritingMode.horizontal)),(()=>{const n=h.verticalTextBox;return i.allowVerticalPlacement&&!(k&&k.box&&k.box.length)&&t.numVerticalGlyphVertices>0&&n?l(n,h.verticalIconBox,e.WritingMode.vertical):{box:null,offscreen:null}})),k&&(_=k.box,T=k.offscreen);const c=n(k&&k.box);if(!_&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(i,e.anchor,t,c))}}else{const o=(e,n)=>{const r=this.collisionIndex.placeCollisionBox(e,g,u,a,d.predicate,z);return r&&r.box&&r.box.length&&(this.markUsedOrientation(i,n,t),this.placedOrientations[t.crossTileID]=n),r};r((()=>o(F,e.WritingMode.horizontal)),(()=>{const n=h.verticalTextBox;return i.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?o(n,e.WritingMode.vertical):{box:null,offscreen:null}})),n(k&&k.box&&k.box.length)}}if(L=k,_=L&&L.box&&L.box.length>0,T=L&&L.offscreen,t.useRuntimeCollisionCircles){const n=i.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),u=e.evaluateSizeForFeature(i.textSizeData,p,n),c=o.get("text-padding");M=this.collisionIndex.placeCollisionCircles(g,n,i.lineVertexArray,i.glyphOffsetArray,u,a,s,l,r,x,d.predicate,t.collisionCircleDiameter,c,z),M.circles.length&&M.collisionDetected&&!r&&e.warnOnce("Collisions detected, but collision boxes are not shown"),_=y||M.circles.length>0&&!M.collisionDetected,T=T&&M.offscreen}if(h.iconFeatureIndex&&(N=h.iconFeatureIndex),h.iconBox){const e=e=>{const t=w&&I?Pe(e,I.x,I.y,b,x,this.transform.angle):e;return this.collisionIndex.placeCollisionBox(t,v,u,a,d.predicate,z)};P&&P.box&&P.box.length&&h.verticalIconBox?(A=e(h.verticalIconBox),E=A.box.length>0):(A=e(h.iconBox),E=A.box.length>0),T=T&&A.offscreen}const B=f||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,j=m||0===t.numIconVertices;if(B||j?j?B||(E=E&&_):_=E&&_:E=_=E&&_,_&&L&&L.box&&this.collisionIndex.insertCollisionBox(L.box,g,o.get("text-ignore-placement"),i.bucketInstanceId,P&&P.box&&R?R:O,d.ID),E&&A&&this.collisionIndex.insertCollisionBox(A.box,v,o.get("icon-ignore-placement"),i.bucketInstanceId,N,d.ID),M&&(_&&this.collisionIndex.insertCollisionCircles(M.circles,g,o.get("text-ignore-placement"),i.bucketInstanceId,O,d.ID),r)){const e=i.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Ce);for(let e=0;e<M.circles.length;e+=4)t.circles.push(M.circles[e+0]),t.circles.push(M.circles[e+1]),t.circles.push(M.circles[e+2]),t.circles.push(M.collisionDetected?1:0)}if(0===t.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===i.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[t.crossTileID]=new Se(_||S,E||C,T||i.justReloaded),n[t.crossTileID]=!0};if(E){if(0!==t.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const e=i.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];T(i.symbolInstances.get(n),i.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)T(i.symbolInstances.get(e),i.collisionArrays[e]);if(r&&i.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[i.bucketInstanceId];e.invert(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}i.justReloaded=!1}markUsedJustification(t,n,r,i){let o;o=i===e.WritingMode.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[e.getAnchorJustification(n)];const a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=o>=0&&e!==o?0:r.crossTileID)}markUsedOrientation(t,n,r){const i=n===e.WritingMode.horizontal||n===e.WritingMode.horizontalOnly?n:0,o=n===e.WritingMode.vertical?n:0,a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const e in this.placements){const t=this.placements[e],o=i[e];o?(this.opacities[e]=new Ee(o,r,t.text,t.icon),n=n||t.text!==o.text.placed||t.icon!==o.icon.placed):(this.opacities[e]=new Ee(null,r,t.text,t.icon,t.skipFade),n=n||t.text||t.icon)}for(const e in i){const t=i[e];if(!this.opacities[e]){const i=new Ee(t,r,!1,!1);i.isHidden()||(this.opacities[e]=i,n=n||t.text.placed||t.icon.placed)}}for(const e in o)this.variableOffsets[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.variableOffsets[e]=o[e]);for(const e in a)this.placedOrientations[e]||!this.opacities[e]||this.opacities[e].isHidden()||(this.placedOrientations[e]=a[e]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,r.collisionBoxArray)}}updateBucketOpacities(t,n,r){t.hasTextData()&&t.text.opacityVertexArray.clear(),t.hasIconData()&&t.icon.opacityVertexArray.clear(),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const i=t.layers[0].layout,o=new Ee(null,0,!1,!1,!0),a=i.get("text-allow-overlap"),s=i.get("icon-allow-overlap"),l=i.get("text-variable-anchor"),u="map"===i.get("text-rotation-alignment"),c="map"===i.get("text-pitch-alignment"),h="none"!==i.get("icon-text-fit"),p=new Ee(null,0,a&&(s||!t.hasIconData()||i.get("icon-optional")),s&&(a||!t.hasTextData()||i.get("text-optional")),!0);!t.collisionArrays&&r&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(r);const d=(e,t,n)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n)};for(let r=0;r<t.symbolInstances.length;r++){const i=t.symbolInstances.get(r),{numHorizontalGlyphVertices:a,numVerticalGlyphVertices:s,crossTileID:f}=i;let m=this.opacities[f];n[f]?m=o:m||(m=p,this.opacities[f]=m),n[f]=!0;const g=i.numIconVertices>0,y=this.placedOrientations[i.crossTileID],v=y===e.WritingMode.vertical,_=y===e.WritingMode.horizontal||y===e.WritingMode.horizontalOnly;if(a>0||s>0){const e=Be(m.text);d(t.text,a,v?je:e),d(t.text,s,_?je:e);const n=m.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=n||v?1:0)})),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=n||_?1:0);const r=this.variableOffsets[i.crossTileID];r&&this.markUsedJustification(t,r.anchor,i,y);const o=this.placedOrientations[i.crossTileID];o&&(this.markUsedJustification(t,"left",i,o),this.markUsedOrientation(t,o,i))}if(g){const e=Be(m.icon),n=!(h&&i.verticalPlacedIconSymbolIndex&&v);i.placedIconSymbolIndex>=0&&(d(t.icon,i.numIconVertices,n?e:je),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=m.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(d(t.icon,i.numVerticalIconVertices,n?je:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=m.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[r];if(n){let r=new e.pointGeometry(0,0);if(n.textBox||n.verticalTextBox){let e=!0;if(l){const t=this.variableOffsets[f];t?(r=ke(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),u&&r._rotate(c?this.transform.angle:-this.transform.angle)):e=!1}n.textBox&&Me(t.textCollisionBox.collisionVertexArray,m.text.placed,!e||v,r.x,r.y),n.verticalTextBox&&Me(t.textCollisionBox.collisionVertexArray,m.text.placed,!e||_,r.x,r.y)}const i=Boolean(!_&&n.verticalIconBox);n.iconBox&&Me(t.iconCollisionBox.collisionVertexArray,m.icon.placed,i,h?r.x:0,h?r.y:0),n.verticalIconBox&&Me(t.iconCollisionBox.collisionVertexArray,m.icon.placed,!i,h?r.x:0,h?r.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${t.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${t.text.layoutVertexArray.length}) / 4`);if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${t.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${t.icon.layoutVertexArray.length}) / 4`);if(t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function Me(e,t,n,r,i){e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0),e.emplaceBack(t?1:0,n?1:0,r||0,i||0)}const Ae=Math.pow(2,25),Oe=Math.pow(2,24),Re=Math.pow(2,17),Ne=Math.pow(2,16),De=Math.pow(2,9),ze=Math.pow(2,8),Fe=Math.pow(2,1);function Be(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*Ae+t*Oe+n*Re+t*Ne+n*De+t*ze+n*Fe+t}const je=0;class Ze{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,r,i){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}class Ue{constructor(e,t,n,r,i,o,a,s){this.placement=new Le(e,t,o,a,s),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(t,n,r){const i=e.exported.now(),o=()=>{const t=e.exported.now()-i;return!this._forceFullPlacement&&t>2};for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],i=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=i)&&(!e.maxzoom||e.maxzoom>i)){if(this._inProgressLayer||(this._inProgressLayer=new Ze(e)),this._inProgressLayer.continuePlacement(r[e.source],this.placement,this._showCollisionBoxes,e,o))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const qe=512/e.EXTENT/2;class Ve{constructor(e,t,n){this.tileID=e,this.indexedSymbolInstances={},this.bucketInstanceId=n;for(let n=0;n<t.length;n++){const r=t.get(n),i=r.key;this.indexedSymbolInstances[i]||(this.indexedSymbolInstances[i]=[]),this.indexedSymbolInstances[i].push({crossTileID:r.crossTileID,coord:this.getScaledCoordinates(r,e)})}}getScaledCoordinates(t,n){const r=qe/Math.pow(2,n.canonical.z-this.tileID.canonical.z);return{x:Math.floor((n.canonical.x*e.EXTENT+t.anchorX)*r),y:Math.floor((n.canonical.y*e.EXTENT+t.anchorY)*r)}}findMatches(e,t,n){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const o=e.get(i);if(o.crossTileID)continue;const a=this.indexedSymbolInstances[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);for(const e of a)if(Math.abs(e.coord.x-s.x)<=r&&Math.abs(e.coord.y-s.y)<=r&&!n[e.crossTileID]){n[e.crossTileID]=!0,o.crossTileID=e.crossTileID;break}}}}class Ge{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class He{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const e in this.indexes){const n=this.indexes[e],r={};for(const e in n){const i=n[e];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}this.indexes[e]=r}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let e=0;e<t.symbolInstances.length;e++)t.symbolInstances.get(e).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const r=this.usedCrossTileIDs[e.overscaledZ];for(const n in this.indexes){const i=this.indexes[n];if(Number(n)>e.overscaledZ)for(const n in i){const o=i[n];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,r)}else{const o=i[e.scaledTo(Number(n)).key];o&&o.findMatches(t.symbolInstances,e,r)}}for(let e=0;e<t.symbolInstances.length;e++){const i=t.symbolInstances.get(e);i.crossTileID||(i.crossTileID=n.generate(),r[i.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Ve(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n in t.indexedSymbolInstances)for(const r of t.indexedSymbolInstances[n])delete this.usedCrossTileIDs[e][r.crossTileID]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const r=this.indexes[n];for(const i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}class We{constructor(){this.layerIndexes={},this.crossTileIDs=new Ge,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new He);let i=!1;const o={};r.handleWrapJump(n);for(const n of t){const t=n.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(n.tileID,t,this.crossTileIDs)&&(i=!0),o[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const e in this.layerIndexes)t[e]||delete this.layerIndexes[e]}}var $e=e.createLayout([{name:"a_pos",type:"Int16",components:2}]);class Xe extends e.Evented{constructor(e){super(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.renderHistory=[],this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,this.renderHistorySize=e._cache.max,e.usedForTerrain=!0,e.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null;for(const e in this._tiles){const t=this._tiles[e];t.textures.forEach((e=>e.destroy())),t.textures=[]}}update(t,n){this.sourceCache.update(t,n),this._renderableTilesKeys=[];for(const r of t.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n}))this._renderableTilesKeys.push(r.key),this._tiles[r.key]||(r.posMatrix=new Float64Array(16),e.ortho(r.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),this._tiles[r.key]=new N(r,this.tileSize))}removeOutdated(e){const t={};this.renderHistory=this.renderHistory.filter(((e,t)=>this.renderHistory.indexOf(e)===t)).slice(0,this.renderHistorySize);for(const e of this._renderableTilesKeys)t[e]=!0;for(const e of this.renderHistory)t[e]=!0;for(const n in this._tiles)t[n]||(this._tiles[n].clearTextures(e),delete this._tiles[n])}getRenderableTiles(){return this._renderableTilesKeys.map((e=>this.getTileByID(e)))}getTileByID(e){return this._tiles[e]}getTerrainCoords(t){const n={};for(const r of this._renderableTilesKeys){const i=this._tiles[r].tileID;if(i.canonical.equals(t.canonical)){const i=t.clone();i.posMatrix=new Float64Array(16),e.ortho(i.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),n[r]=i}else if(i.canonical.isChildOf(t.canonical)){const o=t.clone();o.posMatrix=new Float64Array(16);const a=i.canonical.z-t.canonical.z,s=i.canonical.x-(i.canonical.x>>a<<a),l=i.canonical.y-(i.canonical.y>>a<<a),u=e.EXTENT>>a;e.ortho(o.posMatrix,0,u,0,u,0,1),e.translate(o.posMatrix,o.posMatrix,[-s*u,-l*u,0]),n[r]=o}else if(t.canonical.isChildOf(i.canonical)){const o=t.clone();o.posMatrix=new Float64Array(16);const a=t.canonical.z-i.canonical.z,s=t.canonical.x-(t.canonical.x>>a<<a),l=t.canonical.y-(t.canonical.y>>a<<a),u=e.EXTENT>>a;e.ortho(o.posMatrix,0,e.EXTENT,0,e.EXTENT,0,1),e.translate(o.posMatrix,o.posMatrix,[s*u,l*u,0]),e.scale(o.posMatrix,o.posMatrix,[1/2**a,1/2**a,0]),n[r]=o}}return n}getSourceTile(e,t){const n=this.sourceCache._source;let r=e.overscaledZ-this.deltaZoom;if(r>n.maxzoom&&(r=n.maxzoom),r<n.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(r).key);let i=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!i||!i.dem)&&t)for(;r>=n.minzoom&&(!i||!i.dem);)i=this.sourceCache.getTileByID(e.scaledTo(r--).key);return i}tilesAfterTime(e=Date.now()){return Object.values(this._tiles).filter((t=>t.timeLoaded>=e))}}class Ye{constructor(e,t,n){this.style=e,this.sourceCache=new Xe(t),this.options=n,this.exaggeration="number"==typeof n.exaggeration?n.exaggeration:1,this.elevationOffset="number"==typeof n.elevationOffset?n.elevationOffset:450,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024,this.clearRerenderCache()}getDEMElevation(t,n,r,i=e.EXTENT){if(!(n>=0&&n<i&&r>=0&&r<i))return this.elevationOffset;let o=0;const a=this.getTerrainData(t);if(a.tile&&a.tile.dem){const t=e.transformMat4$1([],[n/i*e.EXTENT,r/i*e.EXTENT],a.u_terrain_matrix),s=[t[0]*a.tile.dem.dim,t[1]*a.tile.dem.dim],l=[Math.floor(s[0]),Math.floor(s[1])],u=a.tile.dem.get(l[0],l[1]),c=a.tile.dem.get(l[0],l[1]+1),h=a.tile.dem.get(l[0]+1,l[1]),p=a.tile.dem.get(l[0]+1,l[1]+1);o=e.number(e.number(u,c,s[0]-l[0]),e.number(h,p,s[0]-l[0]),s[1]-l[1])}return o}rememberForRerender(e,t){for(const n in this.sourceCache._tiles){const r=this.sourceCache._tiles[n];(r.tileID.equals(t)||r.tileID.isChildOf(t))&&(e===this.sourceCache.sourceCache.id&&(r.timeLoaded=Date.now()),this._rerender[e]=this._rerender[e]||{},this._rerender[e][r.tileID.key]=!0)}}needsRerender(e,t){return this._rerender[e]&&this._rerender[e][t.key]}clearRerenderCache(){this._rerender={}}getElevation(t,n,r,i=e.EXTENT){return(this.getDEMElevation(t,n,r,i)+this.elevationOffset)*this.exaggeration}getTerrainData(t){if(!this._emptyDemTexture){const t=this.style.map.painter.context,n=new e.RGBAImage({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new l(t,n,t.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new l(t,new e.RGBAImage({width:1,height:1}),t.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=e.identity([])}const n=this.sourceCache.getSourceTile(t,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const e=this.style.map.painter.context;n.demTexture=this.style.map.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new l(e,n.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),n.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const r=n&&n+n.tileID.key+t.key;if(r&&!this._demMatrixCache[r]){const r=this.sourceCache.sourceCache._source.maxzoom;let i=t.canonical.z-n.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=r?i=t.canonical.z-r:e.warnOnce("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const o=t.canonical.x-(t.canonical.x>>i<<i),a=t.canonical.y-(t.canonical.y>>i<<i),s=e.fromScaling(new Float64Array(16),[1/(e.EXTENT<<i),1/(e.EXTENT<<i),0]);e.translate(s,s,[o*e.EXTENT,a*e.EXTENT,0]),this._demMatrixCache[t.key]={matrix:s,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:r?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_offset:this.elevationOffset,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getRTTFramebuffer(){const e=this.style.map.painter;if(!this._rttFramebuffer){const t=this.sourceCache.tileSize*this.qualityFactor;this._rttFramebuffer=e.context.createFramebuffer(t,t,!0),this._rttFramebuffer.depthAttachment.set(e.context.createRenderbuffer(e.context.gl.DEPTH_COMPONENT16,t,t))}return this._rttFramebuffer}getFramebuffer(e){const t=this.style.map.painter,n=t.width/devicePixelRatio,r=t.height/devicePixelRatio;return!this._fbo||this._fbo.width===n&&this._fbo.height===r||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new l(t.context,{width:n,height:r,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new l(t.context,{width:n,height:r,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=t.context.createFramebuffer(n,r,!0),this._fbo.depthAttachment.set(t.context.createRenderbuffer(t.context.gl.DEPTH_COMPONENT16,n,r))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const t=this.style.map.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,t=0;e<this._coordsTextureSize;e++)for(let r=0;r<this._coordsTextureSize;r++,t+=4)n[t+0]=255&r,n[t+1]=255&e,n[t+2]=r>>8<<4|e>>8,n[t+3]=0;const r=new e.RGBAImage({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),i=new l(t,r,t.gl.RGBA,{premultiply:!1});return i.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=i,i}pointCoordinate(t){const n=new Uint8Array(4),r=this.style.map.painter,i=r.context,o=i.gl;i.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),o.readPixels(t.x,r.height/devicePixelRatio-t.y-1,1,1,o.RGBA,o.UNSIGNED_BYTE,n),i.bindFramebuffer.set(null);const a=n[0]+(n[2]>>4<<8),s=n[1]+((15&n[2])<<8),l=this.coordsIndex[255-n[3]],u=l&&this.sourceCache.getTileByID(l);if(!u)return null;const c=this._coordsTextureSize,h=(1<<u.tileID.canonical.z)*c;return new e.MercatorCoordinate((u.tileID.canonical.x*c+a)/h,(u.tileID.canonical.y*c+s)/h,this.getElevation(u.tileID,a,s,c))}getTerrainMesh(){if(this._mesh)return this._mesh;const t=this.style.map.painter.context,n=new e.PosArray,r=new e.TriangleIndexArray,i=this.meshSize,o=e.EXTENT/i,a=i*i;for(let e=0;e<=i;e++)for(let t=0;t<=i;t++)n.emplaceBack(t*o,e*o);for(let e=0;e<a;e+=i+1)for(let t=0;t<i;t++)r.emplaceBack(t+e,i+t+e+1,i+t+e+2),r.emplaceBack(t+e,i+t+e+2,t+e+1);return this._mesh={indexBuffer:t.createIndexBuffer(r),vertexBuffer:t.createVertexBuffer(n,$e.members),segments:e.SegmentVector.simpleSegment(0,0,n.length,r.length)},this._mesh}getMinMaxElevation(e){const t=this.getTerrainData(e).tile,n={minElevation:null,maxElevation:null};return t&&t.dem&&(n.minElevation=(t.dem.min+this.elevationOffset)*this.exaggeration,n.maxElevation=(t.dem.max+this.elevationOffset)*this.exaggeration),n}}const Ke=(t,n)=>e.emitValidationErrors(t,n&&n.filter((e=>"source.canvas"!==e.identifier))),Je=e.pick($,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Qe=e.pick($,["setCenter","setZoom","setBearing","setPitch"]),et=function(){const t={},n=e.spec.$version;for(const r in e.spec.$root){const i=e.spec.$root[r];if(i.required){let e=null;e="version"===r?n:"array"===i.type?[]:{},null!=e&&(t[r]=e)}}return t}();class tt extends e.Evented{constructor(t,n={}){super(),this.map=t,this.dispatcher=new _(G(),this),this.imageManager=new c,this.imageManager.setEventedParent(this),this.glyphManager=new f(t._requestManager,n.localIdeographFontFamily),this.lineAtlas=new v(256,512),this.crossTileSymbolIndex=new We,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.getReferrer());const r=this;this._rtlTextPluginCallback=tt.registerForPluginStateChange((t=>{r.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,n)=>{if(e.triggerPluginCompletionEvent(t),n&&n.every((e=>e)))for(const e in r.sourceCaches)r.sourceCaches[e].reload()}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const n=t.getSource();if(n&&n.vectorLayerIds)for(const e in this._layers){const t=this._layers[e];t.source===n.id&&this._validateLayer(t)}}))}loadURL(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"}));const r="boolean"!=typeof n.validate||n.validate,i=this.map._requestManager.transformRequest(t,e.ResourceType.Style);this._request=e.getJSON(i,((t,n)=>{this._request=null,t?this.fire(new e.ErrorEvent(t)):n&&this._load(n,r)}))}loadJSON(t,n={}){this.fire(new e.Event("dataloading",{dataType:"style"})),this._request=e.exported.frame((()=>{this._request=null,this._load(t,!1!==n.validate)}))}loadEmpty(){this.fire(new e.Event("dataloading",{dataType:"style"})),this._load(et,!1)}_load(t,n){if(n&&Ke(this,e.validateStyle(t)))return;this._loaded=!0,this.stylesheet=t;for(const e in t.sources)this.addSource(e,t.sources[e],{validate:!1});t.sprite?this._loadSprite(t.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(t.glyphs);const r=W(this.stylesheet.layers);this._order=r.map((e=>e.id)),this._layers={},this._serializedLayers={};for(let t of r)t=e.createStyleLayer(t),t.setEventedParent(this,{layer:{id:t.id}}),this._layers[t.id]=t,this._serializedLayers[t.id]=t.serialize();this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new y(this.stylesheet.light),this.setTerrain(this.stylesheet.terrain),this.fire(new e.Event("data",{dataType:"style"})),this.fire(new e.Event("style.load"))}_loadSprite(t){this._spriteRequest=function(t,n,r,i){let o,a,s;const l=r>1?"@2x":"";let u=e.getJSON(n.transformRequest(n.normalizeSpriteURL(t,l,".json"),e.ResourceType.SpriteJSON),((e,t)=>{u=null,s||(s=e,o=t,h())})),c=e.getImage(n.transformRequest(n.normalizeSpriteURL(t,l,".png"),e.ResourceType.SpriteImage),((e,t)=>{c=null,s||(s=e,a=t,h())}));function h(){if(s)i(s);else if(o&&a){const t=e.exported.getImageData(a),n={};for(const r in o){const{width:i,height:a,x:s,y:l,sdf:u,pixelRatio:c,stretchX:h,stretchY:p,content:d}=o[r],f=new e.RGBAImage({width:i,height:a});e.RGBAImage.copy(t,f,{x:s,y:l},{x:0,y:0},{width:i,height:a}),n[r]={data:f,pixelRatio:c,sdf:u,stretchX:h,stretchY:p,content:d}}i(null,n)}}return{cancel(){u&&(u.cancel(),u=null),c&&(c.cancel(),c=null)}}}(t,this.map._requestManager,this.map.getPixelRatio(),((t,n)=>{if(this._spriteRequest=null,t)this.fire(new e.ErrorEvent(t));else if(n)for(const e in n)this.imageManager.addImage(e,n[e]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}))}_validateLayer(t){const n=this.sourceCaches[t.source];if(!n)return;const r=t.sourceLayer;if(!r)return;const i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new e.ErrorEvent(new Error(`Source layer "${r}" does not exist on source "${i.id}" as specified by style layer "${t.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(e){const t=[];for(const n of e){const e=this._layers[n];"custom"!==e.type&&t.push(e.serialize())}return t}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const e in this._updatedSources){const t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else{if("clear"!==t)throw new Error(`Invalid action ${t}`);this._clearSource(e)}}this._updateTilesForChangedImages();for(const e in this._updatedPaintProps)this._layers[e].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}const r={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];r[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)&&n.source&&(this.sourceCaches[n.source].used=!0)}for(const t in r){const n=this.sourceCaches[t];r[t]!==n.used&&n.fire(new e.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:t}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setTerrain(t){if(this._checkLoaded(),this._terrainDataCallback&&this.off("data",this._terrainDataCallback),this._terrainfreezeElevationCallback&&this.map.off("freezeElevation",this._terrainfreezeElevationCallback),t){const e=this.sourceCaches[t.source];if(!e)throw new Error(`cannot load terrain, because there exists no source with ID: ${t.source}`);this.terrain=new Ye(this,e,t),this.map.transform.updateElevation(this.terrain),this._terrainfreezeElevationCallback=e=>{e.freeze?this.map.transform.freezeElevation=!0:(this.map.transform.freezeElevation=!1,this.map.transform.recalculateZoom(this.terrain))},this._terrainDataCallback=e=>{e.tile&&(e.sourceId===t.source?(this.map.transform.updateElevation(this.terrain),this.terrain.rememberForRerender(e.sourceId,e.tile.tileID)):"geojson"===e.source.type&&this.terrain.rememberForRerender(e.sourceId,e.tile.tileID))},this.on("data",this._terrainDataCallback),this.map.on("freezeElevation",this._terrainfreezeElevationCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.map.transform.updateElevation(this.terrain);this.map.fire(new e.Event("terrain",{terrain:t}))}setState(t){if(this._checkLoaded(),Ke(this,e.validateStyle(t)))return!1;(t=e.clone$1(t)).layers=W(t.layers);const n=function(e,t){if(!e)return[{command:$.setStyle,args:[t]}];let n=[];try{if(!i(e.version,t.version))return[{command:$.setStyle,args:[t]}];i(e.center,t.center)||n.push({command:$.setCenter,args:[t.center]}),i(e.zoom,t.zoom)||n.push({command:$.setZoom,args:[t.zoom]}),i(e.bearing,t.bearing)||n.push({command:$.setBearing,args:[t.bearing]}),i(e.pitch,t.pitch)||n.push({command:$.setPitch,args:[t.pitch]}),i(e.sprite,t.sprite)||n.push({command:$.setSprite,args:[t.sprite]}),i(e.glyphs,t.glyphs)||n.push({command:$.setGlyphs,args:[t.glyphs]}),i(e.transition,t.transition)||n.push({command:$.setTransition,args:[t.transition]}),i(e.light,t.light)||n.push({command:$.setLight,args:[t.light]});const r={},o=[];!function(e,t,n,r){let o;for(o in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,o)&&(Object.prototype.hasOwnProperty.call(t,o)||Y(o,n,r));for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&(Object.prototype.hasOwnProperty.call(e,o)?i(e[o],t[o])||("geojson"===e[o].type&&"geojson"===t[o].type&&J(e,t,o)?n.push({command:$.setGeoJSONSourceData,args:[o,t[o].data]}):K(o,t,n,r)):X(o,t,n))}(e.sources,t.sources,o,r);const a=[];e.layers&&e.layers.forEach((e=>{r[e.source]?n.push({command:$.removeLayer,args:[e.id]}):a.push(e)})),n=n.concat(o),function(e,t,n){t=t||[];const r=(e=e||[]).map(ee),o=t.map(ee),a=e.reduce(te,{}),s=t.reduce(te,{}),l=r.slice(),u=Object.create(null);let c,h,p,d,f,m,g;for(c=0,h=0;c<r.length;c++)p=r[c],Object.prototype.hasOwnProperty.call(s,p)?h++:(n.push({command:$.removeLayer,args:[p]}),l.splice(l.indexOf(p,h),1));for(c=0,h=0;c<o.length;c++)p=o[o.length-1-c],l[l.length-1-c]!==p&&(Object.prototype.hasOwnProperty.call(a,p)?(n.push({command:$.removeLayer,args:[p]}),l.splice(l.lastIndexOf(p,l.length-h),1)):h++,m=l[l.length-c],n.push({command:$.addLayer,args:[s[p],m]}),l.splice(l.length-c,0,p),u[p]=!0);for(c=0;c<o.length;c++)if(p=o[c],d=a[p],f=s[p],!u[p]&&!i(d,f))if(i(d.source,f.source)&&i(d["source-layer"],f["source-layer"])&&i(d.type,f.type)){for(g in Q(d.layout,f.layout,n,p,null,$.setLayoutProperty),Q(d.paint,f.paint,n,p,null,$.setPaintProperty),i(d.filter,f.filter)||n.push({command:$.setFilter,args:[p,f.filter]}),i(d.minzoom,f.minzoom)&&i(d.maxzoom,f.maxzoom)||n.push({command:$.setLayerZoomRange,args:[p,f.minzoom,f.maxzoom]}),d)Object.prototype.hasOwnProperty.call(d,g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Q(d[g],f[g],n,p,g.slice(6),$.setPaintProperty):i(d[g],f[g])||n.push({command:$.setLayerProperty,args:[p,g,f[g]]}));for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&!Object.prototype.hasOwnProperty.call(d,g)&&"layout"!==g&&"paint"!==g&&"filter"!==g&&"metadata"!==g&&"minzoom"!==g&&"maxzoom"!==g&&(0===g.indexOf("paint.")?Q(d[g],f[g],n,p,g.slice(6),$.setPaintProperty):i(d[g],f[g])||n.push({command:$.setLayerProperty,args:[p,g,f[g]]}))}else n.push({command:$.removeLayer,args:[p]}),m=l[l.lastIndexOf(p)+1],n.push({command:$.addLayer,args:[f,m]})}(a,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:$.setStyle,args:[t]}]}return n}(this.serialize(),t).filter((e=>!(e.command in Qe)));if(0===n.length)return!1;const r=n.filter((e=>!(e.command in Je)));if(r.length>0)throw new Error(`Unimplemented: ${r.map((e=>e.command)).join(", ")}.`);return n.forEach((e=>{"setTransition"!==e.command&&this[e.command].apply(this,e.args)})),this.stylesheet=t,!0}addImage(t,n){if(this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" already exists.`)));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.ErrorEvent(new Error(`An image named "${t}" does not exist.`)));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,n,r={}){if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error(`Source "${t}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.validateStyle.source,`sources.${t}`,n,null,r))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const i=this.sourceCaches[t]=new F(t,n,this.dispatcher);i.style=this,i.setEventedParent(this,(()=>({isSourceLoaded:this.loaded(),source:i.serialize(),sourceId:t}))),i.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const n in this._layers)if(this._layers[n].source===t)return this.fire(new e.ErrorEvent(new Error(`Source "${t}" cannot be removed while layer "${n}" is using it.`)));const n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error(`There is no source with this ID=${e}`);const n=this.sourceCaches[e].getSource();if("geojson"!==n.type)throw new Error(`geojsonSource.type is ${n.type}, which is !== 'geojson`);n.setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(t,n,r={}){this._checkLoaded();const i=t.id;if(this.getLayer(i))return void this.fire(new e.ErrorEvent(new Error(`Layer "${i}" already exists on this map.`)));let o;if("custom"===t.type){if(Ke(this,e.validateCustomStyleLayer(t)))return;o=e.createStyleLayer(t)}else{if("object"==typeof t.source&&(this.addSource(i,t.source),t=e.clone$1(t),t=e.extend(t,{source:i})),this._validate(e.validateStyle.layer,`layers.${i}`,t,{arrayIndex:-1},r))return;o=e.createStyleLayer(t),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}}),this._serializedLayers[o.id]=o.serialize()}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.ErrorEvent(new Error(`Cannot add layer "${i}" before non-existing layer "${n}".`)));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.sourceCaches[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be moved.`)));if(t===n)return;const r=this._order.indexOf(t);this._order.splice(r,1);const i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new e.ErrorEvent(new Error(`Cannot move layer "${t}" before non-existing layer "${n}".`))):(this._order.splice(i,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.ErrorEvent(new Error(`Cannot remove non-existing layer "${t}".`)));n.setEventedParent(null);const r=this._order.indexOf(t);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,n,r){this._checkLoaded();const i=this.getLayer(t);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new e.ErrorEvent(new Error(`Cannot set the zoom range of non-existing layer "${t}".`)))}setFilter(t,n,r={}){this._checkLoaded();const o=this.getLayer(t);if(o){if(!i(o.filter,n))return null==n?(o.filter=void 0,void this._updateLayer(o)):void(this._validate(e.validateStyle.filter,`layers.${o.id}.filter`,n,null,r)||(o.filter=e.clone$1(n),this._updateLayer(o)))}else this.fire(new e.ErrorEvent(new Error(`Cannot filter non-existing layer "${t}".`)))}getFilter(t){return e.clone$1(this.getLayer(t).filter)}setLayoutProperty(t,n,r,o={}){this._checkLoaded();const a=this.getLayer(t);a?i(a.getLayoutProperty(n),r)||(a.setLayoutProperty(n,r,o),this._updateLayer(a)):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getLayoutProperty(t,n){const r=this.getLayer(t);if(r)return r.getLayoutProperty(n);this.fire(new e.ErrorEvent(new Error(`Cannot get style of non-existing layer "${t}".`)))}setPaintProperty(t,n,r,o={}){this._checkLoaded();const a=this.getLayer(t);a?i(a.getPaintProperty(n),r)||(a.setPaintProperty(n,r,o)&&this._updateLayer(a),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.ErrorEvent(new Error(`Cannot style non-existing layer "${t}".`)))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const r=t.source,i=t.sourceLayer,o=this.sourceCaches[r];if(void 0===o)return void this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));const a=o.getSource().type;"geojson"===a&&i?this.fire(new e.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,t.id,n)):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,n){this._checkLoaded();const r=t.source,i=this.sourceCaches[r];if(void 0===i)return void this.fire(new e.ErrorEvent(new Error(`The source '${r}' does not exist in the map's style.`)));const o=i.getSource().type,a="vector"===o?t.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,t.id,n):this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const n=t.source,r=t.sourceLayer,i=this.sourceCaches[n];if(void 0!==i)return"vector"!==i.getSource().type||r?(void 0===t.id&&this.fire(new e.ErrorEvent(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,t.id)):void this.fire(new e.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.ErrorEvent(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return e.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){return e.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:e.mapObject(this.sourceCaches,(e=>e.serialize())),layers:this._serializeLayers(this._order)},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},r=[];for(let i=this._order.length-1;i>=0;i--){const o=this._order[i];if(t(o)){n[o]=i;for(const t of e){const e=t[o];if(e)for(const t of e)r.push(t)}}}r.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=r.length-1;e>=0;e--){const t=r[e].feature;if(n[t.layer.id]<o)break;i.push(t),r.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(t,n,r){n&&n.filter&&this._validate(e.validateStyle.filter,"queryRenderedFeatures.filter",n.filter,null,n);const i={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.ErrorEvent(new Error(`The layer '${t}' does not exist in the map's style and cannot be queried for features.`))),[];i[n.source]=!0}}const o=[];n.availableImages=this._availableImages;for(const e in this.sourceCaches)n.layers&&!i[e]||o.push(O(this.sourceCaches[e],this._layers,this._serializedLayers,t,n,r));return this.placement&&o.push(function(e,t,n,r,i,o,a){const s={},l=o.queryRenderedSymbols(r),u=[];for(const e of Object.keys(l).map(Number))u.push(a[e]);u.sort(R);for(const n of u){const r=n.featureIndex.lookupSymbolFeatures(l[n.bucketInstanceId],t,n.bucketIndex,n.sourceLayerIndex,i.filter,i.layers,i.availableImages,e);for(const e in r){const t=s[e]=s[e]||[],i=r[e];i.sort(((e,t)=>{const r=n.featureSortOrder;if(r){const n=r.indexOf(e.featureIndex);return r.indexOf(t.featureIndex)-n}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const t in s)s[t].forEach((r=>{const i=r.feature,o=n[e[t].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=o}));return s}(this._layers,this._serializedLayers,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.validateStyle.filter,"querySourceFeatures.filter",n.filter,null,n);const r=this.sourceCaches[t];return r?function(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),r=[],i={};for(let e=0;e<n.length;e++){const o=n[e],a=o.tileID.canonical.key;i[a]||(i[a]=!0,o.querySourceFeatures(r,t))}return r}(r,n):[]}addSourceType(e,t,n){return tt.getSourceType(e)?n(new Error(`A source type called "${e}" already exists.`)):(tt.setSourceType(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(t,n={}){this._checkLoaded();const r=this.light.getLight();let o=!1;for(const e in t)if(!i(t[e],r[e])){o=!0;break}if(!o)return;const a={now:e.exported.now(),transition:e.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(a)}_validate(t,n,r,i,o={}){return(!o||!1!==o.validate)&&Ke(this,t.call(e.validateStyle,e.extend({key:n,style:this.serialize(),value:r,styleSpec:e.spec},i)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e,this.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(t,n,r,i,o=!1){let a=!1,s=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this.sourceCaches[n.source];l[n.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const r=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng);a=a||r}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((o=o||this._layerOrderChanged||0===r)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.exported.now(),t.zoom))&&(this.pauseablePlacement=new Ue(t,this.terrain,this._order,o,n,r,i,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.exported.now()),s=!0),a&&this.pauseablePlacement.placement.setStale()),s||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.exported.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const r=this.sourceCaches[t.source];r&&r.setDependencies(t.tileID.key,t.type,t.icons)}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n)}getResource(t,n,r){return e.makeRequest(n,r)}}tt.getSourceType=function(e){return M[e]},tt.setSourceType=function(e,t){M[e]=t},tt.registerForPluginStateChange=e.registerForPluginStateChange;var nt="attribute vec2 a_pos;uniform mat4 u_matrix;varying vec2 v_texture_pos;varying float v_depth;void main() {v_texture_pos=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);v_depth=gl_Position.z/gl_Position.w;}";const rt={prelude:it("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_offset;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return (elevation+u_terrain_offset)*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:it("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:it("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:it("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:it("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:it("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:it("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:it("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:it("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:it("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:it("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:it("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:it("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:it("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat baseDelta=10.0;float ele=get_elevation(a_centroid);\n#else\nfloat baseDelta=0.0;float ele=0.0;\n#endif\nbase=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:it("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat baseDelta=10.0;float ele=get_elevation(a_centroid);\n#else\nfloat baseDelta=0.0;float ele=0.0;\n#endif\nbase=max(0.0,ele+base-baseDelta);height=max(0.0,ele+height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:it("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:it("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:it("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:it("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:it("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:it("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:it("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:it("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:it("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:it("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",nt),terrainDepth:it("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",nt),terrainCoords:it("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",nt)};function it(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/attribute ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,((e,t,n,r,i)=>(s[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = u_${i};\n#endif\n`))),vertexSource:t=t.replace(n,((e,t,n,r,i)=>{const o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\nvarying ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nattribute ${n} ${o} a_${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`})),staticAttributes:r,staticUniforms:a}}class ot{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,r,i,o,a,s,l){this.context=e;let u=this.boundPaintVertexBuffers.length!==r.length;for(let e=0;!u&&e<r.length;e++)this.boundPaintVertexBuffers[e]!==r[e]&&(u=!0);e.extVertexArrayObject&&this.vao&&this.boundProgram===t&&this.boundLayoutVertexBuffer===n&&!u&&this.boundIndexBuffer===i&&this.boundVertexOffset===o&&this.boundDynamicVertexBuffer===a&&this.boundDynamicVertexBuffer2===s&&this.boundDynamicVertexBuffer3===l?(e.bindVertexArrayOES.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind(),l&&l.bind()):this.freshBind(t,n,r,i,o,a,s,l)}freshBind(e,t,n,r,i,o,a,s){let l;const u=e.numAttributes,c=this.context,h=c.gl;if(c.extVertexArrayObject)this.vao&&this.destroy(),this.vao=c.extVertexArrayObject.createVertexArrayOES(),c.bindVertexArrayOES.set(this.vao),l=0,this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a,this.boundDynamicVertexBuffer3=s;else{l=c.currentNumAttributes||0;for(let e=u;e<l;e++)h.disableVertexAttribArray(e)}t.enableAttributes(h,e);for(const t of n)t.enableAttributes(h,e);o&&o.enableAttributes(h,e),a&&a.enableAttributes(h,e),s&&s.enableAttributes(h,e),t.bind(),t.setVertexAttribPointers(h,e,i);for(const t of n)t.bind(),t.setVertexAttribPointers(h,e,i);o&&(o.bind(),o.setVertexAttribPointers(h,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(h,e,i)),s&&(s.bind(),s.setVertexAttribPointers(h,e,i)),c.currentNumAttributes=u}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function at(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const r=e[n].split(" ");t.push(r.pop())}return t}class st{constructor(t,n,r,i,o,a,s){const l=t.gl;this.program=l.createProgram();const u=at(r.staticAttributes),c=i?i.getBinderAttributes():[],h=u.concat(c),p=rt.prelude.staticUniforms?at(rt.prelude.staticUniforms):[],d=r.staticUniforms?at(r.staticUniforms):[],f=i?i.getBinderUniforms():[],m=p.concat(d).concat(f),g=[];for(const e of m)g.indexOf(e)<0&&g.push(e);const y=i?i.defines():[];a&&y.push("#define OVERDRAW_INSPECTOR;"),s&&y.push("#define TERRAIN3D;");const v=y.concat(rt.prelude.fragmentSource,r.fragmentSource).join("\n"),_=y.concat(rt.prelude.vertexSource,r.vertexSource).join("\n"),b=l.createShader(l.FRAGMENT_SHADER);if(l.isContextLost())return void(this.failedToCreate=!0);l.shaderSource(b,v),l.compileShader(b),l.attachShader(this.program,b);const x=l.createShader(l.VERTEX_SHADER);if(l.isContextLost())return void(this.failedToCreate=!0);l.shaderSource(x,_),l.compileShader(x),l.attachShader(this.program,x),this.attributes={};const w={};this.numAttributes=h.length;for(let e=0;e<this.numAttributes;e++)h[e]&&(l.bindAttribLocation(this.program,e,h[e]),this.attributes[h[e]]=e);l.linkProgram(this.program),l.deleteShader(x),l.deleteShader(b);for(let e=0;e<g.length;e++){const t=g[e];if(t&&!w[t]){const e=l.getUniformLocation(this.program,t);e&&(w[t]=e)}}this.fixedUniforms=o(t,w),this.terrainUniforms=((t,n)=>({u_depth:new e.Uniform1i(t,n.u_depth),u_terrain:new e.Uniform1i(t,n.u_terrain),u_terrain_dim:new e.Uniform1f(t,n.u_terrain_dim),u_terrain_matrix:new e.UniformMatrix4f(t,n.u_terrain_matrix),u_terrain_unpack:new e.Uniform4f(t,n.u_terrain_unpack),u_terrain_offset:new e.Uniform1f(t,n.u_terrain_offset),u_terrain_exaggeration:new e.Uniform1f(t,n.u_terrain_exaggeration)}))(t,w),this.binderUniforms=i?i.getUniforms(t,w):[]}draw(e,t,n,r,i,o,a,s,l,u,c,h,p,d,f,m,g,y){const v=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),s){e.activeTexture.set(v.TEXTURE2),v.bindTexture(v.TEXTURE_2D,s.depthTexture),e.activeTexture.set(v.TEXTURE3),v.bindTexture(v.TEXTURE_2D,s.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(s[e])}for(const e in this.fixedUniforms)this.fixedUniforms[e].set(a[e]);f&&f.setUniforms(e,this.binderUniforms,p,{zoom:d});let _=0;switch(t){case v.LINES:_=2;break;case v.TRIANGLES:_=3;break;case v.LINE_STRIP:_=1}for(const n of h.get()){const r=n.vaos||(n.vaos={});(r[l]||(r[l]=new ot)).bind(e,this,u,f?f.getPaintVertexBuffers():[],c,n.vertexOffset,m,g,y),v.drawElements(t,n.primitiveLength*_,v.UNSIGNED_SHORT,n.primitiveOffset*_*2)}}}function lt(e,t,n){const r=1/xe(n,1,t.transform.tileZoom),i=Math.pow(2,n.tileID.overscaledZ),o=n.tileSize*Math.pow(2,t.transform.tileZoom)/i,a=o*(n.tileID.canonical.x+n.tileID.wrap*i),s=o*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[r,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,s>>16],u_pixel_coord_lower:[65535&a,65535&s]}}const ut=(t,n,r,i)=>{const o=n.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=e.create$1();"viewport"===o.properties.get("anchor")&&e.fromRotation(l,-n.transform.angle),e.transformMat3(s,s,l);const u=o.properties.get("color");return{u_matrix:t,u_lightpos:s,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+r,u_opacity:i}},ct=(t,n,r,i,o,a,s)=>e.extend(ut(t,n,r,i),lt(a,n,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8}),ht=e=>({u_matrix:e}),pt=(t,n,r,i)=>e.extend(ht(t),lt(r,n,i)),dt=(e,t)=>({u_matrix:e,u_world:t}),ft=(t,n,r,i,o)=>e.extend(pt(t,n,r,i),{u_world:o}),mt=(e,t,n,r)=>{const i=e.transform;let o,a;if("map"===r.paint.get("circle-pitch-alignment")){const e=xe(n,1,i.zoom);o=!0,a=[e,e]}else o=!1,a=i.pixelsToGLUnits;return{u_camera_to_center_distance:i.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,r.paint.get("circle-translate"),r.paint.get("circle-translate-anchor")),u_pitch_with_map:+o,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:a}},gt=(e,t,n)=>{const r=xe(n,1,t.zoom),i=Math.pow(2,t.zoom-n.tileID.overscaledZ),o=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:r,u_extrude_scale:[t.pixelsToGLUnits[0]/(r*i),t.pixelsToGLUnits[1]/(r*i)],u_overscale_factor:o}},yt=(e,t,n=1)=>({u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:n}),vt=e=>({u_matrix:e}),_t=(e,t,n,r)=>({u_matrix:e,u_extrude_scale:xe(t,1,n),u_intensity:r});function bt(t,n){const r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new e.MercatorCoordinate(0,i/r).toLngLat().lat,new e.MercatorCoordinate(0,(i+1)/r).toLngLat().lat]}const xt=(e,t,n,r)=>{const i=e.transform;return{u_matrix:Tt(e,t,n,r),u_ratio:1/xe(t,1,i.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/i.pixelsToGLUnits[0],1/i.pixelsToGLUnits[1]]}},wt=(t,n,r,i,o)=>e.extend(xt(t,n,r,o),{u_image:0,u_image_height:i}),Et=(e,t,n,r,i)=>{const o=e.transform,a=Ct(t,o);return{u_matrix:Tt(e,t,n,i),u_texsize:t.imageAtlasTexture.size,u_ratio:1/xe(t,1,o.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[a,r.fromScale,r.toScale],u_fade:r.t,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},St=(t,n,r,i,o,a)=>{const s=t.lineAtlas,l=Ct(n,t.transform),u="round"===r.layout.get("line-cap"),c=s.getDash(i.from,u),h=s.getDash(i.to,u),p=c.width*o.fromScale,d=h.width*o.toScale;return e.extend(xt(t,n,r,a),{u_patternscale_a:[l/p,-c.height/2],u_patternscale_b:[l/d,-h.height/2],u_sdfgamma:s.width/(256*Math.min(p,d)*t.pixelRatio)/2,u_image:0,u_tex_y_a:c.y,u_tex_y_b:h.y,u_mix:o.t})};function Ct(e,t){return 1/xe(e,1,t.tileZoom)}function Tt(e,t,n,r){return e.translatePosMatrix(r?r.posMatrix:t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const It=(e,t,n,r,i)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:r.mix,u_opacity:r.opacity*i.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:i.paint.get("raster-brightness-min"),u_brightness_high:i.paint.get("raster-brightness-max"),u_saturation_factor:(a=i.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=i.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:kt(i.paint.get("raster-hue-rotate"))};var o,a};function kt(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const Pt=(e,t,n,r,i,o,a,s,l,u)=>{const c=i.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:c.cameraToCenterDistance,u_pitch:c.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:c.width/c.height,u_fade_change:i.options.fadeDuration?i.symbolFadeChange:1,u_matrix:o,u_label_plane_matrix:a,u_coord_matrix:s,u_is_text:+l,u_pitch_with_map:+r,u_texsize:u,u_texture:0}},Lt=(t,n,r,i,o,a,s,l,u,c,h)=>{const p=o.transform;return e.extend(Pt(t,n,r,i,o,a,s,l,u,c),{u_gamma_scale:i?Math.cos(p._pitch)*p.cameraToCenterDistance:1,u_device_pixel_ratio:o.pixelRatio,u_is_halo:+h})},Mt=(t,n,r,i,o,a,s,l,u,c)=>e.extend(Lt(t,n,r,i,o,a,s,l,!0,u,!0),{u_texsize_icon:c,u_texture_icon:1}),At=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),Ot=(t,n,r,i,o,a)=>e.extend(function(e,t,n,r){const i=n.imageManager.getPattern(e.from.toString()),o=n.imageManager.getPattern(e.to.toString()),{width:a,height:s}=n.imageManager.getPixelSize(),l=Math.pow(2,r.tileID.overscaledZ),u=r.tileSize*Math.pow(2,n.transform.tileZoom)/l,c=u*(r.tileID.canonical.x+r.tileID.wrap*l),h=u*r.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:i.tl,u_pattern_br_a:i.br,u_pattern_tl_b:o.tl,u_pattern_br_b:o.br,u_texsize:[a,s],u_mix:t.t,u_pattern_size_a:i.displaySize,u_pattern_size_b:o.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/xe(r,1,n.transform.tileZoom),u_pixel_coord_upper:[c>>16,h>>16],u_pixel_coord_lower:[65535&c,65535&h]}}(i,a,r,o),{u_matrix:t,u_opacity:n}),Rt={fillExtrusion:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_opacity:new e.Uniform1f(t,n.u_opacity)}),fillExtrusionPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_lightpos:new e.Uniform3f(t,n.u_lightpos),u_lightintensity:new e.Uniform1f(t,n.u_lightintensity),u_lightcolor:new e.Uniform3f(t,n.u_lightcolor),u_vertical_gradient:new e.Uniform1f(t,n.u_vertical_gradient),u_height_factor:new e.Uniform1f(t,n.u_height_factor),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade),u_opacity:new e.Uniform1f(t,n.u_opacity)}),fill:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),fillPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),fillOutline:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world)}),fillOutlinePattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_texsize:new e.Uniform2f(t,n.u_texsize),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),circle:(t,n)=>({u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_scale_with_map:new e.Uniform1i(t,n.u_scale_with_map),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),collisionBox:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.Uniform1f(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.Uniform2f(t,n.u_extrude_scale),u_overscale_factor:new e.Uniform1f(t,n.u_overscale_factor)}),collisionCircle:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_inv_matrix:new e.UniformMatrix4f(t,n.u_inv_matrix),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_viewport_size:new e.Uniform2f(t,n.u_viewport_size)}),debug:(t,n)=>({u_color:new e.UniformColor(t,n.u_color),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_overlay:new e.Uniform1i(t,n.u_overlay),u_overlay_scale:new e.Uniform1f(t,n.u_overlay_scale)}),clippingMask:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),heatmap:(t,n)=>({u_extrude_scale:new e.Uniform1f(t,n.u_extrude_scale),u_intensity:new e.Uniform1f(t,n.u_intensity),u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),heatmapTexture:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_world:new e.Uniform2f(t,n.u_world),u_image:new e.Uniform1i(t,n.u_image),u_color_ramp:new e.Uniform1i(t,n.u_color_ramp),u_opacity:new e.Uniform1f(t,n.u_opacity)}),hillshade:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_latrange:new e.Uniform2f(t,n.u_latrange),u_light:new e.Uniform2f(t,n.u_light),u_shadow:new e.UniformColor(t,n.u_shadow),u_highlight:new e.UniformColor(t,n.u_highlight),u_accent:new e.UniformColor(t,n.u_accent)}),hillshadePrepare:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_image:new e.Uniform1i(t,n.u_image),u_dimension:new e.Uniform2f(t,n.u_dimension),u_zoom:new e.Uniform1f(t,n.u_zoom),u_unpack:new e.Uniform4f(t,n.u_unpack)}),line:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels)}),lineGradient:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_image:new e.Uniform1i(t,n.u_image),u_image_height:new e.Uniform1f(t,n.u_image_height)}),linePattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texsize:new e.Uniform2f(t,n.u_texsize),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_image:new e.Uniform1i(t,n.u_image),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_scale:new e.Uniform3f(t,n.u_scale),u_fade:new e.Uniform1f(t,n.u_fade)}),lineSDF:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_ratio:new e.Uniform1f(t,n.u_ratio),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.Uniform2f(t,n.u_units_to_pixels),u_patternscale_a:new e.Uniform2f(t,n.u_patternscale_a),u_patternscale_b:new e.Uniform2f(t,n.u_patternscale_b),u_sdfgamma:new e.Uniform1f(t,n.u_sdfgamma),u_image:new e.Uniform1i(t,n.u_image),u_tex_y_a:new e.Uniform1f(t,n.u_tex_y_a),u_tex_y_b:new e.Uniform1f(t,n.u_tex_y_b),u_mix:new e.Uniform1f(t,n.u_mix)}),raster:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_tl_parent:new e.Uniform2f(t,n.u_tl_parent),u_scale_parent:new e.Uniform1f(t,n.u_scale_parent),u_buffer_scale:new e.Uniform1f(t,n.u_buffer_scale),u_fade_t:new e.Uniform1f(t,n.u_fade_t),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image0:new e.Uniform1i(t,n.u_image0),u_image1:new e.Uniform1i(t,n.u_image1),u_brightness_low:new e.Uniform1f(t,n.u_brightness_low),u_brightness_high:new e.Uniform1f(t,n.u_brightness_high),u_saturation_factor:new e.Uniform1f(t,n.u_saturation_factor),u_contrast_factor:new e.Uniform1f(t,n.u_contrast_factor),u_spin_weights:new e.Uniform3f(t,n.u_spin_weights)}),symbolIcon:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture)}),symbolSDF:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texture:new e.Uniform1i(t,n.u_texture),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}),symbolTextAndIcon:(t,n)=>({u_is_size_zoom_constant:new e.Uniform1i(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.Uniform1i(t,n.u_is_size_feature_constant),u_size_t:new e.Uniform1f(t,n.u_size_t),u_size:new e.Uniform1f(t,n.u_size),u_camera_to_center_distance:new e.Uniform1f(t,n.u_camera_to_center_distance),u_pitch:new e.Uniform1f(t,n.u_pitch),u_rotate_symbol:new e.Uniform1i(t,n.u_rotate_symbol),u_aspect_ratio:new e.Uniform1f(t,n.u_aspect_ratio),u_fade_change:new e.Uniform1f(t,n.u_fade_change),u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_label_plane_matrix:new e.UniformMatrix4f(t,n.u_label_plane_matrix),u_coord_matrix:new e.UniformMatrix4f(t,n.u_coord_matrix),u_is_text:new e.Uniform1i(t,n.u_is_text),u_pitch_with_map:new e.Uniform1i(t,n.u_pitch_with_map),u_texsize:new e.Uniform2f(t,n.u_texsize),u_texsize_icon:new e.Uniform2f(t,n.u_texsize_icon),u_texture:new e.Uniform1i(t,n.u_texture),u_texture_icon:new e.Uniform1i(t,n.u_texture_icon),u_gamma_scale:new e.Uniform1f(t,n.u_gamma_scale),u_device_pixel_ratio:new e.Uniform1f(t,n.u_device_pixel_ratio),u_is_halo:new e.Uniform1i(t,n.u_is_halo)}),background:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_color:new e.UniformColor(t,n.u_color)}),backgroundPattern:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_opacity:new e.Uniform1f(t,n.u_opacity),u_image:new e.Uniform1i(t,n.u_image),u_pattern_tl_a:new e.Uniform2f(t,n.u_pattern_tl_a),u_pattern_br_a:new e.Uniform2f(t,n.u_pattern_br_a),u_pattern_tl_b:new e.Uniform2f(t,n.u_pattern_tl_b),u_pattern_br_b:new e.Uniform2f(t,n.u_pattern_br_b),u_texsize:new e.Uniform2f(t,n.u_texsize),u_mix:new e.Uniform1f(t,n.u_mix),u_pattern_size_a:new e.Uniform2f(t,n.u_pattern_size_a),u_pattern_size_b:new e.Uniform2f(t,n.u_pattern_size_b),u_scale_a:new e.Uniform1f(t,n.u_scale_a),u_scale_b:new e.Uniform1f(t,n.u_scale_b),u_pixel_coord_upper:new e.Uniform2f(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.Uniform2f(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.Uniform1f(t,n.u_tile_units_to_pixels)}),terrain:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texture:new e.Uniform1i(t,n.u_texture)}),terrainDepth:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix)}),terrainCoords:(t,n)=>({u_matrix:new e.UniformMatrix4f(t,n.u_matrix),u_texture:new e.Uniform1i(t,n.u_texture),u_terrain_coords_id:new e.Uniform1f(t,n.u_terrain_coords_id)})};class Nt{constructor(e,t,n){this.context=e;const r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Dt={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class zt{constructor(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}setVertexAttribPointers(e,t,n){for(let r=0;r<this.attributes.length;r++){const i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[Dt[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Ft{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Bt extends Ft{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class jt extends Ft{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Zt extends Ft{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Ut extends Ft{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class qt extends Ft{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Vt extends Ft{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Gt extends Ft{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Ht extends Ft{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Wt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class $t extends Ft{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Xt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class Yt extends Ft{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Kt extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class Jt extends Ft{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class Qt extends Ft{getDefault(){return e.Color.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class en extends Ft{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class tn extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class nn extends Ft{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class rn extends Ft{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class on extends Ft{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class an extends Ft{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class sn extends Ft{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class ln extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class un extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class cn extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class hn extends Ft{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class pn extends Ft{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class dn extends Ft{constructor(e){super(e),this.vao=e.extVertexArrayObject}getDefault(){return null}set(e){this.vao&&(e!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(e),this.current=e,this.dirty=!1)}}class fn extends Ft{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class mn extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class gn extends Ft{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class yn extends Ft{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class vn extends yn{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class _n extends yn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class bn{constructor(e,t,n,r){this.context=e,this.width=t,this.height=n;const i=e.gl,o=this.framebuffer=i.createFramebuffer();if(this.colorAttachment=new vn(e,o),r&&(this.depthAttachment=new _n(e,o)),i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class xn{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}xn.Replace=[1,0],xn.disabled=new xn(xn.Replace,e.Color.transparent,[!1,!1,!1,!1]),xn.unblended=new xn(xn.Replace,e.Color.transparent,[!0,!0,!0,!0]),xn.alphaBlended=new xn([1,771],e.Color.transparent,[!0,!0,!0,!0]);class wn{constructor(e){this.gl=e,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Bt(this),this.clearDepth=new jt(this),this.clearStencil=new Zt(this),this.colorMask=new Ut(this),this.depthMask=new qt(this),this.stencilMask=new Vt(this),this.stencilFunc=new Gt(this),this.stencilOp=new Ht(this),this.stencilTest=new Wt(this),this.depthRange=new $t(this),this.depthTest=new Xt(this),this.depthFunc=new Yt(this),this.blend=new Kt(this),this.blendFunc=new Jt(this),this.blendColor=new Qt(this),this.blendEquation=new en(this),this.cullFace=new tn(this),this.cullFaceSide=new nn(this),this.frontFace=new rn(this),this.program=new on(this),this.activeTexture=new an(this),this.viewport=new sn(this),this.bindFramebuffer=new ln(this),this.bindRenderbuffer=new un(this),this.bindTexture=new cn(this),this.bindVertexBuffer=new hn(this),this.bindElementBuffer=new pn(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new dn(this),this.pixelStoreUnpack=new fn(this),this.pixelStoreUnpackPremultiplyAlpha=new mn(this),this.pixelStoreUnpackFlipY=new gn(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=e.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(e.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=e.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=e.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new Nt(this,e,t)}createVertexBuffer(e,t,n){return new zt(this,e,t,n)}createRenderbuffer(e,t,n){const r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,n){return new bn(this,e,t,n)}clear({color:e,depth:t}){const n=this.gl;let r=0;e&&(r|=n.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(r|=n.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),n.clear(r)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){i(e.blendFunction,xn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class En{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}En.ReadOnly=!1,En.ReadWrite=!0,En.disabled=new En(519,En.ReadOnly,[0,1]);const Sn=7680;class Cn{constructor(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o}}Cn.disabled=new Cn({func:519,mask:0},0,0,Sn,Sn,Sn);class Tn{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}let In;function kn(t,n,r,i,o,a,s){const l=t.context,u=l.gl,c=t.useProgram("collisionBox"),h=[];let p=0,d=0;for(let f=0;f<i.length;f++){const m=i[f],g=n.getTile(m),y=g.getBucket(r);if(!y)continue;let v=m.posMatrix;0===o[0]&&0===o[1]||(v=t.translatePosMatrix(m.posMatrix,g,o,a));const _=s?y.textCollisionBox:y.iconCollisionBox,b=y.collisionCircleArray;if(b.length>0){const n=e.create(),r=v;e.mul(n,y.placementInvProjMatrix,t.transform.glCoordMatrix),e.mul(n,n,y.placementViewportMatrix),h.push({circleArray:b,circleOffset:d,transform:r,invTransform:n,coord:m}),p+=b.length/4,d=p}_&&c.draw(l,u.LINES,En.disabled,Cn.disabled,t.colorModeForRenderPass(),Tn.disabled,gt(v,t.transform,g),t.style.terrain&&t.style.terrain.getTerrainData(m),r.id,_.layoutVertexBuffer,_.indexBuffer,_.segments,null,t.transform.zoom,null,null,_.collisionVertexBuffer)}if(!s||!h.length)return;const f=t.useProgram("collisionCircle"),m=new e.CollisionCircleLayoutArray;m.resize(4*p),m._trim();let g=0;for(const e of h)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,r=e.circleArray[n+0],i=e.circleArray[n+1],o=e.circleArray[n+2],a=e.circleArray[n+3];m.emplace(g++,r,i,o,a,0),m.emplace(g++,r,i,o,a,1),m.emplace(g++,r,i,o,a,2),m.emplace(g++,r,i,o,a,3)}(!In||In.length<2*p)&&(In=function(t){const n=2*t,r=new e.QuadTriangleArray;r.resize(n),r._trim();for(let e=0;e<n;e++){const t=6*e;r.uint16[t+0]=4*e+0,r.uint16[t+1]=4*e+1,r.uint16[t+2]=4*e+2,r.uint16[t+3]=4*e+2,r.uint16[t+4]=4*e+3,r.uint16[t+5]=4*e+0}return r}(p));const y=l.createIndexBuffer(In,!0),v=l.createVertexBuffer(m,e.collisionCircleLayout.members,!0);for(const n of h){const i={u_matrix:n.transform,u_inv_matrix:n.invTransform,u_camera_to_center_distance:(_=t.transform).cameraToCenterDistance,u_viewport_size:[_.width,_.height]};f.draw(l,u.TRIANGLES,En.disabled,Cn.disabled,t.colorModeForRenderPass(),Tn.disabled,i,t.style.terrain&&t.style.terrain.getTerrainData(n.coord),r.id,v,y,e.SegmentVector.simpleSegment(0,2*n.circleOffset,n.circleArray.length,n.circleArray.length/2),null,t.transform.zoom,null,null,null)}var _;v.destroy(),y.destroy()}Tn.disabled=new Tn(!1,1029,2305),Tn.backCCW=new Tn(!0,1029,2305);const Pn=e.identity(new Float32Array(16));function Ln(t,n,r,i,o,a){const{horizontalAlign:s,verticalAlign:l}=e.getAnchorAlignment(t),u=-(s-.5)*n,c=-(l-.5)*r,h=e.evaluateVariableOffset(t,i);return new e.pointGeometry((u/o+h[0])*a,(c/o+h[1])*a)}function Mn(t,n,r,i,o,a,s,l,u,c,h){const p=t.text.placedSymbolArray,d=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={};d.clear();for(let f=0;f<p.length;f++){const g=p.get(f),y=t.allowVerticalPlacement&&!g.placedOrientation,v=g.hidden||!g.crossTileID||y?null:i[g.crossTileID];if(v){const i=new e.pointGeometry(g.anchorX,g.anchorY),p=se(i,r?s:a,h),f=le(o.cameraToCenterDistance,p.signedDistanceFromCamera);let y=e.evaluateSizeForFeature(t.textSizeData,u,g)*f/e.ONE_EM;r&&(y*=t.tilePixelRatio/l);const{width:_,height:b,anchor:x,textOffset:w,textBoxScale:E}=v,S=Ln(x,_,b,w,E,y),C=r?se(i.add(S),a,h).point:p.point.add(n?S.rotate(-o.angle):S),T=t.allowVerticalPlacement&&g.placedOrientation===e.WritingMode.vertical?Math.PI/2:0;for(let t=0;t<g.numGlyphs;t++)e.addDynamicAttributes(d,C,T);c&&g.associatedIconIndex>=0&&(m[g.associatedIconIndex]={shiftedAnchor:C,angle:T})}else ye(g.numGlyphs,d)}if(c){f.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const r=n.get(t);if(r.hidden)ye(r.numGlyphs,f);else{const n=m[t];if(n)for(let t=0;t<r.numGlyphs;t++)e.addDynamicAttributes(f,n.shiftedAnchor,n.angle);else ye(r.numGlyphs,f)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(d)}function An(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function On(t,n,r,i,o,a,s,l,u,c,h,p){const d=t.context,f=d.gl,m=t.transform,g="map"===l,y="map"===u,v="viewport"!==l&&"point"!==r.layout.get("symbol-placement"),_=g&&!y&&!v,b=!r.layout.get("symbol-sort-key").isConstant();let x=!1;const w=t.depthModeForSublayer(0,En.ReadOnly),E=r.layout.get("text-variable-anchor"),S=[];for(const l of i){const i=n.getTile(l),u=i.getBucket(r);if(!u)continue;const h=o?u.text:u.icon;if(!h||!h.segments.get().length)continue;const p=h.programConfigurations.get(r.id),d=o||u.sdfIcons,w=o?u.textSizeData:u.iconSizeData,C=y||0!==m.pitch,T=t.useProgram(An(d,o,u),p),I=e.evaluateSizeForZoom(w,m.zoom),k=t.style.terrain&&t.style.terrain.getTerrainData(l);let P,L,M,A,O=[0,0],R=null;if(o){if(L=i.glyphAtlasTexture,M=f.LINEAR,P=i.glyphAtlasTexture.size,u.iconsInText){O=i.imageAtlasTexture.size,R=i.imageAtlasTexture;const e="composite"===w.kind||"camera"===w.kind;A=C||t.options.rotating||t.options.zooming||e?f.LINEAR:f.NEAREST}}else{const e=1!==r.layout.get("icon-size").constantOr(0)||u.iconsNeedLinear;L=i.imageAtlasTexture,M=d||t.options.rotating||t.options.zooming||e||C?f.LINEAR:f.NEAREST,P=i.imageAtlasTexture.size}const N=xe(i,1,t.transform.zoom),D=oe(l.posMatrix,y,g,t.transform,N),z=ae(l.posMatrix,y,g,t.transform,N),F=E&&u.hasTextData(),B="none"!==r.layout.get("icon-text-fit")&&F&&u.hasIconData();if(v){const e=t.style.terrain?(e,n)=>t.style.terrain.getElevation(l,e,n):null,n="map"===r.layout.get("text-rotation-alignment");ce(u,l.posMatrix,t,o,D,z,y,c,n,e)}const j=t.translatePosMatrix(l.posMatrix,i,a,s),Z=v||o&&E||B?Pn:D,U=t.translatePosMatrix(z,i,a,s,!0),q=d&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let V;V=d?u.iconsInText?Mt(w.kind,I,_,y,t,j,Z,U,P,O):Lt(w.kind,I,_,y,t,j,Z,U,o,P,!0):Pt(w.kind,I,_,y,t,j,Z,U,o,P);const G={program:T,buffers:h,uniformValues:V,atlasTexture:L,atlasTextureIcon:R,atlasInterpolation:M,atlasInterpolationIcon:A,isSDF:d,hasHalo:q};if(b&&u.canOverlap){x=!0;const t=h.segments.get();for(const n of t)S.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:G,terrainData:k})}else S.push({segments:h.segments,sortKey:0,state:G,terrainData:k})}x&&S.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of S){const n=e.state;if(d.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(d.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const i=n.uniformValues;n.hasHalo&&(i.u_is_halo=1,Rn(n.buffers,e.segments,r,t,n.program,w,h,p,i,e.terrainData)),i.u_is_halo=0}Rn(n.buffers,e.segments,r,t,n.program,w,h,p,n.uniformValues,e.terrainData)}}function Rn(e,t,n,r,i,o,a,s,l,u){const c=r.context;i.draw(c,c.gl.TRIANGLES,o,a,s,Tn.disabled,l,u,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Nn(e,t,n,r,i,o,a){const s=e.context.gl,l=n.paint.get("fill-pattern"),u=l&&l.constantOr(1),c=n.getCrossfadeParameters();let h,p,d,f,m;a?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",h=s.LINES):(p=u?"fillPattern":"fill",h=s.TRIANGLES);for(const g of r){const r=t.getTile(g);if(u&&!r.patternsLoaded())continue;const y=r.getBucket(n);if(!y)continue;const v=y.programConfigurations.get(n.id),_=e.useProgram(p,v),b=e.style.terrain&&e.style.terrain.getTerrainData(g);u&&(e.context.activeTexture.set(s.TEXTURE0),r.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),v.updatePaintBuffers(c));const x=l.constantOr(null);if(x&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[x.to.toString()],n=e.patternPositions[x.from.toString()];t&&n&&v.setConstantPatternPositions(t,n)}const w=b?g:null,E=e.translatePosMatrix(w?w.posMatrix:g.posMatrix,r,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){f=y.indexBuffer2,m=y.segments2;const t=[s.drawingBufferWidth,s.drawingBufferHeight];d="fillOutlinePattern"===p&&u?ft(E,e,c,r,t):dt(E,t)}else f=y.indexBuffer,m=y.segments,d=u?pt(E,e,c,r):ht(E);_.draw(e.context,h,i,e.stencilModeForClipping(g),o,Tn.disabled,d,b,n.id,y.layoutVertexBuffer,f,m,n.paint,e.transform.zoom,v)}}function Dn(e,t,n,r,i,o,a){const s=e.context,l=s.gl,u=n.paint.get("fill-extrusion-pattern"),c=u.constantOr(1),h=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity");for(const d of r){const r=t.getTile(d),f=r.getBucket(n);if(!f)continue;const m=e.style.terrain&&e.style.terrain.getTerrainData(d),g=f.programConfigurations.get(n.id),y=e.useProgram(c?"fillExtrusionPattern":"fillExtrusion",g);c&&(e.context.activeTexture.set(l.TEXTURE0),r.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),g.updatePaintBuffers(h));const v=u.constantOr(null);if(v&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[v.to.toString()],n=e.patternPositions[v.from.toString()];t&&n&&g.setConstantPatternPositions(t,n)}const _=e.translatePosMatrix(d.posMatrix,r,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),x=c?ct(_,e,b,p,d,h,r):ut(_,e,b,p);y.draw(s,s.gl.TRIANGLES,i,o,a,Tn.backCCW,x,m,n.id,f.layoutVertexBuffer,f.indexBuffer,f.segments,n.paint,e.transform.zoom,g,e.style.terrain&&f.centroidVertexBuffer)}}function zn(e,t,n,r,i,o,a){const s=e.context,l=s.gl,u=n.fbo;if(!u)return;const c=e.useProgram("hillshade"),h=e.style.terrain&&e.style.terrain.getTerrainData(t);s.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,u.colorAttachment.get()),c.draw(s,l.TRIANGLES,i,o,a,Tn.disabled,((e,t,n,r)=>{const i=n.paint.get("hillshade-shadow-color"),o=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let s=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(s-=e.transform.angle);const l=!e.options.moving;return{u_matrix:r?r.posMatrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:bt(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),s],u_shadow:i,u_highlight:o,u_accent:a}})(e,n,r,h?t:null),h,r.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function Fn(t,n,r,i,o,a){const s=t.context,u=s.gl,c=n.dem;if(c&&c.data){const h=c.dim,p=c.stride,d=c.getPixels();if(s.activeTexture.set(u.TEXTURE1),s.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(p),n.demTexture){const e=n.demTexture;e.update(d,{premultiply:!1}),e.bind(u.NEAREST,u.CLAMP_TO_EDGE)}else n.demTexture=new l(s,d,u.RGBA,{premultiply:!1}),n.demTexture.bind(u.NEAREST,u.CLAMP_TO_EDGE);s.activeTexture.set(u.TEXTURE0);let f=n.fbo;if(!f){const e=new l(s,{width:h,height:h,data:null},u.RGBA);e.bind(u.LINEAR,u.CLAMP_TO_EDGE),f=n.fbo=s.createFramebuffer(h,h,!0),f.colorAttachment.set(e.texture)}s.bindFramebuffer.set(f.framebuffer),s.viewport.set([0,0,h,h]),t.useProgram("hillshadePrepare").draw(s,u.TRIANGLES,i,o,a,Tn.disabled,((t,n)=>{const r=n.stride,i=e.create();return e.ortho(i,0,e.EXTENT,-e.EXTENT,0,0,1),e.translate(i,i,[0,-e.EXTENT,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}})(n.tileID,c),null,r.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Bn(t,n,r,i,o,a){const s=i.paint.get("raster-fade-duration");if(!a&&s>0){const i=e.exported.now(),a=(i-t.timeAdded)/s,l=n?(i-n.timeAdded)/s:-1,u=r.getSource(),c=o.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-c)>Math.abs(t.tileID.overscaledZ-c),p=h&&t.refreshedUponExpiration?1:e.clamp(h?a:1-l,0,1);return t.refreshedUponExpiration&&a>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-p}:{opacity:p,mix:0}}return{opacity:1,mix:0}}const jn=new e.Color(1,0,0,1),Zn=new e.Color(0,1,0,1),Un=new e.Color(0,0,1,1),qn=new e.Color(1,0,1,1),Vn=new e.Color(0,1,1,1);function Gn(e,t,n,r){Wn(e,0,t+n/2,e.transform.width,n,r)}function Hn(e,t,n,r){Wn(e,t-n/2,0,n,e.transform.height,r)}function Wn(e,t,n,r,i,o){const a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,r*e.pixelRatio,i*e.pixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function $n(t,n,r){const i=t.context,o=i.gl,a=r.posMatrix,s=t.useProgram("debug"),l=En.disabled,u=Cn.disabled,c=t.colorModeForRenderPass(),h="$debug",p=t.style.terrain&&t.style.terrain.getTerrainData(r);i.activeTexture.set(o.TEXTURE0),t.emptyTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE);const d=n.getTileByID(r.key).latestRawTileData,f=Math.floor((d&&d.byteLength||0)/1024),m=n.getTile(r).tileSize,g=512/Math.min(m,512)*(r.overscaledZ/t.transform.zoom)*.5;let y=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(y+=` => ${r.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(t,`${y} ${f}kB`),s.draw(i,o.TRIANGLES,l,u,xn.alphaBlended,Tn.disabled,yt(a,e.Color.transparent,g),null,h,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments),s.draw(i,o.LINE_STRIP,l,u,c,Tn.disabled,yt(a,e.Color.red),p,h,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments)}function Xn(e,t,n){const r=e.context,i=r.gl,o=e.colorModeForRenderPass(),a=new En(i.LEQUAL,En.ReadWrite,e.depthRangeFor3D),s=e.useProgram("terrain"),l=t.getTerrainMesh(),u=t.getTerrainData(n.tileID);r.bindFramebuffer.set(null),r.viewport.set([0,0,e.width,e.height]),r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.getRTTFramebuffer().colorAttachment.get());const c=e.transform.calculatePosMatrix(n.tileID.toUnwrapped());s.draw(r,i.TRIANGLES,a,Cn.disabled,o,Tn.backCCW,{u_matrix:c,u_texture:0},u,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}function Yn(e,t,n,r){const i=e.context,o=n.tileSize*t.qualityFactor;n.textures[r]||(n.textures[r]=e.getTileTexture(o)||new l(i,{width:o,height:o,data:null},i.gl.RGBA),n.textures[r].bind(i.gl.LINEAR,i.gl.CLAMP_TO_EDGE),0===r&&t.sourceCache.renderHistory.unshift(n.tileID.key));const a=t.getRTTFramebuffer();a.colorAttachment.set(n.textures[r].texture),i.bindFramebuffer.set(a.framebuffer),i.viewport.set([0,0,o,o])}class Kn{constructor(e){this._coordsDescendingInv={},this._coordsDescendingInvStr={},this.painter=e,this._renderToTexture={background:!0,fill:!0,line:!0,raster:!0},this._coordsDescendingInv={},this._coordsDescendingInvStr={},this._stacks=[],this._prevType=null,this._rerender={},this._renderableTiles=e.style.terrain.sourceCache.getRenderableTiles(),this._init()}_init(){const e=this.painter.style,t=e.terrain;for(const n in e.sourceCaches){this._coordsDescendingInv[n]={};const r=e.sourceCaches[n].getVisibleCoordinates();for(const e of r){const r=t.sourceCache.getTerrainCoords(e);for(const e in r)this._coordsDescendingInv[n][e]||(this._coordsDescendingInv[n][e]=[]),this._coordsDescendingInv[n][e].push(r[e])}}for(const t of e._order){const n=e._layers[t],r=n.source;if(this._renderToTexture[n.type]&&!this._coordsDescendingInvStr[r]){this._coordsDescendingInvStr[r]={};for(const e in this._coordsDescendingInv[r])this._coordsDescendingInvStr[r][e]=this._coordsDescendingInv[r][e].map((e=>e.key)).sort().join()}}return this._renderableTiles.forEach((e=>{for(const n in this._coordsDescendingInvStr){const r=this._coordsDescendingInvStr[n][e.tileID.key];r&&r!==e.textureCoords[n]&&e.clearTextures(this.painter),t.needsRerender(n,e.tileID)&&e.clearTextures(this.painter)}this._rerender[e.tileID.key]=!e.textures.length})),t.clearRerenderCache(),t.sourceCache.removeOutdated(this.painter),this}renderLayer(t){const n=t.type,r=this.painter,i=r.style._order,o=r.currentLayer,a=o+1===i.length;if(this._renderToTexture[n]&&(this._prevType&&this._renderToTexture[this._prevType]||this._stacks.push([]),this._prevType=n,this._stacks[this._stacks.length-1].push(i[o]),!a))return!0;if(this._renderToTexture[this._prevType]||"hillshade"===n||this._renderToTexture[n]&&a){this._prevType=n;const a=this._stacks.length-1,s=this._stacks[a]||[];for(const t of this._renderableTiles){if(Yn(r,r.style.terrain,t,a),this._rerender[t.tileID.key]){r.context.clear({color:e.Color.transparent});for(let e=0;e<s.length;e++){const n=r.style._layers[s[e]],i=n.source?this._coordsDescendingInv[n.source][t.tileID.key]:[t.tileID];r._renderTileClippingMasks(n,i),r.renderLayer(r,r.style.sourceCaches[n.source],n,i),n.source&&(t.textureCoords[n.source]=this._coordsDescendingInvStr[n.source][t.tileID.key])}}Xn(r,r.style.terrain,t)}if("hillshade"===n){this._stacks.push([i[o]]);for(const n of this._renderableTiles){const i=this._coordsDescendingInv[t.source][n.tileID.key];Yn(r,r.style.terrain,n,this._stacks.length-1),r.context.clear({color:e.Color.transparent}),r._renderTileClippingMasks(t,i),r.renderLayer(r,r.style.sourceCaches[t.source],t,i),Xn(r,r.style.terrain,n)}return!0}return this._renderToTexture[n]}return!1}}const Jn={symbol:function(t,n,r,i,o){if("translucent"!==t.renderPass)return;const a=Cn.disabled,s=t.colorModeForRenderPass();r.layout.get("text-variable-anchor")&&function(t,n,r,i,o,a,s){const l=n.transform,u="map"===o,c="map"===a;for(const o of t){const t=i.getTile(o),a=t.getBucket(r);if(!a||!a.text||!a.text.segments.get().length)continue;const h=e.evaluateSizeForZoom(a.textSizeData,l.zoom),p=xe(t,1,n.transform.zoom),d=oe(o.posMatrix,c,u,n.transform,p),f="none"!==r.layout.get("icon-text-fit")&&a.hasIconData();if(h){const e=Math.pow(2,l.zoom-t.tileID.overscaledZ);Mn(a,u,c,s,l,d,o.posMatrix,e,h,f,n.style.terrain?(e,t)=>n.style.terrain.getElevation(o,e,t):null)}}}(i,t,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&On(t,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),a,s),0!==r.paint.get("text-opacity").constantOr(1)&&On(t,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),a,s),n.map.showCollisionBoxes&&(kn(t,n,r,i,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),!0),kn(t,n,r,i,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),!1))},circle:function(t,n,r,i){if("translucent"!==t.renderPass)return;const o=r.paint.get("circle-opacity"),a=r.paint.get("circle-stroke-width"),s=r.paint.get("circle-stroke-opacity"),l=!r.layout.get("circle-sort-key").isConstant();if(0===o.constantOr(1)&&(0===a.constantOr(1)||0===s.constantOr(1)))return;const u=t.context,c=u.gl,h=t.depthModeForSublayer(0,En.ReadOnly),p=Cn.disabled,d=t.colorModeForRenderPass(),f=[];for(let o=0;o<i.length;o++){const a=i[o],s=n.getTile(a),u=s.getBucket(r);if(!u)continue;const c=u.programConfigurations.get(r.id),h=t.useProgram("circle",c),p=u.layoutVertexBuffer,d=u.indexBuffer,m=t.style.terrain&&t.style.terrain.getTerrainData(a),g={programConfiguration:c,program:h,layoutVertexBuffer:p,indexBuffer:d,uniformValues:mt(t,a,s,r),terrainData:m};if(l){const t=u.segments.get();for(const n of t)f.push({segments:new e.SegmentVector([n]),sortKey:n.sortKey,state:g})}else f.push({segments:u.segments,sortKey:0,state:g})}l&&f.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of f){const{programConfiguration:n,program:i,layoutVertexBuffer:o,indexBuffer:a,uniformValues:s,terrainData:l}=e.state;i.draw(u,c.TRIANGLES,h,p,d,Tn.disabled,s,l,r.id,o,a,e.segments,r.paint,t.transform.zoom,n)}},heatmap:function(t,n,r,i){if(0!==r.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const o=t.context,a=o.gl,s=Cn.disabled,l=new xn([a.ONE,a.ONE],e.Color.transparent,[!0,!0,!0,!0]);!function(e,t,n){const r=e.gl;e.activeTexture.set(r.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let i=n.heatmapFbo;if(i)r.bindTexture(r.TEXTURE_2D,i.colorAttachment.get()),e.bindFramebuffer.set(i.framebuffer);else{const o=r.createTexture();r.bindTexture(r.TEXTURE_2D,o),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),i=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1),function(e,t,n,r){const i=e.gl;i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t.width/4,t.height/4,0,i.RGBA,e.extRenderToTextureHalfFloat?e.extTextureHalfFloat.HALF_FLOAT_OES:i.UNSIGNED_BYTE,null),r.colorAttachment.set(n)}(e,t,o,i)}}(o,t,r),o.clear({color:e.Color.transparent});for(let e=0;e<i.length;e++){const u=i[e];if(n.hasRenderableParent(u))continue;const c=n.getTile(u),h=c.getBucket(r);if(!h)continue;const p=h.programConfigurations.get(r.id),d=t.useProgram("heatmap",p),{zoom:f}=t.transform;d.draw(o,a.TRIANGLES,En.disabled,s,l,Tn.disabled,_t(u.posMatrix,c,f,r.paint.get("heatmap-intensity")),null,r.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,r.paint,t.transform.zoom,p)}o.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const r=t.context,i=r.gl,o=n.heatmapFbo;if(!o)return;r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new l(r,n.colorRamp,i.RGBA)),a.bind(i.LINEAR,i.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(r,i.TRIANGLES,En.disabled,Cn.disabled,t.colorModeForRenderPass(),Tn.disabled,((t,n,r,i)=>{const o=e.create();e.ortho(o,0,t.width,t.height,0,0,1);const a=t.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}})(t,n),null,n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,r))},line:function(t,n,r,i){if("translucent"!==t.renderPass)return;const o=r.paint.get("line-opacity"),a=r.paint.get("line-width");if(0===o.constantOr(1)||0===a.constantOr(1))return;const s=t.depthModeForSublayer(0,En.ReadOnly),u=t.colorModeForRenderPass(),c=r.paint.get("line-dasharray"),h=r.paint.get("line-pattern"),p=h.constantOr(1),d=r.paint.get("line-gradient"),f=r.getCrossfadeParameters(),m=p?"linePattern":c?"lineSDF":d?"lineGradient":"line",g=t.context,y=g.gl;let v=!0;for(const o of i){const i=n.getTile(o);if(p&&!i.patternsLoaded())continue;const a=i.getBucket(r);if(!a)continue;const _=a.programConfigurations.get(r.id),b=t.context.program.get(),x=t.useProgram(m,_),w=v||x.program!==b,E=t.style.terrain&&t.style.terrain.getTerrainData(o),S=h.constantOr(null);if(S&&i.imageAtlas){const e=i.imageAtlas,t=e.patternPositions[S.to.toString()],n=e.patternPositions[S.from.toString()];t&&n&&_.setConstantPatternPositions(t,n)}const C=E?o:null,T=p?Et(t,i,r,f,C):c?St(t,i,r,c,f,C):d?wt(t,i,r,a.lineClipsArray.length,C):xt(t,i,r,C);if(p)g.activeTexture.set(y.TEXTURE0),i.imageAtlasTexture.bind(y.LINEAR,y.CLAMP_TO_EDGE),_.updatePaintBuffers(f);else if(c&&(w||t.lineAtlas.dirty))g.activeTexture.set(y.TEXTURE0),t.lineAtlas.bind(g);else if(d){const i=a.gradients[r.id];let s=i.texture;if(r.gradientVersion!==i.version){let u=256;if(r.stepInterpolant){const r=n.getSource().maxzoom,i=o.canonical.z===r?Math.ceil(1<<t.transform.maxZoom-o.canonical.z):1;u=e.clamp(e.nextPowerOfTwo(a.maxLineLength/e.EXTENT*1024*i),256,g.maxTextureSize)}i.gradient=e.renderColorRamp({expression:r.gradientExpression(),evaluationKey:"lineProgress",resolution:u,image:i.gradient||void 0,clips:a.lineClipsArray}),i.texture?i.texture.update(i.gradient):i.texture=new l(g,i.gradient,y.RGBA),i.version=r.gradientVersion,s=i.texture}g.activeTexture.set(y.TEXTURE0),s.bind(r.stepInterpolant?y.NEAREST:y.LINEAR,y.CLAMP_TO_EDGE)}x.draw(g,y.TRIANGLES,s,t.stencilModeForClipping(o),u,Tn.disabled,T,E,r.id,a.layoutVertexBuffer,a.indexBuffer,a.segments,r.paint,t.transform.zoom,_,a.layoutVertexBuffer2),v=!1}},fill:function(t,n,r,i){const o=r.paint.get("fill-color"),a=r.paint.get("fill-opacity");if(0===a.constantOr(1))return;const s=t.colorModeForRenderPass(),l=r.paint.get("fill-pattern"),u=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===o.constantOr(e.Color.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===u){const e=t.depthModeForSublayer(1,"opaque"===t.renderPass?En.ReadWrite:En.ReadOnly);Nn(t,n,r,i,e,s,!1)}if("translucent"===t.renderPass&&r.paint.get("fill-antialias")){const e=t.depthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,En.ReadOnly);Nn(t,n,r,i,e,s,!0)}},"fill-extrusion":function(e,t,n,r){const i=n.paint.get("fill-extrusion-opacity");if(0!==i&&"translucent"===e.renderPass){const o=new En(e.context.gl.LEQUAL,En.ReadWrite,e.depthRangeFor3D);if(1!==i||n.paint.get("fill-extrusion-pattern").constantOr(1))Dn(e,t,n,r,o,Cn.disabled,xn.disabled),Dn(e,t,n,r,o,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const i=e.colorModeForRenderPass();Dn(e,t,n,r,o,Cn.disabled,i)}}},hillshade:function(e,t,n,r){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const i=e.context,o=e.depthModeForSublayer(0,En.ReadOnly),a=e.colorModeForRenderPass(),[s,l]="translucent"===e.renderPass?e.stencilConfigForOverlap(r):[{},r];for(const r of l){const i=t.getTile(r);void 0!==i.needsHillshadePrepare&&i.needsHillshadePrepare&&"offscreen"===e.renderPass?Fn(e,i,n,o,Cn.disabled,a):"translucent"===e.renderPass&&zn(e,r,i,n,o,s[r.overscaledZ],a)}i.viewport.set([0,0,e.width,e.height])},raster:function(e,t,n,r){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const i=e.context,o=i.gl,a=t.getSource(),s=e.useProgram("raster"),l=e.colorModeForRenderPass(),[u,c]=a instanceof k?[{},r]:e.stencilConfigForOverlap(r),h=c[c.length-1].overscaledZ,p=!e.options.moving;for(const r of c){const c=e.depthModeForSublayer(r.overscaledZ-h,1===n.paint.get("raster-opacity")?En.ReadWrite:En.ReadOnly,o.LESS),d=t.getTile(r);d.registerFadeDuration(n.paint.get("raster-fade-duration"));const f=t.findLoadedParent(r,0),m=Bn(d,f,t,n,e.transform,e.style.terrain);let g,y;const v="nearest"===n.paint.get("raster-resampling")?o.NEAREST:o.LINEAR;i.activeTexture.set(o.TEXTURE0),d.texture.bind(v,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),i.activeTexture.set(o.TEXTURE1),f?(f.texture.bind(v,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST),g=Math.pow(2,f.tileID.overscaledZ-d.tileID.overscaledZ),y=[d.tileID.canonical.x*g%1,d.tileID.canonical.y*g%1]):d.texture.bind(v,o.CLAMP_TO_EDGE,o.LINEAR_MIPMAP_NEAREST);const _=e.style.terrain&&e.style.terrain.getTerrainData(r),b=_?r:null,x=b?b.posMatrix:e.transform.calculatePosMatrix(r.toUnwrapped(),p),w=It(x,y||[0,0],g||1,m,n);a instanceof k?s.draw(i,o.TRIANGLES,c,Cn.disabled,l,Tn.disabled,w,_,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):s.draw(i,o.TRIANGLES,c,u[r.overscaledZ],l,Tn.disabled,w,_,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}},background:function(e,t,n,r){const i=n.paint.get("background-color"),o=n.paint.get("background-opacity");if(0===o)return;const a=e.context,s=a.gl,l=e.transform,u=l.tileSize,c=n.paint.get("background-pattern");if(e.isPatternMissing(c))return;const h=!c&&1===i.a&&1===o&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==h)return;const p=Cn.disabled,d=e.depthModeForSublayer(0,"opaque"===h?En.ReadWrite:En.ReadOnly),f=e.colorModeForRenderPass(),m=e.useProgram(c?"backgroundPattern":"background"),g=r||l.coveringTiles({tileSize:u,terrain:e.style.terrain});c&&(a.activeTexture.set(s.TEXTURE0),e.imageManager.bind(e.context));const y=n.getCrossfadeParameters();for(const t of g){const l=r?t.posMatrix:e.transform.calculatePosMatrix(t.toUnwrapped()),h=c?Ot(l,o,e,c,{tileID:t,tileSize:u},y):At(l,o,i),g=e.style.terrain&&e.style.terrain.getTerrainData(t);m.draw(a,s.TRIANGLES,d,p,f,Tn.disabled,h,g,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}},debug:function(e,t,n){for(let r=0;r<n.length;r++)$n(e,t,n[r])},custom:function(e,t,n){const r=e.context,i=n.implementation;if("offscreen"===e.renderPass){const t=i.prerender;t&&(e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),t.call(i,r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),r.setColorMode(e.colorModeForRenderPass()),r.setStencilMode(Cn.disabled);const t="3d"===i.renderingMode?new En(e.context.gl.LEQUAL,En.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,En.ReadOnly);r.setDepthMode(t),i.render(r.gl,e.transform.customLayerMatrix()),r.setDirty(),e.setBaseState(),r.bindFramebuffer.set(null)}}};class Qn{constructor(t,n){this.context=new wn(t),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:e.create(),renderTime:0},this.setup(),this.numSublayers=F.maxUnderzooming+F.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new We,this.gpuTimers={}}resize(e,t,n){if(this.width=e*n,this.height=t*n,this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const e of this.style._order)this.style._layers[e].resize()}setup(){const t=this.context,n=new e.PosArray;n.emplaceBack(0,0),n.emplaceBack(e.EXTENT,0),n.emplaceBack(0,e.EXTENT),n.emplaceBack(e.EXTENT,e.EXTENT),this.tileExtentBuffer=t.createVertexBuffer(n,$e.members),this.tileExtentSegments=e.SegmentVector.simpleSegment(0,0,4,2);const r=new e.PosArray;r.emplaceBack(0,0),r.emplaceBack(e.EXTENT,0),r.emplaceBack(0,e.EXTENT),r.emplaceBack(e.EXTENT,e.EXTENT),this.debugBuffer=t.createVertexBuffer(r,$e.members),this.debugSegments=e.SegmentVector.simpleSegment(0,0,4,5);const i=new e.RasterBoundsArray;i.emplaceBack(0,0,0,0),i.emplaceBack(e.EXTENT,0,e.EXTENT,0),i.emplaceBack(0,e.EXTENT,0,e.EXTENT),i.emplaceBack(e.EXTENT,e.EXTENT,e.EXTENT,e.EXTENT),this.rasterBoundsBuffer=t.createVertexBuffer(i,I.members),this.rasterBoundsSegments=e.SegmentVector.simpleSegment(0,0,4,2);const o=new e.PosArray;o.emplaceBack(0,0),o.emplaceBack(1,0),o.emplaceBack(0,1),o.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(o,$e.members),this.viewportSegments=e.SegmentVector.simpleSegment(0,0,4,2);const a=new e.LineStripIndexArray;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);const s=new e.TriangleIndexArray;s.emplaceBack(0,1,2),s.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(s),this.emptyTexture=new l(t,{width:1,height:1,data:new Uint8Array([0,0,0,0])},t.gl.RGBA);const u=this.context.gl;this.stencilClearMode=new Cn({func:u.ALWAYS,mask:0},0,255,u.ZERO,u.ZERO,u.ZERO)}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const r=e.create();e.ortho(r,0,this.width,this.height,0,0,1),e.scale(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,En.disabled,this.stencilClearMode,xn.disabled,Tn.disabled,vt(r),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source;const n=this.context,r=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(xn.disabled),n.setDepthMode(En.disabled);const i=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const e of t){const t=this._tileClippingMaskIDs[e.key]=this.nextStencilID++,o=this.style.terrain&&this.style.terrain.getTerrainData(e);i.draw(n,r.TRIANGLES,En.disabled,new Cn({func:r.ALWAYS,mask:0},t,255,r.KEEP,r.KEEP,r.REPLACE),xn.disabled,Tn.disabled,vt(e.posMatrix),o,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Cn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new Cn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,n=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();const e={};for(let n=0;n<i;n++)e[n+r]=new Cn({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[e,n]}return[{[r]:Cn.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new xn([t.CONSTANT_COLOR,t.ONE],new e.Color(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?xn.unblended:xn.alphaBlended}depthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return En.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new En(n||this.context.gl.LEQUAL,t,[r,r])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.exported.now()),this.imageManager.beginFrame();const r=this.style._order,i=this.style.sourceCaches,o=this.style.terrain&&new Kn(this);for(const e in i){const t=i[e];t.used&&t.prepare(this.context)}const a={},s={},l={};for(const e in i){const t=i[e];a[e]=t.getVisibleCoordinates(),s[e]=a[e].slice().reverse(),l[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<r.length;e++)if(this.style._layers[r[e]].is3D()){this.opaquePassCutoff=e;break}if(o){this.opaquePassCutoff=0;const t=this.style.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!e.equals(this.terrainFacilitator.matrix,this.transform.projMatrix)||t.length)&&(e.copy(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(t,n){const r=t.context,i=r.gl,o=xn.unblended,a=new En(i.LEQUAL,En.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.sourceCache.getRenderableTiles(),u=t.useProgram("terrainDepth");r.bindFramebuffer.set(n.getFramebuffer("depth").framebuffer),r.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),r.clear({color:e.Color.transparent,depth:1});for(const e of l){const l=n.getTerrainData(e.tileID),c=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());u.draw(r,i.TRIANGLES,a,Cn.disabled,o,Tn.backCCW,{u_matrix:c},l,"terrain",s.vertexBuffer,s.indexBuffer,s.segments)}r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height])}(this,this.style.terrain),function(t,n){const r=t.context,i=r.gl,o=xn.unblended,a=new En(i.LEQUAL,En.ReadWrite,[0,1]),s=n.getTerrainMesh(),l=n.getCoordsTexture(),u=n.sourceCache.getRenderableTiles(),c=t.useProgram("terrainCoords");r.bindFramebuffer.set(n.getFramebuffer("coords").framebuffer),r.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),r.clear({color:e.Color.transparent,depth:1}),n.coordsIndex=[];for(const e of u){const u=n.getTerrainData(e.tileID);r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture);const h=t.transform.calculatePosMatrix(e.tileID.toUnwrapped());c.draw(r,i.TRIANGLES,a,Cn.disabled,o,Tn.backCCW,{u_matrix:h,u_terrain_coords_id:(255-n.coordsIndex.length)/255,u_texture:0},u,"terrain",s.vertexBuffer,s.indexBuffer,s.segments),n.coordsIndex.push(e.tileID.key)}r.bindFramebuffer.set(null),r.viewport.set([0,0,t.width,t.height])}(this,this.style.terrain))}this.renderPass="offscreen";for(const e of r){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const n=s[t.source];("custom"===t.type||n.length)&&this.renderLayer(this,i[t.source],t,n)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.Color.black:e.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!o)for(this.renderPass="opaque",this.currentLayer=r.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[r[this.currentLayer]],t=i[e.source],n=a[e.source];this._renderTileClippingMasks(e,n),this.renderLayer(this,t,e,n)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<r.length;this.currentLayer++){const e=this.style._layers[r[this.currentLayer]],t=i[e.source];if(o&&o.renderLayer(e))continue;const n=("symbol"===e.type?l:s)[e.source];this._renderTileClippingMasks(e,a[e.source]),this.renderLayer(this,t,e,n)}if(this.options.showTileBoundaries){let e,t;Object.values(this.style._layers).forEach((n=>{n.source&&!n.isHidden(this.transform.zoom)&&(n.source!==(t&&t.id)&&(t=this.style.sourceCaches[n.source]),(!e||e.getSource().maxzoom<t.getSource().maxzoom)&&(e=t))})),e&&Jn.debug(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Gn(e,e.transform.height-(t.top||0),3,jn),Gn(e,t.bottom||0,3,Zn),Hn(e,t.left||0,3,Un),Hn(e,e.transform.width-(t.right||0),3,qn);const n=e.transform.centerPoint;!function(e,t,n,r){Wn(e,t-1,n-10,2,20,r),Wn(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,Vn)}(this),this.context.setDefault()}renderLayer(e,t,n,r){n.isHidden(this.transform.zoom)||("background"===n.type||"custom"===n.type||(r||[]).length)&&(this.id=n.id,this.gpuTimingStart(n),Jn[n.type](e,t,n,r,this.style.placement.variableOffsets),this.gpuTimingEnd())}gpuTimingStart(e){if(!this.options.gpuTiming)return;const t=this.context.extTimerQuery;let n=this.gpuTimers[e.id];n||(n=this.gpuTimers[e.id]={calls:0,cpuTime:0,query:t.createQueryEXT()}),n.calls++,t.beginQueryEXT(t.TIME_ELAPSED_EXT,n.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const e=this.context.extTimerQuery;e.endQueryEXT(e.TIME_ELAPSED_EXT)}collectGpuTimers(){const e=this.gpuTimers;return this.gpuTimers={},e}queryGpuTimers(e){const t={};for(const n in e){const r=e[n],i=this.context.extTimerQuery,o=i.getQueryObjectEXT(r.query,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(r.query),t[n]=o}return t}translatePosMatrix(t,n,r,i,o){if(!r[0]&&!r[1])return t;const a=o?"map"===i?this.transform.angle:0:"viewport"===i?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);r=[r[0]*t-r[1]*e,r[0]*e+r[1]*t]}const s=[o?r[0]:xe(n,r[0],this.transform.zoom),o?r[1]:xe(n,r[1],this.transform.zoom),0],l=new Float32Array(16);return e.translate(l,t,s),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}useProgram(e,t){this.cache=this.cache||{};const n=e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.terrain?"/terrain":"");return this.cache[n]||(this.cache[n]=new st(this.context,e,rt[e],t,Rt[e],this._showOverdrawInspector,this.style.terrain)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new l(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}}class er{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,n,r){const i=Math.pow(2,r),o=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((r=>{const o=1/(r=e.transformMat4([],r,t))[3]/n*i;return e.mul$1(r,r,[o,o,1/r[3],o])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((t=>{const n=e.sub([],o[t[0]],o[t[1]]),r=e.sub([],o[t[2]],o[t[1]]),i=e.normalize([],e.cross([],n,r)),a=-e.dot(i,o[t[1]]);return i.concat(a)}));return new er(o,a)}}class tr{constructor(t,n){this.min=t,this.max=n,this.center=e.scale$1([],e.add([],this.min,this.max),.5)}quadrant(t){const n=[t%2==0,t<2],r=e.clone$2(this.min),i=e.clone$2(this.max);for(let e=0;e<n.length;e++)r[e]=n[e]?this.min[e]:this.center[e],i[e]=n[e]?this.center[e]:this.max[e];return i[2]=this.max[2],new tr(r,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(t){const n=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let r=!0;for(let i=0;i<t.planes.length;i++){const o=t.planes[i];let a=0;for(let t=0;t<n.length;t++)e.dot$1(o,n[t])>=0&&a++;if(0===a)return 0;a!==n.length&&(r=!1)}if(r)return 2;for(let e=0;e<3;e++){let n=Number.MAX_VALUE,r=-Number.MAX_VALUE;for(let i=0;i<t.points.length;i++){const o=t.points[i][e]-this.min[e];n=Math.min(n,o),r=Math.max(r,o)}if(r<0||n>this.max[e]-this.min[e])return 0}return 1}}class nr{constructor(e=0,t=0,n=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r}interpolate(t,n,r){return null!=n.top&&null!=t.top&&(this.top=e.number(t.top,n.top,r)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.number(t.bottom,n.bottom,r)),null!=n.left&&null!=t.left&&(this.left=e.number(t.left,n.left,r)),null!=n.right&&null!=t.right&&(this.right=e.number(t.right,n.right,r)),this}getCenter(t,n){const r=e.clamp((this.left+t-this.right)/2,0,t),i=e.clamp((this.top+n-this.bottom)/2,0,n);return new e.pointGeometry(r,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new nr(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class rr{constructor(t,n,r,i,o){this.tileSize=512,this.maxValidLatitude=85.051129,this.freezeElevation=!1,this._renderWorldCopies=void 0===o||!!o,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==r?0:r,this._maxPitch=null==i?60:i,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.LngLat(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new nr,this._posMatrixCache={},this._alignedPosMatrixCache={}}clone(){const e=new rr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.tileSize=this.tileSize,e.latRange=this.latRange,e.width=this.width,e.height=this.height,e._center=this._center,e._elevation=this._elevation,e.zoom=this.zoom,e.angle=this.angle,e._fov=this._fov,e._pitch=this._pitch,e._unmodified=this._unmodified,e._edgeInsets=this._edgeInsets.clone(),e._calcMatrices(),e}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const n=-e.wrap(t,-180,180)*Math.PI/180;var r;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=(r=new e.ARRAY_TYPE(4),e.ARRAY_TYPE!=Float32Array&&(r[1]=0,r[2]=0),r[0]=1,r[3]=1,r),function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=Math.sin(n),l=Math.cos(n);e[0]=r*l+o*s,e[1]=i*l+a*s,e[2]=r*-s+o*l,e[3]=i*-s+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.clamp(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.scale=this.zoomScale(t),this.tileZoom=Math.floor(t),this.zoomFraction=t-this.tileZoom,this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.UnwrappedTileID(0,t)];if(this._renderWorldCopies){const r=this.pointCoordinate(new e.pointGeometry(0,0)),i=this.pointCoordinate(new e.pointGeometry(this.width,0)),o=this.pointCoordinate(new e.pointGeometry(this.width,this.height)),a=this.pointCoordinate(new e.pointGeometry(0,this.height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),u=1;for(let r=s-u;r<=l+u;r++)0!==r&&n.push(new e.UnwrappedTileID(r,t))}return n}coveringTiles(t){var n,r;let i=this.coveringZoomLevel(t);const o=i;if(void 0!==t.minzoom&&i<t.minzoom)return[];void 0!==t.maxzoom&&i>t.maxzoom&&(i=t.maxzoom);const a=this.pointCoordinate(this.getCameraPoint()),s=e.MercatorCoordinate.fromLngLat(this.center),l=Math.pow(2,i),u=[l*a.x,l*a.y,0],c=[l*s.x,l*s.y,0],h=er.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,i);let p=t.minzoom||0;!t.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(p=i);const d=t.terrain?2/Math.min(this.tileSize,t.tileSize)*this.tileSize:3,f=e=>({aabb:new tr([e*l,0,0],[(e+1)*l,l,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),m=[],g=[],y=i,v=t.reparseOverscaled?o:i;if(this._renderWorldCopies)for(let e=1;e<=3;e++)m.push(f(-e)),m.push(f(e));for(m.push(f(0));m.length>0;){const i=m.pop(),o=i.x,a=i.y;let s=i.fullyVisible;if(!s){const e=i.aabb.intersects(h);if(0===e)continue;s=2===e}const l=t.terrain?u:c,f=i.aabb.distanceX(l),_=i.aabb.distanceY(l),b=Math.max(Math.abs(f),Math.abs(_)),x=d+(1<<y-i.zoom)-2;if(i.zoom===y||b>x&&i.zoom>=p){const t=y-i.zoom,n=u[0]-.5-(o<<t),r=u[1]-.5-(a<<t);g.push({tileID:new e.OverscaledTileID(i.zoom===y?v:i.zoom,i.wrap,i.zoom,o,a),distanceSq:e.sqrLen([c[0]-.5-o,c[1]-.5-a]),tileDistanceToCamera:Math.sqrt(n*n+r*r)})}else for(let l=0;l<4;l++){const u=(o<<1)+l%2,c=(a<<1)+(l>>1),h=i.zoom+1;let p=i.aabb.quadrant(l);if(t.terrain){const o=new e.OverscaledTileID(h,i.wrap,h,u,c),a=t.terrain.getMinMaxElevation(o),s=null!==(n=a.minElevation)&&void 0!==n?n:this.elevation,l=null!==(r=a.maxElevation)&&void 0!==r?r:this.elevation;p=new tr([p.min[0],p.min[1],s],[p.max[0],p.max[1],l])}m.push({aabb:p,zoom:h,x:u,y:c,wrap:i.wrap,fullyVisible:s})}}return g.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.clamp(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.pointGeometry(e.mercatorXfromLng(t.lng)*this.worldSize,e.mercatorYfromLat(n)*this.worldSize)}unproject(t){return new e.MercatorCoordinate(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}updateElevation(e){this.freezeElevation||(this.elevation=e?this.getElevation(this._center,e):0)}getElevation(t,n){const r=e.MercatorCoordinate.fromLngLat(t),i=(1<<this.tileZoom)*e.EXTENT,o=r.x*i,a=r.y*i,s=Math.floor(o/e.EXTENT),l=Math.floor(a/e.EXTENT),u=new e.OverscaledTileID(this.tileZoom,0,this.tileZoom,s,l);return n.getElevation(u,o%e.EXTENT,a%e.EXTENT,e.EXTENT)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(t){const n=this.pointLocation(this.centerPoint,t),r=this.getElevation(n,t);if(!(this.elevation-r))return;const i=this.getCameraPosition(),o=e.MercatorCoordinate.fromLngLat(i.lngLat,i.altitude),a=e.MercatorCoordinate.fromLngLat(n,r),s=o.x-a.x,l=o.y-a.y,u=o.z-a.z,c=Math.sqrt(s*s+l*l+u*u),h=this.scaleZoom(this.cameraToCenterDistance/c/this.tileSize);this._elevation=r,this._center=n,this.zoom=h}setLocationAtPoint(t,n){const r=this.pointCoordinate(n),i=this.pointCoordinate(this.centerPoint),o=this.locationCoordinate(t),a=new e.MercatorCoordinate(o.x-(r.x-i.x),o.y-(r.y-i.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e,t){return t?this.coordinatePoint(this.locationCoordinate(e),this.getElevation(e,t),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e,t){return this.coordinateLocation(this.pointCoordinate(e,t))}locationCoordinate(t){return e.MercatorCoordinate.fromLngLat(t)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(t,n){if(n){const e=n.pointCoordinate(t);if(null!=e)return e}const r=[t.x,t.y,0,1],i=[t.x,t.y,1,1];e.transformMat4(r,r,this.pixelMatrixInverse),e.transformMat4(i,i,this.pixelMatrixInverse);const o=r[3],a=i[3],s=r[1]/o,l=i[1]/a,u=r[2]/o,c=i[2]/a,h=u===c?0:(0-u)/(c-u);return new e.MercatorCoordinate(e.number(r[0]/o,i[0]/a,h)/this.worldSize,e.number(s,l,h)/this.worldSize)}coordinatePoint(t,n=0,r=this.pixelMatrix){const i=[t.x*this.worldSize,t.y*this.worldSize,n,1];return e.transformMat4(i,i,r),new e.pointGeometry(i[0]/i[3],i[1]/i[3])}getBounds(){const t=Math.max(0,this.height/2-this.getHorizon());return(new e.LngLatBounds).extend(this.pointLocation(new e.pointGeometry(0,t))).extend(this.pointLocation(new e.pointGeometry(this.width,t))).extend(this.pointLocation(new e.pointGeometry(this.width,this.height))).extend(this.pointLocation(new e.pointGeometry(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new e.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t,n=!1){const r=t.key,i=n?this._alignedPosMatrixCache:this._posMatrixCache;if(i[r])return i[r];const o=t.canonical,a=this.worldSize/this.zoomScale(o.z),s=o.x+Math.pow(2,o.z)*t.wrap,l=e.identity(new Float64Array(16));return e.translate(l,l,[s*a,o.y*a,0]),e.scale(l,l,[a/e.EXTENT,a/e.EXTENT,1]),e.multiply(l,n?this.alignedProjMatrix:this.projMatrix,l),i[r]=new Float32Array(l),i[r]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,n,r,i,o=-90,a=90,s=-180,l=180;const u=this.size,c=this._unmodified;if(this.latRange){const n=this.latRange;o=e.mercatorYfromLat(n[1])*this.worldSize,a=e.mercatorYfromLat(n[0])*this.worldSize,t=a-o<u.y?u.y/(a-o):0}if(this.lngRange){const t=this.lngRange;s=e.wrap(e.mercatorXfromLng(t[0])*this.worldSize,0,this.worldSize),l=e.wrap(e.mercatorXfromLng(t[1])*this.worldSize,0,this.worldSize),l<s&&(l+=this.worldSize),n=l-s<u.x?u.x/(l-s):0}const h=this.point,p=Math.max(n||0,t||0);if(p)return this.center=this.unproject(new e.pointGeometry(n?(l+s)/2:h.x,t?(a+o)/2:h.y)),this.zoom+=this.scaleZoom(p),this._unmodified=c,void(this._constraining=!1);if(this.latRange){const e=h.y,t=u.y/2;e-t<o&&(i=o+t),e+t>a&&(i=a-t)}if(this.lngRange){const t=(s+l)/2,n=e.wrap(h.x,t-this.worldSize/2,t+this.worldSize/2),i=u.x/2;n-i<s&&(r=s+i),n+i>l&&(r=l-i)}void 0===r&&void 0===i||(this.center=this.unproject(new e.pointGeometry(void 0!==r?r:h.x,void 0!==i?i:h.y)).wrap()),this._unmodified=c,this._constraining=!1}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.point.x,r=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=e.mercatorZfromAltitude(1,this.center.lat)*this.worldSize;let i=e.identity(new Float64Array(16));e.scale(i,i,[this.width/2,-this.height/2,1]),e.translate(i,i,[1,-1,0]),this.labelPlaneMatrix=i,i=e.identity(new Float64Array(16)),e.scale(i,i,[1,-1,1]),e.translate(i,i,[-1,-1,0]),e.scale(i,i,[2/this.width,2/this.height,1]),this.glCoordMatrix=i,this.cameraToSeaLevelDistance=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch);const o=Math.PI/2+this._pitch,a=this._fov*(.5+t.y/this.height),s=Math.sin(a)*this.cameraToSeaLevelDistance/Math.sin(e.clamp(Math.PI-o-a,.01,Math.PI-.01)),l=this.getHorizon(),u=2*Math.atan(l/this.cameraToCenterDistance)*(.5+t.y/(2*l)),c=Math.sin(u)*this.cameraToSeaLevelDistance/Math.sin(e.clamp(Math.PI-o-u,.01,Math.PI-.01)),h=Math.cos(Math.PI/2-this._pitch)*s+this.cameraToSeaLevelDistance,p=Math.cos(Math.PI/2-this._pitch)*c+this.cameraToSeaLevelDistance,d=1.01*Math.min(h,p),f=this.height/50;i=new Float64Array(16),e.perspective(i,this._fov,this.width/this.height,f,d),i[8]=2*-t.x/this.width,i[9]=2*t.y/this.height,e.scale(i,i,[1,-1,1]),e.translate(i,i,[0,0,-this.cameraToCenterDistance]),e.rotateX(i,i,this._pitch),e.rotateZ(i,i,this.angle),e.translate(i,i,[-n,-r,0]),this.mercatorMatrix=e.scale([],i,[this.worldSize,this.worldSize,this.worldSize]),e.scale(i,i,[1,1,this._pixelPerMeter]),this.pixelMatrix=e.multiply(new Float64Array(16),this.labelPlaneMatrix,i),e.translate(i,i,[0,0,-this.elevation]),this.projMatrix=i,this.invProjMatrix=e.invert([],i),this.pixelMatrix3D=e.multiply(new Float64Array(16),this.labelPlaneMatrix,i);const m=this.width%2/2,g=this.height%2/2,y=Math.cos(this.angle),v=Math.sin(this.angle),_=n-Math.round(n)+y*m+v*g,b=r-Math.round(r)+y*g+v*m,x=new Float64Array(i);if(e.translate(x,x,[_>.5?_-1:_,b>.5?b-1:b,0]),this.alignedProjMatrix=x,i=e.invert(new Float64Array(16),this.pixelMatrix),!i)throw new Error("failed to invert matrix");this.pixelMatrixInverse=i,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const t=this.pointCoordinate(new e.pointGeometry(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.transformMat4(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.pointGeometry(0,t))}getCameraQueryGeometry(t){const n=this.getCameraPoint();if(1===t.length)return[t[0],n];{let r=n.x,i=n.y,o=n.x,a=n.y;for(const e of t)r=Math.min(r,e.x),i=Math.min(i,e.y),o=Math.max(o,e.x),a=Math.max(a,e.y);return[new e.pointGeometry(r,i),new e.pointGeometry(o,i),new e.pointGeometry(o,a),new e.pointGeometry(r,a),new e.pointGeometry(r,i)]}}}class ir{constructor(t){this._hashName=t&&encodeURIComponent(t),e.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(e,t){let n=!1,r=null;const i=()=>{r=null,n&&(e(),r=setTimeout(i,300),n=!1)};return()=>(n=!0,r||i(),r)}(this._updateHashUnthrottled.bind(this))}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(t.lng*i)/i,a=Math.round(t.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch();let u="";if(u+=e?`/${o}/${a}/${n}`:`${n}/${a}/${o}`,(s||l)&&(u+="/"+Math.round(10*s)/10),l&&(u+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let t=!1;const n=window.location.hash.slice(1).split("&").map((n=>{const r=n.split("=")[0];return r===e?(t=!0,`${r}=${u}`):n})).filter((e=>e));return t||n.push(`${e}=${u}`),`#${n.join("&")}`}return`#${u}`}_getCurrentHash(){const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")}_onHashChange(){const e=this._getCurrentHash();if(e.length>=3&&!e.some((e=>isNaN(e)))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1}_updateHashUnthrottled(){const e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}}}const or={linearity:.3,easing:e.bezier(0,0,.3,1)},ar=e.extend({deceleration:2500,maxSpeed:1400},or),sr=e.extend({deceleration:20,maxSpeed:1400},or),lr=e.extend({deceleration:1e3,maxSpeed:360},or),ur=e.extend({deceleration:1e3,maxSpeed:90},or);class cr{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.exported.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.exported.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const r=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(n.pan.mag()){const o=pr(n.pan.mag(),r,e.extend({},ar,t||{}));i.offset=n.pan.mult(o.amount/n.pan.mag()),i.center=this._map.transform.center,hr(i,o)}if(n.zoom){const e=pr(n.zoom,r,sr);i.zoom=this._map.transform.zoom+e.amount,hr(i,e)}if(n.bearing){const t=pr(n.bearing,r,lr);i.bearing=this._map.transform.bearing+e.clamp(t.amount,-179,179),hr(i,t)}if(n.pitch){const e=pr(n.pitch,r,ur);i.pitch=this._map.transform.pitch+e.amount,hr(i,e)}if(i.zoom||i.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.extend(i,{noMoveStart:!0})}}function hr(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function pr(t,n,r){const{maxSpeed:i,linearity:o,deceleration:a}=r,s=e.clamp(t*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}class dr extends e.Event{constructor(t,n,r,i={}){const a=o.mousePos(n.getCanvasContainer(),r),s=n.unproject(a);super(t,e.extend({point:a,lngLat:s,originalEvent:r},i)),this._defaultPrevented=!1,this.target=n}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class fr extends e.Event{constructor(t,n,r){const i="touchend"===t?r.changedTouches:r.touches,a=o.touchPos(n.getCanvasContainer(),i),s=a.map((e=>n.unproject(e))),l=a.reduce(((e,t,n,r)=>e.add(t.div(r.length))),new e.pointGeometry(0,0));super(t,{points:a,point:l,lngLats:s,lngLat:n.unproject(l),originalEvent:r}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class mr extends e.Event{constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}}class gr{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new mr(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new dr(e.type,this._map,e))}mouseup(e){this._map.fire(new dr(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new dr(e.type,this._map,e))}dblclick(e){return this._firePreventable(new dr(e.type,this._map,e))}mouseover(e){this._map.fire(new dr(e.type,this._map,e))}mouseout(e){this._map.fire(new dr(e.type,this._map,e))}touchstart(e){return this._firePreventable(new fr(e.type,this._map,e))}touchmove(e){this._map.fire(new fr(e.type,this._map,e))}touchend(e){this._map.fire(new fr(e.type,this._map,e))}touchcancel(e){this._map.fire(new fr(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class yr{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new dr(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new dr("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new dr(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class vr{constructor(e,t){this._map=e,this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(o.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=o.create("div","maplibregl-boxzoom mapboxgl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair","mapboxgl-crosshair"),this._fireEvent("boxzoomstart",e));const i=Math.min(r.x,n.x),a=Math.max(r.x,n.x),s=Math.min(r.y,n.y),l=Math.max(r.y,n.y);o.setTransform(this._box,`translate(${i}px,${s}px)`),this._box.style.width=a-i+"px",this._box.style.height=l-s+"px"}mouseupWindow(t,n){if(!this._active)return;if(0!==t.button)return;const r=this._startPos,i=n;if(this.reset(),o.suppressClick(),r.x!==i.x||r.y!==i.y)return this._map.fire(new e.Event("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(r,i,this._map.getBearing(),{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair","mapboxgl-crosshair"),this._box&&(o.remove(this._box),this._box=null),o.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.Event(t,{originalEvent:n}))}}function _r(e,t){if(e.length!==t.length)throw new Error(`The number of touches and points are not equal - touches ${e.length}, points ${t.length}`);const n={};for(let r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}class br{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),r.length===this.numTouches&&(this.centroid=function(t){const n=new e.pointGeometry(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=_r(r,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const r=_r(n,t);for(const e in this.touches){const t=this.touches[e],n=r[e];(!n||n.dist(t)>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class xr{constructor(e){this.singleTap=new br(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const r=this.singleTap.touchend(e,t,n);if(r){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(r)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class wr{constructor(){this._zoomIn=new xr({numTouches:1,numTaps:2}),this._zoomOut=new xr({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const r=this._zoomIn.touchend(e,t,n),i=this._zoomOut.touchend(e,t,n);return r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()+1,around:t.unproject(r)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:t.getZoom()-1,around:t.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Er={0:1,2:2};class Sr{constructor(e){this.reset(),this._clickTolerance=e.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(e,t){return!1}_move(e,t){return{}}mousedown(e,t){if(this._lastPoint)return;const n=o.mouseButton(e);this._correctButton(e,n)&&(this._lastPoint=t,this._eventButton=n)}mousemoveWindow(e,t){const n=this._lastPoint;if(n)if(e.preventDefault(),function(e,t){const n=Er[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton))this.reset();else if(this._moved||!(t.dist(n)<this._clickTolerance))return this._moved=!0,this._lastPoint=t,this._move(n,t)}mouseupWindow(e){this._lastPoint&&o.mouseButton(e)===this._eventButton&&(this._moved&&o.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cr extends Sr{mousedown(e,t){super.mousedown(e,t),this._lastPoint&&(this._active=!0)}_correctButton(e,t){return 0===t&&!e.ctrlKey}_move(e,t){return{around:t,panDelta:t.sub(e)}}}class Tr extends Sr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=.8*(t.x-e.x);if(n)return this._active=!0,{bearingDelta:n}}contextmenu(e){e.preventDefault()}}class Ir extends Sr{_correctButton(e,t){return 0===t&&e.ctrlKey||2===t}_move(e,t){const n=-.5*(t.y-e.y);if(n)return this._active=!0,{pitchDelta:n}}contextmenu(e){e.preventDefault()}}class kr{constructor(e,t){this._minTouches=e.cooperativeGestures?2:1,this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.pointGeometry(0,0),setTimeout((()=>{this._cancelCooperativeMessage=!1}),200)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._map._cooperativeGestures&&(2===this._minTouches&&n.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(e,!1,n.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,r){r.length>0&&(this._active=!0);const i=_r(r,n),o=new e.pointGeometry(0,0),a=new e.pointGeometry(0,0);let s=0;for(const e in i){const t=i[e],n=this._touches[e];n&&(o._add(t),a._add(t.sub(n)),s++,i[e]=t)}if(this._touches=i,s<this._minTouches||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Pr{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(e){}_move(e,t,n){return{}}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[r,i]=this._firstTwoTouches,o=Lr(n,t,r),a=Lr(n,t,i);if(!o||!a)return;const s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[r,i]=this._firstTwoTouches,a=Lr(n,t,r),s=Lr(n,t,i);a&&s||(this._active&&o.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function Lr(e,t,n){for(let r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Mr(e,t){return Math.log(e/t)/Math.LN2}class Ar extends Pr{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Mr(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Mr(this._distance,n),pinchAround:t}}}function Or(e,t){return 180*e.angleWith(t)/Math.PI}class Rr extends Pr{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Or(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=Or(e,this._startVector);return Math.abs(n)<t}}function Nr(e){return Math.abs(e.y)>Math.abs(e.x)}class Dr extends Pr{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,n){super.touchstart(e,t,n),this._currentTouchCount=n.length}_start(e){this._lastPoints=e,Nr(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}):void 0}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,i=t.mag()>=2;if(!r&&!i)return;if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return Nr(e)&&Nr(t)&&o}}const zr={panStep:100,bearingStep:15,pitchStep:10};class Fr{constructor(){const e=zr;this._panStep=e.panStep,this._bearingStep=e.bearingStep,this._pitchStep=e.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,r=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{const s=a.getZoom();a.easeTo({duration:300,easeId:"keyboardHandler",easing:Br,zoom:t?Math.round(s)+t*(e.shiftKey?2:1):s,bearing:a.getBearing()+n*this._bearingStep,pitch:a.getPitch()+r*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:a.getCenter()},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Br(e){return e*(2-e)}const jr=4.000244140625;class Zr{constructor(t,n){this._map=t,this._el=t.getCanvasContainer(),this._handler=n,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,e.bindAll(["_onTimeout"],this)}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!this._map._metaPress)return;t.preventDefault()}let n=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const r=e.exported.now(),i=r-(this._lastWheelEventTime||0);this._lastWheelEventTime=r,0!==n&&n%jr==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":i>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(i*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_onTimeout(e){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=o.mousePos(this._el,t);this._around=e.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(n)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._map.transform;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>jr?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const r="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(r*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:t.zoom,r=this._startZoom,i=this._easing;let o,a=!1;if("wheel"===this._type&&r&&i){const t=Math.min((e.exported.now()-this._lastWheelEventTime)/200,1),s=i(t);o=e.number(r,n,s),t<1?this._frameId||(this._frameId=!0):a=!0}else o=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:o-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.ease;if(this._prevEase){const t=this._prevEase,r=(e.exported.now()-t.start)/t.duration,i=t.easing(r+.01)-t.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=e.bezier(o,a,.25,1)}return this._prevEase={start:e.exported.now(),duration:t,easing:n},n}reset(){this._active=!1}}class Ur{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class qr{constructor(){this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:n.getZoom()+(e.shiftKey?-1:1),around:n.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vr{constructor(){this._tap=new xr({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(e,t,n){this._swipePoint||(this._tapTime&&e.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?n.length>0&&(this._swipePoint=t[0],this._swipeTouch=n[0].identifier):this._tap.touchstart(e,t,n))}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){this._tapTime?this._swipePoint&&0===n.length&&this.reset():this._tap.touchend(e,t,n)&&(this._tapTime=e.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Gr{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan","mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Hr{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Wr{constructor(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate","mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const $r=e=>e.zoom||e.drag||e.pitch||e.rotate;class Xr extends e.Event{}function Yr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class Kr{constructor(t,n){this._map=t,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new cr(t),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n),e.bindAll(["handleEvent","handleWindowEvent"],this);const r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[window,"blur",void 0]];for(const[e,t,n]of this._listeners)o.addEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}destroy(){for(const[e,t,n]of this._listeners)o.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const t=this._map,n=t.getCanvasContainer();this._add("mapEvent",new gr(t,e));const r=t.boxZoom=new vr(t,e);this._add("boxZoom",r);const i=new wr,o=new qr;t.doubleClickZoom=new Ur(o,i),this._add("tapZoom",i),this._add("clickZoom",o);const a=new Vr;this._add("tapDragZoom",a);const s=t.touchPitch=new Dr(t);this._add("touchPitch",s);const l=new Tr(e),u=new Ir(e);t.dragRotate=new Hr(e,l,u),this._add("mouseRotate",l,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]);const c=new Cr(e),h=new kr(e,t);t.dragPan=new Gr(n,c,h),this._add("mousePan",c),this._add("touchPan",h,["touchZoom","touchRotate"]);const p=new Rr,d=new Ar;t.touchZoomRotate=new Wr(n,d,p,a),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",d,["touchPan","touchRotate"]);const f=t.scrollZoom=new Zr(t,this);this._add("scrollZoom",f,["mousePan"]);const m=t.keyboard=new Fr;this._add("keyboard",m),this._add("blockableMapEvent",new yr(t));for(const n of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])e.interactive&&e[n]&&t[n].enable(e[n])}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean($r(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}handleWindowEvent(e){this.handleEvent(e,`${e.type}Window`)}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}handleEvent(e,t){if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const n="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},i={},a={},s=e.touches,l=s?this._getMapTouches(s):void 0,u=l?o.touchPos(this._el,l):o.mousePos(this._el,e);for(const{handlerName:o,handler:s,allowed:c}of this._handlers){if(!s.isEnabled())continue;let h;this._blockedByActive(a,c,o)?s.reset():s[t||e.type]&&(h=s[t||e.type](e,u,l),this.mergeHandlerResult(r,i,h,o,n),h&&h.needsRenderFrame&&this._triggerRenderFrame()),(h||s.isActive())&&(a[o]=s)}const c={};for(const e in this._previousActiveHandlers)a[e]||(c[e]=n);this._previousActiveHandlers=a,(Object.keys(c).length||Yr(r))&&(this._changes.push([r,i,c]),this._triggerRenderFrame()),(Object.keys(a).length||Yr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))}mergeHandlerResult(t,n,r,i,o){if(!r)return;e.extend(t,r);const a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},r={};for(const[i,o,a]of this._changes)i.panDelta&&(t.panDelta=(t.panDelta||new e.pointGeometry(0,0))._add(i.panDelta)),i.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+i.pitchDelta),void 0!==i.around&&(t.around=i.around),void 0!==i.pinchAround&&(t.pinchAround=i.pinchAround),i.noInertia&&(t.noInertia=i.noInertia),e.extend(n,o),e.extend(r,a);this._updateMapTransform(t,n,r),this._changes=[]}_updateMapTransform(t,n,r){const i=this._map,o=i.transform,a=i.style&&i.style.terrain;if(!(Yr(t)||a&&this._drag))return this._fireEvents(n,r,!0);let{panDelta:s,zoomDelta:l,bearingDelta:u,pitchDelta:c,around:h,pinchAround:p}=t;void 0!==p&&(h=p),i._stop(!0),h=h||i.transform.centerPoint;const d=o.pointLocation(s?h.sub(s):h);u&&(o.bearing+=u),c&&(o.pitch+=c),l&&(o.zoom+=l),a?n.drag&&!this._drag?(this._drag={center:o.centerPoint,lngLat:o.pointLocation(h),point:h,handlerName:n.drag.handlerName},i.fire(new e.Event("freezeElevation",{freeze:!0}))):this._drag&&r[this._drag.handlerName]?(i.fire(new e.Event("freezeElevation",{freeze:!1})),this._drag=null):n.drag&&this._drag&&(o.center=o.pointLocation(o.centerPoint.sub(s))):o.setLocationAtPoint(d,h),this._map._update(),t.noInertia||this._inertia.record(t),this._fireEvents(n,r,!0)}_fireEvents(t,n,r){const i=$r(this._eventsInProgress),o=$r(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a[`${e}start`]=n),this._eventsInProgress[e]=t[e]}!i&&o&&this._fireEvent("movestart",o.originalEvent);for(const e in a)this._fireEvent(e,a[e]);o&&this._fireEvent("move",o.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const s={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:r}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||r,s[`${e}end`]=l)}for(const e in s)this._fireEvent(e,s[e]);const u=$r(this._eventsInProgress);if(r&&(i||o)&&!u){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;t?(n(t.bearing||this._map.getBearing())&&(t.bearing=0),this._map.easeTo(t,{originalEvent:l})):(this._map.fire(new e.Event("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.Event(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new Xr("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}const Jr={extend:(t,...n)=>e.extend(t,...n),run(e){e()},logToElement(e,t=!1,n="log"){const r=window.document.getElementById(n);r&&(t&&(r.innerHTML=""),r.innerHTML+=`<br>${e}`)}};class Qr extends e.Evented{constructor(t,n){super(),this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,e.bindAll(["_renderFrameCallback"],this)}getCenter(){return new e.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,r){return t=e.pointGeometry.convert(t).mult(-1),this.panTo(this.transform.center,e.extend({offset:t},n),r)}panTo(t,n,r){return this.easeTo(e.extend({center:t},n),r)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,r){return this.easeTo(e.extend({zoom:t},n),r)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,r){return this.easeTo(e.extend({bearing:t},n),r)}resetNorth(t,n){return this.rotateTo(0,e.extend({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.extend({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(t,n){t=e.LngLatBounds.convert(t);const r=n&&n.bearing||0;return this._cameraForBoxAndBearing(t.getNorthWest(),t.getSouthEast(),r,n)}_cameraForBoxAndBearing(t,n,r,i){const o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=e.extend({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){const e=i.padding;i.padding={top:e,bottom:e,right:e,left:e}}i.padding=e.extend(o,i.padding);const a=this.transform,s=a.padding,l=a.project(e.LngLat.convert(t)),u=a.project(e.LngLat.convert(n)),c=l.rotate(-r*Math.PI/180),h=u.rotate(-r*Math.PI/180),p=new e.pointGeometry(Math.max(c.x,h.x),Math.max(c.y,h.y)),d=new e.pointGeometry(Math.min(c.x,h.x),Math.min(c.y,h.y)),f=p.sub(d),m=(a.width-(s.left+s.right+i.padding.left+i.padding.right))/f.x,g=(a.height-(s.top+s.bottom+i.padding.top+i.padding.bottom))/f.y;if(g<0||m<0)return void e.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(a.scaleZoom(a.scale*Math.min(m,g)),i.maxZoom),v=e.pointGeometry.convert(i.offset),_=new e.pointGeometry((i.padding.left-i.padding.right)/2,(i.padding.top-i.padding.bottom)/2).rotate(r*Math.PI/180),b=v.add(_).mult(a.scale/a.zoomScale(y));return{center:a.unproject(l.add(u).div(2).sub(b)),zoom:y,bearing:r}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(t,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.pointGeometry.convert(t)),this.transform.pointLocation(e.pointGeometry.convert(n)),r,i),i,o)}_fitInternal(t,n,r){return t?(delete(n=e.extend(t,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}jumpTo(t,n){this.stop();const r=this.transform;let i=!1,o=!1,a=!1;return"zoom"in t&&r.zoom!==+t.zoom&&(i=!0,r.zoom=+t.zoom),void 0!==t.center&&(r.center=e.LngLat.convert(t.center)),"bearing"in t&&r.bearing!==+t.bearing&&(o=!0,r.bearing=+t.bearing),"pitch"in t&&r.pitch!==+t.pitch&&(a=!0,r.pitch=+t.pitch),null==t.padding||r.isPaddingEqual(t.padding)||(r.padding=t.padding),this.fire(new e.Event("movestart",n)).fire(new e.Event("move",n)),i&&this.fire(new e.Event("zoomstart",n)).fire(new e.Event("zoom",n)).fire(new e.Event("zoomend",n)),o&&this.fire(new e.Event("rotatestart",n)).fire(new e.Event("rotate",n)).fire(new e.Event("rotateend",n)),a&&this.fire(new e.Event("pitchstart",n)).fire(new e.Event("pitch",n)).fire(new e.Event("pitchend",n)),this.fire(new e.Event("moveend",n))}calculateCameraOptionsFromTo(t,n,r,i=0){const o=e.MercatorCoordinate.fromLngLat(t,n),a=e.MercatorCoordinate.fromLngLat(r,i),s=a.x-o.x,l=a.y-o.y,u=a.z-o.z,c=Math.hypot(s,l,u);if(0===c)throw new Error("Can't calculate camera options with same From and To");const h=Math.hypot(s,l),p=this.transform.scaleZoom(this.transform.cameraToCenterDistance/c/this.transform.tileSize),d=180*Math.atan2(s,-l)/Math.PI;let f=180*Math.acos(h/c)/Math.PI;return f=u<0?90-f:90+f,{center:a.toLngLat(),zoom:p,pitch:f,bearing:d}}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.extend({offset:[0,0],duration:500,easing:e.ease},t)).animate||!t.essential&&e.exported.prefersReducedMotion)&&(t.duration=0);const r=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?+t.zoom:i,u="bearing"in t?this._normalizeBearing(t.bearing,o):o,c="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:r.padding,p=e.pointGeometry.convert(t.offset);let d=r.centerPoint.add(p);const f=r.pointLocation(d),m=e.LngLat.convert(t.center||f);this._normalizeCenter(m);const g=r.project(f),y=r.project(m).sub(g),v=r.zoomScale(l-i);let _,b;t.around&&(_=e.LngLat.convert(t.around),b=r.locationPoint(_));const x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==i,this._rotating=this._rotating||o!==u,this._pitching=this._pitching||c!==a,this._padding=!r.isPaddingEqual(h),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,x),this._ease((t=>{if(this._zooming&&(r.zoom=e.number(i,l,t)),this._rotating&&(r.bearing=e.number(o,u,t)),this._pitching&&(r.pitch=e.number(a,c,t)),this._padding&&(r.interpolatePadding(s,h,t),d=r.centerPoint.add(p)),_)r.setLocationAtPoint(_,b);else{const e=r.zoomScale(r.zoom-i),n=l>i?Math.min(2,v):Math.max(.5,v),o=Math.pow(n,1-t),a=r.unproject(g.add(y.mult(t*o)).mult(e));r.setLocationAtPoint(r.renderWorldCopies?a.wrap():a,d)}this._fireMoveEvents(n)}),(e=>{this._afterEase(n,e)}),t),this}_prepareEase(t,n,r={}){this._moving=!0,this.fire(new e.Event("freezeElevation",{freeze:!0})),n||r.moving||this.fire(new e.Event("movestart",t)),this._zooming&&!r.zooming&&this.fire(new e.Event("zoomstart",t)),this._rotating&&!r.rotating&&this.fire(new e.Event("rotatestart",t)),this._pitching&&!r.pitching&&this.fire(new e.Event("pitchstart",t))}_fireMoveEvents(t){this.fire(new e.Event("move",t)),this._zooming&&this.fire(new e.Event("zoom",t)),this._rotating&&this.fire(new e.Event("rotate",t)),this._pitching&&this.fire(new e.Event("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId,this.fire(new e.Event("freezeElevation",{freeze:!1}));const r=this._zooming,i=this._rotating,o=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,r&&this.fire(new e.Event("zoomend",t)),i&&this.fire(new e.Event("rotateend",t)),o&&this.fire(new e.Event("pitchend",t)),this.fire(new e.Event("moveend",t))}flyTo(t,n){if(!t.essential&&e.exported.prefersReducedMotion){const r=e.pick(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(r,n)}this.stop(),t=e.extend({offset:[0,0],speed:1.2,curve:1.42,easing:e.ease},t);const r=this.transform,i=this.getZoom(),o=this.getBearing(),a=this.getPitch(),s=this.getPadding(),l="zoom"in t?e.clamp(+t.zoom,r.minZoom,r.maxZoom):i,u="bearing"in t?this._normalizeBearing(t.bearing,o):o,c="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:r.padding,p=r.zoomScale(l-i),d=e.pointGeometry.convert(t.offset);let f=r.centerPoint.add(d);const m=r.pointLocation(f),g=e.LngLat.convert(t.center||m);this._normalizeCenter(g);const y=r.project(m),v=r.project(g).sub(y);let _=t.curve;const b=Math.max(r.width,r.height),x=b/p,w=v.mag();if("minZoom"in t){const n=e.clamp(Math.min(t.minZoom,i,l),r.minZoom,r.maxZoom),o=b/r.zoomScale(n-i);_=Math.sqrt(o/w*2)}const E=_*_;function S(e){const t=(x*x-b*b+(e?-1:1)*E*E*w*w)/(2*(e?x:b)*E*w);return Math.log(Math.sqrt(t*t+1)-t)}function C(e){return(Math.exp(e)-Math.exp(-e))/2}function T(e){return(Math.exp(e)+Math.exp(-e))/2}const I=S(0);let k=function(e){return T(I)/T(I+_*e)},P=function(e){return b*((T(I)*(C(t=I+_*e)/T(t))-C(I))/E)/w;var t},L=(S(1)-I)/_;if(Math.abs(w)<1e-6||!isFinite(L)){if(Math.abs(b-x)<1e-6)return this.easeTo(t,n);const e=x<b?-1:1;L=Math.abs(Math.log(x/b))/_,P=function(){return 0},k=function(t){return Math.exp(e*_*t)}}return t.duration="duration"in t?+t.duration:1e3*L/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=o!==u,this._pitching=c!==a,this._padding=!r.isPaddingEqual(h),this._prepareEase(n,!1),this._ease((t=>{const p=t*L,m=1/k(p);r.zoom=1===t?l:i+r.scaleZoom(m),this._rotating&&(r.bearing=e.number(o,u,t)),this._pitching&&(r.pitch=e.number(a,c,t)),this._padding&&(r.interpolatePadding(s,h,t),f=r.centerPoint.add(d));const _=1===t?g:r.unproject(y.add(v.mult(P(p))).mult(m));r.setLocationAtPoint(r.renderWorldCopies?_.wrap():_,f),this._fireMoveEvents(n)}),(()=>this._afterEase(n)),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,r){!1===r.animate||0===r.duration?(t(1),n()):(this._easeStart=e.exported.now(),this._easeOptions=r,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const t=Math.min((e.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(t,n){t=e.wrap(t,-180,180);const r=Math.abs(t-n);return Math.abs(t-360-n)<r&&(t-=360),Math.abs(t+360-n)<r&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}}class ei{constructor(t={}){this.options=t,e.bindAll(["_toggleAttribution","_updateData","_updateCompact","_updateCompactMinimize"],this)}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("details","maplibregl-ctrl maplibregl-ctrl-attrib mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=o.create("summary","maplibregl-ctrl-attrib-button mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=o.create("div","maplibregl-ctrl-attrib-inner mapboxgl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){o.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString(`AttributionControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}_toggleAttribution(){this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")):(this._container.classList.add("maplibregl-compact-show","mapboxgl-compact-show"),this._container.removeAttribute("open")))}_updateData(e){!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions()}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.sourceCaches;for(const n in t){const r=t[n];if(r.used||r.usedForTerrain){const t=r.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0}));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("maplibregl-attrib-empty","mapboxgl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty","mapboxgl-attrib-empty"),this._updateCompact(),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","mapboxgl-compact","maplibregl-compact-show","mapboxgl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show","mapboxgl-compact","mapboxgl-compact-show"))}_updateCompactMinimize(){this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show","mapboxgl-compact-show")}}class ti{constructor(t={}){this.options=t,e.bindAll(["_updateCompact"],this)}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=o.create("div","maplibregl-ctrl mapboxgl-ctrl");const t=o.create("a","maplibregl-ctrl-logo mapboxgl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){o.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}_updateCompact(){const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact","mapboxgl-compact"):t.classList.remove("maplibregl-compact","mapboxgl-compact")}}}class ni{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const t of n)if(t.id===e)return void(t.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ri={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"},ii={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,fadeDuration:300,crossSourceCollisions:!0},oi={showCompass:!0,showZoom:!0,visualizePitch:!1};class ai{constructor(t,n,r=!1){this._clickTolerance=10,this.element=n,this.mouseRotate=new Tr({clickTolerance:t.dragRotate._mouseRotate._clickTolerance}),this.map=t,r&&(this.mousePitch=new Ir({clickTolerance:t.dragRotate._mousePitch._clickTolerance})),e.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),o.addEventListener(n,"mousedown",this.mousedown),o.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),o.addEventListener(n,"touchmove",this.touchmove),o.addEventListener(n,"touchend",this.touchend),o.addEventListener(n,"touchcancel",this.reset)}down(e,t){this.mouseRotate.mousedown(e,t),this.mousePitch&&this.mousePitch.mousedown(e,t),o.disableDrag()}move(e,t){const n=this.map,r=this.mouseRotate.mousemoveWindow(e,t);if(r&&r.bearingDelta&&n.setBearing(n.getBearing()+r.bearingDelta),this.mousePitch){const r=this.mousePitch.mousemoveWindow(e,t);r&&r.pitchDelta&&n.setPitch(n.getPitch()+r.pitchDelta)}}off(){const e=this.element;o.removeEventListener(e,"mousedown",this.mousedown),o.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),o.removeEventListener(e,"touchmove",this.touchmove),o.removeEventListener(e,"touchend",this.touchend),o.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){o.enableDrag(),o.removeEventListener(window,"mousemove",this.mousemove),o.removeEventListener(window,"mouseup",this.mouseup)}mousedown(t){this.down(e.extend({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),o.mousePos(this.element,t)),o.addEventListener(window,"mousemove",this.mousemove),o.addEventListener(window,"mouseup",this.mouseup)}mousemove(e){this.move(e,o.mousePos(this.element,e))}mouseup(e){this.mouseRotate.mouseupWindow(e),this.mousePitch&&this.mousePitch.mouseupWindow(e),this.offTemp()}touchstart(e){1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>e.preventDefault()},this._startPos))}touchmove(e){1!==e.targetTouches.length?this.reset():(this._lastPos=o.touchPos(this.element,e.targetTouches)[0],this.move({preventDefault:()=>e.preventDefault()},this._lastPos))}touchend(e){0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}function si(t,n,r){if(t=new e.LngLat(t.lng,t.lat),n){const i=new e.LngLat(t.lng-360,t.lat),o=new e.LngLat(t.lng+360,t.lat),a=r.locationPoint(t).distSqr(n);r.locationPoint(i).distSqr(n)<a?t=i:r.locationPoint(o).distSqr(n)<a&&(t=o)}for(;Math.abs(t.lng-r.center.lng)>180;){const e=r.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=r.width&&e.y<=r.height)break;t.lng>r.center.lng?t.lng-=360:t.lng+=360}return t}const li={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ui(e,t,n){const r=e.classList;for(const e in li)r.remove(`maplibregl-${n}-anchor-${e}`,`mapboxgl-${n}-anchor-${e}`);r.add(`maplibregl-${n}-anchor-${t}`,`mapboxgl-${n}-anchor-${t}`)}class ci extends e.Evented{constructor(t,n){if(super(),(t instanceof HTMLElement||n)&&(t=e.extend({element:t},n)),e.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.pointGeometry.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=o.create("div"),this._element.setAttribute("aria-label","Map marker");const n=o.createNS("http://www.w3.org/2000/svg","svg"),r=41,i=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${r}px`),n.setAttributeNS(null,"width",`${i}px`),n.setAttributeNS(null,"viewBox",`0 0 ${i} ${r}`);const a=o.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const s=o.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"fill-rule","nonzero");const l=o.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const u=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of u){const t=o.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const c=o.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);const h=o.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(h);const p=o.createNS("http://www.w3.org/2000/svg","g");p.setAttributeNS(null,"opacity","0.25"),p.setAttributeNS(null,"fill","#000000");const d=o.createNS("http://www.w3.org/2000/svg","path");d.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),p.appendChild(d);const f=o.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=o.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=o.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=o.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),s.appendChild(l),s.appendChild(c),s.appendChild(p),s.appendChild(f),s.appendChild(m),n.appendChild(s),n.setAttributeNS(null,"height",r*this._scale+"px"),n.setAttributeNS(null,"width",i*this._scale+"px"),this._element.appendChild(n),this._offset=e.pointGeometry.convert(t&&t.offset||[0,-14])}this._element.classList.add("maplibregl-marker","mapboxgl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),ui(this._element,this._anchor,"marker"),this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),o.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,r=Math.sqrt(Math.pow(n,2)/2);e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(e){const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()}_onMapClick(e){const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}_update(e){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=si(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let t="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?t=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(t=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let n="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?n="rotateX(0deg)":"map"===this._pitchAlignment&&(n=`rotateX(${this._map.getPitch()}deg)`),e&&"moveend"!==e.type||(this._pos=this._pos.round()),o.setTransform(this._element,`${li[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${n} ${t}`),this._map.style&&this._map.style.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout((()=>{const e=this._map.unproject(this._pos),t=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=e.distanceTo(this._lngLat)>20*t?"0.2":"1.0",this._opacityTimeout=null}),100))}getOffset(){return this._offset}setOffset(t){return this._offset=e.pointGeometry.convert(t),this._update(),this}_onMove(t){if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.Event("dragstart"))),this.fire(new e.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.Event("dragend")),this._state="inactive"}_addDragHandler(e){this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const hi={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let pi,di=0,fi=!1;const mi={maxWidth:100,unit:"metric"};function gi(e,t,n){const r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e.unproject([0,i]),a=e.unproject([r,i]),s=o.distanceTo(a);if(n&&"imperial"===n.unit){const n=3.2808*s;n>5280?yi(t,r,n/5280,e._getUIString("ScaleControl.Miles")):yi(t,r,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?yi(t,r,s/1852,e._getUIString("ScaleControl.NauticalMiles")):s>=1e3?yi(t,r,s/1e3,e._getUIString("ScaleControl.Kilometers")):yi(t,r,s,e._getUIString("ScaleControl.Meters"))}function yi(e,t,n,r){const i=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(i/n)+"px",e.innerHTML=`${i}&nbsp;${r}`}const vi={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},_i=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function bi(t){if(t){if("number"==typeof t){const n=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{center:new e.pointGeometry(0,0),top:new e.pointGeometry(0,t),"top-left":new e.pointGeometry(n,n),"top-right":new e.pointGeometry(-n,n),bottom:new e.pointGeometry(0,-t),"bottom-left":new e.pointGeometry(n,-n),"bottom-right":new e.pointGeometry(-n,-n),left:new e.pointGeometry(t,0),right:new e.pointGeometry(-t,0)}}if(t instanceof e.pointGeometry||Array.isArray(t)){const n=e.pointGeometry.convert(t);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.pointGeometry.convert(t.center||[0,0]),top:e.pointGeometry.convert(t.top||[0,0]),"top-left":e.pointGeometry.convert(t["top-left"]||[0,0]),"top-right":e.pointGeometry.convert(t["top-right"]||[0,0]),bottom:e.pointGeometry.convert(t.bottom||[0,0]),"bottom-left":e.pointGeometry.convert(t["bottom-left"]||[0,0]),"bottom-right":e.pointGeometry.convert(t["bottom-right"]||[0,0]),left:e.pointGeometry.convert(t.left||[0,0]),right:e.pointGeometry.convert(t.right||[0,0])}}return bi(new e.pointGeometry(0,0))}const xi={supported:t,setRTLTextPlugin:e.setRTLTextPlugin,getRTLTextPluginStatus:e.getRTLTextPluginStatus,Map:class extends Qr{constructor(t){var n;if(e.PerformanceUtils.mark(e.PerformanceMarkers.create),null!=(t=e.extend({},ii,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new rr(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}),this._interactive=t.interactive,this._cooperativeGestures=t.cooperativeGestures,this._maxTileCacheSize=t.maxTileCacheSize,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new ni,this._controls=[],this._mapId=e.uniqueId(),this._locale=e.extend({},ri,t.locale),this._clickTolerance=t.clickTolerance,this._pixelRatio=null!==(n=t.pixelRatio)&&void 0!==n?n:devicePixelRatio,this._requestManager=new a(t.transformRequest),"string"==typeof t.container){if(this._container=document.getElementById(t.container),!this._container)throw new Error(`Container '${t.container}' not found.`)}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),e.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),void 0===this.painter)throw new Error("Failed to initialize WebGL.");this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),"undefined"!=typeof window&&(addEventListener("online",this._onWindowOnline,!1),addEventListener("resize",this._onWindowResize,!1),addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Kr(this,t),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=t.hash&&new ir("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.extend({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new ei({customAttribution:t.customAttribution})),t.maplibreLogo&&this.addControl(new ti,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.Event(`${t.dataType}data`,t))})),this.on("dataloading",(t=>{this.fire(new e.Event(`${t.dataType}dataloading`,t))})),this.on("dataabort",(t=>{this.fire(new e.Event("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const r=t.onAdd(this);this._controls.push(t);const i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}calculateCameraOptionsFromTo(e,t,n,r){return null==r&&this.style.terrain&&(r=this.transform.getElevation(n,this.style.terrain)),super.calculateCameraOptionsFromTo(e,t,n,r)}resize(t){const n=this._containerDimensions(),r=n[0],i=n[1];this._resizeCanvas(r,i,this.getPixelRatio()),this.transform.resize(r,i),this.painter.resize(r,i,this.getPixelRatio());const o=!this._moving;return o&&(this.stop(),this.fire(new e.Event("movestart",t)).fire(new e.Event("move",t))),this.fire(new e.Event("resize",t)),o&&this.fire(new e.Event("moveend",t)),this}getPixelRatio(){return this._pixelRatio}setPixelRatio(e){const[t,n]=this._containerDimensions();this._pixelRatio=e,this._resizeCanvas(t,n,e),this.painter.resize(t,n,e)}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(t){return this.transform.setMaxBounds(e.LngLatBounds.convert(t)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}project(t){return this.transform.locationPoint(e.LngLat.convert(t),this.style&&this.style.terrain)}unproject(t){return this.transform.pointLocation(e.pointGeometry.convert(t),this.style&&this.style.terrain)}isMoving(){return this._moving||this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers.isRotating()}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let r=!1;const i=i=>{const o=this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[];o.length?r||(r=!0,n.call(this,new dr(e,this,i.originalEvent,{features:o}))):r=!1};return{layer:t,listener:n,delegates:{mousemove:i,mouseout:()=>{r=!1}}}}if("mouseleave"===e||"mouseout"===e){let r=!1;const i=i=>{(this.getLayer(t)?this.queryRenderedFeatures(i.point,{layers:[t]}):[]).length?r=!0:r&&(r=!1,n.call(this,new dr(e,this,i.originalEvent)))},o=t=>{r&&(r=!1,n.call(this,new dr(e,this,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:i,mouseout:o}}}{const r=e=>{const r=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];r.length&&(e.features=r,n.call(this,e),delete e.features)};return{layer:t,listener:n,delegates:{[e]:r}}}}on(e,t,n){if(void 0===n)return super.on(e,t);const r=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(r);for(const e in r.delegates)this.on(e,r.delegates[e]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);const r=this._createDelegatedListener(e,t,n);for(const e in r.delegates)this.once(e,r.delegates[e]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(r=>{const i=this._delegatedListeners[e];for(let e=0;e<i.length;e++){const r=i[e];if(r.layer===t&&r.listener===n){for(const e in r.delegates)this.off(e,r.delegates[e]);return i.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,n){if(!this.style)return[];let r;if(void 0!==n||void 0===t||t instanceof e.pointGeometry||Array.isArray(t)||(n=t,t=void 0),n=n||{},(t=t||[[0,0],[this.transform.width,this.transform.height]])instanceof e.pointGeometry||"number"==typeof t[0])r=[e.pointGeometry.convert(t)];else{const n=e.pointGeometry.convert(t[0]),i=e.pointGeometry.convert(t[1]);r=[n,new e.pointGeometry(i.x,n.y),i,new e.pointGeometry(n.x,i.y),n]}return this.style.queryRenderedFeatures(r,n,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){return this.style&&(this.style.setEventedParent(null),this.style._remove()),e?(this.style=new tt(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e):this.style.loadJSON(e),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new tt(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const r=this._requestManager.transformRequest(t,e.ResourceType.Style);e.getJSON(r,((t,r)=>{t?this.fire(new e.ErrorEvent(t)):r&&this._updateDiff(r,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t)&&this._update(!0)}catch(r){e.warnOnce(`Unable to perform style diff: ${r.message||r.error||r}.  Rebuilding the style from scratch.`),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.warnOnce("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.ErrorEvent(new Error(`There is no source with ID '${t}'`)))}setTerrain(e){return this.style.setTerrain(e),this}getTerrain(){return this.style.terrain&&this.style.terrain.options}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n,{pixelRatio:r=1,sdf:i=!1,stretchX:o,stretchY:a,content:s}={}){if(this._lazyInitEmptyStyle(),n instanceof HTMLImageElement||e.isImageBitmap(n)){const{width:l,height:u,data:c}=e.exported.getImageData(n);this.style.addImage(t,{data:new e.RGBAImage({width:l,height:u},c),pixelRatio:r,stretchX:o,stretchY:a,content:s,sdf:i,version:0})}else{if(void 0===n.width||void 0===n.height)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:l,height:u,data:c}=n,h=n;this.style.addImage(t,{data:new e.RGBAImage({width:l,height:u},new Uint8Array(c)),pixelRatio:r,stretchX:o,stretchY:a,content:s,sdf:i,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t)}}}updateImage(t,n){const r=this.style.getImage(t);if(!r)return this.fire(new e.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=n instanceof HTMLImageElement||e.isImageBitmap(n)?e.exported.getImageData(n):n,{width:o,height:a,data:s}=i;if(void 0===o||void 0===a)return this.fire(new e.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==r.data.width||a!==r.data.height)return this.fire(new e.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));const l=!(n instanceof HTMLImageElement||e.isImageBitmap(n));r.data.replace(s,l),this.style.updateImage(t,r)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(t,n){e.getImage(this._requestManager.transformRequest(t,e.ResourceType.Image),n)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,r={}){return this.style.setPaintProperty(e,t,n,r),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,r={}){return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map","mapboxgl-map");const t=this._canvasContainer=o.create("div","maplibregl-canvas-container mapboxgl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive","mapboxgl-interactive"),this._canvas=o.create("canvas","maplibregl-canvas mapboxgl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const n=this._containerDimensions();this._resizeCanvas(n[0],n[1],this.getPixelRatio());const r=this._controlContainer=o.create("div","maplibregl-control-container mapboxgl-control-container",e),i=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{i[e]=o.create("div",`maplibregl-ctrl-${e} mapboxgl-ctrl-${e}`,r)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){const e=this._container;this._metaPress=!1,this._cooperativeGesturesScreen=o.create("div","maplibregl-cooperative-gesture-screen",e);let t="Control",n="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(n="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use ⌘ + scroll to zoom the map",t="Meta"),this._cooperativeGesturesScreen.innerHTML=`\n            <div class="maplibregl-desktop-message">${n}</div>\n            <div class="maplibregl-mobile-message">${"boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map"}</div>\n        `,document.addEventListener("keydown",(e=>{e.key===t&&(this._metaPress=!0)})),document.addEventListener("keyup",(e=>{e.key===t&&(this._metaPress=!1)})),this._canvasContainer.addEventListener("wheel",(e=>{this._onCooperativeGesture(e,this._metaPress,1)}),!1),this._canvasContainer.classList.remove("mapboxgl-touch-drag-pan","maplibregl-touch-drag-pan")}_resizeCanvas(e,t,n){this._canvas.width=n*e,this._canvas.height=n*t,this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`}_setupPainter(){const n=e.extend({},t.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),r=this._canvas.getContext("webgl",n)||this._canvas.getContext("experimental-webgl",n);r?(this.painter=new Qn(r,this.transform),e.exported$1.testSupport(r)):this.fire(new e.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(t){t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.Event("webglcontextlost",{originalEvent:t}))}_contextRestored(t){this._setupPainter(),this.resize(),this._update(),this.fire(new e.Event("webglcontextrestored",{originalEvent:t}))}_onMapScroll(e){if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}_onCooperativeGesture(e,t,n){return!t&&n<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout((()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")}),100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){let n,r=0;const i=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(n=i.createQueryEXT(),i.beginQueryEXT(i.TIME_ELAPSED_EXT,n),r=e.exported.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let o=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,n=e.exported.now();this.style.zoomHistory.update(t,n);const r=new e.EvaluationParameters(t,{now:n,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(o=!0,this._crossFadingFactor=i),this.style.update(r)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.style.terrain&&this.style.terrain.sourceCache.update(this.transform,this.style.terrain),this.transform.updateElevation(this.style.terrain),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new e.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.load),this.fire(new e.Event("load"))),this.style&&(this.style.hasTransitions()||o)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const t=e.exported.now()-r;i.endQueryEXT(i.TIME_ELAPSED_EXT,n),setTimeout((()=>{const r=i.getQueryObjectEXT(n,i.QUERY_RESULT_EXT)/1e6;i.deleteQueryEXT(n),this.fire(new e.Event("gpu-timing-frame",{cpuTime:t,gpuTime:r}))}),50)}if(this.listens("gpu-timing-layer")){const t=this.painter.collectGpuTimers();setTimeout((()=>{const n=this.painter.queryGpuTimers(t);this.fire(new e.Event("gpu-timing-layer",{layerTimes:n}))}),50)}const a=this._sourcesDirty||this._styleDirty||this._placementDirty;return a||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.Event("idle")),!this._loaded||this._fullyLoaded||a||(this._fullyLoaded=!0,e.PerformanceUtils.mark(e.PerformanceMarkers.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&(removeEventListener("resize",this._onWindowResize,!1),removeEventListener("orientationchange",this._onWindowResize,!1),removeEventListener("online",this._onWindowOnline,!1));const t=this.painter.context.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),o.remove(this._canvasContainer),o.remove(this._controlContainer),this._cooperativeGestures&&o.remove(this._cooperativeGesturesScreen),this._container.classList.remove("maplibregl-map","mapboxgl-map"),e.PerformanceUtils.clearMetrics(),this._removed=!0,this.fire(new e.Event("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=e.exported.frame((t=>{e.PerformanceUtils.frame(t),this._frame=null,this._render(t)})))}_onWindowOnline(){this._update()}_onWindowResize(e){this._trackResize&&this.resize({originalEvent:e})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}_setCacheLimits(t,n){e.setCacheLimits(t,n)}get version(){return"2.4.0"}},NavigationControl:class{constructor(t){this.options=e.extend({},oi,t),this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(e.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in mapboxgl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out mapboxgl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(e.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("maplibregl-ctrl-compass mapboxgl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())}_rotateCompassArrow(){const e=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._compassIcon.style.transform=e}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ai(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){o.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const n=o.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}_setButtonTitle(e,t){const n=this._map._getUIString(`NavigationControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}},GeolocateControl:class extends e.Evented{constructor(t){super(),this.options=e.extend({},hi,t),e.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(e){var t;return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),t=this._setupUI,void 0!==pi?t(pi):void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((e=>{pi="denied"!==e.state,t(pi)})):(pi=!!window.navigator.geolocation,t(pi)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),o.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,di=0,fi=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_onSuccess(t){if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.Event("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("geolocate",t)),this._finish()}}_updateCamera(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude),r=t.coords.accuracy,i=this._map.getBearing(),o=e.extend({bearing:i},this.options.fitBoundsOptions);this._map.fitBounds(n.toBounds(r),o,{geolocateSource:!0})}_updateMarker(t){if(t){const n=new e.LngLat(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const e=this._map._container.clientHeight/2,t=this._map.unproject([0,e]),n=this._map.unproject([1,e]),r=t.distanceTo(n),i=Math.ceil(2*this._accuracy/r);this._circleElement.style.width=`${i}px`,this._circleElement.style.height=`${i}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(t){if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&fi)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale","mapboxgl-user-location-dot-stale"),this.fire(new e.Event("error",t)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(t){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=o.create("button","maplibregl-ctrl-geolocate mapboxgl-ctrl-geolocate",this._container),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=o.create("div","maplibregl-user-location-dot mapboxgl-user-location-dot"),this._userLocationDotMarker=new ci(this._dotElement),this._circleElement=o.create("div","maplibregl-user-location-accuracy-circle mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ci({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this.fire(new e.Event("trackuserlocationend")))}))}trigger(){if(!this._setup)return e.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":di--,fi=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error","mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error","mapboxgl-ctrl-geolocate-background-error"),this.fire(new e.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background","mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.Event("trackuserlocationstart"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active","mapboxgl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),di++,di>1?(e={maximumAge:6e5,timeout:0},fi=!0):(e=this.options.positionOptions,fi=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting","mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:ei,LogoControl:ti,ScaleControl:class{constructor(t){this.options=e.extend({},mi,t),e.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){gi(this._map,this._container,this.options)}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-scale mapboxgl-ctrl mapboxgl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){o.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(e){this.options.unit=e,gi(this._map,this._container,this.options)}},FullscreenControl:class{constructor(t){this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.warnOnce("Full screen control 'container' must be a DOM element.")),e.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(t){return this._map=t,this._container||(this._container=this._map.getContainer()),this._controlContainer=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",e.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){o.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!!(document.fullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled)}_setupUI(){const e=this._fullscreenButton=o.create("button","maplibregl-ctrl-fullscreen mapboxgl-ctrl-fullscreen",this._controlContainer);o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen&&window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},TerrainControl:class{constructor(t){this.options=t,e.bindAll(["_toggleTerrain","_updateTerrainIcon"],this)}onAdd(e){return this._map=e,this._container=o.create("div","maplibregl-ctrl maplibregl-ctrl-group mapboxgl-ctrl mapboxgl-ctrl-group"),this._terrainButton=o.create("button","maplibregl-ctrl-terrain mapboxgl-ctrl-terrain",this._container),o.create("span","maplibregl-ctrl-icon mapboxgl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){o.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}_toggleTerrain(){this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()}_updateTerrainIcon(){this._terrainButton.classList.remove("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._map.style.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled","mapboxgl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain","mapboxgl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))}},Popup:class extends e.Evented{constructor(t){super(),this.options=e.extend(Object.create(vi),t),e.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new e.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&o.remove(this._content),this._container&&(o.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.LngLat.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer","mapboxgl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer","mapboxgl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),n=document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)t.appendChild(r);return this.setDOMContent(t)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=o.create("div","maplibregl-popup-content mapboxgl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=o.create("button","maplibregl-popup-close-button mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(e){this._update(e.point)}_onMouseMove(e){this._update(e.point)}_onDrag(e){this._update(e.point)}_update(e){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(this._container||(this._container=o.create("div","maplibregl-popup mapboxgl-popup",this._map.getContainer()),this._tip=o.create("div","maplibregl-popup-tip mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach((e=>this._container.classList.add(e))),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer","mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=si(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!e)return;const t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let n=this.options.anchor;const r=bi(this.options.offset);if(!n){const e=this._container.offsetWidth,i=this._container.offsetHeight;let o;o=t.y+r.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<e/2?o.push("left"):t.x>this._map.transform.width-e/2&&o.push("right"),n=0===o.length?"bottom":o.join("-")}const i=t.add(r[n]).round();o.setTransform(this._container,`${li[n]} translate(${i.x}px,${i.y}px)`),ui(this._container,n,"popup")}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(_i);e&&e.focus()}_onClose(){this.remove()}},Marker:ci,Style:tt,LngLat:e.LngLat,LngLatBounds:e.LngLatBounds,Point:e.pointGeometry,MercatorCoordinate:e.MercatorCoordinate,Evented:e.Evented,AJAXError:e.AJAXError,config:e.config,CanvasSource:L,GeoJSONSource:T,ImageSource:k,RasterDEMTileSource:C,RasterTileSource:E,VectorTileSource:w,VideoSource:P,prewarm:function(){G().acquire(Z)},clearPrewarmedResources:function(){const e=V;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(Z),V=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get version(){return"2.4.0"},get workerCount(){return U.workerCount},set workerCount(e){U.workerCount=e},get maxParallelImageRequests(){return e.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(t){e.config.MAX_PARALLEL_IMAGE_REQUESTS=t},clearStorage(t){e.clearTileCache(t)},workerUrl:"",addProtocol(t,n){e.config.REGISTERED_PROTOCOLS[t]=n},removeProtocol(t){delete e.config.REGISTERED_PROTOCOLS[t]}};return Jr.extend(xi,{isSafari:e.isSafari,getPerformanceMetrics:e.PerformanceUtils.getPerformanceMetrics}),xi})),n}()},15861:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:()=>i})},87462:(e,t,n)=>{"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},63366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>({81:"react-syntax-highlighter_languages_refractor_properties",131:"react-syntax-highlighter_languages_refractor_clike",158:"react-syntax-highlighter_languages_refractor_glsl",206:"react-syntax-highlighter_languages_refractor_wasm",226:"react-syntax-highlighter_languages_refractor_mel",342:"react-syntax-highlighter_languages_refractor_powershell",369:"react-syntax-highlighter_languages_refractor_ruby",400:"react-syntax-highlighter_languages_refractor_batch",672:"react-syntax-highlighter_languages_refractor_parser",741:"react-syntax-highlighter_languages_refractor_fsharp",849:"react-syntax-highlighter_languages_refractor_smarty",948:"react-syntax-highlighter_languages_refractor_bison",979:"react-syntax-highlighter_languages_refractor_protobuf",982:"react-syntax-highlighter_languages_refractor_xquery",1001:"react-syntax-highlighter_languages_refractor_rust",1007:"react-syntax-highlighter_languages_refractor_haskell",1130:"react-syntax-highlighter_languages_refractor_crystal",1167:"react-syntax-highlighter_languages_refractor_vhdl",1253:"react-syntax-highlighter_languages_refractor_wiki",1323:"react-syntax-highlighter_languages_refractor_liquid",1423:"react-syntax-highlighter_languages_refractor_soy",1438:"react-syntax-highlighter_languages_refractor_arff",1554:"react-syntax-highlighter_languages_refractor_asciidoc",1621:"react-syntax-highlighter_languages_refractor_stylus",1751:"react-syntax-highlighter_languages_refractor_q",1768:"react-syntax-highlighter_languages_refractor_rip",1929:"react-syntax-highlighter_languages_refractor_vim",2013:"react-syntax-highlighter_languages_refractor_erlang",2044:"react-syntax-highlighter_languages_refractor_fortran",2051:"react-syntax-highlighter_languages_refractor_docker",2065:"react-syntax-highlighter_languages_refractor_autohotkey",2182:"react-syntax-highlighter_languages_refractor_eiffel",2227:"react-syntax-highlighter_languages_refractor_php",2348:"react-syntax-highlighter_languages_refractor_rest",2413:"react-syntax-highlighter_languages_refractor_icon",2496:"react-syntax-highlighter_languages_refractor_markup",2509:"react-syntax-highlighter_languages_refractor_tsx",2547:"react-syntax-highlighter_languages_refractor_qore",2564:"react-syntax-highlighter_languages_refractor_git",2584:"react-syntax-highlighter_languages_refractor_erb",2822:"react-syntax-highlighter_languages_refractor_smalltalk",2891:"react-syntax-highlighter_languages_refractor_python",2980:"react-syntax-highlighter_languages_refractor_velocity",2996:"react-syntax-highlighter_languages_refractor_inform7",3025:"react-syntax-highlighter_languages_refractor_nim",3047:"react-syntax-highlighter_languages_refractor_markupTemplating",3116:"react-syntax-highlighter_languages_refractor_xojo",3140:"react-syntax-highlighter_languages_refractor_hsts",3224:"react-syntax-highlighter_languages_refractor_haxe",3236:"react-syntax-highlighter_languages_refractor_roboconf",3318:"react-syntax-highlighter_languages_refractor_csharp",3327:"react-syntax-highlighter_languages_refractor_swift",3384:"react-syntax-highlighter_languages_refractor_arduino",3412:"react-syntax-highlighter_languages_refractor_abap",3444:"react-syntax-highlighter_languages_refractor_tt2",3502:"react-syntax-highlighter_languages_refractor_nsis",3520:"react-syntax-highlighter_languages_refractor_lisp",3657:"react-syntax-highlighter_languages_refractor_json",3694:"react-syntax-highlighter_languages_refractor_bro",3717:"react-syntax-highlighter_languages_refractor_d",3818:"react-syntax-highlighter_languages_refractor_scala",3819:"react-syntax-highlighter_languages_refractor_keyman",3821:"react-syntax-highlighter_languages_refractor_nix",3846:"react-syntax-highlighter_languages_refractor_handlebars",3971:"react-syntax-highlighter_languages_refractor_actionscript",3980:"react-syntax-highlighter_languages_refractor_java",4045:"react-syntax-highlighter_languages_refractor_prolog",4052:"react-syntax-highlighter_languages_refractor_nginx",4069:"react-syntax-highlighter_languages_refractor_mizar",4098:"react-syntax-highlighter_languages_refractor_applescript",4157:"react-syntax-highlighter_languages_refractor_perl",4630:"react-syntax-highlighter_languages_refractor_kotlin",4657:"react-syntax-highlighter_languages_refractor_jsx",4698:"react-syntax-highlighter_languages_refractor_livescript",4701:"react-syntax-highlighter_languages_refractor_j",4732:"react-syntax-highlighter_languages_refractor_latex",5008:"react-syntax-highlighter_languages_refractor_css",5014:"react-syntax-highlighter_languages_refractor_n4js",5056:"react-syntax-highlighter_languages_refractor_ichigojam",5082:"react-syntax-highlighter/refractor-core-import",5085:"react-syntax-highlighter_languages_refractor_scheme",5165:"react-syntax-highlighter_languages_refractor_tcl",5259:"react-syntax-highlighter_languages_refractor_groovy",5299:"react-syntax-highlighter_languages_refractor_csp",5508:"react-syntax-highlighter_languages_refractor_julia",5524:"react-syntax-highlighter_languages_refractor_apacheconf",5539:"react-syntax-highlighter_languages_refractor_brainfuck",5696:"react-syntax-highlighter_languages_refractor_asm6502",5793:"react-syntax-highlighter_languages_refractor_phpExtras",5867:"react-syntax-highlighter_languages_refractor_gedcom",5896:"react-syntax-highlighter_languages_refractor_vbnet",5951:"react-syntax-highlighter_languages_refractor_less",5983:"react-syntax-highlighter_languages_refractor_yaml",6051:"react-syntax-highlighter_languages_refractor_gherkin",6084:"react-syntax-highlighter_languages_refractor_ada",6118:"react-syntax-highlighter_languages_refractor_coffeescript",6247:"react-syntax-highlighter_languages_refractor_diff",6343:"react-syntax-highlighter_languages_refractor_elixir",6487:"react-syntax-highlighter_languages_refractor_haml",6495:"react-syntax-highlighter_languages_refractor_ini",6508:"react-syntax-highlighter_languages_refractor_http",6558:"react-syntax-highlighter_languages_refractor_visualBasic",6574:"react-syntax-highlighter_languages_refractor_xeora",6626:"react-syntax-highlighter_languages_refractor_go",6670:"react-syntax-highlighter_languages_refractor_apl",6749:"react-syntax-highlighter_languages_refractor_hpkp",6861:"react-syntax-highlighter_languages_refractor_puppet",6975:"react-syntax-highlighter_languages_refractor_tap",7055:"react-syntax-highlighter_languages_refractor_sql",7097:"react-syntax-highlighter_languages_refractor_textile",7253:"react-syntax-highlighter_languages_refractor_nasm",7279:"react-syntax-highlighter_languages_refractor_javascript",7286:"react-syntax-highlighter_languages_refractor_scss",7475:"react-syntax-highlighter_languages_refractor_cssExtras",7504:"react-syntax-highlighter_languages_refractor_basic",7576:"react-syntax-highlighter_languages_refractor_makefile",7658:"react-syntax-highlighter_languages_refractor_oz",7719:"react-syntax-highlighter_languages_refractor_lolcode",7769:"react-syntax-highlighter_languages_refractor_dart",7801:"react-syntax-highlighter_languages_refractor_io",7833:"react-syntax-highlighter_languages_refractor_pascal",7838:"react-syntax-highlighter_languages_refractor_elm",7882:"react-syntax-highlighter_languages_refractor_r",7899:"react-syntax-highlighter_languages_refractor_django",7966:"react-syntax-highlighter_languages_refractor_clojure",8e3:"react-syntax-highlighter_languages_refractor_opencl",8030:"react-syntax-highlighter_languages_refractor_aspnet",8067:"react-syntax-highlighter_languages_refractor_sas",8119:"react-syntax-highlighter_languages_refractor_lua",8333:"react-syntax-highlighter_languages_refractor_autoit",8336:"react-syntax-highlighter_languages_refractor_objectivec",8404:"react-syntax-highlighter_languages_refractor_matlab",8458:"react-syntax-highlighter_languages_refractor_jolie",8513:"react-syntax-highlighter_languages_refractor_monkey",8765:"react-syntax-highlighter_languages_refractor_bash",8811:"react-syntax-highlighter_languages_refractor_reason",8819:"react-syntax-highlighter_languages_refractor_verilog",8827:"react-syntax-highlighter_languages_refractor_twig",8840:"react-syntax-highlighter_languages_refractor_plsql",8921:"react-syntax-highlighter_languages_refractor_graphql",8950:"react-syntax-highlighter_languages_refractor_c",8992:"react-syntax-highlighter_languages_refractor_ocaml",9291:"react-syntax-highlighter_languages_refractor_renpy",9315:"react-syntax-highlighter_languages_refractor_pure",9461:"react-syntax-highlighter_languages_refractor_typescript",9692:"react-syntax-highlighter_languages_refractor_cpp",9742:"react-syntax-highlighter_languages_refractor_flow",9770:"react-syntax-highlighter_languages_refractor_processing",9797:"react-syntax-highlighter_languages_refractor_sass",9835:"react-syntax-highlighter_languages_refractor_markdown",9851:"react-syntax-highlighter_languages_refractor_pug",9979:"react-syntax-highlighter_languages_refractor_parigp"}[e]+".bundle.js"),a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="crest_v2:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==r+i){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var p=(t,r)=>{s.onerror=s.onload=null,clearTimeout(d);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,l]=n,u=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);l&&l(a)}for(t&&t(n);u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcrest_v2=self.webpackChunkcrest_v2||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};a.r(e),a.d(e,{scaleBand:()=>_L,scaleDiverging:()=>XN,scaleDivergingLog:()=>YN,scaleDivergingPow:()=>JN,scaleDivergingSqrt:()=>QN,scaleDivergingSymlog:()=>KN,scaleIdentity:()=>OA,scaleImplicit:()=>yL,scaleLinear:()=>AA,scaleLog:()=>UA,scaleOrdinal:()=>vL,scalePoint:()=>xL,scalePow:()=>KA,scaleQuantile:()=>lO,scaleQuantize:()=>uO,scaleRadial:()=>tO,scaleSequential:()=>ZN,scaleSequentialLog:()=>UN,scaleSequentialPow:()=>VN,scaleSequentialQuantile:()=>HN,scaleSequentialSqrt:()=>GN,scaleSequentialSymlog:()=>qN,scaleSqrt:()=>JA,scaleSymlog:()=>HA,scaleThreshold:()=>cO,scaleTime:()=>zN,scaleUtc:()=>FN,tickFormat:()=>LA});var t,n=a(67294),r=a(20745),i=a(87462),o=t||(t={});o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE";function s(e){e.preventDefault(),e.returnValue=""}function l(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function u(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function c(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(e,t){if(!e)throw new Error(t)}const p=(0,n.createContext)(null),d=(0,n.createContext)(null),f=(0,n.createContext)({outlet:null,matches:[]});function m(e){return function(e){let t=(0,n.useContext)(f).outlet;return t?(0,n.createElement)(w.Provider,{value:e},t):t}(e.context)}function g(e){h(!1)}function y(e){let{basename:r="/",children:i=null,location:o,navigationType:a=t.Pop,navigator:s,static:l=!1}=e;_()&&h(!1);let u=R(r),f=(0,n.useMemo)((()=>({basename:u,navigator:s,static:l})),[u,s,l]);"string"==typeof o&&(o=c(o));let{pathname:m="/",search:g="",hash:y="",state:v=null,key:b="default"}=o,x=(0,n.useMemo)((()=>{let e=A(m,u);return null==e?null:{pathname:e,search:g,hash:y,state:v,key:b}}),[u,m,g,y,v,b]);return null==x?null:(0,n.createElement)(p.Provider,{value:f},(0,n.createElement)(d.Provider,{children:i,value:{location:x,navigationType:a}}))}function v(e){let{children:t,location:r}=e;return function(e,t){_()||h(!1);let{matches:r}=(0,n.useContext)(f),i=r[r.length-1],o=i?i.params:{},a=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let s,l=b();if(t){var u;let e="string"==typeof t?c(t):t;"/"===a||(null==(u=e.pathname)?void 0:u.startsWith(a))||h(!1),s=e}else s=l;let p=s.pathname||"/",d=function(e,t,n){void 0===n&&(n="/");let r=A(("string"==typeof t?c(t):t).pathname||"/",n);if(null==r)return null;let i=C(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let o=null;for(let e=0;null==o&&e<i.length;++e)o=P(i[e],r);return o}(e,{pathname:"/"===a?p:p.slice(a.length)||"/"});return function(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(((r,i,o)=>(0,n.createElement)(f.Provider,{children:void 0!==i.route.element?i.route.element:(0,n.createElement)(m,null),value:{outlet:r,matches:t.concat(e.slice(0,o+1))}})),null)}(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:O([a,e.pathname]),pathnameBase:"/"===e.pathnameBase?a:O([a,e.pathnameBase])}))),r)}(S(t),r)}function _(){return null!=(0,n.useContext)(d)}function b(){return _()||h(!1),(0,n.useContext)(d).location}function x(){_()||h(!1);let{basename:e,navigator:t}=(0,n.useContext)(p),{matches:r}=(0,n.useContext)(f),{pathname:i}=b(),o=JSON.stringify(r.map((e=>e.pathnameBase))),a=(0,n.useRef)(!1);(0,n.useEffect)((()=>{a.current=!0}));let s=(0,n.useCallback)((function(n,r){if(void 0===r&&(r={}),!a.current)return;if("number"==typeof n)return void t.go(n);let s=M(n,JSON.parse(o),i);"/"!==e&&(s.pathname=O([e,s.pathname])),(r.replace?t.replace:t.push)(s,r.state)}),[e,t,o,i]);return s}const w=(0,n.createContext)(null);function E(e){let{matches:t}=(0,n.useContext)(f),{pathname:r}=b(),i=JSON.stringify(t.map((e=>e.pathnameBase)));return(0,n.useMemo)((()=>M(e,JSON.parse(i),r)),[e,i,r])}function S(e){let t=[];return n.Children.forEach(e,(e=>{if(!(0,n.isValidElement)(e))return;if(e.type===n.Fragment)return void t.push.apply(t,S(e.props.children));e.type!==g&&h(!1);let r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=S(e.props.children)),t.push(r)})),t}function C(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,i)=>{let o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||h(!1),o.relativePath=o.relativePath.slice(r.length));let a=O([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&h(!1),C(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:k(a,e.index),routesMeta:s})})),t}const T=/^:\w+$/,I=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=-2),t&&(r+=2),n.filter((e=>!I(e))).reduce(((e,t)=>e+(T.test(t)?3:""===t?1:10)),r)}function P(e,t){let{routesMeta:n}=e,r={},i="/",o=[];for(let e=0;e<n.length;++e){let a=n[e],s=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=L({path:a.relativePath,caseSensitive:a.caseSensitive,end:s},l);if(!u)return null;Object.assign(r,u.params);let c=a.route;o.push({params:r,pathname:O([i,u.pathname]),pathnameBase:O([i,u.pathnameBase]),route:c}),"/"!==u.pathnameBase&&(i=O([i,u.pathnameBase]))}return o}function L(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)",[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{if("*"===t){let e=s[n]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(t){return e}}(s[n]||""),e}),{});return{params:l,pathname:o,pathnameBase:a,pattern:e}}function M(e,t,n){let r,i="string"==typeof e?c(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}r=e>=0?t[e]:"/"}let a=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?c(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:N(r),hash:D(i)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!a.pathname.endsWith("/")&&(a.pathname+="/"),a}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const O=e=>e.join("/").replace(/\/\/+/g,"/"),R=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),N=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",D=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function z(){return z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const F=["onClick","reloadDocument","replace","state","target","to"];function B(e){let{basename:r,children:o,window:a}=e,h=(0,n.useRef)();null==h.current&&(h.current=function(e){function n(){var e=p.location,t=d.state||{};return[t.idx,{pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"}]}function r(e){return"string"==typeof e?e:u(e)}function o(e,t){return void 0===t&&(t=null),(0,i.Z)({pathname:y.pathname,hash:"",search:""},"string"==typeof e?c(e):e,{state:t,key:Math.random().toString(36).substr(2,8)})}function a(e){m=e,e=n(),g=e[0],y=e[1],v.call({action:m,location:y})}function h(e){d.go(e)}void 0===e&&(e={});var p=void 0===(e=e.window)?document.defaultView:e,d=p.history,f=null;p.addEventListener("popstate",(function(){if(f)_.call(f),f=null;else{var e=t.Pop,r=n(),i=r[0];if(r=r[1],_.length){if(null!=i){var o=g-i;o&&(f={action:e,location:r,retry:function(){h(-1*o)}},h(o))}}else a(e)}}));var m=t.Pop,g=(e=n())[0],y=e[1],v=l(),_=l();return null==g&&(g=0,d.replaceState((0,i.Z)({},d.state,{idx:g}),"")),{get action(){return m},get location(){return y},createHref:r,push:function e(n,i){var s=t.Push,l=o(n,i);if(!_.length||(_.call({action:s,location:l,retry:function(){e(n,i)}}),0)){var u=[{usr:l.state,key:l.key,idx:g+1},r(l)];l=u[0],u=u[1];try{d.pushState(l,"",u)}catch(e){p.location.assign(u)}a(s)}},replace:function e(n,i){var s=t.Replace,l=o(n,i);_.length&&(_.call({action:s,location:l,retry:function(){e(n,i)}}),1)||(l=[{usr:l.state,key:l.key,idx:g},r(l)],d.replaceState(l[0],"",l[1]),a(s))},go:h,back:function(){h(-1)},forward:function(){h(1)},listen:function(e){return v.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&p.addEventListener("beforeunload",s),function(){t(),_.length||p.removeEventListener("beforeunload",s)}}}}({window:a}));let p=h.current,[d,f]=(0,n.useState)({action:p.action,location:p.location});return(0,n.useLayoutEffect)((()=>p.listen(f)),[p]),(0,n.createElement)(y,{basename:r,children:o,location:d.location,navigationType:d.action,navigator:p})}const j=(0,n.forwardRef)((function(e,t){let{onClick:r,reloadDocument:i,replace:o=!1,state:a,target:s,to:l}=e,d=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,F),f=function(e){_()||h(!1);let{basename:t,navigator:r}=(0,n.useContext)(p),{hash:i,pathname:o,search:a}=E(e),s=o;if("/"!==t){let n=function(e){return""===e||""===e.pathname?"/":"string"==typeof e?c(e).pathname:e.pathname}(e),r=null!=n&&n.endsWith("/");s="/"===o?t+(r?"/":""):O([t,o])}return r.createHref({pathname:s,search:a,hash:i})}(l),m=function(e,t){let{target:r,replace:i,state:o}=void 0===t?{}:t,a=x(),s=b(),l=E(e);return(0,n.useCallback)((t=>{if(!(0!==t.button||r&&"_self"!==r||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t))){t.preventDefault();let n=!!i||u(s)===u(l);a(e,{replace:n,state:o})}}),[s,a,l,i,o,r,e])}(l,{replace:o,state:a,target:s});return(0,n.createElement)("a",z({},d,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||m(e)},ref:t,target:s}))}));function Z(e){let t=(0,n.useRef)(U(e)),r=b(),i=(0,n.useMemo)((()=>{let e=U(r.search);for(let n of t.current.keys())e.has(n)||t.current.getAll(n).forEach((t=>{e.append(n,t)}));return e}),[r.search]),o=x();return[i,(0,n.useCallback)(((e,t)=>{o("?"+U(e),t)}),[o])]}function U(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var q=n.createContext(null),V=function(e){e()},G=function(){return V},H={notify:function(){},get:function(){return[]}};function W(e,t){var n,r=H;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=G(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=H)},getListeners:function(){return r}};return a}var $="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;const X=function(e){var t=e.store,r=e.context,i=e.children,o=(0,n.useMemo)((function(){var e=W(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=(0,n.useMemo)((function(){return t.getState()}),[t]);$((function(){var e=o.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var s=r||q;return n.createElement(s.Provider,{value:o},i)};var Y=a(8679),K=a.n(Y);function J(){return(0,n.useContext)(q)}function Q(e){void 0===e&&(e=q);var t=e===q?J:function(){return(0,n.useContext)(e)};return function(){return t().store}}a(72973);var ee=Q();function te(e){void 0===e&&(e=q);var t=e===q?ee:Q(e);return function(){return t().dispatch}}var ne=te(),re=function(e,t){return e===t};function ie(e){void 0===e&&(e=q);var t=e===q?J:function(){return(0,n.useContext)(e)};return function(e,r){void 0===r&&(r=re);var i=t(),o=function(e,t,r,i){var o,a=(0,n.useReducer)((function(e){return e+1}),0)[1],s=(0,n.useMemo)((function(){return W(r,i)}),[r,i]),l=(0,n.useRef)(),u=(0,n.useRef)(),c=(0,n.useRef)(),h=(0,n.useRef)(),p=r.getState();try{if(e!==u.current||p!==c.current||l.current){var d=e(p);o=void 0!==h.current&&t(d,h.current)?h.current:d}else o=h.current}catch(e){throw l.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),e}return $((function(){u.current=e,c.current=p,h.current=o,l.current=void 0})),$((function(){function e(){try{var e=r.getState();if(e===c.current)return;var n=u.current(e);if(t(n,h.current))return;h.current=n,c.current=e}catch(e){l.current=e}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),o}(e,r,i.store,i.subscription);return(0,n.useDebugValue)(o),o}}var oe,ae=ie(),se=a(73935);oe=se.unstable_batchedUpdates,V=oe;var le=a(63366),ue=a(86010),ce=a(62357),he=a(86523),pe=a(59766),de=a(74178);const fe=["sx"];function me(e){const{sx:t}=e,n=(0,le.Z)(e,fe),{systemProps:r,otherProps:o}=(e=>{const t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((n=>{de.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t})(n);let a;return a=Array.isArray(t)?[r,...t]:"function"==typeof t?(...e)=>{const n=t(...e);return(0,pe.P)(n)?(0,i.Z)({},r,n):r}:(0,i.Z)({},r,t),(0,i.Z)({},o,{sx:a})}var ge=a(96682),ye=a(85893);const ve=["className","component"];var _e=a(50252),be=a(24345);const xe=function(e={}){const{defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:o,styleFunctionSx:a=he.Z}=e,s=(0,ce.ZP)("div")(a);return n.forwardRef((function(e,n){const a=(0,ge.Z)(t),l=me(e),{className:u,component:c="div"}=l,h=(0,le.Z)(l,ve);return(0,ye.jsx)(s,(0,i.Z)({as:c,ref:n,className:(0,ue.Z)(u,o?o(r):r),theme:a},h))}))}({defaultTheme:(0,be.Z)(),defaultClassName:"MuiBox-root",generateClassName:_e.Z.generate}),we=xe;var Ee=a(89130),Se=(a(51859),a(5638)),Ce=a(70444),Te=a(23817),Ie=a(11526),ke=(0,Se.w)((function(e,t){var r=e.styles,i=(0,Te.O)([r],void 0,(0,n.useContext)(Se.T)),o=(0,n.useRef)();return(0,n.useLayoutEffect)((function(){var e=t.key+"-global",n=new Ie.m({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,a=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==a&&(r=!0,a.setAttribute("data-emotion",e),n.hydrate([a])),o.current=[n,r],function(){n.flush()}}),[t]),(0,n.useLayoutEffect)((function(){var e=o.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,Ce.M)(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null}));function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Te.O)(t)}var Le=function(){var e=Pe.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function Me(e){const{styles:t,defaultTheme:n={}}=e,r="function"==typeof t?e=>{return t(null==(r=e)||0===Object.keys(r).length?n:e);var r}:t;return(0,ye.jsx)(ke,{styles:r})}var Ae=a(90247);const Oe=function(e){return(0,ye.jsx)(Me,(0,i.Z)({},e,{defaultTheme:Ae.Z}))},Re=(e,t)=>(0,i.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode}),Ne=e=>(0,i.Z)({color:e.palette.text.primary},e.typography.body1,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}}),De=function(e){const t=(0,Ee.Z)({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=t;return(0,ye.jsxs)(n.Fragment,{children:[(0,ye.jsx)(Oe,{styles:e=>((e,t=!1)=>{var n,r;let o={html:Re(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,i.Z)({margin:0},Ne(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})};const a=null==(n=e.components)||null==(r=n.MuiCssBaseline)?void 0:r.styleOverrides;return a&&(o=[o,a]),o})(e,o)}),r]})};var ze=a(44819),Fe=a(56760);const Be="function"==typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",je=function(e){const{children:t,theme:r}=e,o=(0,Fe.Z)(),a=n.useMemo((()=>{const e=null===o?r:function(e,t){return"function"==typeof t?t(e):(0,i.Z)({},e,t)}(o,r);return null!=e&&(e[Be]=null!==o),e}),[r,o]);return(0,ye.jsx)(ze.Z.Provider,{value:a,children:t})};function Ze(e){const t=(0,ge.Z)();return(0,ye.jsx)(Se.T.Provider,{value:"object"==typeof t?t:{},children:e.children})}const Ue=function(e){const{children:t,theme:n}=e;return(0,ye.jsx)(je,{theme:n,children:(0,ye.jsx)(Ze,{children:t})})};var qe=a(34168),Ve=a(20539),Ge=a(58974);function He(e,t={}){const r=(0,qe.Z)(),i="undefined"!=typeof window&&void 0!==window.matchMedia,{defaultMatches:o=!1,matchMedia:a=(i?window.matchMedia:null),noSsr:s=!1,ssrMatchMedia:l=null}=(0,Ve.Z)({name:"MuiUseMediaQuery",props:t,theme:r});let u="function"==typeof e?e(r):e;u=u.replace(/^@media( ?)/m,"");const[c,h]=n.useState((()=>s&&i?a(u).matches:l?l(u).matches:o));return(0,Ge.Z)((()=>{let e=!0;if(!i)return;const t=a(u),n=()=>{e&&h(t.matches)};return n(),t.addListener(n),()=>{e=!1,t.removeListener(n)}}),[u,a,i]),c}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $e(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||$e(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ye=a(95408),Ke=a(60713),Je=a(29602);const Qe=n.createContext();var et=a(68919),tt=a(86288);function nt(e){return(0,et.Z)("MuiGrid",e)}const rt=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],it=(0,tt.Z)("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...rt.map((e=>`grid-xs-${e}`)),...rt.map((e=>`grid-sm-${e}`)),...rt.map((e=>`grid-md-${e}`)),...rt.map((e=>`grid-lg-${e}`)),...rt.map((e=>`grid-xl-${e}`))]),ot=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function at(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function st(e,t,n={}){if(!t||!e||e<=0)return[];if("string"==typeof e&&!Number.isNaN(Number(e))||"number"==typeof e)return[n[`spacing-xs-${String(e)}`]||`spacing-xs-${String(e)}`];const{xs:r,sm:i,md:o,lg:a,xl:s}=e;return[Number(r)>0&&(n[`spacing-xs-${String(r)}`]||`spacing-xs-${String(r)}`),Number(i)>0&&(n[`spacing-sm-${String(i)}`]||`spacing-sm-${String(i)}`),Number(o)>0&&(n[`spacing-md-${String(o)}`]||`spacing-md-${String(o)}`),Number(a)>0&&(n[`spacing-lg-${String(a)}`]||`spacing-lg-${String(a)}`),Number(s)>0&&(n[`spacing-xl-${String(s)}`]||`spacing-xl-${String(s)}`)]}const lt=(0,Je.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{container:n,direction:r,item:i,lg:o,md:a,sm:s,spacing:l,wrap:u,xl:c,xs:h,zeroMinWidth:p}=e.ownerState;return[t.root,n&&t.container,i&&t.item,p&&t.zeroMinWidth,...st(l,n,t),"row"!==r&&t[`direction-xs-${String(r)}`],"wrap"!==u&&t[`wrap-xs-${String(u)}`],!1!==h&&t[`grid-xs-${String(h)}`],!1!==s&&t[`grid-sm-${String(s)}`],!1!==a&&t[`grid-md-${String(a)}`],!1!==o&&t[`grid-lg-${String(o)}`],!1!==c&&t[`grid-xl-${String(c)}`]]}})((({ownerState:e})=>(0,i.Z)({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},"nowrap"===e.wrap&&{flexWrap:"nowrap"},"reverse"===e.wrap&&{flexWrap:"wrap-reverse"})),(function({theme:e,ownerState:t}){const n=(0,Ye.P$)({values:t.direction,breakpoints:e.breakpoints.values});return(0,Ye.k9)({theme:e},n,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${it.item}`]={maxWidth:"none"}),t}))}),(function({theme:e,ownerState:t}){const{container:n,rowSpacing:r}=t;let i={};if(n&&0!==r){const t=(0,Ye.P$)({values:r,breakpoints:e.breakpoints.values});i=(0,Ye.k9)({theme:e},t,(t=>{const n=e.spacing(t);return"0px"!==n?{marginTop:`-${at(n)}`,[`& > .${it.item}`]:{paddingTop:at(n)}}:{}}))}return i}),(function({theme:e,ownerState:t}){const{container:n,columnSpacing:r}=t;let i={};if(n&&0!==r){const t=(0,Ye.P$)({values:r,breakpoints:e.breakpoints.values});i=(0,Ye.k9)({theme:e},t,(t=>{const n=e.spacing(t);return"0px"!==n?{width:`calc(100% + ${at(n)})`,marginLeft:`-${at(n)}`,[`& > .${it.item}`]:{paddingLeft:at(n)}}:{}}))}return i}),(function({theme:e,ownerState:t}){let n;return e.breakpoints.keys.reduce(((r,o)=>{let a={};if(t[o]&&(n=t[o]),!n)return r;if(!0===n)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===n)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,Ye.P$)({values:t.columns,breakpoints:e.breakpoints.values}),l="object"==typeof s?s[o]:s;if(null==l)return r;const u=Math.round(n/l*1e8)/1e6+"%";let c={};if(t.container&&t.item&&0!==t.columnSpacing){const n=e.spacing(t.columnSpacing);if("0px"!==n){const e=`calc(${u} + ${at(n)})`;c={flexBasis:e,maxWidth:e}}}a=(0,i.Z)({flexBasis:u,flexGrow:0,maxWidth:u},c)}return 0===e.breakpoints.values[o]?Object.assign(r,a):r[e.breakpoints.up(o)]=a,r}),{})})),ut=n.forwardRef((function(e,t){const r=me((0,Ee.Z)({props:e,name:"MuiGrid"})),{className:o,columns:a,columnSpacing:s,component:l="div",container:u=!1,direction:c="row",item:h=!1,lg:p=!1,md:d=!1,rowSpacing:f,sm:m=!1,spacing:g=0,wrap:y="wrap",xl:v=!1,xs:_=!1,zeroMinWidth:b=!1}=r,x=(0,le.Z)(r,ot),w=f||g,E=s||g,S=n.useContext(Qe),C=a||S||12,T=(0,i.Z)({},r,{columns:C,container:u,direction:c,item:h,lg:p,md:d,sm:m,rowSpacing:w,columnSpacing:E,wrap:y,xl:v,xs:_,zeroMinWidth:b}),I=(e=>{const{classes:t,container:n,direction:r,item:i,lg:o,md:a,sm:s,spacing:l,wrap:u,xl:c,xs:h,zeroMinWidth:p}=e,d={root:["root",n&&"container",i&&"item",p&&"zeroMinWidth",...st(l,n),"row"!==r&&`direction-xs-${String(r)}`,"wrap"!==u&&`wrap-xs-${String(u)}`,!1!==h&&`grid-xs-${String(h)}`,!1!==s&&`grid-sm-${String(s)}`,!1!==a&&`grid-md-${String(a)}`,!1!==o&&`grid-lg-${String(o)}`,!1!==c&&`grid-xl-${String(c)}`]};return(0,Ke.Z)(d,nt,t)})(T);return k=(0,ye.jsx)(lt,(0,i.Z)({ownerState:T,className:(0,ue.Z)(I.root,o),as:l,ref:t},x)),12!==C?(0,ye.jsx)(Qe.Provider,{value:C,children:k}):k;var k})),ct=ut;var ht=a(51705),pt=a(2068),dt=a(13511);function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mt(e,t){return mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mt(e,t)}function gt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,mt(e,t)}const yt=n.createContext(null);function vt(e,t){var r=Object.create(null);return e&&n.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return t&&(0,n.isValidElement)(e)?t(e):e}(e)})),r}function _t(e,t,n){return null!=n[t]?n[t]:e.props[t]}function bt(e,t,r){var i=vt(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var u=i[l][r];s[i[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,i);return Object.keys(o).forEach((function(a){var s=o[a];if((0,n.isValidElement)(s)){var l=a in t,u=a in i,c=t[a],h=(0,n.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,n.isValidElement)(c)&&(o[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:_t(s,"exit",e),enter:_t(s,"enter",e)})):o[a]=(0,n.cloneElement)(s,{in:!1}):o[a]=(0,n.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:_t(s,"exit",e),enter:_t(s,"enter",e)})}})),o}var xt=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},wt=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(ft(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}gt(t,e);var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var r,i,o=t.children,a=t.handleExited;return{children:t.firstRender?(r=e,i=a,vt(r.children,(function(e){return(0,n.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:_t(e,"appear",r),enter:_t(e,"enter",r),exit:_t(e,"exit",r)})}))):bt(e,o,a),firstRender:!1}},r.handleExited=function(e,t){var n=vt(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,i.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,r=e.childFactory,i=(0,le.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=xt(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===t?n.createElement(yt.Provider,{value:o},a):n.createElement(yt.Provider,{value:o},n.createElement(t,i,a))},t}(n.Component);wt.propTypes={},wt.defaultProps={component:"div",childFactory:function(e){return e}};const Et=wt,St=(0,tt.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Ct=["center","classes","className"];let Tt,It,kt,Pt,Lt=e=>e;const Mt=Le(Tt||(Tt=Lt`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),At=Le(It||(It=Lt`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Ot=Le(kt||(kt=Lt`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Rt=(0,Je.ZP)("span",{name:"MuiTouchRipple",slot:"Root",skipSx:!0})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Nt=(0,Je.ZP)((function(e){const{className:t,classes:r,pulsate:i=!1,rippleX:o,rippleY:a,rippleSize:s,in:l,onExited:u,timeout:c}=e,[h,p]=n.useState(!1),d=(0,ue.Z)(t,r.ripple,r.rippleVisible,i&&r.ripplePulsate),f={width:s,height:s,top:-s/2+a,left:-s/2+o},m=(0,ue.Z)(r.child,h&&r.childLeaving,i&&r.childPulsate);return l||h||p(!0),n.useEffect((()=>{if(!l&&null!=u){const e=setTimeout(u,c);return()=>{clearTimeout(e)}}}),[u,l,c]),(0,ye.jsx)("span",{className:d,style:f,children:(0,ye.jsx)("span",{className:m})})}),{name:"MuiTouchRipple",slot:"Ripple"})(Pt||(Pt=Lt`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),St.rippleVisible,Mt,550,(({theme:e})=>e.transitions.easing.easeInOut),St.ripplePulsate,(({theme:e})=>e.transitions.duration.shorter),St.child,St.childLeaving,At,550,(({theme:e})=>e.transitions.easing.easeInOut),St.childPulsate,Ot,(({theme:e})=>e.transitions.easing.easeInOut)),Dt=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:s}=r,l=(0,le.Z)(r,Ct),[u,c]=n.useState([]),h=n.useRef(0),p=n.useRef(null);n.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[u]);const d=n.useRef(!1),f=n.useRef(null),m=n.useRef(null),g=n.useRef(null);n.useEffect((()=>()=>{clearTimeout(f.current)}),[]);const y=n.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:o}=e;c((e=>[...e,(0,ye.jsx)(Nt,{classes:{ripple:(0,ue.Z)(a.ripple,St.ripple),rippleVisible:(0,ue.Z)(a.rippleVisible,St.rippleVisible),ripplePulsate:(0,ue.Z)(a.ripplePulsate,St.ripplePulsate),child:(0,ue.Z)(a.child,St.child),childLeaving:(0,ue.Z)(a.childLeaving,St.childLeaving),childPulsate:(0,ue.Z)(a.childPulsate,St.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},h.current)])),h.current+=1,p.current=o}),[a]),v=n.useCallback(((e={},t={},n)=>{const{pulsate:r=!1,center:i=o||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===e.type&&d.current)return void(d.current=!1);"touchstart"===e.type&&(d.current=!0);const s=a?null:g.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,h;if(i||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(i)h=Math.sqrt((2*l.width**2+l.height**2)/3),h%2==0&&(h+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;h=Math.sqrt(e**2+t**2)}e.touches?null===m.current&&(m.current=()=>{y({pulsate:r,rippleX:u,rippleY:c,rippleSize:h,cb:n})},f.current=setTimeout((()=>{m.current&&(m.current(),m.current=null)}),80)):y({pulsate:r,rippleX:u,rippleY:c,rippleSize:h,cb:n})}),[o,y]),_=n.useCallback((()=>{v({},{pulsate:!0})}),[v]),b=n.useCallback(((e,t)=>{if(clearTimeout(f.current),"touchend"===e.type&&m.current)return m.current(),m.current=null,void(f.current=setTimeout((()=>{b(e,t)})));m.current=null,c((e=>e.length>0?e.slice(1):e)),p.current=t}),[]);return n.useImperativeHandle(t,(()=>({pulsate:_,start:v,stop:b})),[_,v,b]),(0,ye.jsx)(Rt,(0,i.Z)({className:(0,ue.Z)(a.root,St.root,s),ref:g},l,{children:(0,ye.jsx)(Et,{component:null,exit:!0,children:u})}))})),zt=Dt;function Ft(e){return(0,et.Z)("MuiButtonBase",e)}const Bt=(0,tt.Z)("MuiButtonBase",["root","disabled","focusVisible"]),jt=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","type"],Zt=(0,Je.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Bt.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ut=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:s,className:l,component:u="button",disabled:c=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:d=!1,LinkComponent:f="a",onBlur:m,onClick:g,onContextMenu:y,onDragLeave:v,onFocus:_,onFocusVisible:b,onKeyDown:x,onKeyUp:w,onMouseDown:E,onMouseLeave:S,onMouseUp:C,onTouchEnd:T,onTouchMove:I,onTouchStart:k,tabIndex:P=0,TouchRippleProps:L,type:M}=r,A=(0,le.Z)(r,jt),O=n.useRef(null),R=n.useRef(null),{isFocusVisibleRef:N,onFocus:D,onBlur:z,ref:F}=(0,dt.Z)(),[B,j]=n.useState(!1);function Z(e,t,n=p){return(0,pt.Z)((r=>(t&&t(r),!n&&R.current&&R.current[e](r),!0)))}c&&B&&j(!1),n.useImperativeHandle(o,(()=>({focusVisible:()=>{j(!0),O.current.focus()}})),[]),n.useEffect((()=>{B&&d&&!h&&R.current.pulsate()}),[h,d,B]);const U=Z("start",E),q=Z("stop",y),V=Z("stop",v),G=Z("stop",C),H=Z("stop",(e=>{B&&e.preventDefault(),S&&S(e)})),W=Z("start",k),$=Z("stop",T),X=Z("stop",I),Y=Z("stop",(e=>{z(e),!1===N.current&&j(!1),m&&m(e)}),!1),K=(0,pt.Z)((e=>{O.current||(O.current=e.currentTarget),D(e),!0===N.current&&(j(!0),b&&b(e)),_&&_(e)})),J=()=>{const e=O.current;return u&&"button"!==u&&!("A"===e.tagName&&e.href)},Q=n.useRef(!1),ee=(0,pt.Z)((e=>{d&&!Q.current&&B&&R.current&&" "===e.key&&(Q.current=!0,R.current.stop(e,(()=>{R.current.start(e)}))),e.target===e.currentTarget&&J()&&" "===e.key&&e.preventDefault(),x&&x(e),e.target===e.currentTarget&&J()&&"Enter"===e.key&&!c&&(e.preventDefault(),g&&g(e))})),te=(0,pt.Z)((e=>{d&&" "===e.key&&R.current&&B&&!e.defaultPrevented&&(Q.current=!1,R.current.stop(e,(()=>{R.current.pulsate(e)}))),w&&w(e),g&&e.target===e.currentTarget&&J()&&" "===e.key&&!e.defaultPrevented&&g(e)}));let ne=u;"button"===ne&&(A.href||A.to)&&(ne=f);const re={};"button"===ne?(re.type=void 0===M?"button":M,re.disabled=c):(A.href||A.to||(re.role="button"),c&&(re["aria-disabled"]=c));const ie=(0,ht.Z)(F,O),oe=(0,ht.Z)(t,ie),[ae,se]=n.useState(!1);n.useEffect((()=>{se(!0)}),[]);const ce=ae&&!h&&!c,he=(0,i.Z)({},r,{centerRipple:a,component:u,disabled:c,disableRipple:h,disableTouchRipple:p,focusRipple:d,tabIndex:P,focusVisible:B}),pe=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,Ke.Z)(o,Ft,i);return n&&r&&(a.root+=` ${r}`),a})(he);return(0,ye.jsxs)(Zt,(0,i.Z)({as:ne,className:(0,ue.Z)(pe.root,l),ownerState:he,onBlur:Y,onClick:g,onContextMenu:q,onFocus:K,onKeyDown:ee,onKeyUp:te,onMouseDown:U,onMouseLeave:H,onMouseUp:G,onDragLeave:V,onTouchEnd:$,onTouchMove:X,onTouchStart:W,ref:oe,tabIndex:c?-1:P,type:M},re,A,{children:[s,ce?(0,ye.jsx)(zt,(0,i.Z)({ref:R,center:a},L)):null]}))}));var qt=a(98216);function Vt(e){return(0,et.Z)("MuiTab",e)}const Gt=(0,tt.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Ht=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Wt=(0,Je.ZP)(Ut,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${(0,qt.Z)(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped]}})((({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:"top"===t.iconPosition||"bottom"===t.iconPosition?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Gt.iconWrapper}`]:(0,i.Z)({},"top"===t.iconPosition&&{marginBottom:6},"bottom"===t.iconPosition&&{marginTop:6},"start"===t.iconPosition&&{marginRight:e.spacing(1)},"end"===t.iconPosition&&{marginLeft:e.spacing(1)})},"inherit"===t.textColor&&{color:"inherit",opacity:.6,[`&.${Gt.selected}`]:{opacity:1},[`&.${Gt.disabled}`]:{opacity:e.palette.action.disabledOpacity}},"primary"===t.textColor&&{color:e.palette.text.secondary,[`&.${Gt.selected}`]:{color:e.palette.primary.main},[`&.${Gt.disabled}`]:{color:e.palette.text.disabled}},"secondary"===t.textColor&&{color:e.palette.text.secondary,[`&.${Gt.selected}`]:{color:e.palette.secondary.main},[`&.${Gt.disabled}`]:{color:e.palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)}))),$t=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiTab"}),{className:o,disabled:a=!1,disableFocusRipple:s=!1,fullWidth:l,icon:u,iconPosition:c="top",indicator:h,label:p,onChange:d,onClick:f,onFocus:m,selected:g,selectionFollowsFocus:y,textColor:v="inherit",value:_,wrapped:b=!1}=r,x=(0,le.Z)(r,Ht),w=(0,i.Z)({},r,{disabled:a,disableFocusRipple:s,selected:g,icon:!!u,iconPosition:c,label:!!p,fullWidth:l,textColor:v,wrapped:b}),E=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:i,icon:o,label:a,selected:s,disabled:l}=e,u={root:["root",o&&a&&"labelIcon",`textColor${(0,qt.Z)(n)}`,r&&"fullWidth",i&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,Ke.Z)(u,Vt,t)})(w),S=u&&p&&n.isValidElement(u)?n.cloneElement(u,{className:(0,ue.Z)(E.iconWrapper,u.props.className)}):u;return(0,ye.jsxs)(Wt,(0,i.Z)({focusRipple:!s,className:(0,ue.Z)(E.root,o),ref:t,role:"tab","aria-selected":g,disabled:a,onClick:e=>{!g&&d&&d(e,_),f&&f(e)},onFocus:e=>{y&&!g&&d&&d(e,_),m&&m(e)},ownerState:w,tabIndex:g?0:-1},x,{children:["top"===c||"start"===c?(0,ye.jsxs)(n.Fragment,{children:[S,p]}):(0,ye.jsxs)(n.Fragment,{children:[p,S]}),h]}))})),Xt=$t;function Yt(){return(0,ge.Z)(Ae.Z)}a(76607);var Kt=a(57144);let Jt;function Qt(){if(Jt)return Jt;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),Jt="reverse",e.scrollLeft>0?Jt="default":(e.scrollLeft=1,0===e.scrollLeft&&(Jt="negative")),document.body.removeChild(e),Jt}function en(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(Qt()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function tn(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var nn=a(5340);const rn=["onChange"],on={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var an=a(15949);const sn=(0,an.Z)((0,ye.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ln=(0,an.Z)((0,ye.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function un(e){return(0,et.Z)("MuiTabScrollButton",e)}const cn=(0,tt.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]);var hn,pn;const dn=["className","direction","orientation","disabled"],fn=(0,Je.ZP)(Ut,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((({ownerState:e})=>(0,i.Z)({width:40,flexShrink:0,opacity:.8,[`&.${cn.disabled}`]:{opacity:0}},"vertical"===e.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}}))),mn=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiTabScrollButton"}),{className:r,direction:o}=n,a=(0,le.Z)(n,dn),s="rtl"===Yt().direction,l=(0,i.Z)({isRtl:s},n),u=(e=>{const{classes:t,orientation:n,disabled:r}=e,i={root:["root",n,r&&"disabled"]};return(0,Ke.Z)(i,un,t)})(l);return(0,ye.jsx)(fn,(0,i.Z)({component:"div",className:(0,ue.Z)(u.root,r),ref:t,role:null,ownerState:l,tabIndex:null},a,{children:"left"===o?hn||(hn=(0,ye.jsx)(sn,{fontSize:"small"})):pn||(pn=(0,ye.jsx)(ln,{fontSize:"small"}))}))}));function gn(e){return(0,et.Z)("MuiTabs",e)}const yn=(0,tt.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]);var vn=a(8038);const _n=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],bn=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,xn=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,wn=(e,t,n)=>{let r=!1,i=n(e,t);for(;i;){if(i===e.firstChild){if(r)return;r=!0}const t=i.disabled||"true"===i.getAttribute("aria-disabled");if(i.hasAttribute("tabindex")&&!t)return void i.focus();i=n(e,i)}},En=(0,Je.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${yn.scrollButtons}`]:t.scrollButtons},{[`& .${yn.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((({ownerState:e,theme:t})=>(0,i.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${yn.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}}))),Sn=(0,Je.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((({ownerState:e})=>(0,i.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"}))),Cn=(0,Je.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((({ownerState:e})=>(0,i.Z)({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"}))),Tn=(0,Je.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((({ownerState:e,theme:t})=>(0,i.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},"primary"===e.indicatorColor&&{backgroundColor:t.palette.primary.main},"secondary"===e.indicatorColor&&{backgroundColor:t.palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0}))),In=(0,Je.ZP)((function(e){const{onChange:t}=e,r=(0,le.Z)(e,rn),o=n.useRef(),a=n.useRef(null),s=()=>{o.current=a.current.offsetHeight-a.current.clientHeight};return n.useEffect((()=>{const e=(0,Kt.Z)((()=>{const e=o.current;s(),e!==o.current&&t(o.current)})),n=(0,nn.Z)(a.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),n.useEffect((()=>{s(),t(o.current)}),[t]),(0,ye.jsx)("div",(0,i.Z)({style:on,ref:a},r))}),{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),kn={},Pn=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiTabs"}),o=Yt(),a="rtl"===o.direction,{"aria-label":s,"aria-labelledby":l,action:u,centered:c=!1,children:h,className:p,component:d="div",allowScrollButtonsMobile:f=!1,indicatorColor:m="primary",onChange:g,orientation:y="horizontal",ScrollButtonComponent:v=mn,scrollButtons:_="auto",selectionFollowsFocus:b,TabIndicatorProps:x={},TabScrollButtonProps:w={},textColor:E="primary",value:S,variant:C="standard",visibleScrollbar:T=!1}=r,I=(0,le.Z)(r,_n),k="scrollable"===C,P="vertical"===y,L=P?"scrollTop":"scrollLeft",M=P?"top":"left",A=P?"bottom":"right",O=P?"clientHeight":"clientWidth",R=P?"height":"width",N=(0,i.Z)({},r,{component:d,allowScrollButtonsMobile:f,indicatorColor:m,orientation:y,vertical:P,scrollButtons:_,textColor:E,variant:C,visibleScrollbar:T,fixed:!k,hideScrollbar:k&&!T,scrollableX:k&&!P,scrollableY:k&&P,centered:c&&!k,scrollButtonsHideMobile:!f}),D=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:i,scrollableY:o,centered:a,scrollButtonsHideMobile:s,classes:l}=e,u={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",i&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]};return(0,Ke.Z)(u,gn,l)})(N),[z,F]=n.useState(!1),[B,j]=n.useState(kn),[Z,U]=n.useState({start:!1,end:!1}),[q,V]=n.useState({overflow:"hidden",scrollbarWidth:0}),G=new Map,H=n.useRef(null),W=n.useRef(null),$=()=>{const e=H.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:en(e,o.direction),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==S){const e=W.current.children;if(e.length>0){const t=e[G.get(S)];n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},X=(0,pt.Z)((()=>{const{tabsMeta:e,tabMeta:t}=$();let n,r=0;if(P)n="top",t&&e&&(r=t.top-e.top+e.scrollTop);else if(n=a?"right":"left",t&&e){const i=a?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;r=(a?-1:1)*(t[n]-e[n]+i)}const i={[n]:r,[R]:t?t[R]:0};if(isNaN(B[n])||isNaN(B[R]))j(i);else{const e=Math.abs(B[n]-i[n]),t=Math.abs(B[R]-i[R]);(e>=1||t>=1)&&j(i)}})),Y=(e,{animation:t=!0}={})=>{t?function(e,t,n,r={},i=(()=>{})){const{ease:o=tn,duration:a=300}=r;let s=null;const l=t[e];let u=!1;const c=r=>{if(u)return void i(new Error("Animation cancelled"));null===s&&(s=r);const h=Math.min(1,(r-s)/a);t[e]=o(h)*(n-l)+l,h>=1?requestAnimationFrame((()=>{i(null)})):requestAnimationFrame(c)};l===n?i(new Error("Element already at target position")):requestAnimationFrame(c)}(L,H.current,e,{duration:o.transitions.duration.standard}):H.current[L]=e},K=e=>{let t=H.current[L];P?t+=e:(t+=e*(a?-1:1),t*=a&&"reverse"===Qt()?-1:1),Y(t)},J=()=>{const e=H.current[O];let t=0;const n=Array.from(W.current.children);for(let r=0;r<n.length;r+=1){const i=n[r];if(t+i[O]>e)break;t+=i[O]}return t},Q=()=>{K(-1*J())},ee=()=>{K(J())},te=n.useCallback((e=>{V({overflow:null,scrollbarWidth:e})}),[]),ne=(0,pt.Z)((e=>{const{tabsMeta:t,tabMeta:n}=$();if(n&&t)if(n[M]<t[M]){const r=t[L]+(n[M]-t[M]);Y(r,{animation:e})}else if(n[A]>t[A]){const r=t[L]+(n[A]-t[A]);Y(r,{animation:e})}})),re=(0,pt.Z)((()=>{if(k&&!1!==_){const{scrollTop:e,scrollHeight:t,clientHeight:n,scrollWidth:r,clientWidth:i}=H.current;let s,l;if(P)s=e>1,l=e<t-n-1;else{const e=en(H.current,o.direction);s=a?e<r-i-1:e>1,l=a?e>1:e<r-i-1}s===Z.start&&l===Z.end||U({start:s,end:l})}}));n.useEffect((()=>{const e=(0,Kt.Z)((()=>{X(),re()})),t=(0,nn.Z)(H.current);let n;return t.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(e),Array.from(W.current.children).forEach((e=>{n.observe(e)}))),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}}),[X,re]);const ie=n.useMemo((()=>(0,Kt.Z)((()=>{re()}))),[re]);n.useEffect((()=>()=>{ie.clear()}),[ie]),n.useEffect((()=>{F(!0)}),[]),n.useEffect((()=>{X(),re()})),n.useEffect((()=>{ne(kn!==B)}),[ne,B]),n.useImperativeHandle(u,(()=>({updateIndicator:X,updateScrollButtons:re})),[X,re]);const oe=(0,ye.jsx)(Tn,(0,i.Z)({},x,{className:(0,ue.Z)(D.indicator,x.className),ownerState:N,style:(0,i.Z)({},B,x.style)}));let ae=0;const se=n.Children.map(h,(e=>{if(!n.isValidElement(e))return null;const t=void 0===e.props.value?ae:e.props.value;G.set(t,ae);const r=t===S;return ae+=1,n.cloneElement(e,(0,i.Z)({fullWidth:"fullWidth"===C,indicator:r&&!z&&oe,selected:r,selectionFollowsFocus:b,onChange:g,textColor:E,value:t},1!==ae||!1!==S||e.props.tabIndex?{}:{tabIndex:0}))})),ce=(()=>{const e={};e.scrollbarSizeListener=k?(0,ye.jsx)(In,{onChange:te,className:(0,ue.Z)(D.scrollableX,D.hideScrollbar)}):null;const t=Z.start||Z.end,n=k&&("auto"===_&&t||!0===_);return e.scrollButtonStart=n?(0,ye.jsx)(v,(0,i.Z)({orientation:y,direction:a?"right":"left",onClick:Q,disabled:!Z.start},w,{className:(0,ue.Z)(D.scrollButtons,w.className)})):null,e.scrollButtonEnd=n?(0,ye.jsx)(v,(0,i.Z)({orientation:y,direction:a?"left":"right",onClick:ee,disabled:!Z.end},w,{className:(0,ue.Z)(D.scrollButtons,w.className)})):null,e})();return(0,ye.jsxs)(En,(0,i.Z)({className:(0,ue.Z)(D.root,p),ownerState:N,ref:t,as:d},I,{children:[ce.scrollButtonStart,ce.scrollbarSizeListener,(0,ye.jsxs)(Sn,{className:D.scroller,ownerState:N,style:{overflow:q.overflow,[P?"margin"+(a?"Left":"Right"):"marginBottom"]:T?void 0:-q.scrollbarWidth},ref:H,onScroll:ie,children:[(0,ye.jsx)(Cn,{"aria-label":s,"aria-labelledby":l,"aria-orientation":"vertical"===y?"vertical":null,className:D.flexContainer,ownerState:N,onKeyDown:e=>{const t=W.current,n=(0,vn.Z)(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===y?"ArrowLeft":"ArrowUp",i="horizontal"===y?"ArrowRight":"ArrowDown";switch("horizontal"===y&&a&&(r="ArrowRight",i="ArrowLeft"),e.key){case r:e.preventDefault(),wn(t,n,xn);break;case i:e.preventDefault(),wn(t,n,bn);break;case"Home":e.preventDefault(),wn(t,null,bn);break;case"End":e.preventDefault(),wn(t,null,xn)}},ref:W,role:"tablist",children:se}),z&&oe]}),ce.scrollButtonEnd]}))})),Ln=Pn;var Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};const An="object"===("undefined"==typeof window?"undefined":Mn(window))&&"object"===("undefined"==typeof document?"undefined":Mn(document))&&9===document.nodeType;function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rn(e,t,n){return t&&On(e.prototype,t),n&&On(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Nn={}.constructor;function Dn(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(Dn);if(e.constructor!==Nn)return e;var t={};for(var n in e)t[n]=Dn(e[n]);return t}function zn(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=Dn(t);return r.plugins.onCreateRule(e,i,n)||(e[0],null)}var Fn=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},Bn=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=Fn(e[r]," ");else n=Fn(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function jn(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function Zn(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function Un(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=jn(n),l=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var h=a[c];for(var p in h){var d=h[p];null!=d&&(r&&(r+=l),r+=Zn(p+":"+u+Bn(d)+";",o))}}else for(var f in a){var m=a[f];null!=m&&(r&&(r+=l),r+=Zn(f+":"+u+Bn(m)+";",o))}for(var g in t){var y=t[g];null!=y&&"fallbacks"!==g&&(r&&(r+=l),r+=Zn(g+":"+u+Bn(y)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+l+r+l),Zn(""+e+u+"{"+r,--o)+Zn("}",o)):r}var qn=/([[\].#*$><+~=|^:(),"'`\s])/g,Vn="undefined"!=typeof CSS&&CSS.escape,Gn=function(e){return Vn?Vn(e):e.replace(qn,"\\$1")},Hn=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var l=this.options.sheet;return l&&l.attached,this},e}(),Wn=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,l=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=l(ft(ft(i)),s),i.selectorText="."+Gn(i.id)),i}gt(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!=typeof n?e[t]=n:Array.isArray(n)&&(e[t]=Bn(n))}return e},n.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return Un(this.selectorText,this.style,n)},Rn(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;n&&t&&(t.setSelector(n,e)||t.replaceRule(n,this))}},get:function(){return this.selectorText}}]),t}(Hn),$n={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new Wn(e,t,n)}},Xn={indent:1,children:!0},Yn=/@([\w-]+)/,Kn=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(Yn);for(var o in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new xr((0,i.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=Xn);var t=jn(e).linebreak;if(null==e.indent&&(e.indent=Xn.indent),null==e.children&&(e.children=Xn.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),Jn=/@media|@supports\s+/,Qn={onCreateRule:function(e,t,n){return Jn.test(e)?new Kn(e,t,n):null}},er={indent:1,children:!0},tr=/@keyframes\s+([\w-]+)/,nr=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(tr);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var l in this.id=!1===o?this.name:Gn(s(this,a)),this.rules=new xr((0,i.Z)({},n,{parent:this})),t)this.rules.add(l,t[l],(0,i.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=er);var t=jn(e).linebreak;if(null==e.indent&&(e.indent=er.indent),null==e.children&&(e.children=er.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),rr=/@keyframes\s+/,ir=/\$([\w-]+)/g,or=function(e,t){return"string"==typeof e?e.replace(ir,(function(e,n){return n in t?t[n]:e})):e},ar=function(e,t,n){var r=e[t],i=or(r,n);i!==r&&(e[t]=i)},sr={onCreateRule:function(e,t,n){return"string"==typeof e&&rr.test(e)?new nr(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&ar(e,"animation-name",n.keyframes),"animation"in e&&ar(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return or(e,r.keyframes);default:return e}}},lr=function(e){function t(){return e.apply(this,arguments)||this}return gt(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=t&&t.options.link?(0,i.Z)({},e,{allowEmpty:!0}):e;return Un(this.key,this.style,n)},t}(Hn),ur={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new lr(e,t,n):null}},cr=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=jn(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=Un(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return Un(this.at,this.style,e)},e}(),hr=/@font-face/,pr={onCreateRule:function(e,t,n){return hr.test(e)?new cr(e,t,n):null}},dr=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return Un(this.key,this.style,e)},e}(),fr={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new dr(e,t,n):null}},mr=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),gr={"@charset":!0,"@import":!0,"@namespace":!0},yr={onCreateRule:function(e,t,n){return e in gr?new mr(e,t,n):null}},vr=[$n,Qn,sr,ur,pr,fr,yr],_r={process:!0},br={force:!0,process:!0},xr=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,o=r.parent,a=r.sheet,s=r.jss,l=r.Renderer,u=r.generateId,c=r.scoped,h=(0,i.Z)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:l,generateId:u,scoped:c,name:e,keyframes:this.keyframes,selector:void 0},n),p=e;e in this.raw&&(p=e+"-d"+this.counter++),this.raw[p]=t,p in this.classes&&(h.selector="."+Gn(this.classes[p]));var d=zn(p,t,h);if(!d)return null;this.register(d);var f=void 0===h.index?this.index.length:h.index;return this.index.splice(f,0,d),d},t.replace=function(e,t,n){var r=this.get(e),o=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==o&&(a=(0,i.Z)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof Wn?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof nr&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof Wn?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof nr&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"==typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=_r);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,br)}for(var c in s){var h=t.style[c],p=s[c];null==h&&h!==p&&t.prop(c,null,br)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=jn(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),wr=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,i.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new xr(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"==typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Er=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),Sr=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,le.Z)(t,["attached"]),i=jn(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},Rn(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Cr=new Sr,Tr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window&&window.Math===Math?window:"undefined"!=typeof self&&self.Math===Math?self:Function("return this")(),Ir="2f1acc6c3a606b082e5eef5e54414ffb";null==Tr[Ir]&&(Tr[Ir]=0);var kr=Tr[Ir]++,Pr=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+kr+i+t:o+n.key+"-"+kr+(i?"-"+i:"")+"-"+t}},Lr=function(e){var t;return function(){return t||(t=e()),t}},Mr=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(e){return""}},Ar=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=Bn(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(e){return!1}return!0},Or=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(e){}},Rr=function(e,t){return e.selectorText=t,e.selectorText===t},Nr=Lr((function(){return document.querySelector("head")}));var Dr=Lr((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),zr=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(e){return!1}return e.cssRules[n]},Fr=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Br=function(){function e(e){this.getPropertyValue=Mr,this.setProperty=Ar,this.removeProperty=Or,this.setSelector=Rr,this.hasInsertedRules=!1,this.cssRules=[],e&&Cr.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=Dr();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=function(e){var t=Cr.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"==typeof r){var i=function(e){for(var t=Nr(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"==typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else Nr().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=Fr(n,t);if(!1===(i=zr(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=Fr(n,t),l=zr(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof wr&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),jr=0,Zr=function(){function e(e){this.id=jr++,this.version="10.9.0",this.plugins=new Er,this.options={id:{minify:!1},createGenerateId:Pr,Renderer:An?Br:null,plugins:[]},this.generateId=Pr({minify:!1});for(var t=0;t<vr.length;t++)this.plugins.use(vr[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,i.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!=typeof n&&(n=0===Cr.index?0:Cr.index+1);var r=new wr(e,(0,i.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Cr.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"==typeof e)return this.createRule(void 0,e,t);var r=(0,i.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var o=zn(e,t,r);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Ur=function(e){return new Zr(e)},qr="object"==typeof CSS&&null!=CSS&&"number"in CSS;function Vr(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=Vr(r);o&&(t||(t={}),t[n]=o)}}return t}function Gr(e={}){const{baseClasses:t,newClasses:n,Component:r}=e;if(!n)return t;const o=(0,i.Z)({},t);return Object.keys(n).forEach((e=>{n[e]&&(o[e]=`${t[e]} ${n[e]}`)})),o}Ur();const Hr={set:(e,t,n,r)=>{let i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:(e,t,n)=>{const r=e.get(t);return r?r.get(n):void 0},delete:(e,t,n)=>{e.get(t).delete(n)}},Wr=Hr,$r=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Xr=Date.now(),Yr="fnValues"+Xr,Kr="fnStyle"+ ++Xr;var Jr="@global",Qr="@global ",ei=function(){function e(e,t,n){for(var r in this.type="global",this.at=Jr,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new xr((0,i.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),ti=function(){function e(e,t,n){this.type="global",this.at=Jr,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Qr.length);this.rule=n.jss.createRule(r,t,(0,i.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),ni=/\s*,\s*/g;function ri(e,t){for(var n=e.split(ni),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var ii=/\s*,\s*/g,oi=/&/g,ai=/\$([\w-]+)/g;var si=/[A-Z]/g,li=/^ms-/,ui={};function ci(e){return"-"+e.toLowerCase()}const hi=function(e){if(ui.hasOwnProperty(e))return ui[e];var t=e.replace(si,ci);return ui[e]=li.test(t)?"-"+t:t};function pi(e){var t={};for(var n in e)t[0===n.indexOf("--")?n:hi(n)]=e[n];return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(pi):t.fallbacks=pi(e.fallbacks)),t}var di=qr&&CSS?CSS.px:"px",fi=qr&&CSS?CSS.ms:"ms",mi=qr&&CSS?CSS.percent:"%";function gi(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var yi=gi({"animation-delay":fi,"animation-duration":fi,"background-position":di,"background-position-x":di,"background-position-y":di,"background-size":di,border:di,"border-bottom":di,"border-bottom-left-radius":di,"border-bottom-right-radius":di,"border-bottom-width":di,"border-left":di,"border-left-width":di,"border-radius":di,"border-right":di,"border-right-width":di,"border-top":di,"border-top-left-radius":di,"border-top-right-radius":di,"border-top-width":di,"border-width":di,"border-block":di,"border-block-end":di,"border-block-end-width":di,"border-block-start":di,"border-block-start-width":di,"border-block-width":di,"border-inline":di,"border-inline-end":di,"border-inline-end-width":di,"border-inline-start":di,"border-inline-start-width":di,"border-inline-width":di,"border-start-start-radius":di,"border-start-end-radius":di,"border-end-start-radius":di,"border-end-end-radius":di,margin:di,"margin-bottom":di,"margin-left":di,"margin-right":di,"margin-top":di,"margin-block":di,"margin-block-end":di,"margin-block-start":di,"margin-inline":di,"margin-inline-end":di,"margin-inline-start":di,padding:di,"padding-bottom":di,"padding-left":di,"padding-right":di,"padding-top":di,"padding-block":di,"padding-block-end":di,"padding-block-start":di,"padding-inline":di,"padding-inline-end":di,"padding-inline-start":di,"mask-position-x":di,"mask-position-y":di,"mask-size":di,height:di,width:di,"min-height":di,"max-height":di,"min-width":di,"max-width":di,bottom:di,left:di,top:di,right:di,inset:di,"inset-block":di,"inset-block-end":di,"inset-block-start":di,"inset-inline":di,"inset-inline-end":di,"inset-inline-start":di,"box-shadow":di,"text-shadow":di,"column-gap":di,"column-rule":di,"column-rule-width":di,"column-width":di,"font-size":di,"font-size-delta":di,"letter-spacing":di,"text-decoration-thickness":di,"text-indent":di,"text-stroke":di,"text-stroke-width":di,"word-spacing":di,motion:di,"motion-offset":di,outline:di,"outline-offset":di,"outline-width":di,perspective:di,"perspective-origin-x":mi,"perspective-origin-y":mi,"transform-origin":mi,"transform-origin-x":mi,"transform-origin-y":mi,"transform-origin-z":mi,"transition-delay":fi,"transition-duration":fi,"vertical-align":di,"flex-basis":di,"shape-margin":di,size:di,gap:di,grid:di,"grid-gap":di,"row-gap":di,"grid-row-gap":di,"grid-column-gap":di,"grid-template-rows":di,"grid-template-columns":di,"grid-auto-rows":di,"grid-auto-columns":di,"box-shadow-x":di,"box-shadow-y":di,"box-shadow-blur":di,"box-shadow-spread":di,"font-line-height":di,"text-shadow-x":di,"text-shadow-y":di,"text-shadow-blur":di});function vi(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=vi(e,t[r],n);else if("object"==typeof t)if("fallbacks"===e)for(var i in t)t[i]=vi(i,t[i],n);else for(var o in t)t[o]=vi(e+"-"+o,t[o],n);else if("number"==typeof t&&!1===isNaN(t)){var a=n[e]||yi[e];return!a||0===t&&a===di?t.toString():"function"==typeof a?a(t).toString():""+t+a}return t}function _i(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$e(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bi="",xi="",wi="",Ei="",Si=An&&"ontouchstart"in document.documentElement;if(An){var Ci={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Ti=document.createElement("p").style;for(var Ii in Ci)if(Ii+"Transform"in Ti){bi=Ii,xi=Ci[Ii];break}"Webkit"===bi&&"msHyphens"in Ti&&(bi="ms",xi=Ci.ms,Ei="edge"),"Webkit"===bi&&"-apple-trailing-word"in Ti&&(wi="apple")}var ki=bi,Pi=xi,Li=wi,Mi=Ei,Ai=Si,Oi={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ki?"-webkit-"+e:Pi+e)}},Ri={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ki?Pi+"print-"+e:e)}},Ni=/[-\s]+(.)?/g;function Di(e,t){return t?t.toUpperCase():""}function zi(e){return e.replace(Ni,Di)}function Fi(e){return zi("-"+e)}var Bi,ji={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ki){var n="mask-image";if(zi(n)in t)return e;if(ki+Fi(n)in t)return Pi+e}return e}},Zi={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Li||Ai?e:Pi+e)}},Ui={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Pi+e)}},qi={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Pi+e)}},Vi={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ki||"ms"===ki&&"edge"!==Mi?Pi+e:e)}},Gi={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ki||"ms"===ki||"apple"===Li?Pi+e:e)}},Hi={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ki?"WebkitColumn"+Fi(e)in t&&Pi+"column-"+e:"Moz"===ki&&"page"+Fi(e)in t&&"page-"+e)}},Wi={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ki)return e;var n=e.replace("-inline","");return ki+Fi(n)in t&&Pi+n}},$i={supportedProperty:function(e,t){return zi(e)in t&&e}},Xi={supportedProperty:function(e,t){var n=Fi(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ki+n in t?Pi+e:"Webkit"!==ki&&"Webkit"+n in t&&"-webkit-"+e}},Yi={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ki?""+Pi+e:e)}},Ki={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ki?Pi+"scroll-chaining":e)}},Ji={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Qi={supportedProperty:function(e,t){var n=Ji[e];return!!n&&ki+Fi(n)in t&&Pi+n}},eo={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},to=Object.keys(eo),no=function(e){return Pi+e},ro={supportedProperty:function(e,t,n){var r=n.multiple;if(to.indexOf(e)>-1){var i=eo[e];if(!Array.isArray(i))return ki+Fi(i)in t&&Pi+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ki+Fi(i[0])in t))return!1;return i.map(no)}return!1}},io=[Oi,Ri,ji,Zi,Ui,qi,Vi,Gi,Hi,Wi,$i,Xi,Yi,Ki,Qi,ro],oo=io.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),ao=io.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,_i(t.noPrefill)),e}),[]),so={};if(An){Bi=document.createElement("p");var lo=window.getComputedStyle(document.documentElement,"");for(var uo in lo)isNaN(uo)||(so[lo[uo]]=lo[uo]);ao.forEach((function(e){return delete so[e]}))}function co(e,t){if(void 0===t&&(t={}),!Bi)return e;if(null!=so[e])return so[e];"transition"!==e&&"transform"!==e||(t[e]=e in Bi.style);for(var n=0;n<oo.length&&(so[e]=oo[n](e,Bi.style,t),!so[e]);n++);try{Bi.style[e]=""}catch(e){return!1}return so[e]}var ho,po={},fo={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},mo=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function go(e,t,n){return"var"===t?"var":"all"===t?"all":"all"===n?", all":(t?co(t):", "+co(n))||t||n}function yo(e,t){var n=t;if(!ho||"content"===e)return t;if("string"!=typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=po[r])return po[r];try{ho.style[e]=n}catch(e){return po[r]=!1,!1}if(fo[e])n=n.replace(mo,go);else if(""===ho.style[e]&&("-ms-flex"===(n=Pi+n)&&(ho.style[e]="-ms-flexbox"),ho.style[e]=n,""===ho.style[e]))return po[r]=!1,!1;return ho.style[e]="",po[r]=n,po[r]}An&&(ho=document.createElement("p"));const vo=Ur({plugins:[{onCreateRule:function(e,t,n){if("function"!=typeof t)return null;var r=zn(e,{},n);return r[Kr]=t,r},onProcessStyle:function(e,t){if(Yr in t||Kr in t)return e;var n={};for(var r in e){var i=e[r];"function"==typeof i&&(delete e[r],n[r]=i)}return t[Yr]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[Kr];o&&(i.style=o(e)||{});var a=i[Yr];if(a)for(var s in a)i.prop(s,a[s](e),r)}},{onCreateRule:function(e,t,n){if(!e)return null;if(e===Jr)return new ei(e,t,n);if("@"===e[0]&&e.substr(0,Qr.length)===Qr)return new ti(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,o=r?r[Jr]:null;if(o){for(var a in o)t.addRule(a,o[a],(0,i.Z)({},n,{selector:ri(a,e.selector)}));delete r[Jr]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var o in r)if("@"===o[0]&&o.substr(0,Jr.length)===Jr){var a=ri(o.substr(Jr.length),e.selector);t.addRule(a,r[o],(0,i.Z)({},n,{selector:a})),delete r[o]}}(e,t))}},function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(ii),r=e.split(ii),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var l=r[s];i&&(i+=", "),i+=-1!==l.indexOf("&")?l.replace(oi,a):a+" "+l}return i}function n(e,t,n){if(n)return(0,i.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var o=(0,i.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(r,o,a){if("style"!==o.type)return r;var s,l,u=o,c=u.options.parent;for(var h in r){var p=-1!==h.indexOf("&"),d="@"===h[0];if(p||d){if(s=n(u,c,s),p){var f=t(h,u.selector);l||(l=e(c,a)),f=f.replace(ai,l);var m=u.key+"-"+h;"replaceRule"in c?c.replaceRule(m,r[h],(0,i.Z)({},s,{selector:f})):c.addRule(m,r[h],(0,i.Z)({},s,{selector:f}))}else d&&c.addRule(h,{},s).addRule(u.key,r[h],{selector:u.selector});delete r[h]}}return r}}}(),{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=pi(e[t]);return e}return pi(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=hi(t);return t===r?e:(n.prop(r,e),null)}},function(e){void 0===e&&(e={});var t=gi(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=vi(r,e[r],t);return e},onChangeValue:function(e,n){return vi(n,e,t)}}}(),"undefined"==typeof window?null:function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=co(n);o&&o!==n&&(i=!0);var a=!1,s=yo(o,Bn(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ki?e:"@"+Pi+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return yo(t,Bn(e))||e}}}(),(wo=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length},{onProcessStyle:function(e,t){if("style"!==t.type)return e;for(var n={},r=Object.keys(e).sort(wo),i=0;i<r.length;i++)n[r[i]]=e[r[i]];return n}})]}),_o=function(e={}){const{disableGlobal:t=!1,productionPrefix:n="jss",seed:r=""}=e,i=""===r?"":`${r}-`;let o=0;const a=()=>(o+=1,o);return(e,o)=>{const s=o.options.name;if(s&&0===s.indexOf("Mui")&&!o.options.link&&!t){if(-1!==$r.indexOf(e.key))return`Mui-${e.key}`;const t=`${i}${s}-${e.key}`;return o.options.theme[Be]&&""===r?`${t}-${a()}`:t}return`${i}${n}${a()}`}}(),bo={disableGeneration:!1,generateClassName:_o,jss:vo,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},xo=n.createContext(bo);var wo;let Eo=-1e9;var So=a(28320);const Co=["variant"];function To(e){return 0===e.length}const Io={},ko=["name","classNamePrefix","Component","defaultTheme"];function Po({state:e,theme:t,stylesOptions:n,stylesCreator:r,name:o},a){if(n.disableGeneration)return;let s=Wr.get(n.sheetsManager,r,t);s||(s={refs:0,staticSheet:null,dynamicStyles:null},Wr.set(n.sheetsManager,r,t,s));const l=(0,i.Z)({},r.options,n,{theme:t,flip:"boolean"==typeof n.flip?n.flip:"rtl"===t.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;const u=n.sheetsRegistry;if(0===s.refs){let e;n.sheetsCache&&(e=Wr.get(n.sheetsCache,r,t));const a=r.create(t,o);e||(e=n.jss.createStyleSheet(a,(0,i.Z)({link:!1},l)),e.attach(),n.sheetsCache&&Wr.set(n.sheetsCache,r,t,e)),u&&u.add(e),s.staticSheet=e,s.dynamicStyles=Vr(a)}if(s.dynamicStyles){const t=n.jss.createStyleSheet(s.dynamicStyles,(0,i.Z)({link:!0},l));t.update(a),t.attach(),e.dynamicSheet=t,e.classes=Gr({baseClasses:s.staticSheet.classes,newClasses:t.classes}),u&&u.add(t)}else e.classes=s.staticSheet.classes;s.refs+=1}function Lo(e,t={}){const{name:r,classNamePrefix:o,Component:a,defaultTheme:s=Io}=t,l=(0,le.Z)(t,ko),u=function(e){const t="function"==typeof e;return{create:(n,r)=>{let o;try{o=t?e(n):e}catch(e){throw e}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return o;const a=n.components[r].styleOverrides||{},s=n.components[r].variants||[],l=(0,i.Z)({},o);return Object.keys(a).forEach((e=>{l[e]=(0,pe.Z)(l[e]||{},a[e])})),s.forEach((e=>{const t=function(e){const{variant:t}=e,n=(0,le.Z)(e,Co);let r=t||"";return Object.keys(n).sort().forEach((t=>{r+="color"===t?To(r)?e[t]:(0,So.Z)(e[t]):`${To(r)?t:(0,So.Z)(t)}${(0,So.Z)(e[t].toString())}`})),r}(e.props);l[t]=(0,pe.Z)(l[t]||{},e.style)})),l},options:{}}}(e),c=r||o||"makeStyles";return u.options={index:(Eo+=1,Eo),name:r,meta:c,classNamePrefix:c},(e={})=>{const t=(0,Fe.Z)()||s,o=(0,i.Z)({},n.useContext(xo),l),c=n.useRef(),h=n.useRef();!function(i,a){const s=n.useRef([]);let l;const p=n.useMemo((()=>({})),a);s.current!==p&&(s.current=p,l=(()=>{const n={name:r,state:{},stylesCreator:u,stylesOptions:o,theme:t};return Po(n,e),h.current=!1,c.current=n,()=>{!function({state:e,theme:t,stylesOptions:n,stylesCreator:r}){if(n.disableGeneration)return;const i=Wr.get(n.sheetsManager,r,t);i.refs-=1;const o=n.sheetsRegistry;0===i.refs&&(Wr.delete(n.sheetsManager,r,t),n.jss.removeStyleSheet(i.staticSheet),o&&o.remove(i.staticSheet)),e.dynamicSheet&&(n.jss.removeStyleSheet(e.dynamicSheet),o&&o.remove(e.dynamicSheet))}(n)}})()),n.useEffect((()=>()=>{l&&l()}),[p])}(0,[t,u]),n.useEffect((()=>{h.current&&function({state:e},t){e.dynamicSheet&&e.dynamicSheet.update(t)}(c.current,e),h.current=!0}));const p=function({state:e,stylesOptions:t},n,r){if(t.disableGeneration)return n||{};e.cacheClasses||(e.cacheClasses={value:null,lastProp:null,lastJSS:{}});let i=!1;return e.classes!==e.cacheClasses.lastJSS&&(e.cacheClasses.lastJSS=e.classes,i=!0),n!==e.cacheClasses.lastProp&&(e.cacheClasses.lastProp=n,i=!0),i&&(e.cacheClasses.value=Gr({baseClasses:e.cacheClasses.lastJSS,newClasses:n,Component:r})),e.cacheClasses.value}(c.current,e.classes,a);return p}}function Mo(e,t){if(null==e)return{};var n,r,i=(0,le.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ao=a(45697),Oo=a.n(Ao),Ro=["children","value","index"];function No(e){var t=e.children,r=e.value,o=e.index,a=Mo(e,Ro);return n.createElement("div",(0,i.Z)({role:"tabpanel",hidden:r!==o,id:"about-tab-index-".concat(o),"aria-labelledby":"about-tab-index-".concat(o)},a),r===o&&n.createElement(we,{sx:{p:3}},t))}function Do(e){return(0,et.Z)("MuiTypography",e)}No.propTypes={children:Oo().node,index:Oo().number.isRequired,value:Oo().number.isRequired},(0,tt.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const zo=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Fo=(0,Je.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${(0,qt.Z)(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0},t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16}))),Bo={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},jo={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Zo=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiTypography"}),r=(e=>jo[e]||e)(n.color),o=me((0,i.Z)({},n,{color:r})),{align:a="inherit",className:s,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:h=!1,variant:p="body1",variantMapping:d=Bo}=o,f=(0,le.Z)(o,zo),m=(0,i.Z)({},o,{align:a,color:r,className:s,component:l,gutterBottom:u,noWrap:c,paragraph:h,variant:p,variantMapping:d}),g=l||(h?"p":d[p]||Bo[p])||"span",y=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,"inherit"!==e.align&&`align${(0,qt.Z)(t)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,Ke.Z)(s,Do,a)})(m);return(0,ye.jsx)(Fo,(0,i.Z)({as:g,ref:t,ownerState:m,className:(0,ue.Z)(y.root,s)},f))})),Uo=Zo;var qo=a(41796);function Vo(e){return(0,et.Z)("MuiDivider",e)}(0,tt.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const Go=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Ho=(0,Je.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:e.palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:(0,qo.Fq)(e.palette.divider,.08)},"inset"===t.variant&&{marginLeft:72},"middle"===t.variant&&"horizontal"===t.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===t.variant&&"vertical"===t.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===t.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${e.palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}})),(({theme:e,ownerState:t})=>(0,i.Z)({},t.children&&"vertical"===t.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${e.palette.divider}`,transform:"translateX(0%)"}})),(({ownerState:e})=>(0,i.Z)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}}))),Wo=(0,Je.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},"vertical"===t.orientation&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}))),$o=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:a,component:s=(o?"div":"hr"),flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:h=("hr"!==s?"separator":void 0),textAlign:p="center",variant:d="fullWidth"}=n,f=(0,le.Z)(n,Go),m=(0,i.Z)({},n,{absolute:r,component:s,flexItem:l,light:u,orientation:c,role:h,textAlign:p,variant:d}),g=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:o,orientation:a,textAlign:s,variant:l}=e,u={root:["root",t&&"absolute",l,o&&"light","vertical"===a&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===s&&"vertical"!==a&&"textAlignRight","left"===s&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]};return(0,Ke.Z)(u,Vo,r)})(m);return(0,ye.jsx)(Ho,(0,i.Z)({as:s,className:(0,ue.Z)(g.root,a),role:h,ref:t,ownerState:m},f,{children:o?(0,ye.jsx)(Wo,{className:g.wrapper,ownerState:m,children:o}):null}))}));var Xo=a(54844);function Yo(e){return(0,et.Z)("MuiLink",e)}const Ko=(0,tt.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Jo=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"],Qo={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ea=(0,Je.ZP)(Uo,{name:"MuiLink",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`underline${(0,qt.Z)(n.underline)}`],"button"===n.component&&t.button]}})((({theme:e,ownerState:t})=>{const n=(0,Xo.D)(e,`palette.${(e=>Qo[e]||e)(t.color)}`)||t.color;return(0,i.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&{textDecoration:"underline",textDecorationColor:"inherit"!==n?(0,qo.Fq)(n,.4):void 0,"&:hover":{textDecorationColor:"inherit"}},"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ko.focusVisible}`]:{outline:"auto"}})})),ta=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiLink"}),{className:o,color:a="primary",component:s="a",onBlur:l,onFocus:u,TypographyClasses:c,underline:h="always",variant:p="inherit"}=r,d=(0,le.Z)(r,Jo),{isFocusVisibleRef:f,onBlur:m,onFocus:g,ref:y}=(0,dt.Z)(),[v,_]=n.useState(!1),b=(0,ht.Z)(t,y),x=(0,i.Z)({},r,{color:a,component:s,focusVisible:v,underline:h,variant:p}),w=(e=>{const{classes:t,component:n,focusVisible:r,underline:i}=e,o={root:["root",`underline${(0,qt.Z)(i)}`,"button"===n&&"button",r&&"focusVisible"]};return(0,Ke.Z)(o,Yo,t)})(x);return(0,ye.jsx)(ea,(0,i.Z)({className:(0,ue.Z)(w.root,o),classes:c,color:a,component:s,onBlur:e=>{m(e),!1===f.current&&_(!1),l&&l(e)},onFocus:e=>{g(e),!0===f.current&&_(!0),u&&u(e)},ref:b,ownerState:x,variant:p},d))})),na=ta;var ra=Lo((function(e){return{crestList:{marginTop:e.spacing(.5)}}}));function ia(e){var t=ra();return n.createElement("div",null,n.createElement(Uo,{variant:"h5",component:"div",px:3,py:1,gutterBottom:!0},"About CREST"),n.createElement($o,{variant:"middle"}),n.createElement(Uo,{variant:"body",component:"div",px:3,pt:3,pb:1,gutterBottom:!0},"The Regional Coastal Resilience Assessments were developed by the National Fish and Wildlife Foundation (NFWF), in partnership with the National Oceanic and Atmospheric Administration (NOAA) and UNC Asheville’s National Environmental Modeling and Analysis Center (NEMAC) and in consultation with the U.S. Army Corps of Engineers and NatureServe. The Coastal Resilience Evaluation and Siting Tool (CREST) provides an interactive platform to view, download, and interact with the results of the Regional Coastal Resilience Assessments."),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"The Regional Assessments seek to identify areas on the landscape where the implementation of nature-based solutions have potential to maximize benefits for human community resilience to flooding threats and fish and wildlife habitat. In 2019, NFWF launched CREST to share results of the Regional Assessments for the U.S. Atlantic, Gulf of Mexico, and Pacific coastlines, which use a standardized methodology to combine information about flooding threats, human community assets, and fish and wildlife species to identify Resilience Hubs. The Regional Assessments have since expanded to include Puerto Rico, the U.S. Virgin Islands, the Northern Mariana Islands, Hawaii, Guam, American Samoa, and Alaska. Owing to the uniqueness of each region, the methods will continue to be refined and enhanced. CREST will be updated once the U.S. Great Lakes Regional Assessment is complete and as other Regional Assessments are updated."),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"CREST provides an online, interactive environment to access Regional Assessment results. It allows users to:",n.createElement("ol",{className:t.crestList},n.createElement("li",null,"View and explore key Assessment inputs and results within their own areas of interest,"),n.createElement("li",null,"Analyze potential project sites and quantify results from the Assessment models,"),n.createElement("li",null,"Search Resilience Hubs to identify potential project sites, and"),n.createElement("li",null,"Provide advanced GIS users with the ability to download all of the final Regional Assessment datasets for use in their own GIS platform."))),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"CREST is intended to be used as a screening-level tool designed to help identify areas that may be well suited for nature-based solutions. As with all GIS analyses, site-level assessments are required to validate results and develop detailed design and engineering plans. The results are limited by those data available at the time of analysis and by the underlying accuracy and precision of the original data sources; therefore, the Regional Assessments may not capture all flood-related threats, community assets, fish and wildlife resources, or areas of open space. For instance, significant data gaps exist in many regions including limited coastal flood-related and soil datasets across Alaska, limited storm surge data for Pacific Island regions, and lack of data that incorporate recent land subsidence in American Samoa. Resilience Hubs are not intended to identify all potential opportunities for nature-based solutions, but rather are meant to help assess potential projects based on dual benefits for habitats and human communities."),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"For additional information about the Regional Coastal Resilience Assessments and to access final reports, visit the NFWF ",n.createElement(na,{target:"_blank",href:"https://www.nfwf.org/programs/national-coastal-resilience-fund/regional-coastal-resilience-assessment"},"Regional Coastal Resilience Assessment page"),". In addition to the Regional Coastal Resilience Assessments, NFWF and NOAA partnered with NatureServe to complete Targeted Watershed Assessments for eight watersheds throughout the U.S. CREST also features the results from each targeted watershed."),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"Please send questions, comments, or issues to ",n.createElement(na,{href:"mailto:gdobson@unca.edu"},"gdobson@unca.edu"),"."))}const oa=a.p+"assets/images/about_comunity_exposure.2eb70c1f.png";var aa=Lo((function(e){return{crestList:{marginTop:e.spacing(.5)},AboutImageStyle:{maxWidth:"100%",height:"auto"}}}));function sa(e){var t=aa();return n.createElement("div",null,n.createElement(Uo,{variant:"h5",component:"div",px:3,py:1,gutterBottom:!0},"About Community Exposure"),n.createElement($o,{variant:"middle"}),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement("img",{src:oa,className:t.AboutImageStyle}))),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"The Community Exposure Index explores the relationship between potential flooding threats and the presence ofcommunity assets by combining two composite indices: the Threat Index and the Community Asset Index. The Threat Index utilizes landscape characteristics and flood-related data. The Community Asset Index helps to understand where critical infrastructure, facilities, and population are concentrated on the landscape. Together, these indices combine to identify areas where community assets overlap with flood threats, also known as exposure. While individual data inputs vary regionally, the Regional Coastal Resilience Assessments utilize standardized methods to calculate the Community Exposure Index. For details, review the ",n.createElement(na,{value:"DataAndReports",to:"/DataAndReports",component:j},"final reports")))}const la=a.p+"assets/images/about_fish_and_wildlife.b2fa4962.png";var ua=Lo((function(e){return{crestList:{marginTop:e.spacing(.5)},AboutImageStyle:{maxWidth:"100%",height:"auto"}}}));function ca(e){var t=ua();return n.createElement("div",null,n.createElement(Uo,{variant:"h5",component:"div",px:3,py:1,gutterBottom:!0},"About Fish and Wildlife"),n.createElement($o,{variant:"middle"}),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement("img",{src:la,className:t.AboutImageStyle}))),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"The Fish and Wildlife Index identifies areas on the landscape where species and their habitats are located, helping to understand areas where implementing nature-based solutions are likely to benefit federal- or state-designated species of concern. While the Regional Coastal Resilience Assessments consistently combine species data to create a single Fish and Wildlife Index, methods vary between the continental U.S. (CONUS) and other regional assessments. In CONUS, a Terrestrial and Aquatic Index are combined based principally on rarity-weighted richness. Importantly, in CONUS, the Aquatic Index includes both freshwater and marine species, but focuses almost exclusively on very shallow, nearshore areas."),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"Implementing significant enhancements to the Fish and Wildlife Index methods, regional assessments in Puerto Rico, the U.S. Virgin Islands, and the Northern Mariana Islands combine Terrestrial and Marine Indices. Unlike CONUS, the Terrestrial Index attempts to identify suitable habitat based on the habitat preferences of major taxonomic groups (e.g., birds, reptiles, mammals, amphibians, and freshwater fishes and invertebrates). The Marine Index considers habitat to a 30-meter depth contour, utilizing the best available data to identify marine habitat types capable of supporting significant biodiversity (e.g., coral reefs, mangroves, and seagrass beds). CREST automatically displays the results for each region based on the method applied. For details, review the ",n.createElement(na,{value:"DataAndReports",to:"/DataAndReports",component:j},"final reports"),"."))}const ha=a.p+"assets/images/about_resilience_hubs.67ace3d6.png";var pa=Lo((function(e){return{crestList:{marginTop:e.spacing(.5)},AboutImageStyle:{maxWidth:"100%",height:"auto"}}}));function da(e){var t=pa();return n.createElement("div",null,n.createElement(Uo,{variant:"h5",component:"div",px:3,py:1,gutterBottom:!0},"About Resilience Hubs"),n.createElement($o,{variant:"middle"}),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement("img",{src:ha,className:t.AboutImageStyle}))),n.createElement(Uo,{variant:"body",component:"div",px:3,py:1,gutterBottom:!0},"Resilience Hubs are areas of open space or habitat where resilience projects may have the greatest potential to benefit both human community resilience and fish and wildlife. The Hubs combine information about natural open spaces, flooding threats, community assets, and fish and wildlife resources. As the primary output of the Regional Coastal Resilience Assessments, Resilience Hubs are common to all regions. However, the methods used to develop Resilience Hubs do vary regionally, with significant methodological enhancements made in Puerto Rico, the U.S. Virgin Islands, and the Northern Mariana Islands. For details, review the ",n.createElement(na,{value:"DataAndReports",to:"/DataAndReports",component:j},"final reports")))}function fa(e,t){return{id:"".concat(t,"-").concat(e),"aria-controls":"".concat(t,"-").concat(e)}}var ma=Lo((function(e){return{TabPanels:{width:"100%",backgroundColor:e.palette.CRESTDark.main},TabHeading:{backgroundColor:e.palette.CRESTGridBackground.main},Tabs:{marginLeft:e.spacing(1),borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundColor:e.palette.CRESTDarkAlt.main,"&:hover":{backgroundColor:e.palette.CRESTGridBackground.dark},"&.Mui-selected":{backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,border:1,borderStyle:"solid","&:hover":{backgroundColor:e.palette.CRESTDarkAlt.main}},item:{item:{display:"flex",flexDirection:"column"}}},AboutTabPanel:{backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,border:1,borderStyle:"solid"}}}));function ga(e){var t=Xe(n.useState(0),2),r=t[0],o=t[1],a=ma();return n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:3,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{className:a.TabPanels},n.createElement(we,{px:2,className:a.TabHeading},n.createElement(Ln,{value:r,onChange:function(e,t){o(t)},"aria-label":"about page tabs",className:a.TabHeading},n.createElement(Xt,(0,i.Z)({label:"About CREST"},fa(0,"about-tab"),{className:a.Tabs})),n.createElement(Xt,(0,i.Z)({label:"About Community Exposure"},fa(1,"about-tab"),{className:a.Tabs})),n.createElement(Xt,(0,i.Z)({label:"About Fish and Wildlife"},fa(2,"about-tab"),{className:a.Tabs})),n.createElement(Xt,(0,i.Z)({label:"About Resilience Hubs"},fa(3,"about-tab"),{className:a.Tabs})))),n.createElement(No,{value:r,index:0,className:a.AboutTabPanel},n.createElement(ia,null)),n.createElement(No,{value:r,index:1,className:a.AboutTabPanel},n.createElement(sa,null)),n.createElement(No,{value:r,index:2,className:a.AboutTabPanel},n.createElement(ca,null)),n.createElement(No,{value:r,index:3,className:a.AboutTabPanel},n.createElement(da,null)))))}function ya(e){return(0,et.Z)("MuiPaper",e)}(0,tt.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const va=["className","component","elevation","square","variant"],_a=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)},ba=(0,Je.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({backgroundColor:e.palette.background.paper,color:e.palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},"outlined"===t.variant&&{border:`1px solid ${e.palette.divider}`},"elevation"===t.variant&&(0,i.Z)({boxShadow:e.shadows[t.elevation]},"dark"===e.palette.mode&&{backgroundImage:`linear-gradient(${(0,qo.Fq)("#fff",_a(t.elevation))}, ${(0,qo.Fq)("#fff",_a(t.elevation))})`})))),xa=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiPaper"}),{className:r,component:o="div",elevation:a=1,square:s=!1,variant:l="elevation"}=n,u=(0,le.Z)(n,va),c=(0,i.Z)({},n,{component:o,elevation:a,square:s,variant:l}),h=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded","elevation"===r&&`elevation${n}`]};return(0,Ke.Z)(o,ya,i)})(c);return(0,ye.jsx)(ba,(0,i.Z)({as:o,ownerState:c,className:(0,ue.Z)(h.root,r),ref:t},u))}));function wa(e){return n.createElement("div",null,n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:2,py:1},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{py:.75},n.createElement(xa,{variant:"outlined",square:!1,sx:{minHeight:"800px",height:"100%"}},n.createElement(ia,null))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:2,py:1},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{py:.75},n.createElement(xa,{variant:"outlined",square:!1,sx:{minHeight:"800px",height:"100%"}},n.createElement(sa,null))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:2,pt:1},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{py:.75},n.createElement(xa,{variant:"outlined",square:!1,sx:{minHeight:"800px",height:"100%"}},n.createElement(ca,null))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:2,py:1},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{py:.75},n.createElement(xa,{variant:"outlined",square:!1,sx:{minHeight:"800px",height:"100%"}},n.createElement(da,null))))))}const Ea=a.p+"assets/images/nemac_logo_white.6da3926e.png",Sa=a.p+"assets/images/nfwf_logo_white.fa01eb3d.png";var Ca=Lo((function(e){return{AboutLogoImageStyle:{maxHeight:"80px",maxWidth:"100%",height:"auto",padding:e.spacing(1)}}}));function Ta(e){var t=Ca();return n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:{xs:2,md:3},pt:2,pb:.75},n.createElement(ct,{item:!0,xs:12,sm:6},n.createElement("img",{src:Sa,className:t.AboutLogoImageStyle,px:1})),n.createElement(ct,{item:!0,xs:12,sm:6},n.createElement("img",{src:Ea,className:t.AboutLogoImageStyle,px:1})))}function Ia(e){var t=He((0,Fe.Z)().breakpoints.down("md"));return n.createElement(we,{px:{xs:0,md:3},py:.75},t?n.createElement(wa,null):n.createElement(ga,null),n.createElement(Ta,null))}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e,t){return Object.freeze({...e,...t})}const La=(0,n.createContext)(null),Ma=La.Provider;function Aa(){const e=(0,n.useContext)(La);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Oa(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function Ra(e,t){return null==t?function(t,r){return(0,n.useRef)(e(t,r))}:function(r,i){const o=(0,n.useRef)(e(r,i)),a=(0,n.useRef)(r),{instance:s}=o.current;return(0,n.useEffect)((function(){a.current!==r&&(t(s,r,a.current),a.current=r)}),[s,r,i]),o}}function Na(e){return function(t){const r=Aa(),i=e(t,r),{instance:o}=i.current,a=(0,n.useRef)(t.position),{position:s}=t;return(0,n.useEffect)((function(){return o.addTo(r.map),function(){o.remove()}}),[r.map,o]),(0,n.useEffect)((function(){null!=s&&s!==a.current&&(o.setPosition(s),a.current=s)}),[o,s]),i}}function Da(e){function t(t,r){const{instance:i,context:o}=e(t).current;return(0,n.useImperativeHandle)(r,(()=>i)),null==t.children?null:n.createElement(Ma,{value:o},t.children)}return(0,n.forwardRef)(t)}function za(e){function t(t,r){const{instance:i}=e(t).current;return(0,n.useImperativeHandle)(r,(()=>i)),null}return(0,n.forwardRef)(t)}var Fa=a(45243),Ba=a.n(Fa);const ja=Ra((function({children:e,...t},n){const r=new Fa.Control.Layers(void 0,void 0,t);return Oa(r,Pa(n,{layersControl:r}))}),(function(e,t,n){t.collapsed!==n.collapsed&&(!0===t.collapsed?e.collapse():e.expand())})),Za=Da(Na(ja));function Ua(e){return function(t){const r=Aa(),i=(0,n.useRef)(t),[o,a]=(0,n.useState)(null),{layersControl:s,map:l}=r,u=(0,n.useCallback)((t=>{null!=s&&(i.current.checked&&l.addLayer(t),e(s,t,i.current.name),a(t))}),[s,l]),c=(0,n.useCallback)((e=>{s?.removeLayer(e),a(null)}),[s]),h=(0,n.useMemo)((()=>Pa(r,{layerContainer:{addLayer:u,removeLayer:c}})),[r,u,c]);return(0,n.useEffect)((()=>{null!==o&&i.current!==t&&(!0!==t.checked||null!=i.current.checked&&!1!==i.current.checked?!0!==i.current.checked||null!=t.checked&&!1!==t.checked||l.removeLayer(o):l.addLayer(o),i.current=t)})),t.children?n.createElement(Ma,{value:h},t.children):null}}function qa(e,t){const r=(0,n.useRef)(t);(0,n.useEffect)((function(){t!==r.current&&null!=e.attributionControl&&(null!=r.current&&e.attributionControl.removeAttribution(r.current),null!=t&&e.attributionControl.addAttribution(t)),r.current=t}),[e,t])}function Va(e,t){const r=(0,n.useRef)();(0,n.useEffect)((function(){return null!=t&&e.instance.on(t),r.current=t,function(){null!=r.current&&e.instance.off(r.current),r.current=null}}),[e,t])}function Ga(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Ha(e,t){(0,n.useEffect)((function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function Wa(e,t){return Da((r=Ra(e,t),function(e){const t=Aa(),i=r(Ga(e,t),t);return Va(i.current,e.eventHandlers),Ha(i.current,t),function(e,t){const r=(0,n.useRef)();(0,n.useEffect)((function(){if(t.pathOptions!==r.current){const n=t.pathOptions??{};e.instance.setStyle(n),r.current=n}}),[e,t])}(i.current,e),i}));var r}Za.BaseLayer=Ua((function(e,t,n){e.addBaseLayer(t,n)})),Za.Overlay=Ua((function(e,t,n){e.addOverlay(t,n)}));const $a=Wa((function({children:e,...t},n){const r=new Fa.FeatureGroup([],t);return Oa(r,Pa(n,{layerContainer:r,overlayContainer:r}))}));var Xa=a(74721),Ya=a(11359),Ka=a(47925);function Ja(e){return(0,et.Z)("MuiButton",e)}const Qa=(0,tt.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),es=n.createContext({}),ts=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ns=e=>(0,i.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),rs=(0,Je.ZP)(Ut,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,qt.Z)(n.color)}`],t[`size${(0,qt.Z)(n.size)}`],t[`${n.variant}Size${(0,qt.Z)(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,i.Z)({textDecoration:"none",backgroundColor:(0,qo.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===t.variant&&"inherit"!==t.color&&{backgroundColor:(0,qo.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===t.variant&&"inherit"!==t.color&&{border:`1px solid ${e.palette[t.color].main}`,backgroundColor:(0,qo.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===t.variant&&{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]}},"contained"===t.variant&&"inherit"!==t.color&&{backgroundColor:e.palette[t.color].dark,"@media (hover: none)":{backgroundColor:e.palette[t.color].main}}),"&:active":(0,i.Z)({},"contained"===t.variant&&{boxShadow:e.shadows[8]}),[`&.${Qa.focusVisible}`]:(0,i.Z)({},"contained"===t.variant&&{boxShadow:e.shadows[6]}),[`&.${Qa.disabled}`]:(0,i.Z)({color:e.palette.action.disabled},"outlined"===t.variant&&{border:`1px solid ${e.palette.action.disabledBackground}`},"outlined"===t.variant&&"secondary"===t.color&&{border:`1px solid ${e.palette.action.disabled}`},"contained"===t.variant&&{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground})},"text"===t.variant&&{padding:"6px 8px"},"text"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].main},"outlined"===t.variant&&{padding:"5px 15px",border:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].main,border:`1px solid ${(0,qo.Fq)(e.palette[t.color].main,.5)}`},"contained"===t.variant&&{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2]},"contained"===t.variant&&"inherit"!==t.color&&{color:e.palette[t.color].contrastText,backgroundColor:e.palette[t.color].main},"inherit"===t.color&&{color:"inherit",borderColor:"currentColor"},"small"===t.size&&"text"===t.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"text"===t.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"outlined"===t.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"outlined"===t.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===t.size&&"contained"===t.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===t.size&&"contained"===t.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})),(({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Qa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Qa.disabled}`]:{boxShadow:"none"}})),is=(0,Je.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${(0,qt.Z)(n.size)}`]]}})((({ownerState:e})=>(0,i.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},ns(e)))),os=(0,Je.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${(0,qt.Z)(n.size)}`]]}})((({ownerState:e})=>(0,i.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},ns(e)))),as=n.forwardRef((function(e,t){const r=n.useContext(es),o=(0,Ka.Z)(r,e),a=(0,Ee.Z)({props:o,name:"MuiButton"}),{children:s,color:l="primary",component:u="button",className:c,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:d=!1,endIcon:f,focusVisibleClassName:m,fullWidth:g=!1,size:y="medium",startIcon:v,type:_,variant:b="text"}=a,x=(0,le.Z)(a,ts),w=(0,i.Z)({},a,{color:l,component:u,disabled:h,disableElevation:p,disableFocusRipple:d,fullWidth:g,size:y,type:_,variant:b}),E=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:a,classes:s}=e,l={root:["root",a,`${a}${(0,qt.Z)(t)}`,`size${(0,qt.Z)(o)}`,`${a}Size${(0,qt.Z)(o)}`,"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${(0,qt.Z)(o)}`],endIcon:["endIcon",`iconSize${(0,qt.Z)(o)}`]},u=(0,Ke.Z)(l,Ja,s);return(0,i.Z)({},s,u)})(w),S=v&&(0,ye.jsx)(is,{className:E.startIcon,ownerState:w,children:v}),C=f&&(0,ye.jsx)(os,{className:E.endIcon,ownerState:w,children:f});return(0,ye.jsxs)(rs,(0,i.Z)({ownerState:w,className:(0,ue.Z)(c,r.className),component:u,disabled:h,focusRipple:!d,focusVisibleClassName:(0,ue.Z)(E.focusVisible,m),ref:t,type:_},x,{classes:E,children:[S,s,C]}))})),ss=as;var ls={bottomleft:"leaflet-bottom leaflet-left",bottomright:"leaflet-bottom leaflet-right",topleft:"leaflet-top leaflet-left",topright:"leaflet-top leaflet-right"};const us=function(e){var t=n.useState(document.createElement("div")),r=t[0],i=t[1],o=e.position&&ls[e.position]||ls.topright,a=document.createElement("div");n.useEffect((function(){var e=document.getElementsByClassName(o);i(e[0])}),[o]),void 0!==e.prepend&&!0===e.prepend?r.prepend(a):r.append(a);var s=n.createElement("div",{className:"leaflet-control leaflet-bar",style:e.style},e.children);return Ba().DomEvent.disableClickPropagation(r),se.createPortal(s,a)};a(21787);var cs=a(64063),hs=a.n(cs);function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ds(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ps(Object(n),!0).forEach((function(t){fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ms={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"};function gs(e){var t=Aa(),r=(0,n.useRef)(),i=(0,n.useRef)(e),o=function(n){var r=e.onCreated;(t.layerContainer||t.map).addLayer(n.layer),r&&r(n)};return n.useEffect((function(){var n=t.map,i=e.onMounted;for(var a in ms)n.on(ms[a],(function(t){var n=Object.keys(ms).filter((function(e){return ms[e]===t.type}));if(1===n.length){var r=n[0];e[r]&&e[r](t)}}));return n.on(Ba().Draw.Event.CREATED,o),r.current=ys(e,t),n.addControl(r.current),i&&i(r.current),function(){for(var t in n.off(Ba().Draw.Event.CREATED,o),ms)e[t]&&n.off(ms[t],e[t]);r.current.remove(n)}}),[]),n.useEffect((function(){if(!hs()(e.draw,i.current.draw)||!hs()(e.edit,i.current.edit)||e.position!==i.current.position){var n=t.map;r.current.remove(n),r.current=ys(e,t),r.current.addTo(n);var o=e.onMounted;return o&&o(r.current),function(){r.current.remove(n)}}}),[e.draw,e.edit,e.position]),null}function ys(e,t){var n=t.layerContainer,r=e.draw,i=e.edit,o=e.position,a={edit:ds(ds({},i),{},{featureGroup:n})};return r&&(a.draw=ds({},r)),o&&(a.position=o),new Fa.Control.Draw(a)}gs.propTypes=ds(ds({},Object.keys(ms).reduce((function(e,t){return e[t]=Ao.PropTypes.func,e}),{})),{},{onCreated:Ao.PropTypes.func,onMounted:Ao.PropTypes.func,draw:Ao.PropTypes.shape({polyline:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),polygon:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),rectangle:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),circle:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),marker:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool])}),edit:Ao.PropTypes.shape({edit:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),remove:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),poly:Ao.PropTypes.oneOfType([Ao.PropTypes.object,Ao.PropTypes.bool]),allowIntersection:Ao.PropTypes.bool}),position:Ao.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:Ao.PropTypes.shape({map:Ao.PropTypes.instanceOf(Fa.Map),layerContainer:Ao.PropTypes.shape({addLayer:Ao.PropTypes.func.isRequired,removeLayer:Ao.PropTypes.func.isRequired})})});const vs=gs;var _s=6371008.8,bs={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260.511392,inches:250826616.45599997,kilometers:6371.0088,kilometres:6371.0088,meters:_s,metres:_s,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:3440.069546436285,radians:1,yards:6967335.223679999};function xs(e,t,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function ws(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Cs(e[0])||!Cs(e[1]))throw new Error("coordinates must contain numbers");return xs({type:"Point",coordinates:e},t,n)}function Es(e,t,n){void 0===n&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<o[o.length-1].length;a++)if(o[o.length-1][a]!==o[0][a])throw new Error("First and last Position are not equivalent.")}return xs({type:"Polygon",coordinates:e},t,n)}function Ss(e,t){void 0===t&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Cs(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)}function Ts(e,t,n){if(null!==e)for(var r,i,o,a,s,l,u,c,h=0,p=0,d=e.type,f="FeatureCollection"===d,m="Feature"===d,g=f?e.features.length:1,y=0;y<g;y++){s=(c=!!(u=f?e.features[y].geometry:m?e.geometry:e)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<s;v++){var _=0,b=0;if(null!==(a=c?u.geometries[v]:u)){l=a.coordinates;var x=a.type;switch(h=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":if(!1===t(l,p,y,_,b))return!1;p++,_++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===t(l[r],p,y,_,b))return!1;p++,"MultiPoint"===x&&_++}"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-h;i++){if(!1===t(l[r][i],p,y,_,b))return!1;p++}"MultiLineString"===x&&_++,"Polygon"===x&&b++}"Polygon"===x&&_++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(b=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-h;o++){if(!1===t(l[r][i][o],p,y,_,b))return!1;p++}b++}_++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===Ts(a.geometries[r],t,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Is(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var n=0;n<e.features.length&&!1!==t(e.features[n],n);n++);}function ks(e,t){var n,r,i,o,a,s,l,u,c,h,p=0,d="FeatureCollection"===e.type,f="Feature"===e.type,m=d?e.features.length:1;for(n=0;n<m;n++){for(s=d?e.features[n].geometry:f?e.geometry:e,u=d?e.features[n].properties:f?e.properties:{},c=d?e.features[n].bbox:f?e.bbox:void 0,h=d?e.features[n].id:f?e.id:void 0,a=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,i=0;i<a;i++)if(null!==(o=l?s.geometries[i]:s))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(o,p,u,c,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===t(o.geometries[r],p,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,p,u,c,h))return!1;p++}}function Ps(e){var t=[1/0,1/0,-1/0,-1/0];return Ts(e,(function(e){t[0]>e[0]&&(t[0]=e[0]),t[1]>e[1]&&(t[1]=e[1]),t[2]<e[0]&&(t[2]=e[0]),t[3]<e[1]&&(t[3]=e[1])})),t}Ps.default=Ps;const Ls=Ps;var Ms=a(20675);function As(){return new Os}function Os(){this.reset()}Os.prototype={constructor:Os,reset:function(){this.s=this.t=0},add:function(e){Ns(Rs,e,this.t),Ns(this,Rs.s,this.s),this.s?this.t+=Rs.t:this.s=Rs.t},valueOf:function(){return this.s}};var Rs=new Os;function Ns(e,t,n){var r=e.s=t+n,i=r-t,o=r-i;e.t=t-o+(n-i)}var Ds=1e-6,zs=Math.PI,Fs=zs/2,Bs=zs/4,js=2*zs,Zs=180/zs,Us=zs/180,qs=Math.abs,Vs=Math.atan,Gs=Math.atan2,Hs=Math.cos,Ws=(Math.ceil,Math.exp,Math.floor,Math.log,Math.pow,Math.sin),$s=(Math.sign,Math.sqrt);Math.tan;function Xs(e){return e>1?0:e<-1?zs:Math.acos(e)}function Ys(e){return e>1?Fs:e<-1?-Fs:Math.asin(e)}function Ks(){}function Js(e,t){e&&tl.hasOwnProperty(e.type)&&tl[e.type](e,t)}var Qs,el={Feature:function(e,t){Js(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Js(n[r].geometry,t)}},tl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){nl(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)nl(n[r],t,0)},Polygon:function(e,t){rl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)rl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Js(n[r],t)}};function nl(e,t,n){var r,i=-1,o=e.length-n;for(t.lineStart();++i<o;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function rl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)nl(e[n],t,1);t.polygonEnd()}function il(e){return[Gs(e[1],e[0]),Ys(e[2])]}function ol(e){var t=e[0],n=e[1],r=Hs(n);return[r*Hs(t),r*Ws(t),Ws(n)]}function al(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function sl(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function ll(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ul(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function cl(e){var t=$s(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function hl(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function pl(e,t){return[e>zs?e-js:e<-zs?e+js:e,t]}function dl(e){return function(t,n){return[(t+=e)>zs?t-js:t<-zs?t+js:t,n]}}function fl(e){var t=dl(e);return t.invert=dl(-e),t}function ml(e,t){var n=Hs(e),r=Ws(e),i=Hs(t),o=Ws(t);function a(e,t){var a=Hs(t),s=Hs(e)*a,l=Ws(e)*a,u=Ws(t),c=u*n+s*r;return[Gs(l*i-c*o,s*n-u*r),Ys(c*i+l*o)]}return a.invert=function(e,t){var a=Hs(t),s=Hs(e)*a,l=Ws(e)*a,u=Ws(t),c=u*i-l*o;return[Gs(l*i+u*o,s*n+c*r),Ys(c*n-s*r)]},a}function gl(e,t){(t=ol(t))[0]-=e,cl(t);var n=Xs(-t[1]);return((-t[2]<0?-n:n)+js-Ds)%js}function yl(){var e,t=[];return{point:function(t,n){e.push([t,n])},lineStart:function(){t.push(e=[])},lineEnd:Ks,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function vl(e,t){return qs(e[0]-t[0])<Ds&&qs(e[1]-t[1])<Ds}function _l(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function bl(e,t,n,r,i){var o,a,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],a=e[t];if(vl(r,a)){for(i.lineStart(),o=0;o<t;++o)i.point((r=e[o])[0],r[1]);i.lineEnd()}else s.push(n=new _l(r,e,null,!0)),l.push(n.o=new _l(r,null,n,!1)),s.push(n=new _l(a,e,null,!1)),l.push(n.o=new _l(a,null,n,!0))}})),s.length){for(l.sort(t),xl(s),xl(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,c,h=s[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;u=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(o=0,a=u.length;o<a;++o)i.point((c=u[o])[0],c[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(d)for(u=p.p.z,o=u.length-1;o>=0;--o)i.point((c=u[o])[0],c[1]);else r(p.x,p.p.x,-1,i);p=p.p}u=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function xl(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function wl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}As(),As(),As(),pl.invert=pl,1===(Qs=wl).length&&(Qs=function(e){return function(t,n){return wl(e(t),n)}}(Qs));var El=Array.prototype;function Sl(e){for(var t,n,r,i=e.length,o=-1,a=0;++o<i;)a+=e[o].length;for(n=new Array(a);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--a]=r[t];return n}El.slice,El.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);var Cl=1e9,Tl=-Cl;function Il(e,t,n,r){function i(i,o){return e<=i&&i<=n&&t<=o&&o<=r}function o(i,o,s,u){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||l(i,o)<0^s>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+s+4)%4)!==h);else u.point(o[0],o[1])}function a(r,i){return qs(r[0]-e)<Ds?i>0?0:3:qs(r[0]-n)<Ds?i>0?2:1:qs(r[1]-t)<Ds?i>0?1:0:i>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=a(e,1),r=a(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(a){var l,u,c,h,p,d,f,m,g,y,v,_=a,b=yl(),x={point:w,lineStart:function(){x.point=E,u&&u.push(c=[]),y=!0,g=!1,f=m=NaN},lineEnd:function(){l&&(E(h,p),d&&g&&b.rejoin(),l.push(b.result())),x.point=w,g&&_.lineEnd()},polygonStart:function(){_=b,l=[],u=[],v=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,c=s.length,h=s[0],p=h[0],d=h[1];l<c;++l)o=p,a=d,p=(h=s[l])[0],d=h[1],a<=r?d>r&&(p-o)*(r-a)>(d-a)*(e-o)&&++t:d<=r&&(p-o)*(r-a)<(d-a)*(e-o)&&--t;return t}(),n=v&&t,i=(l=Sl(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&bl(l,s,t,o,a),a.polygonEnd()),_=a,l=u=c=null}};function w(e,t){i(e,t)&&_.point(e,t)}function E(o,a){var s=i(o,a);if(u&&c.push([o,a]),y)h=o,p=a,d=s,y=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&g)_.point(o,a);else{var l=[f=Math.max(Tl,Math.min(Cl,f)),m=Math.max(Tl,Math.min(Cl,m))],b=[o=Math.max(Tl,Math.min(Cl,o)),a=Math.max(Tl,Math.min(Cl,a))];!function(e,t,n,r,i,o){var a,s=e[0],l=e[1],u=0,c=1,h=t[0]-s,p=t[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<u)return;a<c&&(c=a)}else if(h>0){if(a>c)return;a>u&&(u=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>c)return;a>u&&(u=a)}else if(h>0){if(a<u)return;a<c&&(c=a)}if(a=r-l,p||!(a>0)){if(a/=p,p<0){if(a<u)return;a<c&&(c=a)}else if(p>0){if(a>c)return;a>u&&(u=a)}if(a=o-l,p||!(a<0)){if(a/=p,p<0){if(a>c)return;a>u&&(u=a)}else if(p>0){if(a<u)return;a<c&&(c=a)}return u>0&&(e[0]=s+u*h,e[1]=l+u*p),c<1&&(t[0]=s+c*h,t[1]=l+c*p),!0}}}}}(l,b,e,t,n,r)?s&&(_.lineStart(),_.point(o,a),v=!1):(g||(_.lineStart(),_.point(l[0],l[1])),_.point(b[0],b[1]),s||_.lineEnd(),v=!1)}f=o,m=a,g=s}return x}}var kl=As();As(),As(),As();var Pl=1/0,Ll=Pl,Ml=-Pl,Al=Ml,Ol={point:function(e,t){e<Pl&&(Pl=e),e>Ml&&(Ml=e),t<Ll&&(Ll=t),t>Al&&(Al=t)},lineStart:Ks,lineEnd:Ks,polygonStart:Ks,polygonEnd:Ks,result:function(){var e=[[Pl,Ll],[Ml,Al]];return Ml=Al=-(Ll=Pl=1/0),e}};const Rl=Ol;function Nl(e,t,n,r){return function(i,o){var a,s,l,u=t(o),c=i.invert(r[0],r[1]),h=yl(),p=t(h),d=!1,f={point:m,lineStart:y,lineEnd:v,polygonStart:function(){f.point=_,f.lineStart=b,f.lineEnd=x,s=[],a=[]},polygonEnd:function(){f.point=m,f.lineStart=y,f.lineEnd=v,s=Sl(s);var e=function(e,t){var n=t[0],r=t[1],i=[Ws(n),-Hs(n),0],o=0,a=0;kl.reset();for(var s=0,l=e.length;s<l;++s)if(c=(u=e[s]).length)for(var u,c,h=u[c-1],p=h[0],d=h[1]/2+Bs,f=Ws(d),m=Hs(d),g=0;g<c;++g,p=v,f=b,m=x,h=y){var y=u[g],v=y[0],_=y[1]/2+Bs,b=Ws(_),x=Hs(_),w=v-p,E=w>=0?1:-1,S=E*w,C=S>zs,T=f*b;if(kl.add(Gs(T*E*Ws(S),m*x+T*Hs(S))),o+=C?w+E*js:w,C^p>=n^v>=n){var I=sl(ol(h),ol(y));cl(I);var k=sl(i,I);cl(k);var P=(C^w>=0?-1:1)*Ys(k[2]);(r>P||r===P&&(I[0]||I[1]))&&(a+=C^w>=0?1:-1)}}return(o<-1e-6||o<Ds&&kl<-1e-6)^1&a}(a,c);s.length?(d||(o.polygonStart(),d=!0),bl(s,zl,e,n,o)):e&&(d||(o.polygonStart(),d=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),s=a=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function m(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function g(e,t){var n=i(e,t);u.point(n[0],n[1])}function y(){f.point=g,u.lineStart()}function v(){f.point=m,u.lineEnd()}function _(e,t){l.push([e,t]);var n=i(e,t);p.point(n[0],n[1])}function b(){p.lineStart(),l=[]}function x(){_(l[0][0],l[0][1]),p.lineEnd();var e,t,n,r,i=p.clean(),u=h.result(),c=u.length;if(l.pop(),a.push(l),l=null,c)if(1&i){if((t=(n=u[0]).length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),e=0;e<t;++e)o.point((r=n[e])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&u.push(u.pop().concat(u.shift())),s.push(u.filter(Dl))}return f}}function Dl(e){return e.length>1}function zl(e,t){return((e=e.x)[0]<0?e[1]-Fs-Ds:Fs-e[1])-((t=t.x)[0]<0?t[1]-Fs-Ds:Fs-t[1])}As();const Fl=Nl((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,a){var s=o>0?zs:-zs,l=qs(o-n);qs(l-zs)<Ds?(e.point(n,r=(r+a)/2>0?Fs:-Fs),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(o,r),t=0):i!==s&&l>=zs&&(qs(n-i)<Ds&&(n-=i*Ds),qs(o-s)<Ds&&(o-=s*Ds),r=function(e,t,n,r){var i,o,a=Ws(e-n);return qs(a)>Ds?Vs((Ws(t)*(o=Hs(r))*Ws(n)-Ws(r)*(i=Hs(t))*Ws(e))/(i*o*a)):(t+r)/2}(n,r,o,a),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=o,r=a),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Fs,r.point(-zs,i),r.point(0,i),r.point(zs,i),r.point(zs,0),r.point(zs,-i),r.point(0,-i),r.point(-zs,-i),r.point(-zs,0),r.point(-zs,i);else if(qs(e[0]-t[0])>Ds){var o=e[0]<t[0]?zs:-zs;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}),[-zs,-Fs]);function Bl(e,t){var n=Hs(e),r=n>0,i=qs(n)>Ds;function o(e,t){return Hs(e)*Hs(t)>n}function a(e,t,r){var i=[1,0,0],o=sl(ol(e),ol(t)),a=al(o,o),s=o[0],l=a-s*s;if(!l)return!r&&e;var u=n*a/l,c=-n*s/l,h=sl(i,o),p=ul(i,u);ll(p,ul(o,c));var d=h,f=al(p,d),m=al(d,d),g=f*f-m*(al(p,p)-1);if(!(g<0)){var y=$s(g),v=ul(d,(-f-y)/m);if(ll(v,p),v=il(v),!r)return v;var _,b=e[0],x=t[0],w=e[1],E=t[1];x<b&&(_=b,b=x,x=_);var S=x-b,C=qs(S-zs)<Ds;if(!C&&E<w&&(_=w,w=E,E=_),C||S<Ds?C?w+E>0^v[1]<(qs(v[0]-b)<Ds?w:E):w<=v[1]&&v[1]<=E:S>zs^(b<=v[0]&&v[0]<=x)){var T=ul(d,(-f+y)/m);return ll(T,p),[v,il(T)]}}}function s(t,n){var i=r?e:zs-e,o=0;return t<-i?o|=1:t>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return Nl(o,(function(e){var t,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,p){var d,f=[h,p],m=o(h,p),g=r?m?0:s(h,p):m?s(h+(h<0?zs:-zs),p):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(!(d=a(t,f))||vl(t,d)||vl(f,d))&&(f[0]+=Ds,f[1]+=Ds,m=o(f[0],f[1])),m!==l)c=0,m?(e.lineStart(),d=a(f,t),e.point(d[0],d[1])):(d=a(t,f),e.point(d[0],d[1]),e.lineEnd()),t=d;else if(i&&t&&r^m){var y;g&n||!(y=a(f,t,!0))||(c=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1])))}!m||t&&vl(t,f)||e.point(f[0],f[1]),t=f,l=m,n=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,r,i,o){!function(e,t,n,r,i,o){if(n){var a=Hs(t),s=Ws(t),l=r*n;null==i?(i=t+r*js,o=t-l/2):(i=gl(a,i),o=gl(a,o),(r>0?i<o:i>o)&&(i+=r*js));for(var u,c=i;r>0?c>o:c<o;c-=l)u=il([a,-s*Hs(c),-s*Ws(c)]),e.point(u[0],u[1])}}(o,e,t,i,n,r)}),r?[0,-e]:[-zs,e-zs])}function jl(e){return e}function Zl(e){return function(t){var n=new Ul;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ul(){}function ql(e,t,n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),null!=o&&e.clipExtent(null),function(e,t){e&&el.hasOwnProperty(e.type)?el[e.type](e,t):Js(e,t)}(n,e.stream(Rl));var a=Rl.result(),s=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),l=+t[0][0]+(r-s*(a[1][0]+a[0][0]))/2,u=+t[0][1]+(i-s*(a[1][1]+a[0][1]))/2;return null!=o&&e.clipExtent(o),e.scale(150*s).translate([l,u])}Ul.prototype={constructor:Ul,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Vl=Hs(30*Us);function Gl(e,t){return+t?function(e,t){function n(r,i,o,a,s,l,u,c,h,p,d,f,m,g){var y=u-r,v=c-i,_=y*y+v*v;if(_>4*t&&m--){var b=a+p,x=s+d,w=l+f,E=$s(b*b+x*x+w*w),S=Ys(w/=E),C=qs(qs(w)-1)<Ds||qs(o-h)<Ds?(o+h)/2:Gs(x,b),T=e(C,S),I=T[0],k=T[1],P=I-r,L=k-i,M=v*P-y*L;(M*M/_>t||qs((y*P+v*L)/_-.5)>.3||a*p+s*d+l*f<Vl)&&(n(r,i,o,a,s,l,I,k,C,b/=E,x/=E,w,m,g),g.point(I,k),n(I,k,C,b,x,w,u,c,h,p,d,f,m,g))}}return function(t){var r,i,o,a,s,l,u,c,h,p,d,f,m={point:g,lineStart:y,lineEnd:_,polygonStart:function(){t.polygonStart(),m.lineStart=b},polygonEnd:function(){t.polygonEnd(),m.lineStart=y}};function g(n,r){n=e(n,r),t.point(n[0],n[1])}function y(){c=NaN,m.point=v,t.lineStart()}function v(r,i){var o=ol([r,i]),a=e(r,i);n(c,h,u,p,d,f,c=a[0],h=a[1],u=r,p=o[0],d=o[1],f=o[2],16,t),t.point(c,h)}function _(){m.point=g,t.lineEnd()}function b(){y(),m.point=x,m.lineEnd=w}function x(e,t){v(r=e,t),i=c,o=h,a=p,s=d,l=f,m.point=v}function w(){n(c,h,u,p,d,f,i,o,r,a,s,l,16,t),m.lineEnd=_,_()}return m}}(e,t):function(e){return Zl({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Hl=Zl({point:function(e,t){this.stream.point(e*Us,t*Us)}});function Wl(e){return function(e){var t,n,r,i,o,a,s,l,u,c,h=150,p=480,d=250,f=0,m=0,g=0,y=0,v=0,_=null,b=Fl,x=null,w=jl,E=.5,S=Gl(I,E);function C(e){return[(e=o(e[0]*Us,e[1]*Us))[0]*h+n,r-e[1]*h]}function T(e){return(e=o.invert((e[0]-n)/h,(r-e[1])/h))&&[e[0]*Zs,e[1]*Zs]}function I(e,i){return[(e=t(e,i))[0]*h+n,r-e[1]*h]}function k(){o=hl(i=function(e,t,n){return(e%=js)?t||n?hl(fl(e),ml(t,n)):fl(e):t||n?ml(t,n):pl}(g,y,v),t);var e=t(f,m);return n=p-e[0]*h,r=d+e[1]*h,P()}function P(){return u=c=null,C}return C.stream=function(e){return u&&c===e?u:u=Hl(b(i,S(w(c=e))))},C.clipAngle=function(e){return arguments.length?(b=+e?Bl(_=e*Us,6*Us):(_=null,Fl),P()):_*Zs},C.clipExtent=function(e){return arguments.length?(w=null==e?(x=a=s=l=null,jl):Il(x=+e[0][0],a=+e[0][1],s=+e[1][0],l=+e[1][1]),P()):null==x?null:[[x,a],[s,l]]},C.scale=function(e){return arguments.length?(h=+e,k()):h},C.translate=function(e){return arguments.length?(p=+e[0],d=+e[1],k()):[p,d]},C.center=function(e){return arguments.length?(f=e[0]%360*Us,m=e[1]%360*Us,k()):[f*Zs,m*Zs]},C.rotate=function(e){return arguments.length?(g=e[0]%360*Us,y=e[1]%360*Us,v=e.length>2?e[2]%360*Us:0,k()):[g*Zs,y*Zs,v*Zs]},C.precision=function(e){return arguments.length?(S=Gl(I,E=e*e),P()):$s(E)},C.fitExtent=function(e,t){return ql(C,e,t)},C.fitSize=function(e,t){return function(e,t,n){return ql(e,[[0,0],t],n)}(C,e,t)},function(){return t=e.apply(this,arguments),C.invert=t.invert&&T,k()}}((function(){return e}))()}function $l(e){return function(t,n){var r=Hs(t),i=Hs(n),o=e(r*i);return[o*i*Ws(t),o*Ws(n)]}}function Xl(e){return function(t,n){var r=$s(t*t+n*n),i=e(r),o=Ws(i),a=Hs(i);return[Gs(t*o,r*a),Ys(r&&n*o/r)]}}$l((function(e){return $s(2/(1+e))})).invert=Xl((function(e){return 2*Ys(e/2)}));var Yl=$l((function(e){return(e=Xs(e))&&e/Ws(e)}));function Kl(e,t){return[e,t]}function Jl(e,t,n,r){var i=e.properties||{},o="Feature"===e.type?e.geometry:e;if("GeometryCollection"===o.type){var a=[];return ks(e,(function(e){var i=Jl(e,t,n,r);i&&a.push(i)})),Ss(a)}var s=function(e){var t=function(e,t){void 0===t&&(t={});var n=Ls(e);return ws([(n[0]+n[2])/2,(n[1]+n[3])/2],t.properties,t)}(e).geometry.coordinates,n=[-t[0],-t[1]];return Wl(Yl).scale(79.4188).clipAngle(179.999).rotate(n).scale(_s)}(o),l={type:o.type,coordinates:eu(o.coordinates,s)},u=(new Ms.GeoJSONReader).read(l),c=function(e,t){void 0===t&&(t="kilometers");var n=bs[t];if(!n)throw new Error(t+" units is invalid");return e*n}(function(e,t){void 0===t&&(t="kilometers");var n=bs[t];if(!n)throw new Error(t+" units is invalid");return e/n}(t,n),"meters"),h=Ms.BufferOp.bufferOp(u,c,r);if(!Ql((h=(new Ms.GeoJSONWriter).write(h)).coordinates))return xs({type:h.type,coordinates:tu(h.coordinates,s)},i)}function Ql(e){return Array.isArray(e[0])?Ql(e[0]):isNaN(e[0])}function eu(e,t){return"object"!=typeof e[0]?t(e):e.map((function(e){return eu(e,t)}))}function tu(e,t){return"object"!=typeof e[0]?t.invert(e):e.map((function(e){return tu(e,t)}))}Yl.invert=Xl((function(e){return e})),Kl.invert=Kl,Xl(Vs),Xl(Ys),Xl((function(e){return 2*Vs(e)}));const nu=function(e,t,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!e)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===t)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var o=[];switch(e.type){case"GeometryCollection":return ks(e,(function(e){var n=Jl(e,t,r,i);n&&o.push(n)})),Ss(o);case"FeatureCollection":return Is(e,(function(e){var n=Jl(e,t,r,i);n&&Is(n,(function(e){e&&o.push(e)}))})),Ss(o)}return Jl(e,t,r,i)};function ru(e,t,n){if(void 0===n&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r,i=function(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if("Feature"===e.type&&null!==e.geometry&&"Point"===e.geometry.type)return e.geometry.coordinates;if("Point"===e.type)return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}(e),o="Feature"===(r=t).type?r.geometry:r,a=o.type,s=t.bbox,l=o.coordinates;if(s&&!1===function(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}(i,s))return!1;"Polygon"===a&&(l=[l]);for(var u=!1,c=0;c<l.length&&!u;c++)if(iu(i,l[c][0],n.ignoreBoundary)){for(var h=!1,p=1;p<l[c].length&&!h;)iu(i,l[c][p],!n.ignoreBoundary)&&(h=!0),p++;h||(u=!0)}return u}function iu(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var a=t[i][0],s=t[i][1],l=t[o][0],u=t[o][1];if(e[1]*(a-l)+s*(l-e[0])+u*(e[0]-a)==0&&(a-e[0])*(l-e[0])<=0&&(s-e[1])*(u-e[1])<=0)return!n;s>e[1]!=u>e[1]&&e[0]<(l-a)*(e[1]-s)/(u-s)+a&&(r=!r)}return r}a(27418),a(72273),Object.prototype.hasOwnProperty;var ou=new ArrayBuffer(16);new Float64Array(ou),new Uint32Array(ou),a(65510),function(){function e(e){this.points=e.points||[],this.duration=e.duration||1e4,this.sharpness=e.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=e.stepLength||60,this.length=this.points.length,this.delay=0;for(var t=0;t<this.length;t++)this.points[t].z=this.points[t].z||0;for(t=0;t<this.length-1;t++){var n=this.points[t],r=this.points[t+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),t=0;t<this.centers.length-1;t++){var i=this.points[t+1].x-(this.centers[t].x+this.centers[t+1].x)/2,o=this.points[t+1].y-(this.centers[t].y+this.centers[t+1].y)/2,a=this.points[t+1].z-(this.centers[t].y+this.centers[t+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t].y+o),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t].z+a)},{x:(1-this.sharpness)*this.points[t+1].x+this.sharpness*(this.centers[t+1].x+i),y:(1-this.sharpness)*this.points[t+1].y+this.sharpness*(this.centers[t+1].y+o),z:(1-this.sharpness)*this.points[t+1].z+this.sharpness*(this.centers[t+1].z+a)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}e.prototype.cacheSteps=function(e){var t=[],n=this.pos(0);t.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>e&&(t.push(r),n=i)}return t},e.prototype.vector=function(e){var t=this.pos(e+10),n=this.pos(e-10);return{angle:180*Math.atan2(t.y-n.y,t.x-n.x)/3.14,speed:Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y)+(n.z-t.z)*(n.z-t.z))}},e.prototype.pos=function(e){var t=e-this.delay;t<0&&(t=0),t>this.duration&&(t=this.duration-1);var n=t/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(e,t,n,r,i){var o=function(e){var t=e*e;return[t*e,3*t*(1-e),3*e*(1-e)*(1-e),(1-e)*(1-e)*(1-e)]}(e);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+t.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+t.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+t.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])}}();a(9187),a(51787);var au=6378137;function su(e){return function(e,t,n){var r=0;return ks(e,(function(e,t,n,i,o){r=function(e,t){return e+function(e){var t,n=0;switch(e.type){case"Polygon":return lu(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)n+=lu(e.coordinates[t]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)}(r,e)})),r}(e)}function lu(e){var t=0;if(e&&e.length>0){t+=Math.abs(uu(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(uu(e[n]))}return t}function uu(e){var t,n,r,i,o,a,s=0,l=e.length;if(l>2){for(a=0;a<l;a++)a===l-2?(r=l-2,i=l-1,o=0):a===l-1?(r=l-1,i=0,o=1):(r=a,i=a+1,o=a+2),t=e[r],n=e[i],s+=(cu(e[o][0])-cu(t[0]))*Math.sin(cu(n[1]));s=s*au*au/2}return s}function cu(e){return e*Math.PI/180}var hu=Math.PI/180,pu=180/Math.PI,du=function(e,t){this.lon=e,this.lat=t,this.x=hu*e,this.y=hu*t};du.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},du.prototype.antipode=function(){var e=-1*this.lat,t=this.lon<0?180+this.lon:-1*(180-this.lon);return new du(t,e)};var fu=function(){this.coords=[],this.length=0};fu.prototype.move_to=function(e){this.length++,this.coords.push(e)};var mu=function(e){this.properties=e||{},this.geometries=[]};mu.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var e=[],t=0;t<this.geometries.length;t++)e.push(this.geometries[t].coords);return{geometry:{type:"MultiLineString",coordinates:e},type:"Feature",properties:this.properties}},mu.prototype.wkt=function(){for(var e="",t="LINESTRING(",n=function(e){t+=e[0]+" "+e[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),e+=t.substring(0,t.length-1)+")"}return e};var gu=function(e,t,n){if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new du(e.x,e.y),this.end=new du(t.x,t.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+e.view()+" and "+t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+e+" and "+t)};gu.prototype.interpolate=function(e){var t=Math.sin((1-e)*this.g)/Math.sin(this.g),n=Math.sin(e*this.g)/Math.sin(this.g),r=t*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=t*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=t*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=pu*Math.atan2(o,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[pu*Math.atan2(i,r),a]},gu.prototype.Arc=function(e,t){var n=[];if(!e||e<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(e-1),i=0;i<e;++i){var o=r*i,a=this.interpolate(o);n.push(a)}for(var s=!1,l=0,u=t&&t.offset?t.offset:10,c=180-u,h=-180+u,p=360-u,d=1;d<n.length;++d){var f=n[d-1][0],m=n[d][0],g=Math.abs(m-f);g>p&&(m>c&&f<h||f>c&&m<h)?s=!0:g>l&&(l=g)}var y=[];if(s&&l<u){var v=[];y.push(v);for(var _=0;_<n.length;++_){var b=parseFloat(n[_][0]);if(_>0&&Math.abs(b-n[_-1][0])>p){var x=parseFloat(n[_-1][0]),w=parseFloat(n[_-1][1]),E=parseFloat(n[_][0]),S=parseFloat(n[_][1]);if(x>-180&&x<h&&180===E&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<h){v.push([-180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(x>c&&x<180&&-180===E&&_+1<n.length&&n[_-1][0]>c&&n[_-1][0]<180){v.push([180,n[_][1]]),_++,v.push([n[_][0],n[_][1]]);continue}if(x<h&&E>c){var C=x;x=E,E=C;var T=w;w=S,S=T}if(x>c&&E<h&&(E+=360),x<=180&&E>=180&&x<E){var I=(180-x)/(E-x),k=I*S+(1-I)*w;v.push([n[_-1][0]>c?180:-180,k]),(v=[]).push([n[_-1][0]>c?-180:180,k]),y.push(v)}else v=[],y.push(v);v.push([b,n[_][1]])}else v.push([n[_][0],n[_][1]])}}else{var P=[];y.push(P);for(var L=0;L<n.length;++L)P.push([n[L][0],n[L][1]])}for(var M=new mu(this.properties),A=0;A<y.length;++A){var O=new fu;M.geometries.push(O);for(var R=y[A],N=0;N<R.length;++N)O.move_to(R[N])}return M},a(10251);var yu=[],vu=[],_u=[],bu=[],xu=[],wu=[],Eu=[],Su=[],Cu=[],Tu=[],Iu=[],ku=[],Pu=[],Lu=[],Mu=[],Au=[],Ou=[],Ru=[],Nu=[],Du=[],zu=[],Fu=[],Bu=[],ju=[];Eu[85]=Tu[85]=-1,Su[85]=Iu[85]=0,Cu[85]=ku[85]=1,Nu[85]=Fu[85]=1,Du[85]=Bu[85]=0,zu[85]=ju[85]=1,yu[85]=bu[85]=0,vu[85]=xu[85]=-1,_u[85]=Mu[85]=0,Au[85]=Pu[85]=0,Ou[85]=Lu[85]=1,wu[85]=Ru[85]=1,Fu[1]=Fu[169]=0,Bu[1]=Bu[169]=-1,ju[1]=ju[169]=0,Pu[1]=Pu[169]=-1,Lu[1]=Lu[169]=0,Mu[1]=Mu[169]=0,Tu[4]=Tu[166]=0,Iu[4]=Iu[166]=-1,ku[4]=ku[166]=1,Au[4]=Au[166]=1,Ou[4]=Ou[166]=0,Ru[4]=Ru[166]=0,Eu[16]=Eu[154]=0,Su[16]=Su[154]=1,Cu[16]=Cu[154]=1,bu[16]=bu[154]=1,xu[16]=xu[154]=0,wu[16]=wu[154]=1,Nu[64]=Nu[106]=0,Du[64]=Du[106]=1,zu[64]=zu[106]=0,yu[64]=yu[106]=-1,vu[64]=vu[106]=0,_u[64]=_u[106]=1,Nu[2]=Nu[168]=0,Du[2]=Du[168]=-1,zu[2]=zu[168]=1,Fu[2]=Fu[168]=0,Bu[2]=Bu[168]=-1,ju[2]=ju[168]=0,Pu[2]=Pu[168]=-1,Lu[2]=Lu[168]=0,Mu[2]=Mu[168]=0,Au[2]=Au[168]=-1,Ou[2]=Ou[168]=0,Ru[2]=Ru[168]=1,Eu[8]=Eu[162]=0,Su[8]=Su[162]=-1,Cu[8]=Cu[162]=0,Tu[8]=Tu[162]=0,Iu[8]=Iu[162]=-1,ku[8]=ku[162]=1,Pu[8]=Pu[162]=1,Lu[8]=Lu[162]=0,Mu[8]=Mu[162]=1,Au[8]=Au[162]=1,Ou[8]=Ou[162]=0,Ru[8]=Ru[162]=0,Eu[32]=Eu[138]=0,Su[32]=Su[138]=1,Cu[32]=Cu[138]=1,Tu[32]=Tu[138]=0,Iu[32]=Iu[138]=1,ku[32]=ku[138]=0,yu[32]=yu[138]=1,vu[32]=vu[138]=0,_u[32]=_u[138]=0,bu[32]=bu[138]=1,xu[32]=xu[138]=0,wu[32]=wu[138]=1,Fu[128]=Fu[42]=0,Bu[128]=Bu[42]=1,ju[128]=ju[42]=1,Nu[128]=Nu[42]=0,Du[128]=Du[42]=1,zu[128]=zu[42]=0,yu[128]=yu[42]=-1,vu[128]=vu[42]=0,_u[128]=_u[42]=1,bu[128]=bu[42]=-1,xu[128]=xu[42]=0,wu[128]=wu[42]=0,Tu[5]=Tu[165]=-1,Iu[5]=Iu[165]=0,ku[5]=ku[165]=0,Fu[5]=Fu[165]=1,Bu[5]=Bu[165]=0,ju[5]=ju[165]=0,Au[20]=Au[150]=0,Ou[20]=Ou[150]=1,Ru[20]=Ru[150]=1,bu[20]=bu[150]=0,xu[20]=xu[150]=-1,wu[20]=wu[150]=1,Eu[80]=Eu[90]=-1,Su[80]=Su[90]=0,Cu[80]=Cu[90]=1,Nu[80]=Nu[90]=1,Du[80]=Du[90]=0,zu[80]=zu[90]=1,Pu[65]=Pu[105]=0,Lu[65]=Lu[105]=1,Mu[65]=Mu[105]=0,yu[65]=yu[105]=0,vu[65]=vu[105]=-1,_u[65]=_u[105]=0,Eu[160]=Eu[10]=-1,Su[160]=Su[10]=0,Cu[160]=Cu[10]=1,Tu[160]=Tu[10]=-1,Iu[160]=Iu[10]=0,ku[160]=ku[10]=0,Fu[160]=Fu[10]=1,Bu[160]=Bu[10]=0,ju[160]=ju[10]=0,Nu[160]=Nu[10]=1,Du[160]=Du[10]=0,zu[160]=zu[10]=1,Au[130]=Au[40]=0,Ou[130]=Ou[40]=1,Ru[130]=Ru[40]=1,Pu[130]=Pu[40]=0,Lu[130]=Lu[40]=1,Mu[130]=Mu[40]=0,yu[130]=yu[40]=0,vu[130]=vu[40]=-1,_u[130]=_u[40]=0,bu[130]=bu[40]=0,xu[130]=xu[40]=-1,wu[130]=wu[40]=1,Tu[37]=Tu[133]=0,Iu[37]=Iu[133]=1,ku[37]=ku[133]=1,Fu[37]=Fu[133]=0,Bu[37]=Bu[133]=1,ju[37]=ju[133]=0,yu[37]=yu[133]=-1,vu[37]=vu[133]=0,_u[37]=_u[133]=0,bu[37]=bu[133]=1,xu[37]=xu[133]=0,wu[37]=wu[133]=0,Au[148]=Au[22]=-1,Ou[148]=Ou[22]=0,Ru[148]=Ru[22]=0,Fu[148]=Fu[22]=0,Bu[148]=Bu[22]=-1,ju[148]=ju[22]=1,Nu[148]=Nu[22]=0,Du[148]=Du[22]=1,zu[148]=zu[22]=1,bu[148]=bu[22]=-1,xu[148]=xu[22]=0,wu[148]=wu[22]=1,Eu[82]=Eu[88]=0,Su[82]=Su[88]=-1,Cu[82]=Cu[88]=1,Au[82]=Au[88]=1,Ou[82]=Ou[88]=0,Ru[82]=Ru[88]=1,Pu[82]=Pu[88]=-1,Lu[82]=Lu[88]=0,Mu[82]=Mu[88]=1,Nu[82]=Nu[88]=0,Du[82]=Du[88]=-1,zu[82]=zu[88]=0,Eu[73]=Eu[97]=0,Su[73]=Su[97]=1,Cu[73]=Cu[97]=0,Tu[73]=Tu[97]=0,Iu[73]=Iu[97]=-1,ku[73]=ku[97]=0,Pu[73]=Pu[97]=1,Lu[73]=Lu[97]=0,Mu[73]=Mu[97]=0,yu[73]=yu[97]=1,vu[73]=vu[97]=0,_u[73]=_u[97]=1,Eu[145]=Eu[25]=0,Su[145]=Su[25]=-1,Cu[145]=Cu[25]=0,Pu[145]=Pu[25]=1,Lu[145]=Lu[25]=0,Mu[145]=Mu[25]=1,Fu[145]=Fu[25]=0,Bu[145]=Bu[25]=1,ju[145]=ju[25]=1,bu[145]=bu[25]=-1,xu[145]=xu[25]=0,wu[145]=wu[25]=0,Tu[70]=Tu[100]=0,Iu[70]=Iu[100]=1,ku[70]=ku[100]=0,Au[70]=Au[100]=-1,Ou[70]=Ou[100]=0,Ru[70]=Ru[100]=1,Nu[70]=Nu[100]=0,Du[70]=Du[100]=-1,zu[70]=zu[100]=1,yu[70]=yu[100]=1,vu[70]=vu[100]=0,_u[70]=_u[100]=0,Tu[101]=Tu[69]=0,Iu[101]=Iu[69]=1,ku[101]=ku[69]=0,yu[101]=yu[69]=1,vu[101]=vu[69]=0,_u[101]=_u[69]=0,Fu[149]=Fu[21]=0,Bu[149]=Bu[21]=1,ju[149]=ju[21]=1,bu[149]=bu[21]=-1,xu[149]=xu[21]=0,wu[149]=wu[21]=0,Au[86]=Au[84]=-1,Ou[86]=Ou[84]=0,Ru[86]=Ru[84]=1,Nu[86]=Nu[84]=0,Du[86]=Du[84]=-1,zu[86]=zu[84]=1,Eu[89]=Eu[81]=0,Su[89]=Su[81]=-1,Cu[89]=Cu[81]=0,Pu[89]=Pu[81]=1,Lu[89]=Lu[81]=0,Mu[89]=Mu[81]=1,Eu[96]=Eu[74]=0,Su[96]=Su[74]=1,Cu[96]=Cu[74]=0,Tu[96]=Tu[74]=-1,Iu[96]=Iu[74]=0,ku[96]=ku[74]=1,Nu[96]=Nu[74]=1,Du[96]=Du[74]=0,zu[96]=zu[74]=0,yu[96]=yu[74]=1,vu[96]=vu[74]=0,_u[96]=_u[74]=1,Eu[24]=Eu[146]=0,Su[24]=Su[146]=-1,Cu[24]=Cu[146]=1,Au[24]=Au[146]=1,Ou[24]=Ou[146]=0,Ru[24]=Ru[146]=1,Pu[24]=Pu[146]=0,Lu[24]=Lu[146]=1,Mu[24]=Mu[146]=1,bu[24]=bu[146]=0,xu[24]=xu[146]=-1,wu[24]=wu[146]=0,Tu[6]=Tu[164]=-1,Iu[6]=Iu[164]=0,ku[6]=ku[164]=1,Au[6]=Au[164]=-1,Ou[6]=Ou[164]=0,Ru[6]=Ru[164]=0,Fu[6]=Fu[164]=0,Bu[6]=Bu[164]=-1,ju[6]=ju[164]=1,Nu[6]=Nu[164]=1,Du[6]=Du[164]=0,zu[6]=zu[164]=0,Pu[129]=Pu[41]=0,Lu[129]=Lu[41]=1,Mu[129]=Mu[41]=1,Fu[129]=Fu[41]=0,Bu[129]=Bu[41]=1,ju[129]=ju[41]=0,yu[129]=yu[41]=-1,vu[129]=vu[41]=0,_u[129]=_u[41]=0,bu[129]=bu[41]=0,xu[129]=xu[41]=-1,wu[129]=wu[41]=0,Au[66]=Au[104]=0,Ou[66]=Ou[104]=1,Ru[66]=Ru[104]=0,Pu[66]=Pu[104]=-1,Lu[66]=Lu[104]=0,Mu[66]=Mu[104]=1,Nu[66]=Nu[104]=0,Du[66]=Du[104]=-1,zu[66]=zu[104]=0,yu[66]=yu[104]=0,vu[66]=vu[104]=-1,_u[66]=_u[104]=1,Eu[144]=Eu[26]=-1,Su[144]=Su[26]=0,Cu[144]=Cu[26]=0,Fu[144]=Fu[26]=1,Bu[144]=Bu[26]=0,ju[144]=ju[26]=1,Nu[144]=Nu[26]=0,Du[144]=Du[26]=1,zu[144]=zu[26]=1,bu[144]=bu[26]=-1,xu[144]=xu[26]=0,wu[144]=wu[26]=1,Tu[36]=Tu[134]=0,Iu[36]=Iu[134]=1,ku[36]=ku[134]=1,Au[36]=Au[134]=0,Ou[36]=Ou[134]=1,Ru[36]=Ru[134]=0,yu[36]=yu[134]=0,vu[36]=vu[134]=-1,_u[36]=_u[134]=1,bu[36]=bu[134]=1,xu[36]=xu[134]=0,wu[36]=wu[134]=0,Eu[9]=Eu[161]=-1,Su[9]=Su[161]=0,Cu[9]=Cu[161]=0,Tu[9]=Tu[161]=0,Iu[9]=Iu[161]=-1,ku[9]=ku[161]=0,Pu[9]=Pu[161]=1,Lu[9]=Lu[161]=0,Mu[9]=Mu[161]=0,Fu[9]=Fu[161]=1,Bu[9]=Bu[161]=0,ju[9]=ju[161]=1,Eu[136]=0,Su[136]=1,Cu[136]=1,Tu[136]=0,Iu[136]=1,ku[136]=0,Au[136]=-1,Ou[136]=0,Ru[136]=1,Pu[136]=-1,Lu[136]=0,Mu[136]=0,Fu[136]=0,Bu[136]=-1,ju[136]=0,Nu[136]=0,Du[136]=-1,zu[136]=1,yu[136]=1,vu[136]=0,_u[136]=0,bu[136]=1,xu[136]=0,wu[136]=1,Eu[34]=0,Su[34]=-1,Cu[34]=0,Tu[34]=0,Iu[34]=-1,ku[34]=1,Au[34]=1,Ou[34]=0,Ru[34]=0,Pu[34]=1,Lu[34]=0,Mu[34]=1,Fu[34]=0,Bu[34]=1,ju[34]=1,Nu[34]=0,Du[34]=1,zu[34]=0,yu[34]=-1,vu[34]=0,_u[34]=1,bu[34]=-1,xu[34]=0,wu[34]=0,Eu[35]=0,Su[35]=1,Cu[35]=1,Tu[35]=0,Iu[35]=-1,ku[35]=1,Au[35]=1,Ou[35]=0,Ru[35]=0,Pu[35]=-1,Lu[35]=0,Mu[35]=0,Fu[35]=0,Bu[35]=-1,ju[35]=0,Nu[35]=0,Du[35]=1,zu[35]=0,yu[35]=-1,vu[35]=0,_u[35]=1,bu[35]=1,xu[35]=0,wu[35]=1,Eu[153]=0,Su[153]=1,Cu[153]=1,Pu[153]=-1,Lu[153]=0,Mu[153]=0,Fu[153]=0,Bu[153]=-1,ju[153]=0,bu[153]=1,xu[153]=0,wu[153]=1,Tu[102]=0,Iu[102]=-1,ku[102]=1,Au[102]=1,Ou[102]=0,Ru[102]=0,Nu[102]=0,Du[102]=1,zu[102]=0,yu[102]=-1,vu[102]=0,_u[102]=1,Eu[155]=0,Su[155]=-1,Cu[155]=0,Pu[155]=1,Lu[155]=0,Mu[155]=1,Fu[155]=0,Bu[155]=1,ju[155]=1,bu[155]=-1,xu[155]=0,wu[155]=0,Tu[103]=0,Iu[103]=1,ku[103]=0,Au[103]=-1,Ou[103]=0,Ru[103]=1,Nu[103]=0,Du[103]=-1,zu[103]=1,yu[103]=1,vu[103]=0,_u[103]=0,Eu[152]=0,Su[152]=1,Cu[152]=1,Au[152]=-1,Ou[152]=0,Ru[152]=1,Pu[152]=-1,Lu[152]=0,Mu[152]=0,Fu[152]=0,Bu[152]=-1,ju[152]=0,Nu[152]=0,Du[152]=-1,zu[152]=1,bu[152]=1,xu[152]=0,wu[152]=1,Eu[156]=0,Su[156]=-1,Cu[156]=1,Au[156]=1,Ou[156]=0,Ru[156]=1,Pu[156]=-1,Lu[156]=0,Mu[156]=0,Fu[156]=0,Bu[156]=-1,ju[156]=0,Nu[156]=0,Du[156]=1,zu[156]=1,bu[156]=-1,xu[156]=0,wu[156]=1,Eu[137]=0,Su[137]=1,Cu[137]=1,Tu[137]=0,Iu[137]=1,ku[137]=0,Pu[137]=-1,Lu[137]=0,Mu[137]=0,Fu[137]=0,Bu[137]=-1,ju[137]=0,yu[137]=1,vu[137]=0,_u[137]=0,bu[137]=1,xu[137]=0,wu[137]=1,Eu[139]=0,Su[139]=1,Cu[139]=1,Tu[139]=0,Iu[139]=-1,ku[139]=0,Pu[139]=1,Lu[139]=0,Mu[139]=0,Fu[139]=0,Bu[139]=1,ju[139]=0,yu[139]=-1,vu[139]=0,_u[139]=0,bu[139]=1,xu[139]=0,wu[139]=1,Eu[98]=0,Su[98]=-1,Cu[98]=0,Tu[98]=0,Iu[98]=-1,ku[98]=1,Au[98]=1,Ou[98]=0,Ru[98]=0,Pu[98]=1,Lu[98]=0,Mu[98]=1,Nu[98]=0,Du[98]=1,zu[98]=0,yu[98]=-1,vu[98]=0,_u[98]=1,Eu[99]=0,Su[99]=1,Cu[99]=0,Tu[99]=0,Iu[99]=-1,ku[99]=1,Au[99]=1,Ou[99]=0,Ru[99]=0,Pu[99]=-1,Lu[99]=0,Mu[99]=1,Nu[99]=0,Du[99]=-1,zu[99]=0,yu[99]=1,vu[99]=0,_u[99]=1,Tu[38]=0,Iu[38]=-1,ku[38]=1,Au[38]=1,Ou[38]=0,Ru[38]=0,Fu[38]=0,Bu[38]=1,ju[38]=1,Nu[38]=0,Du[38]=1,zu[38]=0,yu[38]=-1,vu[38]=0,_u[38]=1,bu[38]=-1,xu[38]=0,wu[38]=0,Tu[39]=0,Iu[39]=1,ku[39]=1,Au[39]=-1,Ou[39]=0,Ru[39]=0,Fu[39]=0,Bu[39]=-1,ju[39]=1,Nu[39]=0,Du[39]=1,zu[39]=0,yu[39]=-1,vu[39]=0,_u[39]=1,bu[39]=1,xu[39]=0,wu[39]=0;var Zu=function(e){return[[e.bottomleft,0],[0,0],[0,e.leftbottom]]},Uu=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0]]},qu=function(e){return[[e.topright,1],[1,1],[1,e.righttop]]},Vu=function(e){return[[0,e.lefttop],[0,1],[e.topleft,1]]},Gu=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop]]},Hu=function(e){return[[e.bottomright,0],[e.bottomleft,0],[1,e.righttop],[1,e.rightbottom]]},Wu=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.topleft,1],[e.topright,1]]},$u=function(e){return[[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},Xu=[],Yu=[],Ku=[],Ju=[],Qu=[],ec=[],tc=[],nc=[];Ju[1]=Qu[1]=18,Ju[169]=Qu[169]=18,Ku[4]=Yu[4]=12,Ku[166]=Yu[166]=12,Xu[16]=nc[16]=4,Xu[154]=nc[154]=4,ec[64]=tc[64]=22,ec[106]=tc[106]=22,Ku[2]=ec[2]=17,Ju[2]=Qu[2]=18,Ku[168]=ec[168]=17,Ju[168]=Qu[168]=18,Xu[8]=Ju[8]=9,Yu[8]=Ku[8]=12,Xu[162]=Ju[162]=9,Yu[162]=Ku[162]=12,Xu[32]=nc[32]=4,Yu[32]=tc[32]=1,Xu[138]=nc[138]=4,Yu[138]=tc[138]=1,Qu[128]=nc[128]=21,ec[128]=tc[128]=22,Qu[42]=nc[42]=21,ec[42]=tc[42]=22,Yu[5]=Qu[5]=14,Yu[165]=Qu[165]=14,Ku[20]=nc[20]=6,Ku[150]=nc[150]=6,Xu[80]=ec[80]=11,Xu[90]=ec[90]=11,Ju[65]=tc[65]=3,Ju[105]=tc[105]=3,Xu[160]=ec[160]=11,Yu[160]=Qu[160]=14,Xu[10]=ec[10]=11,Yu[10]=Qu[10]=14,Ku[130]=nc[130]=6,Ju[130]=tc[130]=3,Ku[40]=nc[40]=6,Ju[40]=tc[40]=3,Yu[101]=tc[101]=1,Yu[69]=tc[69]=1,Qu[149]=nc[149]=21,Qu[21]=nc[21]=21,Ku[86]=ec[86]=17,Ku[84]=ec[84]=17,Xu[89]=Ju[89]=9,Xu[81]=Ju[81]=9,Xu[96]=tc[96]=0,Yu[96]=ec[96]=15,Xu[74]=tc[74]=0,Yu[74]=ec[74]=15,Xu[24]=Ku[24]=8,Ju[24]=nc[24]=7,Xu[146]=Ku[146]=8,Ju[146]=nc[146]=7,Yu[6]=ec[6]=15,Ku[6]=Qu[6]=16,Yu[164]=ec[164]=15,Ku[164]=Qu[164]=16,Ju[129]=nc[129]=7,Qu[129]=tc[129]=20,Ju[41]=nc[41]=7,Qu[41]=tc[41]=20,Ku[66]=tc[66]=2,Ju[66]=ec[66]=19,Ku[104]=tc[104]=2,Ju[104]=ec[104]=19,Xu[144]=Qu[144]=10,ec[144]=nc[144]=23,Xu[26]=Qu[26]=10,ec[26]=nc[26]=23,Yu[36]=nc[36]=5,Ku[36]=tc[36]=2,Yu[134]=nc[134]=5,Ku[134]=tc[134]=2,Xu[9]=Qu[9]=10,Yu[9]=Ju[9]=13,Xu[161]=Qu[161]=10,Yu[161]=Ju[161]=13,Yu[37]=nc[37]=5,Qu[37]=tc[37]=20,Yu[133]=nc[133]=5,Qu[133]=tc[133]=20,Ku[148]=Qu[148]=16,ec[148]=nc[148]=23,Ku[22]=Qu[22]=16,ec[22]=nc[22]=23,Xu[82]=Ku[82]=8,Ju[82]=ec[82]=19,Xu[88]=Ku[88]=8,Ju[88]=ec[88]=19,Xu[73]=tc[73]=0,Yu[73]=Ju[73]=13,Xu[97]=tc[97]=0,Yu[97]=Ju[97]=13,Xu[145]=Ju[145]=9,Qu[145]=nc[145]=21,Xu[25]=Ju[25]=9,Qu[25]=nc[25]=21,Yu[70]=tc[70]=1,Ku[70]=ec[70]=17,Yu[100]=tc[100]=1,Ku[100]=ec[100]=17,Xu[34]=Ju[34]=9,Yu[34]=Ku[34]=12,Qu[34]=nc[34]=21,ec[34]=tc[34]=22,Xu[136]=nc[136]=4,Yu[136]=tc[136]=1,Ku[136]=ec[136]=17,Ju[136]=Qu[136]=18,Xu[35]=nc[35]=4,Yu[35]=Ku[35]=12,Ju[35]=Qu[35]=18,ec[35]=tc[35]=22,Xu[153]=nc[153]=4,Ju[153]=Qu[153]=18,Yu[102]=Ku[102]=12,ec[102]=tc[102]=22,Xu[155]=Ju[155]=9,Qu[155]=nc[155]=23,Yu[103]=tc[103]=1,Ku[103]=ec[103]=17,Xu[152]=nc[152]=4,Ku[152]=ec[152]=17,Ju[152]=Qu[152]=18,Xu[156]=Ku[156]=8,Ju[156]=Qu[156]=18,ec[156]=nc[156]=23,Xu[137]=nc[137]=4,Yu[137]=tc[137]=1,Ju[137]=Qu[137]=18,Xu[139]=nc[139]=4,Yu[139]=Ju[139]=13,Qu[139]=tc[139]=20,Xu[98]=Ju[98]=9,Yu[98]=Ku[98]=12,ec[98]=tc[98]=22,Xu[99]=tc[99]=0,Yu[99]=Ku[99]=12,Ju[99]=ec[99]=19,Yu[38]=Ku[38]=12,Qu[38]=nc[38]=21,ec[38]=tc[38]=22,Yu[39]=nc[39]=5,Ku[39]=Qu[39]=16,ec[39]=tc[39]=22;var rc=[];function ic(e,t,n){var r=t[0]-e[0],i=t[1]-e[1],o=n[0]-t[0];return function(e){return(e>0)-(e<0)||+e}(r*(n[1]-t[1])-o*i)}function oc(e,t){return t.geometry.coordinates[0].every((function(t){return ru(ws(t),e)}))}rc[1]=rc[169]=Zu,rc[4]=rc[166]=Uu,rc[16]=rc[154]=qu,rc[64]=rc[106]=Vu,rc[168]=rc[2]=Gu,rc[162]=rc[8]=Hu,rc[138]=rc[32]=Wu,rc[42]=rc[128]=$u,rc[5]=rc[165]=function(e){return[[0,0],[0,e.leftbottom],[1,e.rightbottom],[1,0]]},rc[20]=rc[150]=function(e){return[[1,0],[e.bottomright,0],[e.topright,1],[1,1]]},rc[80]=rc[90]=function(e){return[[1,1],[1,e.righttop],[0,e.lefttop],[0,1]]},rc[65]=rc[105]=function(e){return[[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},rc[160]=rc[10]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.leftbottom],[0,e.lefttop]]},rc[130]=rc[40]=function(e){return[[e.topleft,1],[e.topright,1],[e.bottomright,0],[e.bottomleft,0]]},rc[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},rc[101]=rc[69]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,1],[e.topleft,1]]},rc[149]=rc[21]=function(e){return[[e.topright,1],[1,1],[1,0],[0,0],[0,e.leftbottom]]},rc[86]=rc[84]=function(e){return[[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[1,1]]},rc[89]=rc[81]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,1]]},rc[96]=rc[74]=function(e){return[[1,e.righttop],[1,e.rightbottom],[0,e.lefttop],[0,1],[e.topleft,1]]},rc[24]=rc[146]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[e.topright,1]]},rc[6]=rc[164]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop]]},rc[129]=rc[41]=function(e){return[[e.topright,1],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1]]},rc[66]=rc[104]=function(e){return[[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},rc[144]=rc[26]=function(e){return[[1,1],[1,e.righttop],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},rc[36]=rc[134]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[e.topleft,1],[e.topright,1]]},rc[9]=rc[161]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom]]},rc[37]=rc[133]=function(e){return[[1,e.rightbottom],[1,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},rc[148]=rc[22]=function(e){return[[1,1],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},rc[82]=rc[88]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1]]},rc[73]=rc[97]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,1],[e.topleft,1]]},rc[145]=rc[25]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},rc[70]=rc[100]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},rc[34]=function(e){return[$u(e),Hu(e)]},rc[35]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]},rc[136]=function(e){return[Wu(e),Gu(e)]},rc[153]=function(e){return[qu(e),Zu(e)]},rc[102]=function(e){return[Uu(e),Vu(e)]},rc[155]=function(e){return[[1,1],[1,e.righttop],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topright,1]]},rc[103]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.lefttop],[0,1],[e.topleft,1]]},rc[152]=function(e){return[qu(e),Gu(e)]},rc[156]=function(e){return[[1,1],[1,e.righttop],[e.bottomright,0],[e.bottomleft,0],[0,e.leftbottom],[0,e.lefttop],[e.topright,1]]},rc[137]=function(e){return[Wu(e),Zu(e)]},rc[139]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomleft,0],[0,0],[0,e.leftbottom],[e.topleft,1],[e.topright,1]]},rc[98]=function(e){return[Hu(e),Vu(e)]},rc[99]=function(e){return[[1,e.righttop],[1,e.rightbottom],[e.bottomright,0],[e.bottomleft,0],[0,e.lefttop],[0,1],[e.topleft,1]]},rc[38]=function(e){return[Uu(e),$u(e)]},rc[39]=function(e){return[[1,e.rightbottom],[1,0],[e.bottomright,0],[0,e.leftbottom],[0,e.lefttop],[e.topleft,1],[e.topright,1]]};var ac=function(){function e(t){this.id=e.buildId(t),this.coordinates=t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return e.buildId=function(e){return e.join(",")},e.prototype.removeInnerEdge=function(e){this.innerEdges=this.innerEdges.filter((function(t){return t.from.id!==e.from.id}))},e.prototype.removeOuterEdge=function(e){this.outerEdges=this.outerEdges.filter((function(t){return t.to.id!==e.to.id}))},e.prototype.addOuterEdge=function(e){this.outerEdges.push(e),this.outerEdgesSorted=!1},e.prototype.sortOuterEdges=function(){var e=this;this.outerEdgesSorted||(this.outerEdges.sort((function(t,n){var r=t.to,i=n.to;if(r.coordinates[0]-e.coordinates[0]>=0&&i.coordinates[0]-e.coordinates[0]<0)return 1;if(r.coordinates[0]-e.coordinates[0]<0&&i.coordinates[0]-e.coordinates[0]>=0)return-1;if(r.coordinates[0]-e.coordinates[0]==0&&i.coordinates[0]-e.coordinates[0]==0)return r.coordinates[1]-e.coordinates[1]>=0||i.coordinates[1]-e.coordinates[1]>=0?r.coordinates[1]-i.coordinates[1]:i.coordinates[1]-r.coordinates[1];var o=ic(e.coordinates,r.coordinates,i.coordinates);return o<0?1:o>0?-1:Math.pow(r.coordinates[0]-e.coordinates[0],2)+Math.pow(r.coordinates[1]-e.coordinates[1],2)-(Math.pow(i.coordinates[0]-e.coordinates[0],2)+Math.pow(i.coordinates[1]-e.coordinates[1],2))})),this.outerEdgesSorted=!0)},e.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},e.prototype.getOuterEdge=function(e){return this.sortOuterEdges(),this.outerEdges[e]},e.prototype.addInnerEdge=function(e){this.innerEdges.push(e)},e}();const sc=ac,lc=function(){function e(e,t){this.from=e,this.to=t,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return e.prototype.getSymetric=function(){return this.symetric||(this.symetric=new e(this.to,this.from),this.symetric.symetric=this),this.symetric},e.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},e.prototype.isEqual=function(e){return this.from.id===e.from.id&&this.to.id===e.to.id},e.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},e.prototype.toLineString=function(){return function(e,t,n){if(void 0===n&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return xs({type:"LineString",coordinates:e},t,n)}([this.from.coordinates,this.to.coordinates])},e.prototype.compareTo=function(e){return ic(e.from.coordinates,e.to.coordinates,this.to.coordinates)},e}();var uc=function(){function e(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return e.prototype.push=function(e){this.edges.push(e),this.polygon=this.envelope=void 0},e.prototype.get=function(e){return this.edges[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.edges.forEach(e)},e.prototype.map=function(e){return this.edges.map(e)},e.prototype.some=function(e){return this.edges.some(e)},e.prototype.isValid=function(){return!0},e.prototype.isHole=function(){var e=this,t=this.edges.reduce((function(t,n,r){return n.from.coordinates[1]>e.edges[t].from.coordinates[1]&&(t=r),t}),0),n=(0===t?this.length:t)-1,r=(t+1)%this.length,i=ic(this.edges[n].from.coordinates,this.edges[t].from.coordinates,this.edges[r].from.coordinates);return 0===i?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:i>0},e.prototype.toMultiPoint=function(){return function(e,t,n){return void 0===n&&(n={}),xs({type:"MultiPoint",coordinates:e},t,n)}(this.edges.map((function(e){return e.from.coordinates})))},e.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var e=this.edges.map((function(e){return e.from.coordinates}));return e.push(this.edges[0].from.coordinates),this.polygon=Es([e])},e.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=(e=this.toPolygon(),function(e,t){void 0===t&&(t={});var n=Number(e[0]),r=Number(e[1]),i=Number(e[2]),o=Number(e[3]);if(6===e.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,r];return Es([[a,[i,r],[i,o],[n,o],a]],t.properties,{bbox:e,id:t.id})}(Ls(e)));var e},e.findEdgeRingContaining=function(e,t){var n,r,i=e.getEnvelope();return t.forEach((function(t){var o,a,s,l,u,c,h=t.getEnvelope();if(r&&(n=r.getEnvelope()),a=i,s=(o=h).geometry.coordinates[0].map((function(e){return e[0]})),l=o.geometry.coordinates[0].map((function(e){return e[1]})),u=a.geometry.coordinates[0].map((function(e){return e[0]})),c=a.geometry.coordinates[0].map((function(e){return e[1]})),(Math.max.apply(null,s)!==Math.max.apply(null,u)||Math.max.apply(null,l)!==Math.max.apply(null,c)||Math.min.apply(null,s)!==Math.min.apply(null,u)||Math.min.apply(null,l)!==Math.min.apply(null,c))&&oc(h,i)){for(var p=e.map((function(e){return e.from.coordinates})),d=void 0,f=function(e){t.some((function(t){return n=e,r=t.from.coordinates,n[0]===r[0]&&n[1]===r[1];var n,r}))||(d=e)},m=0,g=p;m<g.length;m++)f(g[m]);d&&t.inside(ws(d))&&(r&&!oc(n,h)||(r=t))}})),r},e.prototype.inside=function(e){return ru(e,this.toPolygon())},e}();const cc=uc;function hc(e){for(var t=e,n=[];t.parent;)n.unshift(t),t=t.parent;return n}!function(){function e(){this.edges=[],this.nodes={}}e.fromGeoJson=function(t){!function(e){if(!e)throw new Error("No geojson passed");if("FeatureCollection"!==e.type&&"GeometryCollection"!==e.type&&"MultiLineString"!==e.type&&"LineString"!==e.type&&"Feature"!==e.type)throw new Error("Invalid input type '"+e.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var n,r=new e;return n=function(e){var t,n,i;!function(e,t,n){if(!e)throw new Error("No feature passed");if(!e||"Feature"!==e.type||!e.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!e.geometry||e.geometry.type!==t)throw new Error("Invalid input to "+n+": must be a "+t+", given "+e.geometry.type)}(e,"LineString","Graph::fromGeoJson"),t=function(e,t){if(e){var n=r.getNode(e),i=r.getNode(t);r.addEdge(n,i)}return t},i=n,Ts(e,(function(e,n,r,o,a){i=0===n?e:t(i,e)}),void 0)},ks(t,(function(e,t,r,i,o){var a,s=null===e?null:e.type;switch(s){case null:case"Point":case"LineString":case"Polygon":return!1!==n(xs(e,r,{bbox:i,id:o}),t,0)&&void 0}switch(s){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<e.coordinates.length;l++){var u=e.coordinates[l];if(!1===n(xs({type:a,coordinates:u},r),t,l))return!1}})),r},e.prototype.getNode=function(e){var t=sc.buildId(e),n=this.nodes[t];return n||(n=this.nodes[t]=new sc(e)),n},e.prototype.addEdge=function(e,t){var n=new lc(e,t),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},e.prototype.deleteDangles=function(){var e=this;Object.keys(this.nodes).map((function(t){return e.nodes[t]})).forEach((function(t){return e._removeIfDangle(t)}))},e.prototype._removeIfDangle=function(e){var t=this;if(e.innerEdges.length<=1){var n=e.getOuterEdges().map((function(e){return e.to}));this.removeNode(e),n.forEach((function(e){return t._removeIfDangle(e)}))}},e.prototype.deleteCutEdges=function(){var e=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(t){t.label===t.symetric.label&&(e.removeEdge(t.symetric),e.removeEdge(t))}))},e.prototype._computeNextCWEdges=function(e){var t=this;void 0===e?Object.keys(this.nodes).forEach((function(e){return t._computeNextCWEdges(t.nodes[e])})):e.getOuterEdges().forEach((function(t,n){e.getOuterEdge((0===n?e.getOuterEdges().length:n)-1).symetric.next=t}))},e.prototype._computeNextCCWEdges=function(e,t){for(var n,r,i=e.getOuterEdges(),o=i.length-1;o>=0;--o){var a=i[o],s=a.symetric,l=void 0,u=void 0;a.label===t&&(l=a),s.label===t&&(u=s),l&&u&&(u&&(r=u),l&&(r&&(r.next=l,r=void 0),n||(n=l)))}r&&(r.next=n)},e.prototype._findLabeledEdgeRings=function(){var e=[],t=0;return this.edges.forEach((function(n){if(!(n.label>=0)){e.push(n);var r=n;do{r.label=t,r=r.next}while(!n.isEqual(r));t++}})),e},e.prototype.getEdgeRings=function(){var e=this;this._computeNextCWEdges(),this.edges.forEach((function(e){e.label=void 0})),this._findLabeledEdgeRings().forEach((function(t){e._findIntersectionNodes(t).forEach((function(n){e._computeNextCCWEdges(n,t.label)}))}));var t=[];return this.edges.forEach((function(n){n.ring||t.push(e._findEdgeRing(n))})),t},e.prototype._findIntersectionNodes=function(e){var t=[],n=e,r=function(){var r=0;n.from.getOuterEdges().forEach((function(t){t.label===e.label&&++r})),r>1&&t.push(n.from),n=n.next};do{r()}while(!e.isEqual(n));return t},e.prototype._findEdgeRing=function(e){var t=e,n=new cc;do{n.push(t),t.ring=n,t=t.next}while(!e.isEqual(t));return n},e.prototype.removeNode=function(e){var t=this;e.getOuterEdges().forEach((function(e){return t.removeEdge(e)})),e.innerEdges.forEach((function(e){return t.removeEdge(e)})),delete this.nodes[e.id]},e.prototype.removeEdge=function(e){this.edges=this.edges.filter((function(t){return!t.isEqual(e)})),e.deleteEdge()}}(),a(29657),a(52606),a(21160);var pc={search:function(e,t,n,r){e.cleanDirty();var i=(r=r||{}).heuristic||pc.heuristics.manhattan,o=r.closest||!1,a=new mc((function(e){return e.f})),s=t;for(t.h=i(t,n),a.push(t);a.size()>0;){var l=a.pop();if(l===n)return hc(l);l.closed=!0;for(var u=e.neighbors(l),c=0,h=u.length;c<h;++c){var p=u[c];if(!p.closed&&!p.isWall()){var d=l.g+p.getCost(l),f=p.visited;(!f||d<p.g)&&(p.visited=!0,p.parent=l,p.h=p.h||i(p,n),p.g=d,p.f=p.g+p.h,e.markDirty(p),o&&(p.h<s.h||p.h===s.h&&p.g<s.g)&&(s=p),f?a.rescoreElement(p):a.push(p))}}}return o?hc(s):[]},heuristics:{manhattan:function(e,t){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},diagonal:function(e,t){var n=Math.sqrt(2),r=Math.abs(t.x-e.x),i=Math.abs(t.y-e.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(e){e.f=0,e.g=0,e.h=0,e.visited=!1,e.closed=!1,e.parent=null}};function dc(e,t){t=t||{},this.nodes=[],this.diagonal=!!t.diagonal,this.grid=[];for(var n=0;n<e.length;n++){this.grid[n]=[];for(var r=0,i=e[n];r<i.length;r++){var o=new fc(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function fc(e,t,n){this.x=e,this.y=t,this.weight=n}function mc(e){this.content=[],this.scoreFunction=e}function gc(){this._=null}function yc(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function vc(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function _c(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function bc(e){for(;e.L;)e=e.L;return e}dc.prototype.init=function(){this.dirtyNodes=[];for(var e=0;e<this.nodes.length;e++)pc.cleanNode(this.nodes[e])},dc.prototype.cleanDirty=function(){for(var e=0;e<this.dirtyNodes.length;e++)pc.cleanNode(this.dirtyNodes[e]);this.dirtyNodes=[]},dc.prototype.markDirty=function(e){this.dirtyNodes.push(e)},dc.prototype.neighbors=function(e){var t=[],n=e.x,r=e.y,i=this.grid;return i[n-1]&&i[n-1][r]&&t.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&t.push(i[n+1][r]),i[n]&&i[n][r-1]&&t.push(i[n][r-1]),i[n]&&i[n][r+1]&&t.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&t.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&t.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&t.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&t.push(i[n+1][r+1])),t},dc.prototype.toString=function(){for(var e,t,n,r,i=[],o=this.grid,a=0,s=o.length;a<s;a++){for(e=[],n=0,r=(t=o[a]).length;n<r;n++)e.push(t[n].weight);i.push(e.join(" "))}return i.join("\n")},fc.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},fc.prototype.getCost=function(e){return e&&e.x!==this.x&&e.y!==this.y?1.41421*this.weight:this.weight},fc.prototype.isWall=function(){return 0===this.weight},mc.prototype={push:function(e){this.content.push(e),this.sinkDown(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.bubbleUp(0)),e},remove:function(e){var t=this.content.indexOf(e),n=this.content.pop();t!==this.content.length-1&&(this.content[t]=n,this.scoreFunction(n)<this.scoreFunction(e)?this.sinkDown(t):this.bubbleUp(t))},size:function(){return this.content.length},rescoreElement:function(e){this.sinkDown(this.content.indexOf(e))},sinkDown:function(e){for(var t=this.content[e];e>0;){var n=(e+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},bubbleUp:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i,o=e+1<<1,a=o-1,s=null;if(a<t){var l=this.content[a];(i=this.scoreFunction(l))<r&&(s=a)}if(o<t){var u=this.content[o];this.scoreFunction(u)<(null===s?r:i)&&(s=o)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}},gc.prototype={constructor:gc,insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=bc(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(vc(this,n),n=(e=n).U),n.C=!1,r.C=!0,_c(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&(_c(this,n),n=(e=n).U),n.C=!1,r.C=!0,vc(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,o=e.L,a=e.R;if(n=o?a?bc(a):o:a,i?i.L===e?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=e.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=a,a.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,vc(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,_c(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,vc(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,_c(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,vc(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,_c(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}};const xc=gc;function wc(e,t,n,r){var i=[null,null],o=Hc.push(i)-1;return i.left=e,i.right=t,n&&Sc(i,e,t,n),r&&Sc(i,t,e,r),Vc[e.index].halfedges.push(o),Vc[t.index].halfedges.push(o),i}function Ec(e,t,n){var r=[t,n];return r.left=e,r}function Sc(e,t,n,r){e[0]||e[1]?e.left===n?e[1]=r:e[0]=r:(e[0]=r,e.left=t,e.right=n)}function Cc(e,t,n,r,i){var o,a=e[0],s=e[1],l=a[0],u=a[1],c=0,h=1,p=s[0]-l,d=s[1]-u;if(o=t-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,d||!(o>0)){if(o/=d,d<0){if(o<c)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>c&&(c=o)}if(o=i-u,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>c&&(c=o)}else if(d>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(e[0]=[l+c*p,u+c*d]),h<1&&(e[1]=[l+h*p,u+h*d]),!0)}}}}}function Tc(e,t,n,r,i){var o=e[1];if(o)return!0;var a,s,l=e[0],u=e.left,c=e.right,h=u[0],p=u[1],d=c[0],f=c[1],m=(h+d)/2,g=(p+f)/2;if(f===p){if(m<t||m>=r)return;if(h>d){if(l){if(l[1]>=i)return}else l=[m,n];o=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];o=[m,n]}}else if(s=g-(a=(h-d)/(f-p))*m,a<-1||a>1)if(h>d){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(p<f){if(l){if(l[0]>=r)return}else l=[t,a*t+s];o=[r,a*r+s]}else{if(l){if(l[0]<t)return}else l=[r,a*r+s];o=[t,a*t+s]}return e[0]=l,e[1]=o,!0}function Ic(e,t){var n=e.site,r=t.left,i=t.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=t[1],i=t[0]):(r=t[0],i=t[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function kc(e,t){return t[+(t.left!==e.site)]}function Pc(e,t){return t[+(t.left===e.site)]}var Lc,Mc=[];function Ac(){yc(this),this.x=this.y=this.arc=this.site=this.cy=null}function Oc(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,u=r[1]-s,c=o[0]-a,h=o[1]-s,p=2*(l*h-u*c);if(!(p>=-$c)){var d=l*l+u*u,f=c*c+h*h,m=(h*d-u*f)/p,g=(l*f-c*d)/p,y=Mc.pop()||new Ac;y.arc=e,y.site=i,y.x=m+a,y.y=(y.cy=g+s)+Math.sqrt(m*m+g*g),e.circle=y;for(var v=null,_=Gc._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}Gc.insert(v,y),v||(Lc=y)}}}}function Rc(e){var t=e.circle;t&&(t.P||(Lc=t.N),Gc.remove(t),Mc.push(t),yc(t),e.circle=null)}var Nc=[];function Dc(){yc(this),this.edge=this.site=this.circle=null}function zc(e){var t=Nc.pop()||new Dc;return t.site=e,t}function Fc(e){Rc(e),qc.remove(e),Nc.push(e),yc(e)}function Bc(e){var t=e.circle,n=t.x,r=t.cy,i=[n,r],o=e.P,a=e.N,s=[e];Fc(e);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Wc&&Math.abs(r-l.circle.cy)<Wc;)o=l.P,s.unshift(l),Fc(l),l=o;s.unshift(l),Rc(l);for(var u=a;u.circle&&Math.abs(n-u.circle.x)<Wc&&Math.abs(r-u.circle.cy)<Wc;)a=u.N,s.push(u),Fc(u),u=a;s.push(u),Rc(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],Sc(u.edge,l.site,u.site,i);l=s[0],(u=s[h-1]).edge=wc(l.site,u.site,null,i),Oc(l),Oc(u)}function jc(e){for(var t,n,r,i,o=e[0],a=e[1],s=qc._;s;)if((r=Zc(s,a)-o)>Wc)s=s.L;else{if(!((i=o-Uc(s,a))>Wc)){r>-Wc?(t=s.P,n=s):i>-Wc?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}!function(e){Vc[e.index]={site:e,halfedges:[]}}(e);var l=zc(e);if(qc.insert(t,l),t||n){if(t===n)return Rc(t),n=zc(t.site),qc.insert(l,n),l.edge=n.edge=wc(t.site,l.site),Oc(t),void Oc(n);if(n){Rc(t),Rc(n);var u=t.site,c=u[0],h=u[1],p=e[0]-c,d=e[1]-h,f=n.site,m=f[0]-c,g=f[1]-h,y=2*(p*g-d*m),v=p*p+d*d,_=m*m+g*g,b=[(g*v-d*_)/y+c,(p*_-m*v)/y+h];Sc(n.edge,u,f,b),l.edge=wc(u,e,null,b),n.edge=wc(e,f,null,b),Oc(t),Oc(n)}else l.edge=wc(t.site,l.site)}}function Zc(e,t){var n=e.site,r=n[0],i=n[1],o=i-t;if(!o)return r;var a=e.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],u=l-t;if(!u)return s;var c=s-r,h=1/o-1/u,p=c/u;return h?(-p+Math.sqrt(p*p-2*h*(c*c/(-2*u)-l+u/2+i-o/2)))/h+r:(r+s)/2}function Uc(e,t){var n=e.N;if(n)return Zc(n,t);var r=e.site;return r[1]===t?r[0]:1/0}var qc,Vc,Gc,Hc,Wc=1e-6,$c=1e-12;function Xc(e,t,n){return(e[0]-n[0])*(t[1]-e[1])-(e[0]-t[0])*(n[1]-e[1])}function Yc(e,t){return t[1]-e[1]||t[0]-e[0]}function Kc(e,t){var n,r,i,o=e.sort(Yc).pop();for(Hc=[],Vc=new Array(e.length),qc=new xc,Gc=new xc;;)if(i=Lc,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(jc(o),n=o[0],r=o[1]),o=e.pop();else{if(!i)break;Bc(i.arc)}if(function(){for(var e,t,n,r,i=0,o=Vc.length;i<o;++i)if((e=Vc[i])&&(r=(t=e.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Ic(e,Hc[t[n]]);for(a.sort((function(e,t){return s[t]-s[e]})),n=0;n<r;++n)s[n]=t[a[n]];for(n=0;n<r;++n)t[n]=s[n]}}(),t){var a=+t[0][0],s=+t[0][1],l=+t[1][0],u=+t[1][1];!function(e,t,n,r){for(var i,o=Hc.length;o--;)Tc(i=Hc[o],e,t,n,r)&&Cc(i,e,t,n,r)&&(Math.abs(i[0][0]-i[1][0])>Wc||Math.abs(i[0][1]-i[1][1])>Wc)||delete Hc[o]}(a,s,l,u),function(e,t,n,r){var i,o,a,s,l,u,c,h,p,d,f,m,g=Vc.length,y=!0;for(i=0;i<g;++i)if(o=Vc[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)Hc[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)f=(d=Pc(o,Hc[l[s]]))[0],m=d[1],h=(c=kc(o,Hc[l[++s%u]]))[0],p=c[1],(Math.abs(f-h)>Wc||Math.abs(m-p)>Wc)&&(l.splice(s,0,Hc.push(Ec(a,d,Math.abs(f-e)<Wc&&r-m>Wc?[e,Math.abs(h-e)<Wc?p:r]:Math.abs(m-r)<Wc&&n-f>Wc?[Math.abs(p-r)<Wc?h:n,r]:Math.abs(f-n)<Wc&&m-t>Wc?[n,Math.abs(h-n)<Wc?p:t]:Math.abs(m-t)<Wc&&f-e>Wc?[Math.abs(p-t)<Wc?h:e,t]:null))-1),++u);u&&(y=!1)}if(y){var v,_,b,x=1/0;for(i=0,y=null;i<g;++i)(o=Vc[i])&&(b=(v=(a=o.site)[0]-e)*v+(_=a[1]-t)*_)<x&&(x=b,y=o);if(y){var w=[e,t],E=[e,r],S=[n,r],C=[n,t];y.halfedges.push(Hc.push(Ec(a=y.site,w,E))-1,Hc.push(Ec(a,E,S))-1,Hc.push(Ec(a,S,C))-1,Hc.push(Ec(a,C,w))-1)}}for(i=0;i<g;++i)(o=Vc[i])&&(o.halfedges.length||delete Vc[i])}(a,s,l,u)}this.edges=Hc,this.cells=Vc,qc=Gc=Hc=Vc=null}Kc.prototype={constructor:Kc,polygons:function(){var e=this.edges;return this.cells.map((function(t){var n=t.halfedges.map((function(n){return kc(t,e[n])}));return n.data=t.site.data,n}))},triangles:function(){var e=[],t=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,l=-1,u=t[i[o-1]],c=u.left===s?u.right:u.left;++l<o;)a=c,c=(u=t[i[l]]).left===s?u.right:u.left,a&&c&&r<a.index&&r<c.index&&Xc(s,a,c)<0&&e.push([s.data,a.data,c.data])})),e},links:function(){return this.edges.filter((function(e){return e.right})).map((function(e){return{source:e.left.data,target:e.right.data}}))},find:function(e,t,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=e-i.site[0],u=t-i.site[1],c=l*l+u*u;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=e-s[0],u=t-s[1],h=l*l+u*u;h<c&&(c=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||c<=n*n?i.site:null}},a(32676);var Jc=a(15861),Qc=a(87757),eh=a.n(Qc),th={basemaps:{"Dark Gray":"ArcGIS:DarkGray",Imagery:"ArcGIS:Imagery",Streets:"ArcGIS:Streets",Topographic:"ArcGIS:Topographic"},regions:{Alaska:{label:"Alaska",regionName:"alaska",mapProperties:{label:"Alaska",center:[62.996,-150.858],extent:[-185.977,46.073,-95.801,73.751],zoom:4},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"AK_HubsTMS",layer:"Hubs TMS",label:"Resilience Hub Cores",chartLabel:"Resilience Hub Cores",chartLegendValues:10,ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",chartCSSColor:{0:"#E9ECEF",1:"#f5f500",2:"#f5da00",3:"#f5be00",4:"#f5a300",5:"#f58800",6:"#f56d00",7:"#f55200",8:"#f53600",9:"#f51b00",10:"#f50000"},chartCSSLegends:{0:"#E9ECEF",1:"#f5f500",2:"#f5da00",3:"#f5be00",4:"#f5a300",5:"#f58800",6:"#f56d00",7:"#f55200",8:"#f53600",9:"#f51b00",10:"#f50000"},url:"https://tiles.resilientcoasts.org/AK_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Resilience Hub Cores represent contiguous, unfragmented habitat cores proximate to human community assets ranked by combining Community Exposure and Fish and Wildlife Index values. Resilience Hub Cores provide a coarse-scale view of Resilience Hubs, where higher values represent areas with greater potential for dual community flood protection and wildlife benefits.",region:"alaska"},{id:"AK_HubsHexTMS",layer:"Hubs Hex TMS",label:"Resilience Hub Grid",chartLabel:"Resilience Hub Grid",chartLegendValues:10,ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubshex",chartCSSColor:{0:"#E9ECEF",1:"#f5f500",2:"#f5da00",3:"#f5be00",4:"#f5a300",5:"#f58800",6:"#f56d00",7:"#f55200",8:"#f53600",9:"#f51b00",10:"#f50000"},chartCSSLegends:{0:"#E9ECEF",1:"#f5f500",2:"#f5da00",3:"#f5be00",4:"#f5a300",5:"#f58800",6:"#f56d00",7:"#f55200",8:"#f53600",9:"#f51b00",10:"#f50000"},url:"https://tiles.resilientcoasts.org/AK_HubsHexIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",format:"image/png",opacity:.75,maxNativeZoom:13,description:"The Resilience Hub Grid applies a 10-acre hexagonal grid to show variation within habitat cores, ranking each hexagon by combining Community Exposure and Fish and Wildlife Index values. The Resilience Hub Grid provides a fine-scale view of Resilience Hubs, where higher values represent areas with greater potential for dual community flood protection and wildlife benefits.",region:"alaska"},{id:"AK_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartLegendValues:10,chartCSSSelector:"exposure",chartCSSColor:{0:"#E9ECEF",1:"#f7e4cb",2:"#e5ceb1",3:"#dcb897",4:"#c0a27d",5:"#ad8b62",6:"#946d3f",7:"#855621",8:"#764c1c",9:"#684217",10:"#593812"},chartCSSLegends:{0:"#E9ECEF",1:"#f7e4cb",2:"#e5ceb1",3:"#dcb897",4:"#c0a27d",5:"#ad8b62",6:"#946d3f",7:"#855621",8:"#764c1c",9:"#684217",10:"#593812"},url:"https://tiles.resilientcoasts.org/AK_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"The product of the Community Asset Index and Threat Index, the Community Exposure Index identifies areas where human community assets are potentially exposed to numerous flood-related threats. Color ramp varies from other regions but displays similar information.",region:"alaska"},{id:"AK_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},url:"https://tiles.resilientcoasts.org/AK_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Index of human community assets critical to an area’s recovery following a major flooding event. Higher values represent areas with a higher cumulative presence of community assets.",region:"alaska"},{id:"AK_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},url:"https://tiles.resilientcoasts.org/AK_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Index of flood-related datasets that contribute to or exacerbate flooding potential. High values represent areas with multiple flood-related inputs. Due to data limitations, results present a conservative estimate of the severity and extent of coastal hazards in Alaska; low Threat Index values may correspond to areas with no or few data inputs.",region:"alaska"},{id:"AK_WildlifeTMS",layer:"FishAndWildlife TMS",label:"Fish and Wildlife Index",chartLabel:"Fish and Wildlife",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#EEF8F3",2:"#EDD0E0",3:"#E9BBCB",4:"#E3A6B7",5:"#DB90A6",6:"#D27C99",7:"#C6678F",8:"#B7528A",9:"#A33F8F",10:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEF8F3",2:"#EDD0E0",3:"#E9BBCB",4:"#E3A6B7",5:"#DB90A6",6:"#D27C99",7:"#C6678F",8:"#B7528A",9:"#A33F8F",10:"#7E33A8"},url:"https://tiles.resilientcoasts.org/AK_WildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"The sum of the Terrestrial Index and Aquatic Index, the Fish and Wildlife Index identifies  habitat and protected areas important for terrestrial and aquatic species of conservation concern and/or subsistence use. Higher values represent areas important for numerous species of concern.",region:"alaska"},{id:"AK_AquaticTMS",layer:"Aquatic TMS",label:"Aquatic Index",chartLabel:"Aquatic",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"aquatic",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#B6D2D9",3:"#9FC3CA",4:"#88B4BB",5:"#71A5AC",6:"#5B969D",7:"#44878E",8:"#2D787F",9:"#166970",10:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#B6D2D9",3:"#9FC3CA",4:"#88B4BB",5:"#71A5AC",6:"#5B969D",7:"#44878E",8:"#2D787F",9:"#166970",10:"#005A62"},url:"https://tiles.resilientcoasts.org/AK_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Identifies habitat suitable for species of conservation concern, species with federally-designated Essential Fish Habitat, and/or subsistence species that utilize riverine, lacustrine, and/or nearshore marine habitats (≤20m in depth). High values represent areas important for numerous species. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#FFFFE5",2:"#F1E7B5",3:"#E3CE84",4:"#BAB065",5:"#888F4C",6:"#576F33",7:"#32591F",8:"#215415",9:"#114E0A",10:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFFFE5",2:"#F1E7B5",3:"#E3CE84",4:"#BAB065",5:"#888F4C",6:"#576F33",7:"#32591F",8:"#215415",9:"#114E0A",10:"#004900"},url:"https://tiles.resilientcoasts.org/AK_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Identifies habitat suitable for species of conservation concern, Important Bird Areas, and/or subsistence species that utilize terrestrial habitats. High values represent areas important for numerous species. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",chartLegendValues:3,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#43309D",3:"#270B59"},chartCSSLegends:{0:"#E9ECEF",1:"#9EBBD7",2:"#43309D",3:"#270B59"},url:"https://tiles.resilientcoasts.org/AK_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Communities that are socially vulnerable according to data from the 2020 Denali Commission’s annual Distressed Communities report or the U.S. Environmental Protection Agency Environmental Justice Mapping and Screening Tool.",region:"alaska"},{id:"AK_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#0084A8",2:"#0084A8",3:"#0084A8",4:"#0084A8",5:"#0084A8"},chartCSSLegends:{0:"#E9ECEF",5:"#0084A8"},url:"https://tiles.resilientcoasts.org/AK_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Identifies facilities that provide important recovery and operational support during and following flood events (e.g., schools, medical facilities, post offices, emergency service stations). All critical facilities are given the same rank based on presence. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_CommunityInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#A82B41",2:"#A82B41",3:"#A82B41",4:"#A82B41",5:"#A82B41"},chartCSSLegends:{0:"#E9ECEF",5:"#A82B41"},url:"https://tiles.resilientcoasts.org/AK_CommunityInfrastructurIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Infrastructure integral to a community’s ability to recover from a flood event (e.g., power plants, wastewater treatment facilities, petroleum terminals). All critical infrastructure is given the same rank based on presence. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_TransporationInfrastructureTMS",layer:"Transporation Infrastructure TMS",label:"Critical Transportation",chartLabel:"Critical Transportation",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"transportation",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#FEB24C",2:"#FEB24C",3:"#FEB24C",4:"#FEB24C",5:"#FEB24C"},chartCSSLegends:{0:"#E9ECEF",5:"#FEB24C"},url:"https://tiles.resilientcoasts.org/AK_TransporationInfrastructure/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Incorporates critical transportation services that provide access to commodities, evacuation routes, and emergency response (e.g., roads, railways, airports, ferry terminals, ports, harbors). All critical transportation infrastructure is given the same rank based on presence. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#FEEBA2",2:"#FEBB47",3:"#F07818",4:"#B84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#FEEBA2",2:"#FEBB47",3:"#F07818",4:"#B84203",5:"#662506"},url:"https://tiles.resilientcoasts.org/AK_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Identifies areas susceptible to erosion using multiple data sources. High values represent areas with higher potential for erosion from flooding or heavy precipitation. Data are not available for the entire study area; areas without data may or may not have erodible soils. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-prone Areas",chartLabel:"Flood-prone Areas",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#E2E2EF",2:"#B6B6D8",3:"#8683BD",4:"#61409B",5:"#3F007D"},chartCSSLegends:{0:"#E9ECEF",1:"#E2E2EF",2:"#B6B6D8",3:"#8683BD",4:"#61409B",5:"#3F007D"},url:"https://tiles.resilientcoasts.org/AK_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Identifies areas prone to flooding using multiple data sources. Data are not available for the entire study area; areas without data may or may not be prone to flooding. Areas greater than 20m in elevation were excluded from this input as they are unlikely to experience flooding. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_TsunamiTilesTMS",layer:"Tsunami",label:"Tsunami Inundation",chartLabel:"Tsunami Inundation",ChartInputLabel:"Threats Inputs",chartCSSSelector:"tsunami",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",3:"#FB6A4A",4:"#DE2D26",5:"#A50F15"},chartCSSLegends:{0:"#E9ECEF",3:"#FB6A4A",4:"#DE2D26",5:"#A50F15"},url:"https://tiles.resilientcoasts.org/AK_TsunamiIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,legend:"AK_tsunami",description:"Communities that have been mapped that may experience tsunami inundation. Data are not available for all communities in the study area; areas without data may or may not be susceptible to tsunami inundation. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_PermaFrostTMS",label:"Permafrost Thaw",chartLabel:"Permafrost Thaw",ChartInputLabel:"Threats Inputs",chartCSSSelector:"permafrost",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#FFFFCC",2:"#A1DAB4",3:"#41B6C4",4:"#2C7FB8",5:"#253494"},chartCSSLegends:{0:"#E9ECEF",1:"#FFFFCC",2:"#A1DAB4",3:"#41B6C4",4:"#2C7FB8",5:"#253494"},url:"https://tiles.resilientcoasts.org/AK_PermaFrostIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Identifies areas thought to be susceptible to permafrost thaw and degradation. Values are based on results from multiple studies that provide a direct indicator of permafrost-related flooding threats. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"},{id:"AK_LowLyingAreasTMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",ChartInputLabel:"Threats Inputs",chartCSSSelector:"low_areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#D3EECD",2:"#98D594",3:"#4BB062",4:"#157F3B",5:"#00441B"},chartCSSLegends:{0:"#E9ECEF",1:"#D3EECD",2:"#98D594",3:"#4BB062",4:"#157F3B",5:"#00441B"},url:"https://tiles.resilientcoasts.org/AK_LowLyingAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2022",opacity:.75,maxNativeZoom:13,description:"Displays percent rise in elevation. High values represent low-lying areas that are more likely to retain water and flood. Data are not available for the entire study area; areas without data may or may not have a high likelihood to retain water. See Alaska Assessment report for data inputs, sources, and methods.",region:"alaska"}]},"American Samoa":{label:"American Samoa",regionName:"american_samoa",mapProperties:{label:"American Samoa",center:[-14.31,-170.25],extent:[-170.88,-14.71,-168.92,-13.9],zoom:9},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"AS_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},url:"https://tiles.resilientcoasts.org/AS_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"american_samoa"},{id:"AS_HubsHexTMS",layer:"Hubs Hex TMS",label:"Resilience Hexagonal Grid",chartLabel:"Resilience Hexagonal Grid",chartLegendValues:10,ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubsHex",chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},url:"https://tiles.resilientcoasts.org/AS_HubsHexIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Shows variation in Resilience Hub rankings using a 10-acre (4-hectare) hexagonal grid. Highest-ranking hexagons represent areas within Resilience Hub boundaries that may be suitable for resilience-building efforts.",region:"american_samoa"},{id:"AS_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/AS_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"american_samoa"},{id:"AS_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/AS_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"american_samoa"},{id:"AS_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/AS_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs. The Threat Index results are conservative and should be interpreted with caution due to ongoing post seismic land subsidence, which is expected to exacerbate sea level rise coastal flooding in the region",region:"american_samoa"},{id:"AS_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",label:"Fish and Wildlife Index",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",url:"https://tiles.resilientcoasts.org/AS_CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Identifies valuable habitat for species of concern in both the terrestrial and marine environments. Higher values indicate more valuable habitat areas for both.",region:"american_samoa"},{id:"AS_AquaticTMS",layer:"Marine TMS",label:"Marine Index",chartLabel:"Marine",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"marine",url:"https://tiles.resilientcoasts.org/AS_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are most valuable for providing protection to nearby coastal communities and for the protection of marine species.",region:"american_samoa"},{id:"AS_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"terrestrial",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/AS_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are suitable to the most species of concern for that region, based on habitat preferences and potential threats identified by the IUCN Red List.",region:"american_samoa"},{id:"AS_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#FFF6D0",2:"#EFC133",3:"#9EAC37",4:"#2C8D7A",5:"#385A4C"},ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"pop_density",chartCSSLegends:{0:"#E9ECEF",1:"#FFF6D0",2:"#EFC133",3:"#9EAC37",4:"#2C8D7A",5:"#385A4C"},url:"https://tiles.resilientcoasts.org/AS_PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"A ranking of population density by estimates based on the 2010 Decennial Census. Areas are ranked from low to high using the ratio of people per square kilometer.",region:"american_samoa"},{id:"AS_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:1,chartCSSColor:{0:"#E9ECEF",1:"#88419D",2:"#88419D"},ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",chartCSSLegends:{0:"#E9ECEF",1:"#88419D"},url:"https://tiles.resilientcoasts.org/AS_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Estimates are ranked from low to high, depicting areas of high poverty, vulnerable housing characteristics, and personal disruption due to climate change according to data from the 2010 Decennial Census.",region:"american_samoa"},{id:"AS_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#0084A8",2:"#0084A8",3:"#0084A8",4:"#0084A8",5:"#0084A8"},chartCSSLegends:{0:"#E9ECEF",5:"#0084A8"},ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/AS_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"american_samoa"},{id:"AS_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:15,chartCSSColor:{0:"#E9ECEF",1:"#CCD1D2",2:"#CCD1D2",3:"#CCD1D2",4:"#355C59",5:"#355C59",6:"#355C59",7:"#E8B16D",8:"#E8B16D",9:"#E8B16D",10:"#AD3541",11:"#AD3541",12:"#AD3541",13:"#7B1733",14:"#7B1733",15:"#7B1733"},chartCSSLegends:{0:"#E9ECEF",3:"#CCD1D2",5:"#355C59",8:"#E8B16D",10:"#AD3541",15:"#7B1733"},ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/AS_CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"american_samoa"},{id:"AS_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#447604",3:"#DCE9F2",4:"#DCE9F2",5:"#553555",6:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",3:"#DCE9F2",5:"#553555"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"impermeable",url:"https://tiles.resilientcoasts.org/AS_DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"american_samoa"},{id:"AS_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/AS_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"american_samoa"},{id:"AS_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/AS_SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"NOAA’s sea level rise scenarios ranked from low to high, with low being a 5-foot scenario and high being a 1-foot scenario. These ranks are used to suggest the more imminent threat of a 1-foot rise in sea level versus a 5-foot rise that may eventually occur.",region:"american_samoa"},{id:"AS_WaveDrivenFloodingTMS",layer:"Wave Driven TMS",label:"Wave-Driven Flooding",chartLabel:"Wave Driven Flooding",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFFFCC",2:"#A1DAB4",3:"#41B6C4",4:"#225EA8"},chartCSSLegends:{0:"#E9ECEF",1:"#FFFFCC",2:"#A1DAB4",3:"#41B6C4",4:"#225EA8"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"wave_flooding",url:"https://tiles.resilientcoasts.org/AS_WaveDrivenFloodingIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas are ranked according to probability of wave driven flooding, where a 10-year return period is given a higher rank than a 500-year return period.",region:"american_samoa"},{id:"AS_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/AS_SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"american_samoa"},{id:"AS_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/AS_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"american_samoa"},{id:"AS_TsunamiIndexTiles",layer:"Tsunami",label:"Tsunami",chartLabel:"Tsunami",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#2171b5",2:"#2171b5",3:"#2171b5",4:"#2171b5"},chartCSSLegends:{0:"#E9ECEF",3:"#2171b5"},ChartInputLabel:"Threats Inputs",chartCSSSelector:"tsunami",url:"https://tiles.resilientcoasts.org/AS_TsunamiIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Represents the maximum extent of inundation due to tsunami.",region:"american_samoa"}]},"Continental U.S":{label:"Continental U.S",regionName:"continental_us",mapProperties:{label:"Continental U.S",center:[40.98,-95.48],extent:[-132.97,25.16,-62.49,50],zoom:4},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"CONUS_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",url:"https://tiles.resilientcoasts.org/HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:13,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"continental_us"},{id:"CONUS_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:13,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"continental_us"},{id:"CONUS_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:13,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"continental_us"},{id:"CONUS_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:13,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs.",region:"continental_us"},{id:"CONUS_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",label:"Fish and Wildlife Index",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",url:"https://tiles.resilientcoasts.org/CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:13,description:"Fish and wildlife needs a description currently this text is just a placeholder.",region:"continental_us"},{id:"CONUS_AquaticTMS",layer:"Aquatic TMS",label:"Aquatic Index",chartLabel:"Aquatic",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#cde1e8",2:"#82bcd1",3:"#5ea5bb",4:"#007e91",5:"#005a62"},chartCSSLegends:{0:"#E9ECEF",1:"#cde1e8",2:"#82bcd1",3:"#5ea5bb",4:"#007e91",5:"#005a62"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"aquatic",url:"https://tiles.resilientcoasts.org/AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"An index of priority aquatic species and their habitats, ranked by HUC-10 watershed. A high value represents watersheds where the most priority species and their habitats are present.",region:"continental_us"},{id:"CONUS_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#ffe9c4",2:"#dfc878",3:"#79684e",4:"#385b23",5:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#ffe9c4",2:"#dfc878",3:"#79684e",4:"#385b23",5:"#004900"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"An index of priority terrestrial species and their habitats, ranked by HUC-10 watershed. This Index also includes Important Bird Areas, which transcend watershed boundaries. A high value represents areas where the most priority species, their habitats, and important bird areas are present.",region:"continental_us"},{id:"CONUS_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartCSSSelector:"pop_density",chartCSSLegends:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},url:"https://tiles.resilientcoasts.org/PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"A ranking of population density by census blocks based on the 2016 American Community Survey. Areas are ranked from low to high using the ratio of people per square kilometer.",region:"continental_us"},{id:"CONUS_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:3,chartCSSColor:{0:"#E9ECEF",1:"#abd2fa",2:"#7692ff",3:"#3a1459"},chartCSSLegends:{0:"#E9ECEF",1:"#abd2fa",2:"#7692ff",3:"#3a1459"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",url:"https://tiles.resilientcoasts.org/SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Communities that are socially vulnerable using the Demographic Index in EPA’s EJSCREEN dataset. Census blocks above the 80th percentile are ranked from low to high, depicting areas of lower median incomes and minority populations.",region:"continental_us"},{id:"CONUS_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#0084a8",2:"#0084a8",3:"#0084a8",4:"#0084a8",5:"#0084a8"},chartCSSLegends:{0:"#E9ECEF",5:"#0084a8"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"continental_us"},{id:"CONUS_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#ccd1d2",2:"#355c59",3:"#e8b16d",4:"#b15a3c",5:"#ad3541",6:"#7b1733"},chartCSSLegends:{0:"#E9ECEF",1:"#ccd1d2",2:"#355c59",3:"#e8b16d",4:"#b15a3c",5:"#ad3541",6:"#7b1733"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"continental_us"},{id:"CONUS_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"drainage",url:"https://tiles.resilientcoasts.org/DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"continental_us"},{id:"CONUS_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"continental_us"},{id:"CONUS_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"NOAA’s sea level rise scenarios ranked from low to high, with low being a 5-foot scenario and high being a 1-foot scenario. These ranks are used to suggest the more imminent threat of a 1-foot rise in sea level versus a 5-foot rise that may eventually occur.",region:"continental_us"},{id:"CONUS_StormSurgeTMS",layer:"Storm Surge TMS",label:"Storm Surge",chartLabel:"Storm Surge",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartCSSLegends:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"storm_surge",url:"https://tiles.resilientcoasts.org/StormSurgeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Based on the impacts from modeled hurricane storm categories, storm surge is ranked from low to high, with low being a 5-foot surge and high being a 1-foot surge. As a 1-foot surge is more likely to occur than a 5-foot surge, areas within the 1-foot designation are ranked with higher values.",region:"continental_us"},{id:"CONUS_GeoStressTMS",layer:"Geo Stressors TMS",label:"Geological Stressors",chartLabel:"Geological Stressors",chartLegendValues:3,chartCSSColor:{0:"#E9ECEF",1:"#fbacb9",2:"#cd238f",3:"#49006a"},chartCSSLegends:{0:"#E9ECEF",1:"#fbacb9",2:"#cd238f",3:"#49006a"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"geostress",url:"https://tiles.resilientcoasts.org/GeoStressIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"The geologic conditions of the landscape that can exacerbate the level of threat represented from other inputs. Conditions that are highlighted in this input include both landslide susceptibility and subsidence.",region:"continental_us"},{id:"CONUS_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"continental_us"},{id:"CONUS_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:12,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"continental_us"}]},Guam:{label:"Guam",regionName:"guam",mapProperties:{label:"Guam",center:[13.45,144.8],extent:[144.33,13.2,145.88,13.79],zoom:10},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"GU_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},url:"https://tiles.resilientcoasts.org/GU_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"guam"},{id:"GU_HubsHexTMS",layer:"Hubs Hex TMS",label:"Resilience Hexagonal Grid",chartLabel:"Resilience Hexagonal Grid",chartLegendValues:10,chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubshex",chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},url:"https://tiles.resilientcoasts.org/GU_HubsHexIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Shows variation in Resilience Hub rankings using a 10-acre (4-hectare) hexagonal grid. Highest-ranking hexagons represent areas within Resilience Hub boundaries that may be suitable for resilience-building efforts.",region:"guam"},{id:"GU_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/GU_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"guam"},{id:"GU_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/GU_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"guam"},{id:"GU_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/GU_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs.",region:"guam"},{id:"GU_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",label:"Fish and Wildlife Index",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",url:"https://tiles.resilientcoasts.org/GU_CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Identifies valuable habitat for species of concern in both the terrestrial and marine environments. Higher values indicate more valuable habitat areas for both.",region:"guam"},{id:"GU_AquaticTMS",layer:"Marine TMS",label:"Marine Index",chartLabel:"Marine",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"aquatic",url:"https://tiles.resilientcoasts.org/GU_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are most valuable for providing protection to nearby coastal communities and for the protection of marine species.",region:"guam"},{id:"GU_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/GU_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are suitable to the most species of concern for that region, based on habitat preferences and potential threats identified by the IUCN Red List.",region:"guam"},{id:"GU_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#FFF6D0",2:"#EFC133",3:"#9EAC37",4:"#2C8D7A",5:"#385A4C"},chartCSSLegends:{0:"#E9ECEF",1:"#FFF6D0",2:"#EFC133",3:"#9EAC37",4:"#2C8D7A",5:"#385A4C"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"pop_density",url:"https://tiles.resilientcoasts.org/GU_PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"A ranking of population density by estimates based on the 2010 Decennial Census. Areas are ranked from low to high using the ratio of people per square kilometer.",region:"guam"},{id:"GU_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#EDF8FB",2:"#B3CDE3",3:"#8C96C6",4:"#88419D"},chartCSSLegends:{0:"#E9ECEF",1:"#EDF8FB",2:"#B3CDE3",3:"#8C96C6",4:"#88419D"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",url:"https://tiles.resilientcoasts.org/GU_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Estimates are ranked from low to high, depicting areas of high poverty, vulnerable housing characteristics, and personal disruption due to climate change according to data from the 2010 Decennial Census.",region:"guam"},{id:"GU_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#0084A8",2:"#0084A8",3:"#0084A8",4:"#0084A8",5:"#0084A8"},chartCSSLegends:{0:"#E9ECEF",5:"#0084A8"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/GU_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"guam"},{id:"GU_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:15,chartCSSColor:{0:"#E9ECEF",1:"#CCD1D2",2:"#CCD1D2",3:"#CCD1D2",4:"#355C59",5:"#355C59",6:"#355C59",7:"#E8B16D",8:"#E8B16D",9:"#E8B16D",10:"#AD3541",11:"#AD3541",12:"#AD3541",13:"#7B1733",14:"#7B1733",15:"#7B1733"},chartCSSLegends:{0:"#E9ECEF",3:"#CCD1D2",5:"#355C59",8:"#E8B16D",10:"#AD3541",15:"#7B1733"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/GU_CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"guam"},{id:"GU_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#447604",3:"#DCE9F2",4:"#DCE9F2",5:"#553555",6:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",3:"#DCE9F2",5:"#553555"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"drainage",url:"https://tiles.resilientcoasts.org/GU_DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"guam"},{id:"GU_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/GU_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"guam"},{id:"GU_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/GU_SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"NOAA’s sea level rise scenarios ranked from low to high, with low being a 5-foot scenario and high being a 1-foot scenario. These ranks are used to suggest the more imminent threat of a 1-foot rise in sea level versus a 5-foot rise that may eventually occur.",region:"guam"},{id:"GU_WaveDrivenFloodingTMS",layer:"Wave Driven TMS",label:"Wave-Driven Flooding",chartLabel:"Wave Driven Flooding",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFFFCC",2:"#A1DAB4",3:"#41B6C4",4:"#225EA8"},chartCSSLegends:{0:"#E9ECEF",1:"#FFFFCC",2:"#A1DAB4",3:"#41B6C4",4:"#225EA8"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"wave_flooding",url:"https://tiles.resilientcoasts.org/GU_WaveDrivenFloodingIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Areas are ranked according to probability of wave driven flooding, where a 10-year return period is given a higher rank than a 500-year return period.",region:"guam"},{id:"GU_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/GU_SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"guam"},{id:"GU_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/GU_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"guam"},{id:"GU_TsunamiIndexTiles",layer:"Tsunami",label:"Tsunami",chartLabel:"Tsunami",chartLegendValues:2,chartCSSColor:{0:"#E9ECEF",1:"#2171B5",2:"#2171B5"},chartCSSLegends:{0:"#E9ECEF",1:"#2171B5",2:"#2171B5"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"tsunami",url:"https://tiles.resilientcoasts.org/GU_TsunamiIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Represents the maximum extent of inundation due to tsunami.",region:"guam"},{id:"GU_WaveExposureTiles",layer:"Wave Exposure",label:"Wave Exposure",chartLabel:"Wave Exposure",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#FEEDDE",2:"#FDBE85",3:"#FD8D3C",4:"#E6550D",5:"#A63603"},chartCSSLegends:{0:"#E9ECEF",1:"#FEEDDE",2:"#FDBE85",3:"#FD8D3C",4:"#E6550D",5:"#A63603"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"wave_exposure",url:"https://tiles.resilientcoasts.org/GU_WaveExposureTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Average daily wave energy along Guam’s shoreline, ranked from low to high. Wave energy is calculated from average wind direction, wind speed and fetch length along the wind bearing.",region:"guam"},{id:"GU_LandslideIndexTiles",layer:"Landslides",label:"Geological Stressors",chartLabel:"Geological Stressors",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FEEBE2",2:"#FBB4B9",3:"#F768A1",4:"#AE017E"},chartCSSLegends:{0:"#E9ECEF",1:"#FEEBE2",2:"#FBB4B9",3:"#F768A1",4:"#AE017E"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"geostress",url:"https://tiles.resilientcoasts.org/GU_LandslideIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",format:"image/png",opacity:.75,maxNativeZoom:14,description:"Shows landslide susceptibility in Guam, where a higher rank indicates higher susceptibility.",region:"guam"}]},"Hawai'i":{label:"Hawai'i",regionName:"hawaii",mapProperties:{label:"Hawai'i",center:[21.08,196.97],extent:[-166.09,13.77,-140.36,26.78],zoom:6},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"HI_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",url:"https://tiles.resilientcoasts.org/HI_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"hawaii"},{id:"HI_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/HI_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"hawaii"},{id:"HI_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/HI_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"hawaii"},{id:"HI_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/HI_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs.",region:"hawaii"},{id:"HI_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",label:"Fish and Wildlife Index",url:"https://tiles.resilientcoasts.org/HI_CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Identifies valuable habitat for species of concern in both the terrestrial and marine environments. Higher values indicate more valuable habitat areas for both.",region:"hawaii"},{id:"HI_AquaticTMS",layer:"Marine TMS",label:"Marine Index",chartLabel:"Marine",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"aquatic",url:"https://tiles.resilientcoasts.org/HI_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are most valuable for providing protection to nearby coastal communities and for the protection of marine species.",region:"hawaii"},{id:"HI_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/HI_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are suitable to the most species of concern for that region, based on habitat preferences and potential threats identified by the IUCN Red List.",region:"hawaii"},{id:"HI_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartCSSLegends:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"pop_density",url:"https://tiles.resilientcoasts.org/HI_PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"A ranking of population density by census block groups based on the 2018 American Community Survey 5-year estimates. Areas are ranked from low to high based on the ratio of people per square kilometer.",region:"hawaii"},{id:"HI_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartCSSLegends:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",url:"https://tiles.resilientcoasts.org/HI_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Communities that are socially vulnerable using the Demographic Index in EPA’s EJSCREEN dataset. Census blocks are ranked from low to high, depicting areas of lower median incomes and minority populations.  ",region:"hawaii"},{id:"HI_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#9EBBD7",3:"#9EBBD7",4:"#0084A8",5:"#0084A8",6:"#0084A8"},chartCSSLegends:{0:"#E9ECEF",3:"#9EBBD7",5:"#0084A8"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/HI_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"hawaii"},{id:"HI_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:8,chartCSSColor:{0:"#E9ECEF",1:"#CCD1D2",2:"#77B099",3:"#355C59",4:"#CDB16D",5:"#BD7D46",6:"#B5483E",7:"#A82B41",8:"#7B1733"},chartCSSLegends:{0:"#E9ECEF",1:"#CCD1D2",2:"#77B099",3:"#355C59",4:"#CDB16D",5:"#BD7D46",6:"#B5483E",7:"#A82B41",8:"#7B1733"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/HI_CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"hawaii"},{id:"HI_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"drainage",url:"https://tiles.resilientcoasts.org/HI_DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"hawaii"},{id:"HI_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/HI_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"hawaii"},{id:"HI_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#99b9d9",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#99b9d9",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/HI_SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Sea Level Rise Exposure Areas data from Tetra Tech, Inc. and the University of Hawai'i Coastal Geology Group were ranked from low to high, with low being a 3.2-foot scenario and high being a 0.5-foot scenario. These ranks are used to suggest the more imminent threat of a 0.5-foot rise in sea level versus a 3.2-foot rise that may eventually occur.",region:"hawaii"},{id:"HI_StormSurgeTMS",layer:"Storm Surge TMS",label:"Storm Surge",chartLabel:"Storm Surge",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartCSSLegends:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"storm_surge",url:"https://tiles.resilientcoasts.org/HI_StormSurgeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Based on the impacts from modeled hurricane storm categories, storm surge is ranked from low to high, with low being a 5-foot surge and high being a 1-foot surge. As a 1-foot surge is more likely to occur than a 5-foot surge, areas within the 1-foot designation are ranked with higher values.",region:"hawaii"},{id:"HI_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/HI_SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"hawaii"},{id:"HI_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/HI_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"hawaii"},{id:"HI_LandslideIndexTiles",layer:"Landslides",label:"Geological Stressors",chartLabel:"Geological Stressors",chartLegendValues:3,chartCSSColor:{0:"#E9ECEF",1:"#fbacb9",2:"#cd238f",3:"#49006a"},chartCSSLegends:{0:"#E9ECEF",1:"#fbacb9",2:"#cd238f",3:"#49006a"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"geostress",url:"https://tiles.resilientcoasts.org/HI_LandslideIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Shows landslide susceptibility in Hawai'i, including steep slopes where landslides may begin. The input is ranked using categories of “very high”, “high”, and “moderate”.",region:"hawaii"},{id:"HI_TsunamiIndexTiles",layer:"Tsunami",label:"Tsunami",chartLabel:"Tsunami",chartLegendValues:2,chartCSSColor:{0:"#E9ECEF",1:"#414488",2:"#2A798F"},chartCSSLegends:{0:"#E9ECEF",1:"#414488",2:"#2A798F"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"tsunami",url:"https://tiles.resilientcoasts.org/HI_TsunamiIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Tsunami evacuation zones in Hawai'i, including the Tsunami Evacuation Zone and Extreme Tsunami Evacuation Zone.",region:"hawaii"}]},"Northern Mariana Islands":{label:"Northern Mariana Islands",regionName:"northern_mariana_islands",mapProperties:{label:"Northern Mariana Islands",center:[14.67,145.5],extent:[144.87,13.92,147.27,15.38],zoom:9},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"CNMI_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},url:"https://tiles.resilientcoasts.org/CNMI_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"northern_mariana_islands"},{id:"CNMI_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/CNMI_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"northern_mariana_islands"},{id:"CNMI_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/CNMI_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"northern_mariana_islands"},{id:"CNMI_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/CNMI_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs.",region:"northern_mariana_islands"},{id:"CNMI_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",label:"Fish and Wildlife Index",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",url:"https://tiles.resilientcoasts.org/CNMI_CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Identifies valuable habitat for species of concern in both the terrestrial and marine environments. Higher values indicate more valuable habitat areas for both.",region:"northern_mariana_islands"},{id:"CNMI_AquaticTMS",layer:"Marine TMS",label:"Marine Index",chartLabel:"Marine",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"aquatic",url:"https://tiles.resilientcoasts.org/CNMI_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are most valuable for providing protection to nearby coastal communities and for the protection of marine species.",region:"northern_mariana_islands"},{id:"CNMI_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/CNMI_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are suitable to the most species of concern for that region, based on habitat preferences and potential threats identified by the IUCN Red List.",region:"northern_mariana_islands"},{id:"CNMI_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartCSSLegends:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"pop_density",url:"https://tiles.resilientcoasts.org/CNMI_PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"A ranking of population density by estates based on the 2010 Decennial Census. Areas are ranked from low to high using the ratio of people per square kilometer.",region:"northern_mariana_islands"},{id:"CNMI_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartCSSLegends:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",url:"https://tiles.resilientcoasts.org/CNMI_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Estates are ranked from low to high, depicting areas of lower median incomes and minority populations based on 2010 Decennial Census Data and guidance from USEPA EJSCREEN methodology.",region:"northern_mariana_islands"},{id:"CNMI_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#9EBBD7",3:"#9EBBD7",4:"#0084A8",5:"#0084A8",6:"#0084A8"},chartCSSLegends:{0:"#E9ECEF",3:"#9EBBD7",5:"#0084A8"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/CNMI_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"northern_mariana_islands"},{id:"CNMI_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#ccd1d2",2:"#355c59",3:"#e8b16d",4:"#b15a3c",5:"#ad3541",6:"#7b1733"},chartCSSLegends:{0:"#E9ECEF",1:"#ccd1d2",2:"#355c59",3:"#e8b16d",4:"#b15a3c",5:"#ad3541",6:"#7b1733"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/CNMI_CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"northern_mariana_islands"},{id:"CNMI_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"drainage",url:"https://tiles.resilientcoasts.org/CNMI_DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"northern_mariana_islands"},{id:"CNMI_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/CNMI_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"northern_mariana_islands"},{id:"CNMI_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/CNMI_SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"NOAA’s sea level rise scenarios ranked from low to high, with low being a 5-foot scenario and high being a 1-foot scenario. These ranks are used to suggest the more imminent threat of a 1-foot rise in sea level versus a 5-foot rise that may eventually occur.",region:"northern_mariana_islands"},{id:"CNMI_StormSurgeTMS",layer:"Storm Surge TMS",label:"Wave-Driven Flooding",chartLabel:"Wave Driven Flooding",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartCSSLegends:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"storm_surge",url:"https://tiles.resilientcoasts.org/CNMI_StormSurgeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Based on historical nearshore wave time series, significant wave heights associated with the 10-, 50, 100, and 500-year storm return periods were ranked according to probability of occurrence, where a 10-year return period is given a higher rank than a 500-year return period.",region:"northern_mariana_islands"},{id:"CNMI_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/CNMI_SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"northern_mariana_islands"},{id:"CNMI_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/CNMI_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"northern_mariana_islands"}]},"Puerto Rico":{label:"Puerto Rico",regionName:"puerto_rico",mapProperties:{label:"Puerto Rico",center:[18.22,-66.12],extent:[-67.54431130541467,17.46071271042981,-65.08612038744593,18.895892559415024],zoom:8},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"PR_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",url:"https://tiles.resilientcoasts.org/PR_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"puerto_rico"},{id:"PR_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/PR_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"puerto_rico"},{id:"PR_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/PR_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"puerto_rico"},{id:"PR_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/PR_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs.",region:"puerto_rico"},{id:"PR_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",label:"Fish and Wildlife Index",url:"https://tiles.resilientcoasts.org/PR_CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Identifies valuable habitat for species of concern in both the terrestrial and marine environments. Higher values indicate more valuable habitat areas for both.",region:"puerto_rico"},{id:"PR_AquaticTMS",layer:"Marine TMS",label:"Marine Index",chartLabel:"Marine",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"aquatic",url:"https://tiles.resilientcoasts.org/PR_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are most valuable for providing protection to nearby coastal communities and for the protection of marine species.",region:"puerto_rico"},{id:"PR_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/PR_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are suitable to the most species of concern for that region, based on habitat preferences and potential threats identified by the IUCN Red List.",region:"puerto_rico"},{id:"PR_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartCSSLegends:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"pop_density",url:"https://tiles.resilientcoasts.org/PR_PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"A ranking of population density by census block groups based on the 2016 American Community Survey. Areas are ranked from low to high using the ratio of people per square kilometer.",region:"puerto_rico"},{id:"PR_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartCSSLegends:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",url:"https://tiles.resilientcoasts.org/PR_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Communities that are socially vulnerable using the Demographic Index in EPA’s EJSCREEN dataset. Census blocks above the 80th percentile are ranked from low to high, depicting areas of lower median incomes and minority populations.",region:"puerto_rico"},{id:"PR_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#9EBBD7",3:"#9EBBD7",4:"#0084A8",5:"#0084A8",6:"#0084A8"},chartCSSLegends:{0:"#E9ECEF",3:"#9EBBD7",5:"#0084A8"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/PR_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"puerto_rico"},{id:"PR_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:8,chartCSSColor:{0:"#E9ECEF",1:"#CCD1D2",2:"#77B099",3:"#355C59",4:"#CDB16D",5:"#BD7D46",6:"#B5483E",7:"#A82B41",8:"#7B1733"},chartCSSLegends:{0:"#E9ECEF",1:"#CCD1D2",2:"#77B099",3:"#355C59",4:"#CDB16D",5:"#BD7D46",6:"#B5483E",7:"#A82B41",8:"#7B1733"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/PR_CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"puerto_rico"},{id:"PR_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"drainage",url:"https://tiles.resilientcoasts.org/PR_DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"puerto_rico"},{id:"PR_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/PR_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"puerto_rico"},{id:"PR_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/PR_SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"NOAA’s sea level rise scenarios ranked from low to high, with low being a 5-foot scenario and high being a 1-foot scenario. These ranks are used to suggest the more imminent threat of a 1-foot rise in sea level versus a 5-foot rise that may eventually occur.",region:"puerto_rico"},{id:"PR_StormSurgeTMS",layer:"Storm Surge TMS",label:"Storm Surge",chartLabel:"Storm Surge",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartCSSLegends:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"storm_surge",url:"https://tiles.resilientcoasts.org/PR_StormSurgeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Based on the impacts from modeled hurricane storm categories, storm surge is ranked from low to high, with low being a 5-foot surge and high being a 1-foot surge. As a 1-foot surge is more likely to occur than a 5-foot surge, areas within the 1-foot designation are ranked with higher values.",region:"puerto_rico"},{id:"PR_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/PR_SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"puerto_rico"},{id:"PR_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/PR_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"puerto_rico"},{id:"PR_LandslideIndexTiles",layer:"Landslides",label:"Geological Stressors",chartLabel:"Geological Stressors",chartLegendValues:2,chartCSSColor:{0:"#E9ECEF",1:"#fbacb9",2:"#cd238f"},chartCSSLegends:{0:"#E9ECEF",1:"#fbacb9",2:"#cd238f"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"geostress",url:"https://tiles.resilientcoasts.org/PR_LandslideIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Shows landslide susceptibility in Puerto Rico, including slopes that exceed fifty percent. A higher rank indicates higher susceptibilitys.",region:"puerto_rico"},{id:"PR_TsunamiIndexTiles",layer:"Tsunami",label:"Tsunami",chartLabel:"Tsunami",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#414488",2:"#2A798F",3:"#22A985",4:"#7AD251",5:"#FEE825"},chartCSSLegends:{0:"#E9ECEF",1:"#414488",2:"#2A798F",3:"#22A985",4:"#7AD251",5:"#FEE825"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"tsunami",url:"https://tiles.resilientcoasts.org/PR_TsunamiIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Represents the potential inundation height above the ground from a tsunami in Puerto Rico. A higher rank indicates a higher inundation depth.",region:"puerto_rico"}]},"US Virgin Islands":{label:"US Virgin Islands",regionName:"usVirginIslands",mapProperties:{label:"US Virgin Islands",center:[18.02,-64.7],extent:[-65.13508888306899,17.627008270947076,-64.25480934205336,18.46267598832466],zoom:10},chartInputs:[{chartInputName:"summary",ChartInputLabel:"Summary"},{chartInputName:"asset",ChartInputLabel:"Community Assets Inputs"},{chartInputName:"threat",ChartInputLabel:"Threats Inputs"},{chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs"}],layerList:[{id:"USVI_HubsTMS",layer:"Hubs TMS",label:"Resilience Hubs",chartLabel:"Resilience Hubs",chartLegendValues:10,chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Resilience Hubs",chartCSSSelector:"hubs",chartCSSColor:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},chartCSSLegends:{0:"#E9ECEF",1:"#ffc500",2:"#f9b500",3:"#f3a400",4:"#ed9400",5:"#e78300",6:"#e07000",7:"#d95e00",8:"#d14c00",9:"#ca3600",10:"#c21500"},url:"https://tiles.resilientcoasts.org/USVI_HubsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas of open lands and protected space that may be suitable for resilience-building efforts. Hubs are ranked by priority, given the level of exposure that nearby assets have to flood-related threats and the presence and abundance of fish and wildlife species within and surrounding the Hub.",region:"us_virgin_islands"},{id:"USVI_ExposureTMS",layer:"Exposure TMS",label:"Community Exposure Index",chartLabel:"Community Exposure",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartCSSLegends:{0:"#E9ECEF",1:"#1f6e6e",2:"#3d8282",3:"#7dad9c",4:"#b7d4b2",5:"#e9f2bb",6:"#f5e9a9",7:"#dbba7a",8:"#b08042",9:"#9b5526",10:"#633319"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Exposure Index",chartCSSSelector:"exposure",url:"https://tiles.resilientcoasts.org/USVI_ExposureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The product of the Asset and Threat Indices, which suggests areas on the landscape where community assets are potentially exposed to flood-related threats.",region:"us_virgin_islands"},{id:"USVI_AssetsTMS",layer:"Assets TMS",label:"Community Asset Index",chartLabel:"Community Asset",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartCSSLegends:{0:"#E9ECEF",1:"#b6edf0",2:"#98d2ed",3:"#7cbbeb",4:"#5ca3e6",5:"#368de3",6:"#2176d9",7:"#2259c7",8:"#1d3eb5",9:"#1727a3",10:"#090991"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"asset",url:"https://tiles.resilientcoasts.org/USVI_AssetsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of community assets critical to the recovery of an area and human population. High values suggest areas with a higher, cumulative prevalence of community assets on the landscape.",region:"us_virgin_islands"},{id:"USVI_ThreatsTMS",layer:"Threats TMS",label:"Threat Index",chartLabel:"Threat",chartLegendValues:10,chartCSSColor:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartCSSLegends:{0:"#E9ECEF",1:"#ffebd6",2:"#f7d7bc",3:"#f0c0a1",4:"#eba988",5:"#e3906f",6:"#de775b",7:"#d65d45",8:"#d14030",9:"#c9251c",10:"#c40a0a"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Community Asset and Threat Indices",chartCSSSelector:"threat",url:"https://tiles.resilientcoasts.org/USVI_ThreatsIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Index of flood-related datasets, including storm surge scenarios and landscape characteristics that exacerbate flood potential. High values in the Index represent those areas on the landscape where there are multiple high values of individual inputs.",region:"us_virgin_islands"},{id:"USVI_FishAndWildlifeTMS",layer:"FishAndWildlife TMS",label:"Fish and Wildlife Index",chartLabel:"Fish and Wildlife",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartCSSLegends:{0:"#E9ECEF",1:"#EEE7F8",2:"#E9BBCB",3:"#DB90A6",4:"#D27C99",5:"#B7528A",6:"#7E33A8"},chartInputName:"summary",ChartInputLabel:"Summary",ChartInputSubHeading:"Fish and Wildlife",chartCSSSelector:"wildlife",url:"https://tiles.resilientcoasts.org/USVI_CombinedWildlifeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Identifies valuable habitat for species of concern in both the terrestrial and marine environments. Higher values indicate more valuable habitat areas for both.",region:"us_virgin_islands"},{id:"USVI_AquaticTMS",layer:"Marine TMS",label:"Marine Index",chartLabel:"Marine",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartCSSLegends:{0:"#E9ECEF",1:"#CDE1E8",2:"#82BCD1",3:"#007E91",4:"#005A62"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"aquatic",url:"https://tiles.resilientcoasts.org/USVI_AquaticIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are most valuable for providing protection to nearby coastal communities and for the protection of marine species.",region:"us_virgin_islands"},{id:"USVI_TerrestrialTMS",layer:"Terrestrial TMS",label:"Terrestrial Index",chartLabel:"Terrestrial",chartLegendValues:4,chartCSSColor:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartCSSLegends:{0:"#E9ECEF",1:"#FFE9C4",2:"#DFC878",3:"#385B23",4:"#004900"},chartInputName:"fishandwildlife",ChartInputLabel:"Fish and Wildlife Inputs",chartCSSSelector:"terrestrial",url:"https://tiles.resilientcoasts.org/USVI_TerrestrialIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Higher values identify habitat areas that are suitable to the most species of concern for that region, based on habitat preferences and potential threats identified by the IUCN Red List.",region:"us_virgin_islands"},{id:"USVI_PopDensityTMS",layer:"Population Density TMS",label:"Population Density",chartLabel:"Population Density",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartCSSLegends:{0:"#E9ECEF",1:"#dfc878",2:"#efc133",3:"#9eac37",4:"#2c8d7a",5:"#385a4c"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"pop_density",url:"https://tiles.resilientcoasts.org/USVI_PopDensityIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"A ranking of population density by estates based on the 2010 Decennial Census. Areas are ranked from low to high using the ratio of people per square kilometer.",region:"us_virgin_islands"},{id:"USVI_SocVulnTMS",layer:"Social Vulnerability TMS",label:"Social Vulnerability",chartLabel:"Social Vulnerability",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartCSSLegends:{0:"#E9ECEF",1:"#9EBBD7",2:"#7A8EF5",3:"#43309D",4:"#321669",5:"#270B59"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"social_vuln",url:"https://tiles.resilientcoasts.org/USVI_SocVulnIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Estates are ranked from low to high, depicting areas of lower median incomes and minority populations based on 2010 Decennial Census Data and guidance from USEPA EJSCREEN methodology.",region:"us_virgin_islands"},{id:"USVI_CriticalFacilitiesTMS",layer:"Critical Facilities TMS",label:"Critical Facilities",chartLabel:"Critical Facilities",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#0084a8",2:"#0084a8",3:"#0084a8",4:"#0084a8",5:"#0084a8",6:"#0084a8"},chartCSSLegends:{0:"#E9ECEF",5:"#0084a8"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_facilities",url:"https://tiles.resilientcoasts.org/USVI_CriticalFacilitiesIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Facilities such as schools, hospitals, and police and fire stations that are important to recovery efforts when a community is faced with a flood-related event. All facilities are given the same presence rank.",region:"us_virgin_islands"},{id:"USVI_CriticalInfrastructureTMS",layer:"Critical Infrastructure TMS",label:"Critical Infrastructure",chartLabel:"Critical Infrastructure",chartLegendValues:6,chartCSSColor:{0:"#E9ECEF",1:"#ccd1d2",2:"#355c59",3:"#e8b16d",4:"#b15a3c",5:"#ad3541",6:"#7b1733"},chartCSSLegends:{0:"#E9ECEF",1:"#ccd1d2",2:"#355c59",3:"#e8b16d",4:"#b15a3c",5:"#ad3541",6:"#7b1733"},chartInputName:"asset",ChartInputLabel:"Community Assets Inputs",chartCSSSelector:"crit_infra",url:"https://tiles.resilientcoasts.org/USVI_CriticalInfrastructureIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Infrastructure in and around communities that are integral to a community’s ability to recover from a flood event, including primary highways, power plants, and rail lines, among others. High values suggest areas where multiple infrastructure overlap.",region:"us_virgin_islands"},{id:"USVI_DrainageTMS",layer:"Drainage TMS",label:"Impermeable Soils",chartLabel:"Impermeable Soils",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartCSSLegends:{0:"#E9ECEF",1:"#447604",2:"#77D66F",3:"#dce9f2",4:"#755b69",5:"#553555"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"drainage",url:"https://tiles.resilientcoasts.org/USVI_DraingeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas with poor water drainage potential, including both less-porous soils and areas with high-intensity development. High values suggest that areas contain soils with poor drainage potential and/or a prevalence of developed, impervious surfaces that may pool during flooding or heavy precipitation events.",region:"us_virgin_islands"},{id:"USVI_ErosionTMS",layer:"Erosion TMS",label:"Soil Erodibility",chartLabel:"Soil Erodibility",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartCSSLegends:{0:"#E9ECEF",1:"#feeba2",2:"#febb47",3:"#f07818",4:"#b84203",5:"#662506"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"erosion",url:"https://tiles.resilientcoasts.org/USVI_ErosionIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Those areas that contain soil characteristics that have a high susceptibility of soil particle detachment by water. This may include areas that have high silt content or migratory systems such as beaches and dunes. High values suggest that areas carry an increased potential for erosion due to flooding or heavy precipitation events.",region:"us_virgin_islands"},{id:"USVI_SLRTMS",layer:"Sea Level Rise TMS",label:"Sea Level Rise",chartLabel:"Sea Level Rise",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartCSSLegends:{0:"#E9ECEF",1:"#dbd8ea",2:"#99b9d9",3:"#4095c3",4:"#027976",5:"#014636"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"sea_level_rise",url:"https://tiles.resilientcoasts.org/USVI_SLRIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"NOAA’s sea level rise scenarios ranked from low to high, with low being a 5-foot scenario and high being a 1-foot scenario. These ranks are used to suggest the more imminent threat of a 1-foot rise in sea level versus a 5-foot rise that may eventually occur.",region:"us_virgin_islands"},{id:"USVI_StormSurgeTMS",layer:"Storm Surge TMS",label:"Storm Surge",chartLabel:"Storm Surge",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartCSSLegends:{0:"#E9ECEF",1:"#d6efb3",2:"#73c8bd",3:"#2498c1",4:"#234da0",5:"#081d58"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"storm_surge",url:"https://tiles.resilientcoasts.org/USVI_StormSurgeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Based on the impacts from modeled hurricane storm categories, storm surge is ranked from low to high, with low being a 5-foot surge and high being a 1-foot surge. As a 1-foot surge is more likely to occur than a 5-foot surge, areas within the 1-foot designation are ranked with higher values.",region:"us_virgin_islands"},{id:"USVI_SlopeTMS",layer:"Slope TMS",label:"Areas of Low Slope",chartLabel:"Areas of Low Slope",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartCSSLegends:{0:"#E9ECEF",1:"#d3eecd",2:"#98d594",3:"#4bb062",4:"#157f3b",5:"#00441b"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"slope",url:"https://tiles.resilientcoasts.org/USVI_SlopeIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"The percent rise of the elevation of the landscape, given values from low to high. High values indicate those areas that are very low lying and more likely to retain water and flood.",region:"us_virgin_islands"},{id:"USVI_FloodProneAreasTMS",layer:"Flood Prone Areas TMS",label:"Flood-Prone Areas",chartLabel:"Flood Prone Areas",chartLegendValues:5,chartCSSColor:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartCSSLegends:{0:"#E9ECEF",1:"#e2e2ef",2:"#b6b6d8",3:"#8683bd",4:"#61409b",5:"#3f007d"},chartInputName:"threat",ChartInputLabel:"Threats Inputs",chartCSSSelector:"floodprone_areas",url:"https://tiles.resilientcoasts.org/USVI_FloodProneAreasIndexTiles/{z}/{x}/{y}.png",attribution:"NFWF 2020",opacity:.75,maxNativeZoom:14,description:"Areas considered by FEMA to be in the 100- and 500-year flood zones, as well as the floodway. Frequently and occasionally flooded soil designations are used to identify areas outside of FEMA coverage. Highest values suggest areas directly in the floodway, whereas low values suggest occasionally flooded soils outside of the floodplain.",region:"us_virgin_islands"}]}},examplePolygonFeature:{type:"Feature",geometry:{type:"Polygon",coordinates:[]},properties:{areaName:null,buffer:!0,leafletId:null,leafletIdsList:[],zonalStatsData:{}}}},nh=function(){var e=(0,Jc.Z)(eh().mark((function e(t,n){var r,i,o,a;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.resilientcoasts.org/beta/zonal_stats",i="?region=".concat(th.regions[n].regionName),r+=i,e.next=5,fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 5:return o=e.sent,e.next=8,o.json();case 8:return a=e.sent,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function rh(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function ih(e){return!!e&&!!e[Vh]}function oh(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Gh}(e)||Array.isArray(e)||!!e[qh]||!!e.constructor[qh]||hh(e)||ph(e))}function ah(e,t,n){void 0===n&&(n=!1),0===sh(e)?(n?Object.keys:Hh)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function sh(e){var t=e[Vh];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:hh(e)?2:ph(e)?3:0}function lh(e,t){return 2===sh(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uh(e,t,n){var r=sh(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function ch(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function hh(e){return Bh&&e instanceof Map}function ph(e){return jh&&e instanceof Set}function dh(e){return e.o||e.t}function fh(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Wh(e);delete t[Vh];for(var n=Hh(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function mh(e,t){return void 0===t&&(t=!1),yh(e)||ih(e)||!oh(e)||(sh(e)>1&&(e.set=e.add=e.clear=e.delete=gh),Object.freeze(e),t&&ah(e,(function(e,t){return mh(t,!0)}),!0)),e}function gh(){rh(2)}function yh(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function vh(e){var t=$h[e];return t||rh(18,e),t}function _h(){return zh}function bh(e,t){t&&(vh("Patches"),e.u=[],e.s=[],e.v=t)}function xh(e){wh(e),e.p.forEach(Sh),e.p=null}function wh(e){e===zh&&(zh=e.l)}function Eh(e){return zh={p:[],l:zh,h:e,m:!0,_:0}}function Sh(e){var t=e[Vh];0===t.i||1===t.i?t.j():t.O=!0}function Ch(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||vh("ES5").S(t,e,r),r?(n[Vh].P&&(xh(t),rh(4)),oh(e)&&(e=Th(t,e),t.l||kh(t,e)),t.u&&vh("Patches").M(n[Vh].t,e,t.u,t.s)):e=Th(t,n,[]),xh(t),t.u&&t.v(t.u,t.s),e!==Uh?e:void 0}function Th(e,t,n){if(yh(t))return t;var r=t[Vh];if(!r)return ah(t,(function(i,o){return Ih(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return kh(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=fh(r.k):r.o;ah(3===r.i?new Set(i):i,(function(t,o){return Ih(e,r,i,t,o,n)})),kh(e,i,!1),n&&e.u&&vh("Patches").R(r,n,e.u,e.s)}return r.o}function Ih(e,t,n,r,i,o){if(ih(i)){var a=Th(e,i,o&&t&&3!==t.i&&!lh(t.D,r)?o.concat(r):void 0);if(uh(n,r,a),!ih(a))return;e.m=!1}if(oh(i)&&!yh(i)){if(!e.h.F&&e._<1)return;Th(e,i),t&&t.A.l||kh(e,i)}}function kh(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&mh(t,n)}function Ph(e,t){var n=e[Vh];return(n?dh(n):e)[t]}function Lh(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Mh(e){e.P||(e.P=!0,e.l&&Mh(e.l))}function Ah(e){e.o||(e.o=fh(e.t))}function Oh(e,t,n){var r=hh(t)?vh("MapSet").N(t,n):ph(t)?vh("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_h(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Xh;n&&(i=[r],o=Yh);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):vh("ES5").J(t,n);return(n?n.A:_h()).p.push(r),r}function Rh(e){return ih(e)||rh(22,e),function e(t){if(!oh(t))return t;var n,r=t[Vh],i=sh(t);if(r){if(!r.P&&(r.i<4||!vh("ES5").K(r)))return r.t;r.I=!0,n=Nh(t,i),r.I=!1}else n=Nh(t,i);return ah(n,(function(t,i){r&&function(e,t){return 2===sh(e)?e.get(t):e[t]}(r.t,t)===i||uh(n,t,e(i))})),3===i?new Set(n):n}(e)}function Nh(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return fh(e)}var Dh,zh,Fh="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Bh="undefined"!=typeof Map,jh="undefined"!=typeof Set,Zh="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Uh=Fh?Symbol.for("immer-nothing"):((Dh={})["immer-nothing"]=!0,Dh),qh=Fh?Symbol.for("immer-draftable"):"__$immer_draftable",Vh=Fh?Symbol.for("immer-state"):"__$immer_state",Gh=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Hh="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Wh=Object.getOwnPropertyDescriptors||function(e){var t={};return Hh(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},$h={},Xh={get:function(e,t){if(t===Vh)return e;var n=dh(e);if(!lh(n,t))return function(e,t,n){var r,i=Lh(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!oh(r)?r:r===Ph(e.t,t)?(Ah(e),e.o[t]=Oh(e.A.h,r,e)):r},has:function(e,t){return t in dh(e)},ownKeys:function(e){return Reflect.ownKeys(dh(e))},set:function(e,t,n){var r=Lh(dh(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Ph(dh(e),t),o=null==i?void 0:i[Vh];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(ch(n,i)&&(void 0!==n||lh(e.t,t)))return!0;Ah(e),Mh(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Ph(e.t,t)||t in e.t?(e.D[t]=!1,Ah(e),Mh(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=dh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){rh(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){rh(12)}},Yh={};ah(Xh,(function(e,t){Yh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Yh.deleteProperty=function(e,t){return Yh.set.call(this,e,t,void 0)},Yh.set=function(e,t,n){return Xh.set.call(this,e[0],t,n,e[0])};var Kh=function(){function e(e){var t=this;this.g=Zh,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&rh(6),void 0!==r&&"function"!=typeof r&&rh(7),oh(e)){var s=Eh(t),l=Oh(t,e,void 0),u=!0;try{a=n(l),u=!1}finally{u?xh(s):wh(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return bh(s,r),Ch(e,s)}),(function(e){throw xh(s),e})):(bh(s,r),Ch(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===Uh&&(a=void 0),t.F&&mh(a,!0),r){var c=[],h=[];vh("Patches").M(e,a,c,h),r(c,h)}return a}rh(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){oh(e)||rh(8),ih(e)&&(e=Rh(e));var t=Eh(this),n=Oh(this,e,void 0);return n[Vh].C=!0,wh(t),n},t.finishDraft=function(e,t){var n=(e&&e[Vh]).A;return bh(n,t),Ch(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Zh&&rh(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=vh("Patches").$;return ih(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),Jh=new Kh,Qh=Jh.produce;Jh.produceWithPatches.bind(Jh),Jh.setAutoFreeze.bind(Jh),Jh.setUseProxies.bind(Jh),Jh.applyPatches.bind(Jh),Jh.createDraft.bind(Jh),Jh.finishDraft.bind(Jh);const ep=Qh;function tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function np(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(n),!0).forEach((function(t){ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rp(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ip="function"==typeof Symbol&&Symbol.observable||"@@observable",op=function(){return Math.random().toString(36).substring(7).split("").join(".")},ap={INIT:"@@redux/INIT"+op(),REPLACE:"@@redux/REPLACE"+op(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+op()}};function sp(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function lp(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(rp(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(rp(1));return n(lp)(e,t)}if("function"!=typeof e)throw new Error(rp(2));var i=e,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function c(){if(l)throw new Error(rp(3));return o}function h(e){if("function"!=typeof e)throw new Error(rp(4));if(l)throw new Error(rp(5));var t=!0;return u(),s.push(e),function(){if(t){if(l)throw new Error(rp(6));t=!1,u();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!sp(e))throw new Error(rp(7));if(void 0===e.type)throw new Error(rp(8));if(l)throw new Error(rp(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++)(0,t[n])();return e}function d(e){if("function"!=typeof e)throw new Error(rp(10));i=e,p({type:ap.REPLACE})}function f(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(rp(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[ip]=function(){return this},e}return p({type:ap.INIT}),(r={dispatch:p,subscribe:h,getState:c,replaceReducer:d})[ip]=f,r}function up(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];"function"==typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:ap.INIT}))throw new Error(rp(12));if(void 0===n(void 0,{type:ap.PROBE_UNKNOWN_ACTION()}))throw new Error(rp(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],u=n[l],c=e[l],h=u(c,t);if(void 0===h)throw t&&t.type,new Error(rp(14));i[l]=h,r=r||h!==c}return(r=r||a.length!==Object.keys(e).length)?i:e}}function cp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function hp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(rp(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=cp.apply(void 0,o)(n.dispatch),np(np({},n),{},{dispatch:r})}}}function pp(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,r,e):t(i)}}}}var dp=pp();dp.withExtraArgument=pp;const fp=dp;var mp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gp=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},yp=Object.defineProperty,vp=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),_p=Object.prototype.hasOwnProperty,bp=Object.prototype.propertyIsEnumerable,xp=function(e,t,n){return t in e?yp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},wp=function(e,t){for(var n in t||(t={}))_p.call(t,n)&&xp(e,n,t[n]);if(vp)for(var r=0,i=vp(t);r<i.length;r++)n=i[r],bp.call(t,n)&&xp(e,n,t[n]);return e},Ep="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?cp:cp.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Sp=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return mp(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,gp([void 0],e[0].concat(this)))):new(t.bind.apply(t,gp([void 0],e.concat(this))))},t}(Array);function Cp(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return wp(wp({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Tp(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"==typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Ip(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:ep(e.initialState,(function(){})),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function u(){var t="function"==typeof e.extraReducers?Tp(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,l=t[2],u=void 0===l?void 0:l,c=wp(wp({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"==typeof t?Tp(t):[t,n,r],a=o[0],s=o[1],l=o[2];if(function(e){return"function"==typeof e}(e))i=function(){return ep(e(),(function(){}))};else{var u=ep(e,(function(){}));i=function(){return u}}function c(e,t){void 0===e&&(e=i());var n=gp([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(ih(e))return void 0===(r=n(e,t))?e:r;if(oh(e))return ep(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return c.getInitialState=i,c}(r,c,a,u)}return o.forEach((function(e){var n,r,o=i[e],u=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[u]=n,l[e]=r?Cp(u,r):Cp(u)})),{name:t,reducer:function(e,t){return n||(n=u()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=u()),n.getInitialState()}}}!function(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Vh];return Xh.get(t,e)},set:function(t){var n=this[Vh];Xh.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Vh];if(!i.P)switch(i.i){case 5:r(i)&&Mh(i);break;case 4:n(i)&&Mh(i)}}}function n(e){for(var t=e.t,n=e.k,r=Hh(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Vh){var a=t[o];if(void 0===a&&!lh(t,o))return!0;var s=n[o],l=s&&s[Vh];if(l?l.t!==a:!ch(s,a))return!0}}var u=!!t[Vh];return r.length!==Hh(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};!function(e,t){$h[e]||($h[e]=t)}("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Wh(n);delete o[Vh];for(var a=Hh(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:_h(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Vh,{value:o,writable:!0}),i},S:function(e,n,i){i?ih(n)&&n[Vh].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Vh];if(n){var i=n.t,o=n.k,a=n.D,s=n.i;if(4===s)ah(o,(function(t){t!==Vh&&(void 0!==i[t]||lh(i,t)?a[t]||e(o[t]):(a[t]=!0,Mh(n)))})),ah(i,(function(e){void 0!==o[e]||lh(o,e)||(a[e]=!1,Mh(n))}));else if(5===s){if(r(n)&&(Mh(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var u=i.length;u<o.length;u++)a[u]=!0;for(var c=Math.min(o.length,i.length),h=0;h<c;h++)o.hasOwnProperty(h)||(a[h]=!0),void 0===a[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}();var kp=th.regions,Pp=Ip({name:"mapProperties",initialState:{zoom:kp["Continental U.S"].mapProperties.zoom,center:kp["Continental U.S"].mapProperties.center,identifyCoordinates:null,identifyResults:null,identifyIsLoaded:!1,basemap:"Dark Gray",attributions:[],sketchArea:!1,uploadedShapeFile:null,zonalStatsAreas:{type:"FeatureCollection",features:[]},drawnLayers:{type:"FeatureCollection",features:[]}},reducers:{changeZoom:function(e,t){e.zoom=t.payload},changeCenter:function(e,t){e.center=t.payload},changeIdentifyCoordinates:function(e,t){e.identifyCoordinates=t.payload},changeIdentifyResults:function(e,t){e.identifyResults=t.payload},changeIdentifyIsLoaded:function(e,t){e.identifyIsLoaded=t.payload},changeBasemap:function(e,t){e.basemap=t.payload},updateAttributions:function(e,t){e.attributions=t.payload},toggleSketchArea:function(e){e.sketchArea=!e.sketchArea},addNewFeatureToZonalStatsAreas:function(e,t){e.zonalStatsAreas.features=[].concat(_i(e.zonalStatsAreas.features),[t.payload])},addNewFeatureToDrawnLayers:function(e,t){e.drawnLayers.features=[].concat(_i(e.drawnLayers.features),[t.payload])},removeFeatureFromZonalStatsAreas:function(e,t){e.zonalStatsAreas.features=[].concat(_i(e.zonalStatsAreas.features.slice(0,t.payload)),_i(e.zonalStatsAreas.features.slice(t.payload+1)))},removeAllFeaturesFromZonalStatsAreas:function(e){e.zonalStatsAreas.features=[]},removeFeatureFromDrawnLayers:function(e,t){e.drawnLayers.features=[].concat(_i(e.drawnLayers.features.slice(0,t.payload)),_i(e.drawnLayers.features.slice(t.payload+1)))},removeAllFeaturesFromDrawnLayers:function(e){e.drawnLayers.features=[]},uploadedShapeFileGeoJSON:function(e,t){e.uploadedShapeFileGeoJSON=t.payload}}}),Lp=Pp.actions,Mp=Lp.changeZoom,Ap=Lp.changeCenter,Op=Lp.changeIdentifyCoordinates,Rp=Lp.changeIdentifyResults,Np=Lp.changeIdentifyIsLoaded,Dp=Lp.changeBasemap,zp=Lp.updateAttributions,Fp=Lp.toggleSketchArea,Bp=(Lp.addNewFeatureToZonalStatsAreas,Lp.removeAllFeaturesFromZonalStatsAreas),jp=Lp.removeFeatureFromZonalStatsAreas,Zp=Lp.addNewFeatureToDrawnLayers,Up=Lp.removeFeatureFromDrawnLayers,qp=Lp.removeAllFeaturesFromDrawnLayers,Vp=Lp.uploadedShapeFileGeoJSON;const Gp=Pp.reducer;var Hp=function(e){return e.mapProperties.sketchArea},Wp=function(e){return e.selectedRegion.value},$p=function(e){return e.mapProperties.drawnLayers},Xp=function(e){return e.mapProperties.uploadedShapeFileGeoJSON},Yp=Lo((function(e){return{leafletTooltips:{backgroundColor:"transparent !important",border:"transparent !important",color:"#FFFFFF !important","box-shadow":"none !important",fontSize:"1.5em",fontWeight:700}}}));function Kp(e){var t=e.bufferCheckbox,r=e.leafletDrawFeatureGroupRef,i=e.setDrawAreaDisabled,o=e.setTooLargeLayerOpen,a=Yp(),s=ne(),l="kilometers",u={color:"#99c3ff","&:hover":{color:"#ffc107","stroke-width":5}},c=Xe((0,n.useState)(1),2),h=c[0],p=c[1],d=ae(Hp),f=ae(Wp),m=ae($p),g=ae(Xp),y=function(e){var t=nu(e.toGeoJSON(),1,{units:l});return Fa.geoJSON(t,{style:u})},v=function(e,n,r){var i=e.toGeoJSON();i.properties=i.properties||{};var o=Fa.stamp(e),a=Fa.stamp(n),s=[o,a];return i.properties.leafletId=o,i.properties.bufferLayerId=a,i.properties.leafletIds=s,i.properties.areaName=r,i.properties.buffer=t,i.properties.region=f,i};return(0,n.useEffect)((function(){var e,t=JSON.parse(JSON.stringify(m.features));s(qp()),s(Bp()),t.forEach((function(t){var n=t,i=n.properties.areaName;e=parseInt(i.split(" ")[1],10);var o=Fa.geoJSON(t),c=Fa.stamp(o);n.properties.leafletId=c;var d=[c];if(r.current.addLayer(o),o.bindTooltip(i,{direction:"center",permanent:!0,className:a.leafletTooltips}),t.properties.buffer){o=nu(o.toGeoJSON(),1,{units:l}),o=Fa.geoJSON(o,{style:u});var f=Fa.stamp(o);n.properties.bufferLayerId=f,d.push(f),r.current.addLayer(o)}n.properties.leafletIds=d,s(Zp(n)),p(h+e)}))}),[]),(0,n.useEffect)((function(){if(g){var e=h;JSON.parse(JSON.stringify(g.features)).forEach((function(n,o){var l,u=n,c=Fa.geoJSON(u);r.current.addLayer(c),t&&(l=y(c),r.current.addLayer(l));var h="Area ".concat(e),d=v(c,l,h);p(e+=1),c.bindTooltip(h,{direction:"center",permanent:!0,className:a.leafletTooltips});var m=Fa.featureGroup();m.addLayer(c);var g=m.toGeoJSON();nh(g,f).then((function(e){e.features.forEach((function(e){d.properties.zonalStatsData=e.properties.mean,s(Zp(d)),i(!1)}))}))})),s(Vp(null))}}),[g,s]),d?d?n.createElement(vs,{position:"topleft",onCreated:function(e){if(s(Fp()),su(Es(e.layer.toGeoJSON().geometry.coordinates))>1e8)return o(!0),void r.current.removeLayer(e.layer);var n;i(!0),t&&(n=y(e.layer),r.current.addLayer(n));var l="Area ".concat(h),u=v(e.layer,n,l);p(h+1),e.layer.bindTooltip(l,{direction:"center",permanent:!0,className:a.leafletTooltips});var c=n||e.layer,d=Fa.featureGroup();d.addLayer(c);var m=d.toGeoJSON();nh(m,f).then((function(e){e.features.forEach((function(e){u.properties.zonalStatsData=e.properties.mean,s(Zp(u)),i(!1)}))}))},onDeleted:function(e){console.log(e),console.log("deleted!")},draw:{polyline:!1,polygon:!0,rectangle:!1,circle:!1,marker:!1,circlemarker:!1},edit:{edit:!1,remove:!0}}):void 0:null}Kp.propTypes={bufferCheckbox:Oo().bool,leafletDrawFeatureGroupRef:Oo().object,setDrawAreaDisabled:Oo().func,setTooLargeLayerOpen:Oo().func};const Jp=function(e,t){const n=(r=Ra((function({url:e,...t},n){return Oa(new Fa.TileLayer(e,Ga(t,n)),n)}),(function(e,t,n){const{opacity:r,zIndex:i}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)})),function(e){const t=Aa(),n=r(Ga(e,t),t);return qa(t.map,e.attribution),Va(n.current,e.eventHandlers),Ha(n.current,t),n});var r;return za(n)}();var Qp=function(e){return e.mapLayerList.activeLayerList},ed=function(e){return e.mapProperties.attributions};function td(){var e=ne(),t=(0,n.useCallback)((function(t,n){t.join(", ")!==n.join(", ")&&e(zp(n))}),[e]),r=ae(ed),i=ae(Qp),o=new Set,a=Object.values(i).map((function(e){return o.add(e.attribution),n.createElement(Jp,{key:e.id,url:e.url,opacity:e.opacity,pane:"overlayPane",maxNativeZoom:e.maxNativeZoom})})),s=_i(r).sort(),l=Array.from(o).sort();return(0,n.useEffect)((function(){t(s,l)}),[t,l,s]),a}var nd=a(23733);const rd=(id=function(e){return new Fa.Control.Attribution(e)},za(Na(Ra((function(e,t){return Oa(id(e),t)})))));var id,od=th.basemaps,ad=function(e){return e.mapProperties.basemap},sd=function(e){return e.mapProperties.attributions};function ld(e){var t=e.map,r=ae(ad),i=ae(sd),o=(0,n.useRef)(""),a=(0,n.useRef)(null),s=(0,n.useCallback)((function(e){if(null!==a.current&&a.current.remove(t),t){var n=(0,nd.vectorBasemapLayer)(od[e],{apikey:"AAPKa0a45bdbd847441badbdcf07a97939bd0Y1Vpjt3MU7qyu7R9QThGqpucpKmbVXGEdmQo1hqhdjLDKA2zrwty2aeDjT-7-By",pane:"mapPane",attribution:"NFWF 2020, NFWF 2022"});n.addTo(t),a.current=n}}),[t]),l=(0,n.useCallback)((function(){o.current=i.length>0?Array.from(i).join(", "):""}),[s,i,r]);return(0,n.useEffect)((function(){l()}),[l]),(0,n.useEffect)((function(){s(r)}),[r,s]),n.createElement(rd,null)}ld.propTypes={map:Oo().object};var ud=Ip({name:"selectedRegion",initialState:{userInitiated:!1,value:th.regions["Continental U.S"].label},reducers:{changeRegion:function(e,t){e.value=t.payload},regionUserInitiated:function(e,t){e.userInitiated=t.payload}}}),cd=ud.actions,hd=cd.changeRegion,pd=cd.regionUserInitiated;const dd=ud.reducer;function fd(){return fd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fd.apply(this,arguments)}function md({bounds:e,boundsOptions:t,center:r,children:i,className:o,id:a,placeholder:s,style:l,whenReady:u,zoom:c,...h},p){const[d]=(0,n.useState)({className:o,id:a,style:l}),[f,m]=(0,n.useState)(null);(0,n.useImperativeHandle)(p,(()=>f?.map??null),[f]);const g=(0,n.useCallback)((n=>{if(null!==n&&null===f){const i=new Fa.Map(n,h);null!=r&&null!=c?i.setView(r,c):null!=e&&i.fitBounds(e,t),null!=u&&i.whenReady(u),m(function(e){return Object.freeze({__version:1,map:e})}(i))}}),[]);(0,n.useEffect)((()=>()=>{f?.map.remove()}),[f]);const y=f?n.createElement(Ma,{value:f},i):s??null;return n.createElement("div",fd({},d,{ref:g}),y)}const gd=(0,n.forwardRef)(md);var yd=Lo((function(e){return{leafletMapContainer:{height:"calc(100% - 64px)",width:"calc(100% - 1px)"}}})),vd=th.regions;function _d(e){var t=e.children,r=e.center,i=e.zoom,o=e.innerRef,a=yd(),s=vd["Continental U.S"].mapProperties.extent;return n.createElement(gd,{className:a.leafletMapContainer,center:r,zoom:i,doubleClickZoom:!0,scrollWheelZoom:!0,bounds:s,closePopupOnClick:!1,ref:o,attributionControl:!1},n.createElement("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"}),n.createElement("link",{rel:"stylesheet",href:"https://unpkg.com/leaflet-draw@latest/dist/leaflet.draw-src.css"}),t)}_d.propTypes={children:Oo().node,center:Oo().array.isRequired,zoom:Oo().number.isRequired,innerRef:Oo().func};const bd=function(e,t){const r=function(e,t){return function(n,r){const i=Aa(),o=e(Ga(n,i),i);return qa(i.map,n.attribution),Va(o.current,n.eventHandlers),t(o.current,i,n,r),o}}(Ra((function(e,t){return Oa(new Fa.Popup(e,t.overlayContainer),t)})),(function(e,t,{position:r},i){(0,n.useEffect)((function(){const{instance:n}=e;function o(e){e.popup===n&&(n.update(),i(!0))}function a(e){e.popup===n&&i(!1)}return t.map.on({popupopen:o,popupclose:a}),null==t.overlayContainer?(null!=r&&n.setLatLng(r),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){t.map.off({popupopen:o,popupclose:a}),t.overlayContainer?.unbindPopup(),t.map.removeLayer(n)}}),[e,t,i,r])}));return function(e){function t(t,r){const[i,o]=(0,n.useState)(!1),{instance:a}=e(t,o).current;(0,n.useImperativeHandle)(r,(()=>a)),(0,n.useEffect)((function(){i&&a.update()}),[a,i,t.children]);const s=a._contentNode;return s?(0,se.createPortal)(t.children,s):null}return(0,n.forwardRef)(t)}(r)}(),xd=Wa((function({center:e,children:t,...n},r){const i=new Fa.CircleMarker(e,n);return Oa(i,Pa(r,{overlayContainer:i}))}),(function(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}));function wd(e){return(0,et.Z)("MuiIconButton",e)}const Ed=(0,tt.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Sd=["edge","children","className","color","disabled","disableFocusRipple","size"],Cd=(0,Je.ZP)(Ut,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${(0,qt.Z)(n.color)}`],n.edge&&t[`edge${(0,qt.Z)(n.edge)}`],t[`size${(0,qt.Z)(n.size)}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:e.palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!t.disableRipple&&{"&:hover":{backgroundColor:(0,qo.Fq)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})),(({theme:e,ownerState:t})=>(0,i.Z)({},"inherit"===t.color&&{color:"inherit"},"inherit"!==t.color&&"default"!==t.color&&(0,i.Z)({color:e.palette[t.color].main},!t.disableRipple&&{"&:hover":{backgroundColor:(0,qo.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===t.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===t.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{[`&.${Ed.disabled}`]:{backgroundColor:"transparent",color:e.palette.action.disabled}}))),Td=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:a,color:s="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=n,h=(0,le.Z)(n,Sd),p=(0,i.Z)({},n,{edge:r,color:s,disabled:l,disableFocusRipple:u,size:c}),d=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:o}=e,a={root:["root",n&&"disabled","default"!==r&&`color${(0,qt.Z)(r)}`,i&&`edge${(0,qt.Z)(i)}`,`size${(0,qt.Z)(o)}`]};return(0,Ke.Z)(a,wd,t)})(p);return(0,ye.jsx)(Cd,(0,i.Z)({className:(0,ue.Z)(d.root,a),centerRipple:!0,focusRipple:!u,disabled:l,ref:t,ownerState:p},h,{children:o}))})),Id=Td;var kd=a(44510),Pd=function(){var e=(0,Jc.Z)(eh().mark((function e(t,n,r){var i,o,a;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.lat,o=n.lng,a="".concat("https://api.resilientcoasts.org/beta/identify/","?lat=").concat(i,"&lng=").concat(o,"&region=").concat(th.regions[r].regionName),t(Np(!1)),e.next=7,fetch(a).then((function(e){return e.json()})).then((function(e){t(Np(!0)),t(Rp(e))}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ld=Lo((function(e){return{indentifyPopup:{bottom:"-22px !important",left:"-308px !important","& .leaflet-popup-content-wrapper":{padding:"".concat(e.spacing(1)," !important"),borderRadius:"".concat(e.spacing(.5)," !important"),backgroundColor:"".concat(e.palette.CRESTGridBackground.dark," !important"),color:"".concat(e.palette.CRESTGridBackground.contrastText," !important"),border:"1px solid ".concat(e.palette.CRESTBorderColor.main," !important"),width:"310px !important",height:"215px !important",overflow:"clip !important"},"& .leaflet-popup-content":{margin:"0px !important"},"& .leaflet-popup-tip":{width:"0px !important",height:"0px !important"},"& a.leaflet-popup-close-button":{paddingTop:"2px !important",paddingLeft:"3px !important",borderRadius:"20px !important",width:"20px !important",height:"20px !important",top:"15px !important",right:"10px !important",backgroundColor:"".concat(e.palette.CRESTLight.main," !important"),color:"".concat(e.palette.CRESTLight.contrastText," !important")}},titleBoxTypography:{cursor:"default",display:"flex",width:"100%",fontWeight:"bold"},titleBox:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",height:"54px",paddingBottom:e.spacing(.5)},rightActionButton:{height:e.spacing(4.5),padding:e.spacing(.375),justifyContent:"end"},valueName:{display:"flex",justifyContent:"center",alignItems:"center"},value:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:"bold",fontSize:"2rem"}}}));function Md(e){var t=e.selectedRegion,r=e.map,i=Ld(),o=ne(),a=ae((function(e){return e.mapProperties.identifyResults})),s=ae((function(e){return e.mapProperties.identifyIsLoaded})),l=ae((function(e){return e.mapProperties.identifyCoordinates}));(0,n.useEffect)((function(){l&&Pd(o,l,t)}),[o,l,t]);var u=function(){r.closePopup(),o(Np(!1)),o(Rp(null)),o(Op(null))};return l?s?n.createElement("div",null,n.createElement(bd,{position:l,autoPan:!1,closeButton:!1,className:i.indentifyPopup},n.createElement(we,{px:1,py:.75,className:i.titleBox},n.createElement(Uo,{px:1,variant:"h6",component:"div",className:i.titleBoxTypography},"Map Information"),n.createElement(Id,{variant:"contained",color:"CRESTPrimary",className:i.rightActionButton,"aria-label":"Close",onClick:u},n.createElement(kd.Z,null))),n.createElement($o,null),n.createElement(ct,{container:!0,spaceing:2,pt:2,alignItems:"center",justifyContent:"center"},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h6",component:"div",align:"center",gutterBottom:!0},"Need Graph here")),n.createElement(ct,{item:!0,xs:2.4},n.createElement(we,{className:i.valueName},"Hubs"),n.createElement(we,{className:i.value},"255"===a.hubs?"-":a.hubs)),n.createElement(ct,{item:!0,xs:2.4},n.createElement(we,{className:i.valueName},"Exposure"),n.createElement(we,{className:i.value},"255"===a.exposure?"-":a.exposure)),n.createElement(ct,{item:!0,xs:2.4},n.createElement(we,{className:i.valueName},"Asset"),n.createElement(we,{className:i.value},"255"===a.asset?"-":a.asset)),n.createElement(ct,{item:!0,xs:2.4},n.createElement(we,{className:i.valueName},"Threat"),n.createElement(we,{className:i.value},"255"===a.threat?"-":a.threat)),n.createElement(ct,{item:!0,xs:2.4},n.createElement(we,{className:i.valueName},"Wildlife"),n.createElement(we,{className:i.value},"255"===a.wildlife?"-":a.wildlife)))),n.createElement(xd,{center:{lat:l.lat,lng:l.lng},fillColor:"#444444",color:"#555555",fillOpacity:"0.9",radius:5})):n.createElement("div",null,n.createElement(bd,{position:l,autoPan:!1,className:i.indentifyPopup,closeButton:!1},n.createElement(we,{px:1,py:.75,className:i.titleBox},n.createElement(Uo,{px:1,variant:"h6",component:"div",className:i.titleBoxTypography},"Map Information"),n.createElement(Id,{variant:"contained",color:"CRESTPrimary",className:i.rightActionButton,"aria-label":"Close",onClick:u},n.createElement(kd.Z,null))),n.createElement($o,null),n.createElement(ct,{container:!0,spaceing:2,justifyContent:"start",alignItems:"start",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h6",component:"div",align:"center",gutterBottom:!0},"Loading...")))),n.createElement(xd,{center:{lat:l.lat,lng:l.lng},fillColor:"#444444",color:"#555555",fillOpacity:"0.9",radius:5})):null}Md.propTypes={selectedRegion:Oo().string,map:Oo().object};const Ad=(0,an.Z)((0,ye.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4H9V9h4V5h2v4h4v2z"}),"LibraryAdd"),Od=(0,an.Z)([(0,ye.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,ye.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},"1")],"CameraAlt"),Rd=(0,an.Z)((0,ye.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27-7.38 5.74zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16z"}),"Layers"),Nd=(0,an.Z)((0,ye.jsx)("path",{d:"m11.99 18.54-7.37-5.73L3 14.07l9 7 9-7-1.63-1.27zM12 16l7.36-5.73L21 9l-9-7-9 7 1.63 1.27L12 16zm0-11.47L17.74 9 12 13.47 6.26 9 12 4.53z"}),"LayersOutlined");var Dd=Lo((function(e){return{actionButton:{borderRadius:0,maxHeight:e.spacing(8),textTransform:"none",flexWrap:"wrap","&:hover":{backgroundColor:"#6f6f6f"}},buttonHolder:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}}}));function zd(e){var t=Dd(),r=e.children,i=e.buttonLabel,o=e.buttonName,a=e.onClick;return n.createElement(we,{className:t.buttonHolder},n.createElement(ss,{variant:"text",color:"CRESTPrimary",fullWidth:!0,"aria-label":o,className:t.actionButton,onClick:a},n.createElement(we,{component:"div",className:t.button,pt:.5},r),n.createElement(we,{component:"div",sclassName:t.button,pb:.5},i)))}zd.propTypes={children:Oo().node.isRequired,buttonLabel:Oo().string.isRequired,buttonName:Oo().string.isRequired,onClick:Oo().func.isRequired};var Fd=Ip({name:"mapLayerList",initialState:{visible:!0,activeLayerList:{},expandedCharts:[],displayedLegends:{}},reducers:{toggleVisible:function(e){e.visible=!e.visible},toggleLayer:function(e,t){var n=t.payload,r=n.id;r in e.activeLayerList?delete e.activeLayerList[r]:e.activeLayerList[r]=n},toggleCollapsed:function(e,t){if(e.expandedCharts.includes(t.payload)){var n=e.expandedCharts.indexOf(t.payload);e.expandedCharts.splice(n,1)}else e.expandedCharts.push(t.payload)},toggleLegend:function(e,t){var n=t.payload,r=n.id;r in e.displayedLegends?delete e.displayedLegends[r]:e.displayedLegends[r]=n},replaceActiveLayerList:function(e,t){var n=t.payload;e.activeLayerList=n}}}),Bd=Fd.actions,jd=Bd.toggleVisible,Zd=Bd.toggleLayer,Ud=Bd.toggleCollapsed,qd=Bd.toggleLegend,Vd=Bd.replaceActiveLayerList;const Gd=Fd.reducer;var Hd=function(e){return e.mapLayerList.visible},Wd=Lo((function(e){return{contentGrid:{height:e.spacing(8),padding:e.spacing(0),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"}}}));function $d(){var e=Wd(),t=ne(),r=ae(Hd),i=function(e){e.stopPropagation(),console.log("clicked")};return n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",className:e.contentGrid},n.createElement(ct,{item:!0,xs:4},n.createElement(zd,{buttonLabel:"Add Area",buttonName:"Add Area",onClick:i},n.createElement(Ad,null))),n.createElement(ct,{item:!0,xs:4},n.createElement(zd,{buttonLabel:"Export",buttonName:"Export",onClick:i},n.createElement(Od,null))),n.createElement(ct,{item:!0,xs:4},n.createElement(zd,{buttonLabel:"Map Layers",buttonName:"Map Layers",onClick:function(){t(jd())}},r?n.createElement(Rd,null):n.createElement(Nd,null))))}const Xd={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Yd;const Kd=new Uint8Array(16);function Jd(){if(!Yd&&(Yd="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Yd))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Yd(Kd)}const Qd=[];for(let e=0;e<256;++e)Qd.push((e+256).toString(16).slice(1));const ef=function(e,t,n){if(Xd.randomUUID&&!t&&!e)return Xd.randomUUID();const r=(e=e||{}).random||(e.rng||Jd)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(Qd[e[t+0]]+Qd[e[t+1]]+Qd[e[t+2]]+Qd[e[t+3]]+"-"+Qd[e[t+4]]+Qd[e[t+5]]+"-"+Qd[e[t+6]]+Qd[e[t+7]]+"-"+Qd[e[t+8]]+Qd[e[t+9]]+"-"+Qd[e[t+10]]+Qd[e[t+11]]+Qd[e[t+12]]+Qd[e[t+13]]+Qd[e[t+14]]+Qd[e[t+15]]).toLowerCase()}(r)};var tf=Ip({name:"navbar",initialState:{activeTab:"Home",menuOpen:!1},reducers:{changeActiveTab:function(e,t){var n=""===t.payload?"Home":t.payload;e.activeTab=n},changeMenuOpen:function(e,t){e.menuOpen=!e.menuOpen}}}),nf=tf.actions,rf=nf.changeActiveTab,of=nf.changeMenuOpen;const af=tf.reducer;var sf=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(e){return}},lf="https://api.resilientcoasts.org/beta/share-link";function uf(){return(uf=(0,Jc.Z)(eh().mark((function e(t,n){var r,i;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=6;break}return n(!0),e.abrupt("return",null);case 6:return e.next=8,r.json();case 8:return i=e.sent,e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cf(e,t,n){var r=ne();if(36!==e.length)return n(!0),null;(function(e,t){return uf.apply(this,arguments)})(lf.concat("?shareUrl=").concat(e),n).then((function(e){e||n(!0),e&&function(e,t){e.mapProperties&&(t(Mp(e.mapProperties.zoom)),t(Ap(e.mapProperties.center)),t(Op(e.mapProperties.identifyCoordinates)),t(Rp(e.mapProperties.identifyResults)),t(Np(e.mapProperties.identifyIsLoaded)),t(pd(e.selectedRegion.userInitiated)),t(hd(e.selectedRegion.value)),t(rf(e.navBar.activeTab)),t(of(e.navBar.menuOpen)),t(Vd(e.mapLayerList.activeLayerList)))}(e,r),t(!0)}))}function hf(e){return(0,et.Z)("MuiAlert",e)}const pf=(0,tt.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),df=(0,an.Z)((0,ye.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ff=(0,an.Z)((0,ye.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),mf=(0,an.Z)((0,ye.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),gf=(0,an.Z)((0,ye.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),yf=(0,an.Z)((0,ye.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");var vf;const _f=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],bf=(0,Je.ZP)(xa,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${(0,qt.Z)(n.color||n.severity)}`]]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?qo._j:qo.$n,r="light"===e.palette.mode?qo.$n:qo._j,o=t.color||t.severity;return(0,i.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===t.variant&&{color:n(e.palette[o].light,.6),backgroundColor:r(e.palette[o].light,.9),[`& .${pf.icon}`]:{color:"dark"===e.palette.mode?e.palette[o].main:e.palette[o].light}},o&&"outlined"===t.variant&&{color:n(e.palette[o].light,.6),border:`1px solid ${e.palette[o].light}`,[`& .${pf.icon}`]:{color:"dark"===e.palette.mode?e.palette[o].main:e.palette[o].light}},o&&"filled"===t.variant&&{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:"dark"===e.palette.mode?e.palette[o].dark:e.palette[o].main})})),xf=(0,Je.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),wf=(0,Je.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Ef=(0,Je.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),Sf={success:(0,ye.jsx)(df,{fontSize:"inherit"}),warning:(0,ye.jsx)(ff,{fontSize:"inherit"}),error:(0,ye.jsx)(mf,{fontSize:"inherit"}),info:(0,ye.jsx)(gf,{fontSize:"inherit"})},Cf=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiAlert"}),{action:r,children:o,className:a,closeText:s="Close",color:l,icon:u,iconMapping:c=Sf,onClose:h,role:p="alert",severity:d="success",variant:f="standard"}=n,m=(0,le.Z)(n,_f),g=(0,i.Z)({},n,{color:l,severity:d,variant:f}),y=(e=>{const{variant:t,color:n,severity:r,classes:i}=e,o={root:["root",`${t}${(0,qt.Z)(n||r)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,Ke.Z)(o,hf,i)})(g);return(0,ye.jsxs)(bf,(0,i.Z)({role:p,elevation:0,ownerState:g,className:(0,ue.Z)(y.root,a),ref:t},m,{children:[!1!==u?(0,ye.jsx)(xf,{ownerState:g,className:y.icon,children:u||c[d]||Sf[d]}):null,(0,ye.jsx)(wf,{ownerState:g,className:y.message,children:o}),null!=r?(0,ye.jsx)(Ef,{className:y.action,children:r}):null,null==r&&h?(0,ye.jsx)(Ef,{ownerState:g,className:y.action,children:(0,ye.jsx)(Id,{size:"small","aria-label":s,title:s,color:"inherit",onClick:h,children:vf||(vf=(0,ye.jsx)(yf,{fontSize:"small"}))})}):null]}))})),Tf=Cf;var If=a(57579);const kf=function(e){return"string"==typeof e};var Pf=a(30067),Lf=a(57094),Mf=a(73633),Af=a(49064),Of=a(16600),Rf=a(7960);const Nf=n.forwardRef((function(e,t){const{children:r,container:i,disablePortal:o=!1}=e,[a,s]=n.useState(null),l=(0,Pf.Z)(n.isValidElement(r)?r.ref:null,t);return(0,Of.Z)((()=>{o||s(function(e){return"function"==typeof e?e():e}(i)||document.body)}),[i,o]),(0,Of.Z)((()=>{if(a&&!o)return(0,Rf.Z)(t,a),()=>{(0,Rf.Z)(t,null)}}),[t,a,o]),o?n.isValidElement(r)?n.cloneElement(r,{ref:l}):r:a?se.createPortal(r,a):a})),Df=Nf;var zf=a(58290);function Ff(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function Bf(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function jf(e){return parseInt((0,zf.Z)(e).getComputedStyle(e).paddingRight,10)||0}function Zf(e,t,n,r=[],i){const o=[t,n,...r],a=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(e.children,(e=>{-1===o.indexOf(e)&&-1===a.indexOf(e.tagName)&&Bf(e,i)}))}function Uf(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}const qf=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Vf(e){const t=[],n=[];return Array.from(e.querySelectorAll(qf)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Gf(){return!0}const Hf=function(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:i=!1,disableRestoreFocus:o=!1,getTabbable:a=Vf,isEnabled:s=Gf,open:l}=e,u=n.useRef(),c=n.useRef(null),h=n.useRef(null),p=n.useRef(null),d=n.useRef(null),f=n.useRef(!1),m=n.useRef(null),g=(0,Pf.Z)(t.ref,m),y=n.useRef(null);n.useEffect((()=>{l&&m.current&&(f.current=!r)}),[r,l]),n.useEffect((()=>{if(!l||!m.current)return;const e=(0,Lf.Z)(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex",-1),f.current&&m.current.focus()),()=>{o||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}}),[l]),n.useEffect((()=>{if(!l||!m.current)return;const e=(0,Lf.Z)(m.current),t=t=>{const{current:n}=m;if(null!==n)if(e.hasFocus()&&!i&&s()&&!u.current){if(!n.contains(e.activeElement)){if(t&&d.current!==t.target||e.activeElement!==d.current)d.current=null;else if(null!==d.current)return;if(!f.current)return;let i=[];if(e.activeElement!==c.current&&e.activeElement!==h.current||(i=a(m.current)),i.length>0){var r,o;const e=Boolean((null==(r=y.current)?void 0:r.shiftKey)&&"Tab"===(null==(o=y.current)?void 0:o.key)),t=i[0],n=i[i.length-1];e?n.focus():t.focus()}else n.focus()}}else u.current=!1},n=t=>{y.current=t,!i&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(u.current=!0,h.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);const r=setInterval((()=>{"BODY"===e.activeElement.tagName&&t()}),50);return()=>{clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}),[r,i,o,s,l,a]);const v=e=>{null===p.current&&(p.current=e.relatedTarget),f.current=!0};return(0,ye.jsxs)(n.Fragment,{children:[(0,ye.jsx)("div",{tabIndex:0,onFocus:v,ref:c,"data-test":"sentinelStart"}),n.cloneElement(t,{ref:g,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),f.current=!0,d.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,ye.jsx)("div",{tabIndex:0,onFocus:v,ref:h,"data-test":"sentinelEnd"})]})};function Wf(e){return(0,et.Z)("MuiModal",e)}(0,tt.Z)("MuiModal",["root","hidden"]);const $f=["BackdropComponent","BackdropProps","children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","theme","onTransitionEnter","onTransitionExited"],Xf=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Bf(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Zf(t,e.mount,e.modalRef,r,!0);const i=Uf(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Uf(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];r.restore||(r.restore=function(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=(0,Lf.Z)(e);return t.body===e?(0,zf.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Ff((0,Lf.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${jf(r)+e}px`;const t=(0,Lf.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${jf(t)+e}px`}))}const e=r.parentElement,t=(0,zf.Z)(r),i="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===t.getComputedStyle(e).overflowY?e:r;n.push({value:i.style.overflow,property:"overflow",el:i},{value:i.style.overflowX,property:"overflow-x",el:i},{value:i.style.overflowY,property:"overflow-y",el:i}),i.style.overflow="hidden"}return()=>{n.forEach((({value:e,el:t,property:n})=>{e?t.style.setProperty(n,e):t.style.removeProperty(n)}))}}(r,t))}remove(e){const t=this.modals.indexOf(e);if(-1===t)return t;const n=Uf(this.containers,(t=>-1!==t.modals.indexOf(e))),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Bf(e.modalRef,!0),Zf(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(n,1);else{const e=r.modals[r.modals.length-1];e.modalRef&&Bf(e.modalRef,!1)}return t}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}},Yf=n.forwardRef((function(e,t){const{BackdropComponent:r,BackdropProps:o,children:a,classes:s,className:l,closeAfterTransition:u=!1,component:c="div",components:h={},componentsProps:p={},container:d,disableAutoFocus:f=!1,disableEnforceFocus:m=!1,disableEscapeKeyDown:g=!1,disablePortal:y=!1,disableRestoreFocus:v=!1,disableScrollLock:_=!1,hideBackdrop:b=!1,keepMounted:x=!1,manager:w=Xf,onBackdropClick:E,onClose:S,onKeyDown:C,open:T,theme:I,onTransitionEnter:k,onTransitionExited:P}=e,L=(0,le.Z)(e,$f),[M,A]=n.useState(!0),O=n.useRef({}),R=n.useRef(null),N=n.useRef(null),D=(0,Pf.Z)(N,t),z=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),F=()=>(O.current.modalRef=N.current,O.current.mountNode=R.current,O.current),B=()=>{w.mount(F(),{disableScrollLock:_}),N.current.scrollTop=0},j=(0,Mf.Z)((()=>{const e=function(e){return"function"==typeof e?e():e}(d)||(0,Lf.Z)(R.current).body;w.add(F(),e),N.current&&B()})),Z=n.useCallback((()=>w.isTopModal(F())),[w]),U=(0,Mf.Z)((e=>{R.current=e,e&&(T&&Z()?B():Bf(N.current,!0))})),q=n.useCallback((()=>{w.remove(F())}),[w]);n.useEffect((()=>()=>{q()}),[q]),n.useEffect((()=>{T?j():z&&u||q()}),[T,q,z,u,j]);const V=(0,i.Z)({},e,{classes:s,closeAfterTransition:u,disableAutoFocus:f,disableEnforceFocus:m,disableEscapeKeyDown:g,disablePortal:y,disableRestoreFocus:v,disableScrollLock:_,exited:M,hideBackdrop:b,keepMounted:x}),G=(e=>{const{open:t,exited:n,classes:r}=e,i={root:["root",!t&&n&&"hidden"]};return(0,Ke.Z)(i,Wf,r)})(V);if(!x&&!T&&(!z||M))return null;const H={};void 0===a.props.tabIndex&&(H.tabIndex="-1"),z&&(H.onEnter=(0,Af.Z)((()=>{A(!1),k&&k()}),a.props.onEnter),H.onExited=(0,Af.Z)((()=>{A(!0),P&&P(),u&&q()}),a.props.onExited));const W=h.Root||c,$=p.root||{};return(0,ye.jsx)(Df,{ref:U,container:d,disablePortal:y,children:(0,ye.jsxs)(W,(0,i.Z)({role:"presentation"},$,!kf(W)&&{as:c,ownerState:(0,i.Z)({},V,$.ownerState),theme:I},L,{ref:D,onKeyDown:e=>{C&&C(e),"Escape"===e.key&&Z()&&(g||(e.stopPropagation(),S&&S(e,"escapeKeyDown")))},className:(0,ue.Z)(G.root,$.className,l),children:[!b&&r?(0,ye.jsx)(r,(0,i.Z)({open:T,onClick:e=>{e.target===e.currentTarget&&(E&&E(e),S&&S(e,"backdropClick"))}},o)):null,(0,ye.jsx)(Hf,{disableEnforceFocus:m,disableAutoFocus:f,disableRestoreFocus:v,isEnabled:Z,open:T,children:n.cloneElement(a,H)})]}))})})),Kf=Yf;function Jf(e){return(0,et.Z)("MuiBackdrop",e)}(0,tt.Z)("MuiBackdrop",["root","invisible"]);const Qf=["classes","className","invisible","component","components","componentsProps","theme"],em=n.forwardRef((function(e,t){const{classes:n,className:r,invisible:o=!1,component:a="div",components:s={},componentsProps:l={},theme:u}=e,c=(0,le.Z)(e,Qf),h=(0,i.Z)({},e,{classes:n,invisible:o}),p=(e=>{const{classes:t,invisible:n}=e,r={root:["root",n&&"invisible"]};return(0,Ke.Z)(r,Jf,t)})(h),d=s.Root||a,f=l.root||{};return(0,ye.jsx)(d,(0,i.Z)({"aria-hidden":!0},f,!kf(d)&&{as:a,ownerState:(0,i.Z)({},h,f.ownerState),theme:u},{ref:t},c,{className:(0,ue.Z)(p.root,f.className,r)}))}));var tm="unmounted",nm="exited",rm="entering",im="entered",om="exiting",am=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=nm,r.appearStatus=rm):i=im:i=t.unmountOnExit||t.mountOnEnter?tm:nm,r.state={status:i},r.nextCallback=null,r}gt(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===tm?{status:nm}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==rm&&n!==im&&(t=rm):n!==rm&&n!==im||(t=om)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===rm?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===nm&&this.setState({status:tm})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[se.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;e||n?(this.props.onEnter(o,a),this.safeSetState({status:rm},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:im},(function(){t.props.onEntered(o,a)}))}))}))):this.safeSetState({status:im},(function(){t.props.onEntered(o)}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:se.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:om},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:nm},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:nm},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:se.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===tm)return null;var t=this.props,r=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,le.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return n.createElement(yt.Provider,{value:null},"function"==typeof r?r(e,i):n.cloneElement(n.Children.only(r),i))},t}(n.Component);function sm(){}am.contextType=yt,am.propTypes={},am.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sm,onEntering:sm,onEntered:sm,onExit:sm,onExiting:sm,onExited:sm},am.UNMOUNTED=tm,am.EXITED=nm,am.ENTERING=rm,am.ENTERED=im,am.EXITING=om;const lm=am;var um=a(96067);const cm=e=>e.scrollTop;function hm(e,t){var n,r;const{timeout:i,easing:o,style:a={}}=e;return{duration:null!=(n=a.transitionDuration)?n:"number"==typeof i?i:i[t.mode]||0,easing:null!=(r=a.transitionTimingFunction)?r:"object"==typeof o?o[t.mode]:o,delay:a.transitionDelay}}const pm=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],dm={entering:{opacity:1},entered:{opacity:1}},fm={enter:um.x9.enteringScreen,exit:um.x9.leavingScreen},mm=n.forwardRef((function(e,t){const{addEndListener:r,appear:o=!0,children:a,easing:s,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:p,onExited:d,onExiting:f,style:m,timeout:g=fm,TransitionComponent:y=lm}=e,v=(0,le.Z)(e,pm),_=Yt(),b=n.useRef(null),x=(0,ht.Z)(a.ref,t),w=(0,ht.Z)(b,x),E=e=>t=>{if(e){const n=b.current;void 0===t?e(n):e(n,t)}},S=E(h),C=E(((e,t)=>{cm(e);const n=hm({style:m,timeout:g,easing:s},{mode:"enter"});e.style.webkitTransition=_.transitions.create("opacity",n),e.style.transition=_.transitions.create("opacity",n),u&&u(e,t)})),T=E(c),I=E(f),k=E((e=>{const t=hm({style:m,timeout:g,easing:s},{mode:"exit"});e.style.webkitTransition=_.transitions.create("opacity",t),e.style.transition=_.transitions.create("opacity",t),p&&p(e)})),P=E(d);return(0,ye.jsx)(y,(0,i.Z)({appear:o,in:l,nodeRef:b,onEnter:C,onEntered:T,onEntering:S,onExit:k,onExited:P,onExiting:I,addEndListener:e=>{r&&r(b.current,e)},timeout:g},v,{children:(e,t)=>n.cloneElement(a,(0,i.Z)({style:(0,i.Z)({opacity:0,visibility:"exited"!==e||l?void 0:"hidden"},dm[e],m,a.props.style),ref:w},t))}))})),gm=mm,ym=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],vm=(0,Je.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((({ownerState:e})=>(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"}))),_m=n.forwardRef((function(e,t){var n;const r=(0,Ee.Z)({props:e,name:"MuiBackdrop"}),{children:o,components:a={},componentsProps:s={},className:l,invisible:u=!1,open:c,transitionDuration:h,TransitionComponent:p=gm}=r,d=(0,le.Z)(r,ym),f=(e=>{const{classes:t}=e;return t})((0,i.Z)({},r,{invisible:u}));return(0,ye.jsx)(p,(0,i.Z)({in:c,timeout:h},d,{children:(0,ye.jsx)(em,{className:l,invisible:u,components:(0,i.Z)({Root:vm},a),componentsProps:{root:(0,i.Z)({},s.root,(!a.Root||!kf(a.Root))&&{ownerState:(0,i.Z)({},null==(n=s.root)?void 0:n.ownerState)})},classes:f,ref:t,children:o})}))})),bm=["BackdropComponent","closeAfterTransition","children","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted"],xm=(0,Je.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((({theme:e,ownerState:t})=>(0,i.Z)({position:"fixed",zIndex:e.zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"}))),wm=(0,Je.ZP)(_m,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Em=n.forwardRef((function(e,t){var r;const o=(0,Ee.Z)({name:"MuiModal",props:e}),{BackdropComponent:a=wm,closeAfterTransition:s=!1,children:l,components:u={},componentsProps:c={},disableAutoFocus:h=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:d=!1,disablePortal:f=!1,disableRestoreFocus:m=!1,disableScrollLock:g=!1,hideBackdrop:y=!1,keepMounted:v=!1}=o,_=(0,le.Z)(o,bm),[b,x]=n.useState(!0),w={closeAfterTransition:s,disableAutoFocus:h,disableEnforceFocus:p,disableEscapeKeyDown:d,disablePortal:f,disableRestoreFocus:m,disableScrollLock:g,hideBackdrop:y,keepMounted:v},E=(0,i.Z)({},o,w,{exited:b}).classes;return(0,ye.jsx)(Kf,(0,i.Z)({components:(0,i.Z)({Root:xm},u),componentsProps:{root:(0,i.Z)({},c.root,(!u.Root||!kf(u.Root))&&{ownerState:(0,i.Z)({},null==(r=c.root)?void 0:r.ownerState)})},BackdropComponent:a,onTransitionEnter:()=>x(!1),onTransitionExited:()=>x(!0),ref:t},_,{classes:E},w,{children:l}))}));function Sm(e){return(0,et.Z)("MuiDialog",e)}const Cm=(0,tt.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Tm=(0,n.createContext)({}),Im=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],km=(0,Je.ZP)(_m,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Pm=(0,Je.ZP)(Em,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Lm=(0,Je.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${(0,qt.Z)(n.scroll)}`]]}})((({ownerState:e})=>(0,i.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===e.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===e.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}))),Mm=(0,Je.ZP)(xa,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${(0,qt.Z)(n.scroll)}`],t[`paperWidth${(0,qt.Z)(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((({theme:e,ownerState:t})=>(0,i.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&{maxWidth:"px"===e.breakpoints.unit?Math.max(e.breakpoints.values.xs,444):`${e.breakpoints.values.xs}${e.breakpoints.unit}`,[`&.${Cm.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},"xs"!==t.maxWidth&&{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`,[`&.${Cm.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[t.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Cm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}))),Am={enter:um.x9.enteringScreen,exit:um.x9.leavingScreen},Om=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiDialog"}),{"aria-describedby":o,"aria-labelledby":a,BackdropComponent:s,BackdropProps:l,children:u,className:c,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:d=!1,maxWidth:f="sm",onBackdropClick:m,onClose:g,open:y,PaperComponent:v=xa,PaperProps:_={},scroll:b="paper",TransitionComponent:x=gm,transitionDuration:w=Am,TransitionProps:E}=r,S=(0,le.Z)(r,Im),C=(0,i.Z)({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:d,maxWidth:f,scroll:b}),T=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=e,a={root:["root"],container:["container",`scroll${(0,qt.Z)(n)}`],paper:["paper",`paperScroll${(0,qt.Z)(n)}`,`paperWidth${(0,qt.Z)(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,Ke.Z)(a,Sm,t)})(C),I=n.useRef(),k=(0,If.Z)(a),P=n.useMemo((()=>({titleId:k})),[k]);return(0,ye.jsx)(Pm,(0,i.Z)({className:(0,ue.Z)(T.root,c),BackdropProps:(0,i.Z)({transitionDuration:w,as:s},l),closeAfterTransition:!0,BackdropComponent:km,disableEscapeKeyDown:h,onClose:g,open:y,ref:t,onClick:e=>{I.current&&(I.current=null,m&&m(e),g&&g(e,"backdropClick"))},ownerState:C},S,{children:(0,ye.jsx)(x,(0,i.Z)({appear:!0,in:y,timeout:w,role:"presentation"},E,{children:(0,ye.jsx)(Lm,{className:(0,ue.Z)(T.container),onMouseDown:e=>{I.current=e.target===e.currentTarget},ownerState:C,children:(0,ye.jsx)(Mm,(0,i.Z)({as:v,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":k},_,{className:(0,ue.Z)(T.paper,_.className),ownerState:C,children:(0,ye.jsx)(Tm.Provider,{value:P,children:u})}))})}))}))}));function Rm(e){return(0,et.Z)("MuiDialogTitle",e)}const Nm=(0,tt.Z)("MuiDialogTitle",["root"]),Dm=["className","id"],zm=(0,Je.ZP)(Uo,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Fm=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiDialogTitle"}),{className:o,id:a}=r,s=(0,le.Z)(r,Dm),l=r,u=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"]},Rm,t)})(l),{titleId:c=a}=n.useContext(Tm);return(0,ye.jsx)(zm,(0,i.Z)({component:"h2",className:(0,ue.Z)(u.root,o),ownerState:l,ref:t,variant:"h6",id:c},s))}));function Bm(e){return(0,et.Z)("MuiDialogActions",e)}(0,tt.Z)("MuiDialogActions",["root","spacing"]);const jm=["className","disableSpacing"],Zm=(0,Je.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((({ownerState:e})=>(0,i.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!e.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}}))),Um=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,a=(0,le.Z)(n,jm),s=(0,i.Z)({},n,{disableSpacing:o}),l=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,Ke.Z)(r,Bm,t)})(s);return(0,ye.jsx)(Zm,(0,i.Z)({className:(0,ue.Z)(l.root,r),ownerState:s,ref:t},a))}));function qm(e){return(0,et.Z)("MuiDialogContent",e)}(0,tt.Z)("MuiDialogContent",["root","dividers"]);const Vm=["className","dividers"],Gm=(0,Je.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((({theme:e,ownerState:t})=>(0,i.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:`1px solid ${e.palette.divider}`,borderBottom:`1px solid ${e.palette.divider}`}:{[`.${Nm.root} + &`]:{paddingTop:0}}))),Hm=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,a=(0,le.Z)(n,Vm),s=(0,i.Z)({},n,{dividers:o}),l=(e=>{const{classes:t,dividers:n}=e,r={root:["root",n&&"dividers"]};return(0,Ke.Z)(r,qm,t)})(s);return(0,ye.jsx)(Gm,(0,i.Z)({className:(0,ue.Z)(l.root,r),ownerState:s,ref:t},a))}));function Wm(e){var t=e.contentTitle,r=e.buttonMessage,i=e.errorType,o=e.onClose,a=e.open;return n.createElement(Om,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.createElement(Fm,null,t),n.createElement(Hm,null,n.createElement(Tf,{severity:i},e.contentMessage)),n.createElement(Um,null,n.createElement(ss,{onClick:o,variant:"contained",color:"CRESTPrimary",autoFocus:!0},r)))}Wm.propTypes={contentTitle:Oo().string,contentMessage:Oo().string,buttonMessage:Oo().string,errorType:Oo().string,onClose:Oo().func,open:Oo().bool};var $m=a(59622);function Xm(e){var t=e.contentTitle,r=e.buttonMessage,i=e.secondaryButtonMessage,o=e.onClose,a=e.onDoubleClick,s=e.secondaryClick,l=e.open;return n.createElement(Om,{open:l,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.createElement(Fm,null,t),n.createElement(Hm,null,n.createElement(xa,{onDoubleClick:a,variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:"CRESTDarkAlt.main",color:"CRESTDarkAlt.contrastText",borderColor:"CRESTBorderColor.main"}},e.contentMessage)),n.createElement(Um,null,n.createElement(ss,{variant:"contained",color:"CRESTDarkAlt","aria-label":"Copy",onClick:s,endIcon:n.createElement($m.Z,null)},i),n.createElement(ss,{variant:"contained",color:"CRESTPrimary",onClick:o,autoFocus:!0},r)))}Xm.propTypes={contentTitle:Oo().string,contentMessage:Oo().string,buttonMessage:Oo().string,secondaryButtonMessage:Oo().string,onClose:Oo().func,onDoubleClick:Oo().func,secondaryClick:Oo().func,open:Oo().bool};var Ym=th.regions,Km=function(e){return e.selectedRegion.value},Jm=function(e){return e.selectedRegion.userInitiated},Qm=function(e){return e.mapProperties.zoom},eg=function(e){return e.mapProperties.center},tg=function(e){return e.mapLayerList.visible},ng=Lo((function(e){return{leafletButton:{color:"#000000",minHeight:"30px",minWidth:"30px",width:"30px",height:"30px",backgroundColor:"#FFFFFF","&:hover":{backgroundColor:"#F4F4F4"}}}}));function rg(e){var t=e.map,r=e.setMap,i=e.bufferCheckbox,o=e.leafletDrawFeatureGroupRef,a=e.setDrawAreaDisabled,s=e.tooLargeLayerOpen,l=e.setTooLargeLayerOpen,u=Xe((0,n.useState)(!1),2),c=u[0],h=u[1],p=Xe((0,n.useState)(""),2),d=p[0],f=p[1],m=ng(),g=ne(),y=ae(eg,(function(){return!0})),v=ae(Qm,(function(){return!0})),_=ae(tg),b=ae(Km),x=ae(Jm),w=(0,n.useCallback)((function(e,n){return Ym[e]&&n?(t&&(t.setView(Ym[e].mapProperties.center,Ym[e].mapProperties.zoom),g(hd(Ym[e].label)),g(Mp(Ym[e].mapProperties.zoom)),g(Ap(Ym[e].mapProperties.center)),g(pd(!1))),null):null}),[t,g]);(0,n.useEffect)((function(){t&&setTimeout((function(){t.invalidateSize()}),10)}),[t,_]),(0,n.useEffect)((function(){w(b,x)}),[b,w,x]);var E=function(){return function(e){const t=Aa().map;(0,n.useEffect)((function(){return t.on(e),function(){t.off(e)}}),[t,e])}({moveend:function(){g(Mp(t.getZoom())),g(Ap([t.getCenter().lat,t.getCenter().lng]))},zoomend:function(){o.current.eachLayer((function(e){t.getZoom()<10?e.closeTooltip():e.openTooltip()}))}}),null};return n.createElement("div",{style:{height:"100%"}},n.createElement(_d,{center:y,zoom:v,innerRef:r},n.createElement(us,{prepend:"true",position:"topleft"},n.createElement(ss,{variant:"contained",onClick:function(){t.getContainer().style.cursor="crosshair",t.once("click",(function(e){var n=e.latlng;g(Op({lat:n.lat,lng:n.lng})),t.getContainer().style.cursor="grab"}))},className:m.leafletButton},n.createElement(Xa.Z,null))),n.createElement(us,{prepend:"true",position:"bottomleft"},n.createElement(ss,{variant:"contained",startIcon:n.createElement(Ya.Z,null),onClick:function(e){e.stopPropagation(),f(function(){var e=new XMLHttpRequest;e.open("POST",lf),e.setRequestHeader("Content-Type","application/json;charset=UTF-8");var t=ef(),n="beta/".concat(t).concat(".json"),r=window.location.href.concat("?").concat("shareUrl=").concat(t),i=JSON.stringify({location:n,state:sf()});return e.send(i),r}()),h(!0)},color:"CRESTPrimary",className:m.shareButton},"Share Map")),n.createElement(Za,{position:"topright"},n.createElement(Za.Overlay,{checked:!0,name:"leaflet-draw"},n.createElement($a,{ref:o},n.createElement(Kp,{map:t,leafletDrawFeatureGroupRef:o,bufferCheckbox:i,setDrawAreaDisabled:a,setTooLargeLayerOpen:l})))),n.createElement(Xm,{contentTitle:"Share map url",contentMessage:d,buttonMessage:"Dismiss",onClose:function(e){h(!1)},onDoubleClick:function(e){var t=document.createRange();t.selectNodeContents(e.target),window.getSelection().removeAllRanges(),window.getSelection().addRange(t)},secondaryClick:function(){navigator.clipboard.writeText(d)},secondaryButtonMessage:"Copy Map URL",open:c}),n.createElement(Wm,{contentTitle:"Sketch an Area Error ",contentMessage:"The sketched area is too large.",buttonMessage:"Dismiss",errorType:"error",onClose:function(){l(!1)},open:s}),n.createElement(td,null),n.createElement(ld,{map:t}),n.createElement(E,null),n.createElement(Md,{selectedRegion:b,map:t})),n.createElement($d,null))}rg.propTypes={bufferCheckbox:Oo().bool,map:Oo().object,setMap:Oo().func,leafletDrawFeatureGroupRef:Oo().object,setDrawAreaDisabled:Oo().func,tooLargeLayerOpen:Oo().bool,setTooLargeLayerOpen:Oo().func};const ig=(0,an.Z)((0,ye.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help"),og=(0,an.Z)((0,ye.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 12-4-4h8l-4 4z"}),"ArrowDropDownCircle");function ag(e){return(0,et.Z)("MuiFormGroup",e)}(0,tt.Z)("MuiFormGroup",["root","row"]);const sg=["className","row"],lg=(0,Je.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((({ownerState:e})=>(0,i.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"}))),ug=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiFormGroup"}),{className:r,row:o=!1}=n,a=(0,le.Z)(n,sg),s=(0,i.Z)({},n,{row:o}),l=(e=>{const{classes:t,row:n}=e,r={root:["root",n&&"row"]};return(0,Ke.Z)(r,ag,t)})(s);return(0,ye.jsx)(lg,(0,i.Z)({className:(0,ue.Z)(l.root,r),ownerState:s,ref:t},a))})),cg=n.createContext();function hg(){return n.useContext(cg)}function pg(e){return(0,et.Z)("MuiFormControlLabel",e)}const dg=(0,tt.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label"]),fg=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],mg=(0,Je.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${dg.label}`]:t.label},t.root,t[`labelPlacement${(0,qt.Z)(n.labelPlacement)}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${dg.disabled}`]:{cursor:"default"}},"start"===t.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===t.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===t.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${dg.label}`]:{[`&.${dg.disabled}`]:{color:e.palette.text.disabled}}}))),gg=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:s,disabled:l,disableTypography:u,label:c,labelPlacement:h="end"}=r,p=(0,le.Z)(r,fg),d=hg();let f=l;void 0===f&&void 0!==s.props.disabled&&(f=s.props.disabled),void 0===f&&d&&(f=d.disabled);const m={disabled:f};["checked","name","onChange","value","inputRef"].forEach((e=>{void 0===s.props[e]&&void 0!==r[e]&&(m[e]=r[e])}));const g=(0,i.Z)({},r,{disabled:f,label:c,labelPlacement:h}),y=(e=>{const{classes:t,disabled:n,labelPlacement:r}=e,i={root:["root",n&&"disabled",`labelPlacement${(0,qt.Z)(r)}`],label:["label",n&&"disabled"]};return(0,Ke.Z)(i,pg,t)})(g);return(0,ye.jsxs)(mg,(0,i.Z)({className:(0,ue.Z)(y.root,o),ownerState:g,ref:t},p,{children:[n.cloneElement(s,m),c.type===Uo||u?c:(0,ye.jsx)(Uo,(0,i.Z)({component:"span",className:y.label},a.typography,{children:c}))]}))})),yg=gg;var vg=a(72893);function _g(e){return(0,et.Z)("PrivateSwitchBase",e)}(0,tt.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const bg=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],xg=(0,Je.ZP)(Ut,{skipSx:!0})((({ownerState:e})=>(0,i.Z)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12}))),wg=(0,Je.ZP)("input",{skipSx:!0})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Eg=n.forwardRef((function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,className:a,defaultChecked:s,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:h,id:p,inputProps:d,inputRef:f,name:m,onBlur:g,onChange:y,onFocus:v,readOnly:_,required:b,tabIndex:x,type:w,value:E}=e,S=(0,le.Z)(e,bg),[C,T]=(0,vg.Z)({controlled:r,default:Boolean(s),name:"SwitchBase",state:"checked"}),I=hg();let k=l;I&&void 0===k&&(k=I.disabled);const P="checkbox"===w||"radio"===w,L=(0,i.Z)({},e,{checked:C,disabled:k,disableFocusRipple:u,edge:c}),M=(e=>{const{classes:t,checked:n,disabled:r,edge:i}=e,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${(0,qt.Z)(i)}`],input:["input"]};return(0,Ke.Z)(o,_g,t)})(L);return(0,ye.jsxs)(xg,(0,i.Z)({component:"span",className:(0,ue.Z)(M.root,a),centerRipple:!0,focusRipple:!u,disabled:k,tabIndex:null,role:void 0,onFocus:e=>{v&&v(e),I&&I.onFocus&&I.onFocus(e)},onBlur:e=>{g&&g(e),I&&I.onBlur&&I.onBlur(e)},ownerState:L,ref:t},S,{children:[(0,ye.jsx)(wg,(0,i.Z)({autoFocus:n,checked:r,defaultChecked:s,className:M.input,disabled:k,id:P&&p,name:m,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;T(t),y&&y(e,t)},readOnly:_,ref:f,required:b,ownerState:L,tabIndex:x,type:w},"checkbox"===w&&void 0===E?{}:{value:E},d)),C?o:h]}))})),Sg=Eg,Cg=(0,an.Z)((0,ye.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Tg=(0,an.Z)((0,ye.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Ig=(0,an.Z)((0,ye.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function kg(e){return(0,et.Z)("MuiCheckbox",e)}const Pg=(0,tt.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),Lg=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],Mg=(0,Je.ZP)(Sg,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t[`color${(0,qt.Z)(n.color)}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({color:e.palette.text.secondary},!t.disableRipple&&{"&:hover":{backgroundColor:(0,qo.Fq)("default"===t.color?e.palette.action.active:e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&{[`&.${Pg.checked}, &.${Pg.indeterminate}`]:{color:e.palette[t.color].main},[`&.${Pg.disabled}`]:{color:e.palette.action.disabled}}))),Ag=(0,ye.jsx)(Tg,{}),Og=(0,ye.jsx)(Cg,{}),Rg=(0,ye.jsx)(Ig,{}),Ng=n.forwardRef((function(e,t){var r,o;const a=(0,Ee.Z)({props:e,name:"MuiCheckbox"}),{checkedIcon:s=Ag,color:l="primary",icon:u=Og,indeterminate:c=!1,indeterminateIcon:h=Rg,inputProps:p,size:d="medium"}=a,f=(0,le.Z)(a,Lg),m=c?h:u,g=c?h:s,y=(0,i.Z)({},a,{color:l,indeterminate:c,size:d}),v=(e=>{const{classes:t,indeterminate:n,color:r}=e,o={root:["root",n&&"indeterminate",`color${(0,qt.Z)(r)}`]},a=(0,Ke.Z)(o,kg,t);return(0,i.Z)({},t,a)})(y);return(0,ye.jsx)(Mg,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":c},p),icon:n.cloneElement(m,{fontSize:null!=(r=m.props.fontSize)?r:d}),checkedIcon:n.cloneElement(g,{fontSize:null!=(o=g.props.fontSize)?o:d}),ownerState:y,ref:t},f,{classes:v}))})),Dg=Ng;var zg=Lo((function(e){return{actionButton:{height:e.spacing(4.5),textTransform:"none",justifyContent:"start"}}}));function Fg(e){var t=e.bufferCheckbox,r=e.setBufferCheckbox,i=zg();return n.createElement(we,{p:.75},n.createElement(ug,null,n.createElement(yg,{control:n.createElement(Dg,{defaultChecked:!0}),variant:"text",color:"CRESTPrimary","aria-label":"Include a Buffer for Nearby Impacts",label:"Include a Buffer for Nearby Impacts",className:i.actionButton,onChange:function(){r(!t)}})))}Fg.propTypes={bufferCheckbox:Oo().bool,setBufferCheckbox:Oo().func};const Bg=(0,an.Z)((0,ye.jsx)("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6h-6zM12 4h2v2h-2V4zM7 14H5v-2h2v2zm12 6h-2v-2h2v2z"}),"PolylineOutlined");var jg=Lo((function(e){return{actionButton:{height:e.spacing(4.5),textTransform:"none",justifyContent:"start"}}}));function Zg(e){var t=e.map,r=e.disabled,i=Xe(n.useState(),2),o=i[0],a=i[1];n.useEffect((function(){t&&a(new Fa.Draw.Polygon(t,{}))}),[t]);var s=jg(),l=ne(),u=ae((function(e){return e.mapProperties.sketchArea})),c=function(){l(Fp()),u?o.disable():o.enable()};return r?n.createElement(we,{p:.75},n.createElement(ss,{variant:"contained",color:"CRESTPrimary",fullWidth:!0,"aria-label":"Sketch an Area",className:s.actionButton,onClick:c,startIcon:n.createElement(Bg,null),disabled:!0},"Sketch an Area")):n.createElement(we,{p:.75},n.createElement(ss,{variant:"contained",color:"CRESTPrimary",fullWidth:!0,"aria-label":"Sketch an Area",className:s.actionButton,onClick:c,startIcon:n.createElement(Bg,null)},"Sketch an Area"))}Zg.propTypes={map:Oo().object};const Ug=(0,an.Z)((0,ye.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");var qg=a(71387),Vg=a(87596);const Gg=["onChange","maxRows","minRows","style","value"];function Hg(e,t){return parseInt(e[t],10)||0}const Wg={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},$g=n.forwardRef((function(e,t){const{onChange:r,maxRows:o,minRows:a=1,style:s,value:l}=e,u=(0,le.Z)(e,Gg),{current:c}=n.useRef(null!=l),h=n.useRef(null),p=(0,Pf.Z)(t,h),d=n.useRef(null),f=n.useRef(0),[m,g]=n.useState({}),y=n.useCallback((()=>{const t=h.current,n=(0,zf.Z)(t).getComputedStyle(t);if("0px"===n.width)return;const r=d.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");const i=n["box-sizing"],s=Hg(n,"padding-bottom")+Hg(n,"padding-top"),l=Hg(n,"border-bottom-width")+Hg(n,"border-top-width"),u=r.scrollHeight;r.value="x";const c=r.scrollHeight;let p=u;a&&(p=Math.max(Number(a)*c,p)),o&&(p=Math.min(Number(o)*c,p)),p=Math.max(p,c);const m=p+("border-box"===i?s+l:0),y=Math.abs(p-u)<=1;g((e=>f.current<20&&(m>0&&Math.abs((e.outerHeightStyle||0)-m)>1||e.overflow!==y)?(f.current+=1,{overflow:y,outerHeightStyle:m}):e))}),[o,a,e.placeholder]);return n.useEffect((()=>{const e=(0,Vg.Z)((()=>{f.current=0,y()})),t=(0,zf.Z)(h.current);let n;return t.addEventListener("resize",e),"undefined"!=typeof ResizeObserver&&(n=new ResizeObserver(e),n.observe(h.current)),()=>{e.clear(),t.removeEventListener("resize",e),n&&n.disconnect()}}),[y]),(0,Of.Z)((()=>{y()})),n.useEffect((()=>{f.current=0}),[l]),(0,ye.jsxs)(n.Fragment,{children:[(0,ye.jsx)("textarea",(0,i.Z)({value:l,onChange:e=>{f.current=0,c||y(),r&&r(e)},ref:p,rows:a,style:(0,i.Z)({height:m.outerHeightStyle,overflow:m.overflow?"hidden":null},s)},u)),(0,ye.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:d,tabIndex:-1,style:(0,i.Z)({},Wg,s,{padding:0})})]})})),Xg=$g;function Yg({props:e,states:t,muiFormControl:n}){return t.reduce(((t,r)=>(t[r]=e[r],n&&void 0===e[r]&&(t[r]=n[r]),t)),{})}function Kg(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function Jg(e,t=!1){return e&&(Kg(e.value)&&""!==e.value||t&&Kg(e.defaultValue)&&""!==e.defaultValue)}function Qg(e){return(0,et.Z)("MuiInputBase",e)}const ey=(0,tt.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),ty=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],ny=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${(0,qt.Z)(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},ry=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},iy=(0,Je.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:ny})((({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.body1,{color:e.palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${ey.disabled}`]:{color:e.palette.text.disabled,cursor:"default"}},t.multiline&&(0,i.Z)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"}))),oy=(0,Je.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ry})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,r={color:"currentColor",opacity:n?.42:.5,transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},o={opacity:"0 !important"},a={opacity:n?.42:.5};return(0,i.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${ey.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${ey.disabled}`]:{opacity:1,WebkitTextFillColor:e.palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})})),ay=(0,ye.jsx)(Oe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),sy=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:a,autoFocus:s,className:l,components:u={},componentsProps:c={},defaultValue:h,disabled:p,disableInjectingGlobalStyles:d,endAdornment:f,fullWidth:m=!1,id:g,inputComponent:y="input",inputProps:v={},inputRef:_,maxRows:b,minRows:x,multiline:w=!1,name:E,onBlur:S,onChange:C,onClick:T,onFocus:I,onKeyDown:k,onKeyUp:P,placeholder:L,readOnly:M,renderSuffix:A,rows:O,startAdornment:R,type:N="text",value:D}=r,z=(0,le.Z)(r,ty),F=null!=v.value?v.value:D,{current:B}=n.useRef(null!=F),j=n.useRef(),Z=n.useCallback((e=>{}),[]),U=(0,ht.Z)(v.ref,Z),q=(0,ht.Z)(_,U),V=(0,ht.Z)(j,q),[G,H]=n.useState(!1),W=hg(),$=Yg({props:r,muiFormControl:W,states:["color","disabled","error","hiddenLabel","size","required","filled"]});$.focused=W?W.focused:G,n.useEffect((()=>{!W&&p&&G&&(H(!1),S&&S())}),[W,p,G,S]);const X=W&&W.onFilled,Y=W&&W.onEmpty,K=n.useCallback((e=>{Jg(e)?X&&X():Y&&Y()}),[X,Y]);(0,Ge.Z)((()=>{B&&K({value:F})}),[F,K,B]),n.useEffect((()=>{K(j.current)}),[]);let J=y,Q=v;w&&"input"===J&&(Q=O?(0,i.Z)({type:void 0,minRows:O,maxRows:O},Q):(0,i.Z)({type:void 0,maxRows:b,minRows:x},Q),J=Xg),n.useEffect((()=>{W&&W.setAdornedStart(Boolean(R))}),[W,R]);const ee=(0,i.Z)({},r,{color:$.color||"primary",disabled:$.disabled,endAdornment:f,error:$.error,focused:$.focused,formControl:W,fullWidth:m,hiddenLabel:$.hiddenLabel,multiline:w,size:$.size,startAdornment:R,type:N}),te=(e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,size:h,startAdornment:p,type:d}=e,f={root:["root",`color${(0,qt.Z)(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",s&&"formControl","small"===h&&"sizeSmall",c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel"],input:["input",r&&"disabled","search"===d&&"inputTypeSearch",c&&"inputMultiline","small"===h&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd"]};return(0,Ke.Z)(f,Qg,t)})(ee),ne=u.Root||iy,re=c.root||{},ie=u.Input||oy;return Q=(0,i.Z)({},Q,c.input),(0,ye.jsxs)(n.Fragment,{children:[!d&&ay,(0,ye.jsxs)(ne,(0,i.Z)({},re,!kf(ne)&&{ownerState:(0,i.Z)({},ee,re.ownerState)},{ref:t,onClick:e=>{j.current&&e.currentTarget===e.target&&j.current.focus(),T&&T(e)}},z,{className:(0,ue.Z)(te.root,re.className,l),children:[R,(0,ye.jsx)(cg.Provider,{value:null,children:(0,ye.jsx)(ie,(0,i.Z)({ownerState:ee,"aria-invalid":$.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:h,disabled:$.disabled,id:g,onAnimationStart:e=>{K("mui-auto-fill-cancel"===e.animationName?j.current:{value:"x"})},name:E,placeholder:L,readOnly:M,required:$.required,rows:O,value:F,onKeyDown:k,onKeyUp:P,type:N},Q,!kf(ie)&&{as:J,ownerState:(0,i.Z)({},ee,Q.ownerState)},{ref:V,className:(0,ue.Z)(te.input,Q.className),onBlur:e=>{S&&S(e),v.onBlur&&v.onBlur(e),W&&W.onBlur?W.onBlur(e):H(!1)},onChange:(e,...t)=>{if(!B){const t=e.target||j.current;if(null==t)throw new Error((0,qg.Z)(1));K({value:t.value})}v.onChange&&v.onChange(e,...t),C&&C(e,...t)},onFocus:e=>{$.disabled?e.stopPropagation():(I&&I(e),v.onFocus&&v.onFocus(e),W&&W.onFocus?W.onFocus(e):H(!0))}}))}),f,A?A((0,i.Z)({},$,{startAdornment:R})):null]}))]})})),ly=sy;function uy(e){return(0,et.Z)("MuiInput",e)}const cy=(0,tt.Z)("MuiInput",["root","formControl","focused","disabled","colorSecondary","underline","error","sizeSmall","multiline","fullWidth","input","inputSizeSmall","inputMultiline","inputTypeSearch"]),hy=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],py=(0,Je.ZP)(iy,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ny(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return(0,i.Z)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${e.palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${cy.focused}:after`]:{transform:"scaleX(1)"},[`&.${cy.error}:after`]:{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${cy.disabled}):before`]:{borderBottom:`2px solid ${e.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${cy.disabled}:before`]:{borderBottomStyle:"dotted"}})})),dy=(0,Je.ZP)(oy,{name:"MuiInput",slot:"Input",overridesResolver:ry})({}),fy=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiInput"}),{disableUnderline:r,components:o={},componentsProps:a,fullWidth:s=!1,inputComponent:l="input",multiline:u=!1,type:c="text"}=n,h=(0,le.Z)(n,hy),p=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Ke.Z)(r,uy,t);return(0,i.Z)({},t,o)})(n),d={root:{ownerState:{disableUnderline:r}}},f=a?(0,pe.Z)(a,d):d;return(0,ye.jsx)(ly,(0,i.Z)({components:(0,i.Z)({Root:py,Input:dy},o),componentsProps:f,fullWidth:s,inputComponent:l,multiline:u,ref:t,type:c},h,{classes:p}))}));fy.muiName="Input";const my=fy;function gy(e){return(0,et.Z)("MuiFilledInput",e)}const yy=(0,tt.Z)("MuiFilledInput",["root","colorSecondary","underline","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","hiddenLabel","input","inputSizeSmall","inputHiddenLabel","inputMultiline","inputAdornedStart","inputAdornedEnd"]),vy=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],_y=(0,Je.ZP)(iy,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...ny(e,t),!n.disableUnderline&&t.underline]}})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,i.Z)({position:"relative",backgroundColor:o,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:o}},[`&.${yy.focused}`]:{backgroundColor:o},[`&.${yy.disabled}`]:{backgroundColor:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${e.palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${yy.focused}:after`]:{transform:"scaleX(1)"},[`&.${yy.error}:after`]:{borderBottomColor:e.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${yy.disabled}):before`]:{borderBottom:`1px solid ${e.palette.text.primary}`},[`&.${yy.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,i.Z)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),by=(0,Je.ZP)(oy,{name:"MuiFilledInput",slot:"Input",overridesResolver:ry})((({theme:e,ownerState:t})=>(0,i.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))),xy=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiFilledInput"}),{components:r={},componentsProps:o,fullWidth:a=!1,inputComponent:s="input",multiline:l=!1,type:u="text"}=n,c=(0,le.Z)(n,vy),h=(0,i.Z)({},n,{fullWidth:a,inputComponent:s,multiline:l,type:u}),p=(e=>{const{classes:t,disableUnderline:n}=e,r={root:["root",!n&&"underline"],input:["input"]},o=(0,Ke.Z)(r,gy,t);return(0,i.Z)({},t,o)})(n),d={root:{ownerState:h},input:{ownerState:h}},f=o?(0,pe.Z)(o,d):d;return(0,ye.jsx)(ly,(0,i.Z)({components:(0,i.Z)({Root:_y,Input:by},r),componentsProps:f,fullWidth:a,inputComponent:s,multiline:l,ref:t,type:u},c,{classes:p}))}));xy.muiName="Input";const wy=xy,Ey=["children","classes","className","label","notched"],Sy=(0,Je.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Cy=(0,Je.ZP)("legend",{skipSx:!0})((({ownerState:e,theme:t})=>(0,i.Z)({float:"unset"},void 0===e.label&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},void 0!==e.label&&(0,i.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}))));function Ty(e){return(0,et.Z)("MuiOutlinedInput",e)}const Iy=(0,tt.Z)("MuiOutlinedInput",["root","colorSecondary","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","notchedOutline","input","inputSizeSmall","inputMultiline","inputAdornedStart","inputAdornedEnd"]),ky=["components","fullWidth","inputComponent","label","multiline","notched","type"],Py=(0,Je.ZP)(iy,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:ny})((({theme:e,ownerState:t})=>{const n="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,i.Z)({position:"relative",borderRadius:e.shape.borderRadius,[`&:hover .${Iy.notchedOutline}`]:{borderColor:e.palette.text.primary},"@media (hover: none)":{[`&:hover .${Iy.notchedOutline}`]:{borderColor:n}},[`&.${Iy.focused} .${Iy.notchedOutline}`]:{borderColor:e.palette[t.color].main,borderWidth:2},[`&.${Iy.error} .${Iy.notchedOutline}`]:{borderColor:e.palette.error.main},[`&.${Iy.disabled} .${Iy.notchedOutline}`]:{borderColor:e.palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,i.Z)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))})),Ly=(0,Je.ZP)((function(e){const{className:t,label:n,notched:r}=e,o=(0,le.Z)(e,Ey),a=(0,i.Z)({},e,{notched:r,label:n});return(0,ye.jsx)(Sy,(0,i.Z)({"aria-hidden":!0,className:t,ownerState:a},o,{children:(0,ye.jsx)(Cy,{ownerState:a,children:n?(0,ye.jsx)("span",{children:n}):(0,ye.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}})})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((({theme:e})=>({borderColor:"light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}))),My=(0,Je.ZP)(oy,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ry})((({theme:e,ownerState:t})=>(0,i.Z)({padding:"16.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0}))),Ay=n.forwardRef((function(e,t){var r;const o=(0,Ee.Z)({props:e,name:"MuiOutlinedInput"}),{components:a={},fullWidth:s=!1,inputComponent:l="input",label:u,multiline:c=!1,notched:h,type:p="text"}=o,d=(0,le.Z)(o,ky),f=(e=>{const{classes:t}=e,n=(0,Ke.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ty,t);return(0,i.Z)({},t,n)})(o),m=Yg({props:o,muiFormControl:hg(),states:["required"]});return(0,ye.jsx)(ly,(0,i.Z)({components:(0,i.Z)({Root:Py,Input:My},a),renderSuffix:e=>(0,ye.jsx)(Ly,{className:f.notchedOutline,label:u&&m.required?r||(r=(0,ye.jsxs)(n.Fragment,{children:[u," ","*"]})):u,notched:void 0!==h?h:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:s,inputComponent:l,multiline:c,ref:t,type:p},d,{classes:(0,i.Z)({},f,{notchedOutline:null})}))}));Ay.muiName="Input";const Oy=Ay;function Ry(e){return(0,et.Z)("MuiFormLabel",e)}const Ny=(0,tt.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Dy=["children","className","color","component","disabled","error","filled","focused","required"],zy=(0,Je.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,i.Z)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})((({theme:e,ownerState:t})=>(0,i.Z)({color:e.palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ny.focused}`]:{color:e.palette[t.color].main},[`&.${Ny.disabled}`]:{color:e.palette.text.disabled},[`&.${Ny.error}`]:{color:e.palette.error.main}}))),Fy=(0,Je.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((({theme:e})=>({[`&.${Ny.error}`]:{color:e.palette.error.main}}))),By=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiFormLabel"}),{children:r,className:o,component:a="label"}=n,s=(0,le.Z)(n,Dy),l=Yg({props:n,muiFormControl:hg(),states:["color","required","focused","disabled","error","filled"]}),u=(0,i.Z)({},n,{color:l.color||"primary",component:a,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=(e=>{const{classes:t,color:n,focused:r,disabled:i,error:o,filled:a,required:s}=e,l={root:["root",`color${(0,qt.Z)(n)}`,i&&"disabled",o&&"error",a&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,Ke.Z)(l,Ry,t)})(u);return(0,ye.jsxs)(zy,(0,i.Z)({as:a,ownerState:u,className:(0,ue.Z)(c.root,o),ref:t},s,{children:[r,l.required&&(0,ye.jsxs)(Fy,{ownerState:u,"aria-hidden":!0,className:c.asterisk,children:[" ","*"]})]}))})),jy=By;function Zy(e){return(0,et.Z)("MuiInputLabel",e)}(0,tt.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Uy=["disableAnimation","margin","shrink","variant"],qy=(0,Je.ZP)(jy,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ny.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,i.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,i.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,i.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"})))),Vy=n.forwardRef((function(e,t){const n=(0,Ee.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,shrink:o}=n,a=(0,le.Z)(n,Uy),s=hg();let l=o;void 0===l&&s&&(l=s.filled||s.focused||s.adornedStart);const u=Yg({props:n,muiFormControl:s,states:["size","variant","required"]}),c=(0,i.Z)({},n,{disableAnimation:r,formControl:s,shrink:l,size:u.size,variant:u.variant,required:u.required}),h=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:a,variant:s,required:l}=e,u={root:["root",n&&"formControl",!a&&"animated",o&&"shrink","small"===r&&"sizeSmall",s],asterisk:[l&&"asterisk"]},c=(0,Ke.Z)(u,Zy,t);return(0,i.Z)({},t,c)})(c);return(0,ye.jsx)(qy,(0,i.Z)({"data-shrink":l,ownerState:c,ref:t},a,{classes:h}))}));var Gy=a(48502);function Hy(e){return(0,et.Z)("MuiFormControl",e)}(0,tt.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const Wy=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],$y=(0,Je.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,i.Z)({},t.root,t[`margin${(0,qt.Z)(e.margin)}`],e.fullWidth&&t.fullWidth)})((({ownerState:e})=>(0,i.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"}))),Xy=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiFormControl"}),{children:o,className:a,color:s="primary",component:l="div",disabled:u=!1,error:c=!1,focused:h,fullWidth:p=!1,hiddenLabel:d=!1,margin:f="none",required:m=!1,size:g="medium",variant:y="outlined"}=r,v=(0,le.Z)(r,Wy),_=(0,i.Z)({},r,{color:s,component:l,disabled:u,error:c,fullWidth:p,hiddenLabel:d,margin:f,required:m,size:g,variant:y}),b=(e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root","none"!==n&&`margin${(0,qt.Z)(n)}`,r&&"fullWidth"]};return(0,Ke.Z)(i,Hy,t)})(_),[x,w]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{if(!(0,Gy.Z)(t,["Input","Select"]))return;const n=(0,Gy.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[E,S]=n.useState((()=>{let e=!1;return o&&n.Children.forEach(o,(t=>{(0,Gy.Z)(t,["Input","Select"])&&Jg(t.props,!0)&&(e=!0)})),e})),[C,T]=n.useState(!1);u&&C&&T(!1);const I=void 0===h||u?C:h,k=n.useCallback((()=>{S(!0)}),[]),P={adornedStart:x,setAdornedStart:w,color:s,disabled:u,error:c,filled:E,focused:I,fullWidth:p,hiddenLabel:d,size:g,onBlur:()=>{T(!1)},onEmpty:n.useCallback((()=>{S(!1)}),[]),onFilled:k,onFocus:()=>{T(!0)},registerEffect:void 0,required:m,variant:y};return(0,ye.jsx)(cg.Provider,{value:P,children:(0,ye.jsx)($y,(0,i.Z)({as:l,ownerState:_,className:(0,ue.Z)(b.root,a),ref:t},v,{children:o}))})})),Yy=Xy;function Ky(e){return(0,et.Z)("MuiFormHelperText",e)}const Jy=(0,tt.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),Qy=["children","className","component","disabled","error","filled","focused","margin","required","variant"],ev=(0,Je.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${(0,qt.Z)(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((({theme:e,ownerState:t})=>(0,i.Z)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Jy.disabled}`]:{color:e.palette.text.disabled},[`&.${Jy.error}`]:{color:e.palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14}))),tv=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:a="p"}=n,s=(0,le.Z)(n,Qy),l=Yg({props:n,muiFormControl:hg(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,i.Z)({},n,{component:a,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=(e=>{const{classes:t,contained:n,size:r,disabled:i,error:o,filled:a,focused:s,required:l}=e,u={root:["root",i&&"disabled",o&&"error",r&&`size${(0,qt.Z)(r)}`,n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,Ke.Z)(u,Ky,t)})(u);return(0,ye.jsx)(ev,(0,i.Z)({as:a,ownerState:u,className:(0,ue.Z)(c.root,o),ref:t},s,{children:" "===r?(0,ye.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):r}))})),nv=n.createContext({});function rv(e){return(0,et.Z)("MuiList",e)}(0,tt.Z)("MuiList",["root","padding","dense","subheader"]);const iv=["children","className","component","dense","disablePadding","subheader"],ov=(0,Je.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((({ownerState:e})=>(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0}))),av=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiList"}),{children:o,className:a,component:s="ul",dense:l=!1,disablePadding:u=!1,subheader:c}=r,h=(0,le.Z)(r,iv),p=n.useMemo((()=>({dense:l})),[l]),d=(0,i.Z)({},r,{component:s,dense:l,disablePadding:u}),f=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e,o={root:["root",!n&&"padding",r&&"dense",i&&"subheader"]};return(0,Ke.Z)(o,rv,t)})(d);return(0,ye.jsx)(nv.Provider,{value:p,children:(0,ye.jsxs)(ov,(0,i.Z)({as:s,className:(0,ue.Z)(f.root,a),ref:t,ownerState:d},h,{children:[c,o]}))})})),sv=Ff,lv=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function uv(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function cv(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function hv(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function pv(e,t,n,r,i,o){let a=!1,s=i(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&hv(s,o)&&!t)return s.focus(),!0;s=i(e,s,n)}return!1}const dv=n.forwardRef((function(e,t){const{actions:r,autoFocus:o=!1,autoFocusItem:a=!1,children:s,className:l,disabledItemsFocusable:u=!1,disableListWrap:c=!1,onKeyDown:h,variant:p="selectedMenu"}=e,d=(0,le.Z)(e,lv),f=n.useRef(null),m=n.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,Ge.Z)((()=>{o&&f.current.focus()}),[o]),n.useImperativeHandle(r,(()=>({adjustStyleForScrollbar:(e,t)=>{const n=!f.current.style.width;if(e.clientHeight<f.current.clientHeight&&n){const n=`${sv((0,vn.Z)(e))}px`;f.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=n,f.current.style.width=`calc(100% + ${n})`}return f.current}})),[]);const g=(0,ht.Z)(f,t);let y=-1;n.Children.forEach(s,((e,t)=>{n.isValidElement(e)&&(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===y)&&(y=t))}));const v=n.Children.map(s,((e,t)=>{if(t===y){const t={};return a&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(t.tabIndex=0),n.cloneElement(e,t)}return e}));return(0,ye.jsx)(av,(0,i.Z)({role:"menu",ref:g,className:l,onKeyDown:e=>{const t=f.current,n=e.key,r=(0,vn.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),pv(t,r,c,u,uv);else if("ArrowUp"===n)e.preventDefault(),pv(t,r,c,u,cv);else if("Home"===n)e.preventDefault(),pv(t,null,c,u,uv);else if("End"===n)e.preventDefault(),pv(t,null,c,u,cv);else if(1===n.length){const i=m.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);const s=r&&!i.repeating&&hv(r,i);i.previousKeyMatched&&(s||pv(t,r,!1,u,uv,i))?e.preventDefault():i.previousKeyMatched=!1}h&&h(e)},tabIndex:o?0:-1},d,{children:v}))})),fv=dv,mv=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function gv(e){return`scale(${e}, ${e**2})`}const yv={entering:{opacity:1,transform:gv(1)},entered:{opacity:1,transform:"none"}},vv=n.forwardRef((function(e,t){const{addEndListener:r,appear:o=!0,children:a,easing:s,in:l,onEnter:u,onEntered:c,onEntering:h,onExit:p,onExited:d,onExiting:f,style:m,timeout:g="auto",TransitionComponent:y=lm}=e,v=(0,le.Z)(e,mv),_=n.useRef(),b=n.useRef(),x=Yt(),w=n.useRef(null),E=(0,ht.Z)(a.ref,t),S=(0,ht.Z)(w,E),C=e=>t=>{if(e){const n=w.current;void 0===t?e(n):e(n,t)}},T=C(h),I=C(((e,t)=>{cm(e);const{duration:n,delay:r,easing:i}=hm({style:m,timeout:g,easing:s},{mode:"enter"});let o;"auto"===g?(o=x.transitions.getAutoHeightDuration(e.clientHeight),b.current=o):o=n,e.style.transition=[x.transitions.create("opacity",{duration:o,delay:r}),x.transitions.create("transform",{duration:.666*o,delay:r,easing:i})].join(","),u&&u(e,t)})),k=C(c),P=C(f),L=C((e=>{const{duration:t,delay:n,easing:r}=hm({style:m,timeout:g,easing:s},{mode:"exit"});let i;"auto"===g?(i=x.transitions.getAutoHeightDuration(e.clientHeight),b.current=i):i=t,e.style.transition=[x.transitions.create("opacity",{duration:i,delay:n}),x.transitions.create("transform",{duration:.666*i,delay:n||.333*i,easing:r})].join(","),e.style.opacity="0",e.style.transform=gv(.75),p&&p(e)})),M=C(d);return n.useEffect((()=>()=>{clearTimeout(_.current)}),[]),(0,ye.jsx)(y,(0,i.Z)({appear:o,in:l,nodeRef:w,onEnter:I,onEntered:k,onEntering:T,onExit:L,onExited:M,onExiting:P,addEndListener:e=>{"auto"===g&&(_.current=setTimeout(e,b.current||0)),r&&r(w.current,e)},timeout:"auto"===g?null:g},v,{children:(e,t)=>n.cloneElement(a,(0,i.Z)({style:(0,i.Z)({opacity:0,transform:gv(.75),visibility:"exited"!==e||l?void 0:"hidden"},yv[e],m,a.props.style),ref:S},t))}))}));vv.muiSupportAuto=!0;const _v=vv;function bv(e){return(0,et.Z)("MuiPopover",e)}(0,tt.Z)("MuiPopover",["root","paper"]);const xv=["onEntering"],wv=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function Ev(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Sv(e,t){let n=0;return"number"==typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Cv(e){return[e.horizontal,e.vertical].map((e=>"number"==typeof e?`${e}px`:e)).join(" ")}function Tv(e){return"function"==typeof e?e():e}const Iv=(0,Je.ZP)(Em,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),kv=(0,Je.ZP)(xa,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Pv=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiPopover"}),{action:o,anchorEl:a,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:u="anchorEl",children:c,className:h,container:p,elevation:d=8,marginThreshold:f=16,open:m,PaperProps:g={},transformOrigin:y={vertical:"top",horizontal:"left"},TransitionComponent:v=_v,transitionDuration:_="auto",TransitionProps:{onEntering:b}={}}=r,x=(0,le.Z)(r.TransitionProps,xv),w=(0,le.Z)(r,wv),E=n.useRef(),S=(0,ht.Z)(E,g.ref),C=(0,i.Z)({},r,{anchorOrigin:s,anchorReference:u,elevation:d,marginThreshold:f,PaperProps:g,transformOrigin:y,TransitionComponent:v,transitionDuration:_,TransitionProps:x}),T=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"],paper:["paper"]},bv,t)})(C),I=n.useCallback((()=>{if("anchorPosition"===u)return l;const e=Tv(a),t=(e&&1===e.nodeType?e:(0,vn.Z)(E.current).body).getBoundingClientRect();return{top:t.top+Ev(t,s.vertical),left:t.left+Sv(t,s.horizontal)}}),[a,s.horizontal,s.vertical,l,u]),k=n.useCallback((e=>({vertical:Ev(e,y.vertical),horizontal:Sv(e,y.horizontal)})),[y.horizontal,y.vertical]),P=n.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=k(t);if("none"===u)return{top:null,left:null,transformOrigin:Cv(n)};const r=I();let i=r.top-n.vertical,o=r.left-n.horizontal;const s=i+t.height,l=o+t.width,c=(0,nn.Z)(Tv(a)),h=c.innerHeight-f,p=c.innerWidth-f;if(i<f){const e=i-f;i-=e,n.vertical+=e}else if(s>h){const e=s-h;i-=e,n.vertical+=e}if(o<f){const e=o-f;o-=e,n.horizontal+=e}else if(l>p){const e=l-p;o-=e,n.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(o)}px`,transformOrigin:Cv(n)}}),[a,u,I,k,f]),L=n.useCallback((()=>{const e=E.current;if(!e)return;const t=P(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}),[P]);n.useEffect((()=>{m&&L()})),n.useImperativeHandle(o,(()=>m?{updatePosition:()=>{L()}}:null),[m,L]),n.useEffect((()=>{if(!m)return;const e=(0,Kt.Z)((()=>{L()})),t=(0,nn.Z)(a);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[a,m,L]);let M=_;"auto"!==_||v.muiSupportAuto||(M=void 0);const A=p||(a?(0,vn.Z)(Tv(a)).body:void 0);return(0,ye.jsx)(Iv,(0,i.Z)({BackdropProps:{invisible:!0},className:(0,ue.Z)(T.root,h),container:A,open:m,ref:t,ownerState:C},w,{children:(0,ye.jsx)(v,(0,i.Z)({appear:!0,in:m,onEntering:(e,t)=>{b&&b(e,t),L()},timeout:M},x,{children:(0,ye.jsx)(kv,(0,i.Z)({elevation:d},g,{ref:S,className:(0,ue.Z)(T.paper,g.className),children:c}))}))}))})),Lv=Pv;function Mv(e){return(0,et.Z)("MuiMenu",e)}(0,tt.Z)("MuiMenu",["root","paper","list"]);const Av=["onEntering"],Ov=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],Rv={vertical:"top",horizontal:"right"},Nv={vertical:"top",horizontal:"left"},Dv=(0,Je.ZP)(Lv,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),zv=(0,Je.ZP)(xa,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Fv=(0,Je.ZP)(fv,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Bv=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:h={},PopoverClasses:p,transitionDuration:d="auto",TransitionProps:{onEntering:f}={},variant:m="selectedMenu"}=r,g=(0,le.Z)(r.TransitionProps,Av),y=(0,le.Z)(r,Ov),v=Yt(),_="rtl"===v.direction,b=(0,i.Z)({},r,{autoFocus:o,disableAutoFocusItem:s,MenuListProps:l,onEntering:f,PaperProps:h,transitionDuration:d,TransitionProps:g,variant:m}),x=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"],paper:["paper"],list:["list"]},Mv,t)})(b),w=o&&!s&&c,E=n.useRef(null);let S=-1;return n.Children.map(a,((e,t)=>{n.isValidElement(e)&&(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===S)&&(S=t))})),(0,ye.jsx)(Dv,(0,i.Z)({classes:p,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?Rv:Nv,PaperProps:(0,i.Z)({component:zv},h,{classes:(0,i.Z)({},h.classes,{root:x.paper})}),className:x.root,open:c,ref:t,transitionDuration:d,TransitionProps:(0,i.Z)({onEntering:(e,t)=>{E.current&&E.current.adjustStyleForScrollbar(e,v),f&&f(e,t)}},g),ownerState:b},y,{children:(0,ye.jsx)(Fv,(0,i.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))},actions:E,autoFocus:o&&(-1===S||s),autoFocusItem:w,variant:m},l,{className:(0,ue.Z)(x.list,l.className),children:a}))}))}));function jv(e){return(0,et.Z)("MuiNativeSelect",e)}const Zv=(0,tt.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Uv=["className","disabled","IconComponent","inputRef","variant"],qv=({ownerState:e,theme:t})=>(0,i.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},[`&.${Zv.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:t.shape.borderRadius,"&:focus":{borderRadius:t.shape.borderRadius},"&&&":{paddingRight:32}}),Vv=(0,Je.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Je.FO,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],{[`&.${Zv.multiple}`]:t.multiple}]}})(qv),Gv=({ownerState:e,theme:t})=>(0,i.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:t.palette.action.active,[`&.${Zv.disabled}`]:{color:t.palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),Hv=(0,Je.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,qt.Z)(n.variant)}`],n.open&&t.iconOpen]}})(Gv),Wv=n.forwardRef((function(e,t){const{className:r,disabled:o,IconComponent:a,inputRef:s,variant:l="standard"}=e,u=(0,le.Z)(e,Uv),c=(0,i.Z)({},e,{disabled:o,variant:l}),h=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o}=e,a={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${(0,qt.Z)(n)}`,o&&"iconOpen",r&&"disabled"]};return(0,Ke.Z)(a,jv,t)})(c);return(0,ye.jsxs)(n.Fragment,{children:[(0,ye.jsx)(Vv,(0,i.Z)({ownerState:c,className:(0,ue.Z)(h.select,r),disabled:o,ref:s||t},u)),e.multiple?null:(0,ye.jsx)(Hv,{as:a,ownerState:c,className:h.icon})]})}));function $v(e){return(0,et.Z)("MuiSelect",e)}const Xv=(0,tt.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),Yv=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Kv=(0,Je.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${Xv.select}`]:t.select},{[`&.${Xv.select}`]:t[n.variant]},{[`&.${Xv.multiple}`]:t.multiple}]}})(qv,{[`&.${Xv.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Jv=(0,Je.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${(0,qt.Z)(n.variant)}`],n.open&&t.iconOpen]}})(Gv),Qv=(0,Je.ZP)("input",{shouldForwardProp:e=>(0,Je.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function e_(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}function t_(e){return null==e||"string"==typeof e&&!e.trim()}const n_=n.forwardRef((function(e,t){const{"aria-describedby":r,"aria-label":o,autoFocus:a,autoWidth:s,children:l,className:u,defaultOpen:c,defaultValue:h,disabled:p,displayEmpty:d,IconComponent:f,inputRef:m,labelId:g,MenuProps:y={},multiple:v,name:_,onBlur:b,onChange:x,onClose:w,onFocus:E,onOpen:S,open:C,readOnly:T,renderValue:I,SelectDisplayProps:k={},tabIndex:P,value:L,variant:M="standard"}=e,A=(0,le.Z)(e,Yv),[O,R]=(0,vg.Z)({controlled:L,default:h,name:"Select"}),[N,D]=(0,vg.Z)({controlled:C,default:c,name:"Select"}),z=n.useRef(null),F=n.useRef(null),[B,j]=n.useState(null),{current:Z}=n.useRef(null!=C),[U,q]=n.useState(),V=(0,ht.Z)(t,m),G=n.useCallback((e=>{F.current=e,e&&j(e)}),[]);n.useImperativeHandle(V,(()=>({focus:()=>{F.current.focus()},node:z.current,value:O})),[O]),n.useEffect((()=>{c&&N&&B&&!Z&&(q(s?null:B.clientWidth),F.current.focus())}),[B,s]),n.useEffect((()=>{a&&F.current.focus()}),[a]),n.useEffect((()=>{const e=(0,vn.Z)(F.current).getElementById(g);if(e){const t=()=>{getSelection().isCollapsed&&F.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[g]);const H=(e,t)=>{e?S&&S(t):w&&w(t),Z||(q(s?null:B.clientWidth),D(e))},W=n.Children.toArray(l),$=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(v){n=Array.isArray(O)?O.slice():[];const t=O.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),O!==n&&(R(n),x)){const r=t.nativeEvent||t,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:n,name:_}}),x(i,e)}v||H(!1,t)}},X=null!==B&&N;let Y,K;delete A["aria-invalid"];const J=[];let Q=!1,ee=!1;(Jg({value:O})||d)&&(I?Y=I(O):Q=!0);const te=W.map((e=>{if(!n.isValidElement(e))return null;let t;if(v){if(!Array.isArray(O))throw new Error((0,qg.Z)(2));t=O.some((t=>e_(t,e.props.value))),t&&Q&&J.push(e.props.children)}else t=e_(O,e.props.value),t&&Q&&(K=e.props.children);return t&&(ee=!0),n.cloneElement(e,{"aria-selected":t?"true":"false",onClick:$(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));Q&&(Y=v?0===J.length?null:J.reduce(((e,t,n)=>(e.push(t),n<J.length-1&&e.push(", "),e)),[]):K);let ne,re=U;!s&&Z&&B&&(re=B.clientWidth),ne=void 0!==P?P:p?null:0;const ie=k.id||(_?`mui-component-select-${_}`:void 0),oe=(0,i.Z)({},e,{variant:M,value:O,open:X}),ae=(e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:o}=e,a={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon",`icon${(0,qt.Z)(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,Ke.Z)(a,$v,t)})(oe);return(0,ye.jsxs)(n.Fragment,{children:[(0,ye.jsx)(Kv,(0,i.Z)({ref:G,tabIndex:ne,role:"button","aria-disabled":p?"true":void 0,"aria-expanded":X?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[g,ie].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:e=>{T||-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),H(!0,e))},onMouseDown:p||T?null:e=>{0===e.button&&(e.preventDefault(),F.current.focus(),H(!0,e))},onBlur:e=>{!X&&b&&(Object.defineProperty(e,"target",{writable:!0,value:{value:O,name:_}}),b(e))},onFocus:E},k,{ownerState:oe,className:(0,ue.Z)(ae.select,u,k.className),id:ie,children:t_(Y)?(0,ye.jsx)("span",{className:"notranslate",dangerouslySetInnerHTML:{__html:"&#8203;"}}):Y})),(0,ye.jsx)(Qv,(0,i.Z)({value:Array.isArray(O)?O.join(","):O,name:_,ref:z,"aria-hidden":!0,onChange:e=>{const t=W.map((e=>e.props.value)).indexOf(e.target.value);if(-1===t)return;const n=W[t];R(n.props.value),x&&x(e,n)},tabIndex:-1,disabled:p,className:ae.nativeInput,autoFocus:a,ownerState:oe},A)),(0,ye.jsx)(Jv,{as:f,className:ae.icon,ownerState:oe}),(0,ye.jsx)(Bv,(0,i.Z)({id:`menu-${_||""}`,anchorEl:B,open:X,onClose:e=>{H(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,i.Z)({"aria-labelledby":g,role:"listbox",disableListWrap:!0},y.MenuListProps),PaperProps:(0,i.Z)({},y.PaperProps,{style:(0,i.Z)({minWidth:re},null!=y.PaperProps?y.PaperProps.style:null)}),children:te}))]})})),r_=n_,i_=(0,an.Z)((0,ye.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");var o_,a_;const s_=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],l_=n.forwardRef((function(e,t){const r=(0,Ee.Z)({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:a,classes:s={},className:l,defaultOpen:u=!1,displayEmpty:c=!1,IconComponent:h=i_,id:p,input:d,inputProps:f,label:m,labelId:g,MenuProps:y,multiple:v=!1,native:_=!1,onClose:b,onOpen:x,open:w,renderValue:E,SelectDisplayProps:S,variant:C="outlined"}=r,T=(0,le.Z)(r,s_),I=_?Wv:r_,k=Yg({props:r,muiFormControl:hg(),states:["variant"]}).variant||C,P=d||{standard:o_||(o_=(0,ye.jsx)(my,{})),outlined:(0,ye.jsx)(Oy,{label:m}),filled:a_||(a_=(0,ye.jsx)(wy,{}))}[k],L=(e=>{const{classes:t}=e;return t})((0,i.Z)({},r,{classes:s})),M=(0,ht.Z)(t,P.ref);return n.cloneElement(P,(0,i.Z)({inputComponent:I,inputProps:(0,i.Z)({children:a,IconComponent:h,variant:k,type:void 0,multiple:v},_?{id:p}:{autoWidth:o,defaultOpen:u,displayEmpty:c,labelId:g,MenuProps:y,onClose:b,onOpen:x,open:w,renderValue:E,SelectDisplayProps:(0,i.Z)({id:p},S)},f,{classes:f?(0,pe.Z)(L,f.classes):L},d?d.props.inputProps:{})},v&&_&&"outlined"===k?{notched:!0}:{},{ref:M,className:(0,ue.Z)(P.props.className,l)},T))}));l_.muiName="Select";const u_=l_;function c_(e){return(0,et.Z)("MuiTextField",e)}(0,tt.Z)("MuiTextField",["root"]);const h_=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],p_={standard:my,filled:wy,outlined:Oy},d_=(0,Je.ZP)(Yy,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),f_=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:a,className:s,color:l="primary",defaultValue:u,disabled:c=!1,error:h=!1,FormHelperTextProps:p,fullWidth:d=!1,helperText:f,id:m,InputLabelProps:g,inputProps:y,InputProps:v,inputRef:_,label:b,maxRows:x,minRows:w,multiline:E=!1,name:S,onBlur:C,onChange:T,onFocus:I,placeholder:k,required:P=!1,rows:L,select:M=!1,SelectProps:A,type:O,value:R,variant:N="outlined"}=n,D=(0,le.Z)(n,h_),z=(0,i.Z)({},n,{autoFocus:o,color:l,disabled:c,error:h,fullWidth:d,multiline:E,required:P,select:M,variant:N}),F=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"]},c_,t)})(z),B={};"outlined"===N&&(g&&void 0!==g.shrink&&(B.notched=g.shrink),B.label=b),M&&(A&&A.native||(B.id=void 0),B["aria-describedby"]=void 0);const j=(0,If.Z)(m),Z=f&&j?`${j}-helper-text`:void 0,U=b&&j?`${j}-label`:void 0,q=p_[N],V=(0,ye.jsx)(q,(0,i.Z)({"aria-describedby":Z,autoComplete:r,autoFocus:o,defaultValue:u,fullWidth:d,multiline:E,name:S,rows:L,maxRows:x,minRows:w,type:O,value:R,id:j,inputRef:_,onBlur:C,onChange:T,onFocus:I,placeholder:k,inputProps:y},B,v));return(0,ye.jsxs)(d_,(0,i.Z)({className:(0,ue.Z)(F.root,s),disabled:c,error:h,fullWidth:d,ref:t,required:P,color:l,variant:N,ownerState:z},D,{children:[b&&(0,ye.jsx)(Vy,(0,i.Z)({htmlFor:j,id:U},g,{children:b})),M?(0,ye.jsx)(u_,(0,i.Z)({"aria-describedby":Z,id:j,labelId:U,value:R,input:V},A,{children:a})):V,f&&(0,ye.jsx)(tv,(0,i.Z)({id:Z},p,{children:f}))]}))})),m_=f_;var g_=Lo((function(e){return{SearchBox:{cursor:"pointer",display:"flex",alignItems:"flex-end",backgroundColor:"#F8F9FA",color:"#000000",height:"48px",borderRadius:e.spacing(.75),"&:hover":{backgroundColor:"#c5c6c7"}},SearchBoxInput:{color:"#000000"},SeachBoxIcon:{color:"#000000",margin:e.spacing(1)},customTextField:{cursor:"pointer",color:"#000000",fontSize:"0.875rem",fontWeight:"500","& input":{cursor:"pointer",color:"#000000",fontSize:"0.875rem",fontWeight:"500",marginRight:e.spacing(1),marginBottom:e.spacing(.65),paddingBottom:e.spacing(.25)},"& label":{cursor:"pointer",color:"#000000",fontSize:"0.875rem",fontWeight:"500",borderBottomColor:"#657A8E",marginTop:e.spacing(-.5),zIndex:"100"},"& label.MuiInputLabel-shrink":{fontSize:"1rem",fontWeight:"400",color:"#657A8E",marginTop:e.spacing(.5)},"& label.Mui-focused":{color:"#000000",fontSize:"1rem",fontWeight:"400",marginTop:e.spacing(.5)},"& .Mui-focused input":{cursor:"text",borderBottomColor:"#657A8E",borderBottomWidth:"2px",borderBottomStyle:"solid",marginBottom:"3px"}}}}));function y_(e){var t=g_();return n.createElement(we,{p:.75},n.createElement(we,{className:t.SearchBox},n.createElement(Ug,{className:t.SeachBoxIcon}),n.createElement(m_,{id:"input-custom-search",fullWidth:!0,label:"Search for a County or Watershed","aria-label":"Search for a County or Watershed",variant:"standard",className:t.customTextField,InputProps:{disableUnderline:!0},InputLabelProps:{className:t.SearchBoxInput}})))}const v_=(0,an.Z)((0,ye.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z"}),"FileUploadOutlined");var __=a(55733),b_=a.n(__),x_=a(46446),w_=function(){var e=(0,Jc.Z)(eh().mark((function e(t,n,r){var i;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Promise((function(e,i){if(void 0!==t){var o=new FileReader;o.onload=function(t){e(t.target.result)},o.onerror=function(e){i(e)},o[n](t)}else r?e():i(new Error("No file specified."))})),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),E_=function(e){return e.split(".").pop()},S_=function(e){var t={top:[]};return e.forEach((function(e){var n=e.name.split("/").slice(0,-1).join("");n||(n="top"),t[n]||(t[n]=[]),t[n].push(e)})),t},C_=function(e){var t=["geojson","json","shp","dbf","prj"].filter((function(t){return t===E_(e.name)})).length;return Boolean(t)},T_=function(){var e=(0,Jc.Z)(eh().mark((function e(t){var n,r,i,o,a,s,l,u;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new(b_()),e.prev=1,e.next=4,n.loadAsync(t).then((function(e){var t=[];return Object.keys(e.files).forEach((function(n){var r=e.files[n];r.dir||t.push(r)})),S_(t)}));case 4:r=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),r={};case 10:i=[],o=Object.keys(r),a=0;case 13:if(!(a<o.length)){e.next=23;break}return s=o[a],l=r[s].filter((function(e){return C_(e)})).map((function(e){try{var t=e.name.split("/").slice(-1).join("");return e.async("blob").then((function(e){return new File([e],t)}))}catch(e){return null}})).filter((function(e){return e})),e.next=18,Promise.all(l);case 18:u=e.sent,i.push(u);case 20:a+=1,e.next=13;break;case 23:return e.abrupt("return",i);case 24:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),I_=function(){var e=(0,Jc.Z)(eh().mark((function e(t){var n,r,i,o,a,s,l,u,c=arguments;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"readAsArrayBuffer",r=!(c.length>2&&void 0!==c[2])||c[2],"zip"===E_(t.name)){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,T_(t);case 7:return i=(i=e.sent)[0],o=i.filter((function(e){return"shp"===E_(e.name)}))[0],a=i.filter((function(e){return"dbf"===E_(e.name)}))[0],e.next=13,w_(o,n,r);case 13:return s=e.sent,e.next=16,w_(a,n,r);case 16:return l=e.sent,e.next=19,x_.read(s,l);case 19:return u=e.sent,e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k_=Lo((function(e){return{actionButton:{height:e.spacing(4.5),textTransform:"none",justifyContent:"start"}}}));function P_(e){var t=e.setTooLargeLayerOpen,r=k_(),i=ne(),o=Xe(n.useState(null),2),a=o[0],s=o[1];return n.useEffect((function(){if(a){if(a.size>1e11)return t(!0),void s(null);I_(a).then((function(e){i(Vp(e))}))}}),[a,s,i,t]),n.createElement(we,{p:.75},n.createElement(ss,{variant:"contained",color:"CRESTPrimary",fullWidth:!0,"aria-label":"Upload Shapefile",className:r.actionButton,component:"label",startIcon:n.createElement(v_,null)},"Upload Shapefile",n.createElement("input",{type:"file",accept:".zip",onChange:function(e){e.target.files&&s(e.target.files[0])},style:{display:"none"}})))}P_.propTypes={setTooLargeLayerOpen:Oo().func};var L_=Lo((function(e){return{actionButton:{height:e.spacing(4.5),padding:e.spacing(.375)}}}));function M_(e){var t=e.children,r=e.ariaLabel,i=L_();return n.createElement(Id,{variant:"contained",color:"CRESTPrimary",className:i.actionButton,"aria-label":r},t)}M_.propTypes={children:Oo().node.isRequired,ariaLabel:Oo().string.isRequired};var A_=Lo((function(e){return{contentGrid:{height:"250px",padding:e.spacing(0),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"},titleBox:{display:"flex",flexWrap:"nowrap",alignItems:"center"},titleBoxTypography:{cursor:"default",width:"100%",alignItems:"center"}}}));function O_(e){var t=A_(),r=e.map,i=e.bufferCheckbox,o=e.setBufferCheckbox,a=e.drawAreaDisabled,s=e.setTooLargeLayerOpen;return n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",className:t.contentGrid},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{px:1,py:.75,className:t.titleBox},n.createElement(Ad,null),n.createElement(Uo,{px:1,className:t.titleBoxTypography},"Add an area to analyze"),n.createElement(M_,{ariaLabel:"Help"},n.createElement(ig,null)),n.createElement(M_,{ariaLabel:"Minimize"},n.createElement(og,null)))),n.createElement(ct,{item:!0,xs:12},n.createElement(Zg,{map:r,disabled:a})),n.createElement(ct,{item:!0,xs:12},n.createElement(P_,{setTooLargeLayerOpen:s})),n.createElement(ct,{item:!0,xs:12},n.createElement(y_,null)),n.createElement(ct,{item:!0,xs:12},n.createElement(Fg,{bufferCheckbox:i,setBufferCheckbox:o})))}O_.propTypes={bufferCheckbox:Oo().bool,map:Oo().object,setBufferCheckbox:Oo().func,drawAreaDisabled:Oo().bool,setTooLargeLayerOpen:Oo().func};const R_=(0,an.Z)((0,ye.jsx)("path",{d:"M5 11h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2zm0 10h4c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2zm8-16v4c0 1.1.9 2 2 2h4c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2zm2 16h4c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2h-4c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2z"}),"GridViewRounded"),N_=(0,an.Z)((0,ye.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNone");function D_(e){return(0,et.Z)("MuiCollapse",e)}(0,tt.Z)("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const z_=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],F_=(0,Je.ZP)("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((({theme:e,ownerState:t})=>(0,i.Z)({height:0,overflow:"hidden",transition:e.transitions.create("height")},"horizontal"===t.orientation&&{height:"auto",width:0,transition:e.transitions.create("width")},"entered"===t.state&&(0,i.Z)({height:"auto",overflow:"visible"},"horizontal"===t.orientation&&{width:"auto"}),"exited"===t.state&&!t.in&&"0px"===t.collapsedSize&&{visibility:"hidden"}))),B_=(0,Je.ZP)("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((({ownerState:e})=>(0,i.Z)({display:"flex",width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),j_=(0,Je.ZP)("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((({ownerState:e})=>(0,i.Z)({width:"100%"},"horizontal"===e.orientation&&{width:"auto",height:"100%"}))),Z_=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiCollapse"}),{addEndListener:o,children:a,className:s,collapsedSize:l="0px",component:u,easing:c,in:h,onEnter:p,onEntered:d,onEntering:f,onExit:m,onExited:g,onExiting:y,orientation:v="vertical",style:_,timeout:b=um.x9.standard,TransitionComponent:x=lm}=r,w=(0,le.Z)(r,z_),E=(0,i.Z)({},r,{orientation:v,collapsedSize:l}),S=(e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return(0,Ke.Z)(r,D_,n)})(E),C=Yt(),T=n.useRef(),I=n.useRef(null),k=n.useRef(),P="number"==typeof l?`${l}px`:l,L="horizontal"===v,M=L?"width":"height";n.useEffect((()=>()=>{clearTimeout(T.current)}),[]);const A=n.useRef(null),O=(0,ht.Z)(t,A),R=e=>t=>{if(e){const n=A.current;void 0===t?e(n):e(n,t)}},N=()=>I.current?I.current[L?"clientWidth":"clientHeight"]:0,D=R(((e,t)=>{I.current&&L&&(I.current.style.position="absolute"),e.style[M]=P,p&&p(e,t)})),z=R(((e,t)=>{const n=N();I.current&&L&&(I.current.style.position="");const{duration:r,easing:i}=hm({style:_,timeout:b,easing:c},{mode:"enter"});if("auto"===b){const t=C.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,k.current=t}else e.style.transitionDuration="string"==typeof r?r:`${r}ms`;e.style[M]=`${n}px`,e.style.transitionTimingFunction=i,f&&f(e,t)})),F=R(((e,t)=>{e.style[M]="auto",d&&d(e,t)})),B=R((e=>{e.style[M]=`${N()}px`,m&&m(e)})),j=R(g),Z=R((e=>{const t=N(),{duration:n,easing:r}=hm({style:_,timeout:b,easing:c},{mode:"exit"});if("auto"===b){const n=C.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,k.current=n}else e.style.transitionDuration="string"==typeof n?n:`${n}ms`;e.style[M]=P,e.style.transitionTimingFunction=r,y&&y(e)}));return(0,ye.jsx)(x,(0,i.Z)({in:h,onEnter:D,onEntered:F,onEntering:z,onExit:B,onExited:j,onExiting:Z,addEndListener:e=>{"auto"===b&&(T.current=setTimeout(e,k.current||0)),o&&o(A.current,e)},nodeRef:A,timeout:"auto"===b?null:b},w,{children:(e,t)=>(0,ye.jsx)(F_,(0,i.Z)({as:u,className:(0,ue.Z)(S.root,s,{entered:S.entered,exited:!h&&"0px"===P&&S.hidden}[e]),style:(0,i.Z)({[L?"minWidth":"minHeight"]:P},_),ownerState:(0,i.Z)({},E,{state:e}),ref:O},t,{children:(0,ye.jsx)(B_,{ownerState:(0,i.Z)({},E,{state:e}),className:S.wrapper,ref:I,children:(0,ye.jsx)(j_,{ownerState:(0,i.Z)({},E,{state:e}),className:S.wrapperInner,children:a})})}))}))}));Z_.muiSupportAuto=!0;const U_=Z_;var q_=Lo((function(e){return{hold:{padding:e.spacing(1)},gridHolder:{marginTop:e.spacing(.1),marginBottom:e.spacing(1),border:"1px solid ".concat(e.palette.CRESTBorderColor.main)},rightActionButton:{height:e.spacing(4.5),padding:e.spacing(.375),justifyContent:"end"},titleBox:{cursor:"pointer",display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",height:"54px",paddingBottom:e.spacing(.5),backgroundColor:e.palette.CRESTGridBackground.dark,"&:hover":{backgroundColor:"#6f6f6f"}},titleBoxTypography:{cursor:"default",display:"flex",width:"100%",fontWeight:"bold"},itemRow:{cursor:"pointer",backgroundColor:e.palette.CRESTGridBackground.dark,"&:hover":{backgroundColor:"#6f6f6f"}},itemRowSelected:{cursor:"pointer",backgroundColor:e.palette.CRESTDarkAlt.main,"&:hover":{backgroundColor:"#6f6f6f"}}}}));function V_(e){var t=e.selectedValue,r=e.menuName,i=e.menuItems,o=e.onClick,a=e.itemOnClick,s=q_(),l=function(e){o(e)};return n.createElement(ct,{container:!0,spacing:0,className:s.gridHolder},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{px:1,py:.75,className:s.titleBox,onClick:l},n.createElement(Uo,{px:1,variant:"h6",component:"div",className:s.titleBoxTypography},r),n.createElement(Id,{variant:"contained",color:"CRESTPrimary",className:s.rightActionButton,"aria-label":"Minimize",onClick:l},n.createElement(og,{sx:{transform:"rotate(-180deg)"}}))),n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center"},n.createElement(ct,{item:!0,xs:12},n.createElement($o,{variant:"middle"})))),i.map((function(e){return n.createElement(ct,{key:e.label,container:!0,spacing:0,justifyContent:"center",alignItems:"center",className:t===e.label?s.itemRowSelected:s.itemRow,onClick:function(t){l(t),function(e){a(e)}(e.label)}},n.createElement(ct,{item:!0,xs:8,sx:{padding:"8px"}},n.createElement(we,{px:1,py:.75},e.label)),n.createElement(ct,{item:!0,xs:4,sx:{padding:"8px"}},n.createElement("img",{src:e.image,style:{width:"54px",height:"31px"}})))})))}V_.propTypes={selectedValue:Oo().string.isRequired,menuName:Oo().string.isRequired,menuItems:Oo().array.isRequired,onClick:Oo().func.isRequired,itemOnClick:Oo().func.isRequired};var G_=Lo((function(e){return{ChangeItemButton:{width:"100%",borderRadius:e.spacing(.5),paddingLeft:e.spacing(2),height:"60px",textTransform:"none",display:"flex",justifyContent:"start","&:hover":{backgroundColor:"#6f6f6f"}},buttonHolder:{display:"flex",alignItems:"center",justifyContent:"start"},buttonIcon:{display:"flex",alignItems:"center"},buttonMainLabel:{display:"flex",fontSize:"1rem",fontWeight:"500",justifyContent:"start",lineHeight:"1",paddingBottom:e.spacing(.5)},buttonNameLabel:{display:"flex",fontSize:"0.88rem",fontWeight:"400",justifyContent:"start",width:"100%",lineHeight:"1",paddingTop:e.spacing(.5)},labelHolder:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"start"}}}));function H_(e){var t=G_(),r=e.children,i=e.buttonMainLabel,o=e.buttonNameLabel,a=e.buttonName,s=e.menuItems,l=e.showMenu,u=e.onClick,c=e.itemOnClick;return n.createElement(ct,{container:!0,spacing:0,className:t.buttonHolder},n.createElement(ct,{item:!0,xs:12},n.createElement(ss,{variant:"contained",color:"CRESTDarkAlt",fullWidth:!0,"aria-label":a,className:t.ChangeItemButton,onClick:u},n.createElement(we,{component:"div",className:t.buttonIcon,pr:2},r),n.createElement("div",{className:t.labelHolder},n.createElement(we,{component:"div",className:t.buttonMainLabel},i),n.createElement(we,{component:"div",className:t.buttonNameLabel,pb:.5},o)))),n.createElement(ct,{item:!0,xs:12},n.createElement(U_,{in:l},n.createElement(V_,{selectedValue:o,onClick:u,itemOnClick:c,menuName:a,menuItems:s}))))}H_.propTypes={children:Oo().node.isRequired,buttonMainLabel:Oo().string.isRequired,buttonNameLabel:Oo().string.isRequired,buttonName:Oo().string.isRequired,menuItems:Oo().array.isRequired,showMenu:Oo().bool.isRequired,onClick:Oo().func.isRequired,itemOnClick:Oo().func.isRequired};const W_=n.createContext({});function $_(e){return(0,et.Z)("MuiAccordion",e)}const X_=(0,tt.Z)("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Y_=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","TransitionComponent","TransitionProps"],K_=(0,Je.ZP)(xa,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${X_.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&:before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:e.palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&:before":{display:"none"}},[`&.${X_.expanded}`]:{"&:before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&:before":{display:"none"}}},[`&.${X_.disabled}`]:{backgroundColor:e.palette.action.disabledBackground}}}),(({theme:e,ownerState:t})=>(0,i.Z)({},!t.square&&{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}},!t.disableGutters&&{[`&.${X_.expanded}`]:{margin:"16px 0"}}))),J_=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiAccordion"}),{children:o,className:a,defaultExpanded:s=!1,disabled:l=!1,disableGutters:u=!1,expanded:c,onChange:h,square:p=!1,TransitionComponent:d=U_,TransitionProps:f}=r,m=(0,le.Z)(r,Y_),[g,y]=(0,vg.Z)({controlled:c,default:s,name:"Accordion",state:"expanded"}),v=n.useCallback((e=>{y(!g),h&&h(e,!g)}),[g,h,y]),[_,...b]=n.Children.toArray(o),x=n.useMemo((()=>({expanded:g,disabled:l,disableGutters:u,toggle:v})),[g,l,u,v]),w=(0,i.Z)({},r,{square:p,disabled:l,disableGutters:u,expanded:g}),E=(e=>{const{classes:t,square:n,expanded:r,disabled:i,disableGutters:o}=e,a={root:["root",!n&&"rounded",r&&"expanded",i&&"disabled",!o&&"gutters"],region:["region"]};return(0,Ke.Z)(a,$_,t)})(w);return(0,ye.jsxs)(K_,(0,i.Z)({className:(0,ue.Z)(E.root,a),ref:t,ownerState:w,square:p},m,{children:[(0,ye.jsx)(W_.Provider,{value:x,children:_}),(0,ye.jsx)(d,(0,i.Z)({in:g,timeout:"auto"},f,{children:(0,ye.jsx)("div",{"aria-labelledby":_.props.id,id:_.props["aria-controls"],role:"region",className:E.region,children:b})}))]}))}));function Q_(e){return(0,et.Z)("MuiAccordionSummary",e)}const eb=(0,tt.Z)("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),tb=["children","className","expandIcon","focusVisibleClassName","onClick"],nb=(0,Je.ZP)(Ut,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e,ownerState:t})=>{const n={duration:e.transitions.duration.shortest};return(0,i.Z)({display:"flex",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],n),[`&.${eb.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${eb.disabled}`]:{opacity:e.palette.action.disabledOpacity},[`&:hover:not(.${eb.disabled})`]:{cursor:"pointer"}},!t.disableGutters&&{[`&.${eb.expanded}`]:{minHeight:64}})})),rb=(0,Je.ZP)("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",flexGrow:1,margin:"12px 0"},!t.disableGutters&&{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${eb.expanded}`]:{margin:"20px 0"}}))),ib=(0,Je.ZP)("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((({theme:e})=>({display:"flex",color:e.palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${eb.expanded}`]:{transform:"rotate(180deg)"}}))),ob=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiAccordionSummary"}),{children:o,className:a,expandIcon:s,focusVisibleClassName:l,onClick:u}=r,c=(0,le.Z)(r,tb),{disabled:h=!1,disableGutters:p,expanded:d,toggle:f}=n.useContext(W_),m=(0,i.Z)({},r,{expanded:d,disabled:h,disableGutters:p}),g=(e=>{const{classes:t,expanded:n,disabled:r,disableGutters:i}=e,o={root:["root",n&&"expanded",r&&"disabled",!i&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!i&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]};return(0,Ke.Z)(o,Q_,t)})(m);return(0,ye.jsxs)(nb,(0,i.Z)({focusRipple:!1,disableRipple:!0,disabled:h,component:"div","aria-expanded":d,className:(0,ue.Z)(g.root,a),focusVisibleClassName:(0,ue.Z)(g.focusVisible,l),onClick:e=>{f&&f(e),u&&u(e)},ref:t,ownerState:m},c,{children:[(0,ye.jsx)(rb,{className:g.content,ownerState:m,children:o}),s&&(0,ye.jsx)(ib,{className:g.expandIconWrapper,ownerState:m,children:s})]}))}));function ab(e){return(0,et.Z)("MuiAccordionDetails",e)}(0,tt.Z)("MuiAccordionDetails",["root"]);const sb=["className"],lb=(0,Je.ZP)("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((({theme:e})=>({padding:e.spacing(1,2,2)}))),ub=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiAccordionDetails"}),{className:r}=n,o=(0,le.Z)(n,sb),a=n,s=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"]},ab,t)})(a);return(0,ye.jsx)(lb,(0,i.Z)({className:(0,ue.Z)(s.root,r),ref:t,ownerState:a},o))}));var cb=a(7447);const hb=(0,an.Z)((0,ye.jsx)("path",{fillRule:"evenodd",d:"M13 9.5h5v-2h-5v2zm0 7h5v-2h-5v2zm6 4.5H5c-1.1 0-2-.9-2-2V5c0-1.1.9-2 2-2h14c1.1 0 2 .9 2 2v14c0 1.1-.9 2-2 2zM6 11h5V6H6v5zm1-4h3v3H7V7zM6 18h5v-5H6v5zm1-4h3v3H7v-3z"}),"Ballot"),pb=(0,an.Z)((0,ye.jsx)("path",{d:"M13 7.5h5v2h-5zm0 7h5v2h-5zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM11 6H6v5h5V6zm-1 4H7V7h3v3zm1 3H6v5h5v-5zm-1 4H7v-3h3v3z"}),"BallotOutlined"),db=(0,an.Z)((0,ye.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutlineOutlined"),fb=(0,an.Z)((0,ye.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function mb(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function gb(e){return e instanceof mb(e).Element||e instanceof Element}function yb(e){return e instanceof mb(e).HTMLElement||e instanceof HTMLElement}function vb(e){return"undefined"!=typeof ShadowRoot&&(e instanceof mb(e).ShadowRoot||e instanceof ShadowRoot)}var _b=Math.max,bb=Math.min,xb=Math.round;function wb(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(yb(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=xb(n.width)/a||1),o>0&&(i=xb(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Eb(e){var t=mb(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Sb(e){return e?(e.nodeName||"").toLowerCase():null}function Cb(e){return((gb(e)?e.ownerDocument:e.document)||window.document).documentElement}function Tb(e){return wb(Cb(e)).left+Eb(e).scrollLeft}function Ib(e){return mb(e).getComputedStyle(e)}function kb(e){var t=Ib(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Pb(e,t,n){void 0===n&&(n=!1);var r,i,o=yb(t),a=yb(t)&&function(e){var t=e.getBoundingClientRect(),n=xb(t.width)/e.offsetWidth||1,r=xb(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=Cb(t),l=wb(e,a),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==Sb(t)||kb(s))&&(u=(r=t)!==mb(r)&&yb(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:Eb(r)),yb(t)?((c=wb(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=Tb(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function Lb(e){var t=wb(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Mb(e){return"html"===Sb(e)?e:e.assignedSlot||e.parentNode||(vb(e)?e.host:null)||Cb(e)}function Ab(e){return["html","body","#document"].indexOf(Sb(e))>=0?e.ownerDocument.body:yb(e)&&kb(e)?e:Ab(Mb(e))}function Ob(e,t){var n;void 0===t&&(t=[]);var r=Ab(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=mb(r),a=i?[o].concat(o.visualViewport||[],kb(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Ob(Mb(a)))}function Rb(e){return["table","td","th"].indexOf(Sb(e))>=0}function Nb(e){return yb(e)&&"fixed"!==Ib(e).position?e.offsetParent:null}function Db(e){for(var t=mb(e),n=Nb(e);n&&Rb(n)&&"static"===Ib(n).position;)n=Nb(n);return n&&("html"===Sb(n)||"body"===Sb(n)&&"static"===Ib(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&yb(e)&&"fixed"===Ib(e).position)return null;var n=Mb(e);for(vb(n)&&(n=n.host);yb(n)&&["html","body"].indexOf(Sb(n))<0;){var r=Ib(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var zb="top",Fb="bottom",Bb="right",jb="left",Zb="auto",Ub=[zb,Fb,Bb,jb],qb="start",Vb="end",Gb="viewport",Hb="popper",Wb=Ub.reduce((function(e,t){return e.concat([t+"-"+qb,t+"-"+Vb])}),[]),$b=[].concat(Ub,[Zb]).reduce((function(e,t){return e.concat([t,t+"-"+qb,t+"-"+Vb])}),[]),Xb=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Yb(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Kb(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Jb={placement:"bottom",modifiers:[],strategy:"absolute"};function Qb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ex(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Jb:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Jb,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"==typeof n?n(i.options):n;u(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:gb(e)?Ob(e):e.contextElement?Ob(e.contextElement):[],popper:Ob(t)};var c,h,p=function(e){var t=Yb(e);return Xb.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((c=[].concat(r,i.options.modifiers),h=c.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(h).map((function(e){return h[e]}))));return i.orderedModifiers=p.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"==typeof o){var s=o({state:i,name:t,instance:l,options:r});a.push(s||function(){})}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Qb(t,n)){i.rects={reference:Pb(t,Db(n),"fixed"===i.options.strategy),popper:Lb(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,u=o.options,c=void 0===u?{}:u,h=o.name;"function"==typeof a&&(i=a({state:i,options:c,name:h,instance:l})||i)}else i.reset=!1,r=-1}}},update:Kb((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){u(),s=!0}};if(!Qb(e,t))return l;function u(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var tx={passive:!0};const nx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=mb(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,tx)})),s&&l.addEventListener("resize",n.update,tx),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,tx)})),s&&l.removeEventListener("resize",n.update,tx)}},data:{}};function rx(e){return e.split("-")[0]}function ix(e){return e.split("-")[1]}function ox(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ax(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?rx(i):null,a=i?ix(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case zb:t={x:s,y:n.y-r.height};break;case Fb:t={x:s,y:n.y+n.height};break;case Bb:t={x:n.x+n.width,y:l};break;case jb:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?ox(o):null;if(null!=u){var c="y"===u?"height":"width";switch(a){case qb:t[u]=t[u]-(n[c]/2-r[c]/2);break;case Vb:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var sx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lx(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,h=e.isFixed,p=a.x,d=void 0===p?0:p,f=a.y,m=void 0===f?0:f,g="function"==typeof c?c({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var y=a.hasOwnProperty("x"),v=a.hasOwnProperty("y"),_=jb,b=zb,x=window;if(u){var w=Db(n),E="clientHeight",S="clientWidth";w===mb(n)&&"static"!==Ib(w=Cb(n)).position&&"absolute"===s&&(E="scrollHeight",S="scrollWidth"),(i===zb||(i===jb||i===Bb)&&o===Vb)&&(b=Fb,m-=(h&&w===x&&x.visualViewport?x.visualViewport.height:w[E])-r.height,m*=l?1:-1),i!==jb&&(i!==zb&&i!==Fb||o!==Vb)||(_=Bb,d-=(h&&w===x&&x.visualViewport?x.visualViewport.width:w[S])-r.width,d*=l?1:-1)}var C,T=Object.assign({position:s},u&&sx),I=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:xb(t*r)/r||0,y:xb(n*r)/r||0}}({x:d,y:m}):{x:d,y:m};return d=I.x,m=I.y,l?Object.assign({},T,((C={})[b]=v?"0":"",C[_]=y?"0":"",C.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",C)):Object.assign({},T,((t={})[b]=v?m+"px":"",t[_]=y?d+"px":"",t.transform="",t))}const ux={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:rx(t.placement),variation:ix(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,lx(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,lx(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},cx={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];yb(i)&&Sb(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});yb(r)&&Sb(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},hx={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=$b.reduce((function(e,n){return e[n]=function(e,t,n){var r=rx(e),i=[jb,zb].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[jb,Bb].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=a}};var px={left:"right",right:"left",bottom:"top",top:"bottom"};function dx(e){return e.replace(/left|right|bottom|top/g,(function(e){return px[e]}))}var fx={start:"end",end:"start"};function mx(e){return e.replace(/start|end/g,(function(e){return fx[e]}))}function gx(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&vb(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function yx(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function vx(e,t){return t===Gb?yx(function(e){var t=mb(e),n=Cb(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+Tb(e),y:s}}(e)):gb(t)?function(e){var t=wb(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):yx(function(e){var t,n=Cb(e),r=Eb(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=_b(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=_b(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Tb(e),l=-r.scrollTop;return"rtl"===Ib(i||n).direction&&(s+=_b(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(Cb(e)))}function _x(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function bx(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function xx(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?Gb:s,u=n.elementContext,c=void 0===u?Hb:u,h=n.altBoundary,p=void 0!==h&&h,d=n.padding,f=void 0===d?0:d,m=_x("number"!=typeof f?f:bx(f,Ub)),g=c===Hb?"reference":Hb,y=e.rects.popper,v=e.elements[p?g:c],_=function(e,t,n){var r="clippingParents"===t?function(e){var t=Ob(Mb(e)),n=["absolute","fixed"].indexOf(Ib(e).position)>=0&&yb(e)?Db(e):e;return gb(n)?t.filter((function(e){return gb(e)&&gx(e,n)&&"body"!==Sb(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=vx(e,n);return t.top=_b(r.top,t.top),t.right=bb(r.right,t.right),t.bottom=bb(r.bottom,t.bottom),t.left=_b(r.left,t.left),t}),vx(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(gb(v)?v:v.contextElement||Cb(e.elements.popper),a,l),b=wb(e.elements.reference),x=ax({reference:b,element:y,strategy:"absolute",placement:i}),w=yx(Object.assign({},y,x)),E=c===Hb?w:b,S={top:_.top-E.top+m.top,bottom:E.bottom-_.bottom+m.bottom,left:_.left-E.left+m.left,right:E.right-_.right+m.right},C=e.modifiersData.offset;if(c===Hb&&C){var T=C[i];Object.keys(S).forEach((function(e){var t=[Bb,Fb].indexOf(e)>=0?1:-1,n=[zb,Fb].indexOf(e)>=0?"y":"x";S[e]+=T[n]*t}))}return S}const wx={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,u=n.padding,c=n.boundary,h=n.rootBoundary,p=n.altBoundary,d=n.flipVariations,f=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,y=rx(g),v=l||(y!==g&&f?function(e){if(rx(e)===Zb)return[];var t=dx(e);return[mx(e),t,mx(t)]}(g):[dx(g)]),_=[g].concat(v).reduce((function(e,n){return e.concat(rx(n)===Zb?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?$b:l,c=ix(r),h=c?s?Wb:Wb.filter((function(e){return ix(e)===c})):Ub,p=h.filter((function(e){return u.indexOf(e)>=0}));0===p.length&&(p=h);var d=p.reduce((function(t,n){return t[n]=xx(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[rx(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:h,padding:u,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),b=t.rects.reference,x=t.rects.popper,w=new Map,E=!0,S=_[0],C=0;C<_.length;C++){var T=_[C],I=rx(T),k=ix(T)===qb,P=[zb,Fb].indexOf(I)>=0,L=P?"width":"height",M=xx(t,{placement:T,boundary:c,rootBoundary:h,altBoundary:p,padding:u}),A=P?k?Bb:jb:k?Fb:zb;b[L]>x[L]&&(A=dx(A));var O=dx(A),R=[];if(o&&R.push(M[I]<=0),s&&R.push(M[A]<=0,M[O]<=0),R.every((function(e){return e}))){S=T,E=!1;break}w.set(T,R)}if(E)for(var N=function(e){var t=_.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},D=f?3:1;D>0&&"break"!==N(D);D--);t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ex(e,t,n){return _b(e,bb(t,n))}const Sx={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,h=n.padding,p=n.tether,d=void 0===p||p,f=n.tetherOffset,m=void 0===f?0:f,g=xx(t,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),y=rx(t.placement),v=ix(t.placement),_=!v,b=ox(y),x="x"===b?"y":"x",w=t.modifiersData.popperOffsets,E=t.rects.reference,S=t.rects.popper,C="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"==typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,k={x:0,y:0};if(w){if(o){var P,L="y"===b?zb:jb,M="y"===b?Fb:Bb,A="y"===b?"height":"width",O=w[b],R=O+g[L],N=O-g[M],D=d?-S[A]/2:0,z=v===qb?E[A]:S[A],F=v===qb?-S[A]:-E[A],B=t.elements.arrow,j=d&&B?Lb(B):{width:0,height:0},Z=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=Z[L],q=Z[M],V=Ex(0,E[A],j[A]),G=_?E[A]/2-D-V-U-T.mainAxis:z-V-U-T.mainAxis,H=_?-E[A]/2+D+V+q+T.mainAxis:F+V+q+T.mainAxis,W=t.elements.arrow&&Db(t.elements.arrow),$=W?"y"===b?W.clientTop||0:W.clientLeft||0:0,X=null!=(P=null==I?void 0:I[b])?P:0,Y=O+H-X,K=Ex(d?bb(R,O+G-X-$):R,O,d?_b(N,Y):N);w[b]=K,k[b]=K-O}if(s){var J,Q="x"===b?zb:jb,ee="x"===b?Fb:Bb,te=w[x],ne="y"===x?"height":"width",re=te+g[Q],ie=te-g[ee],oe=-1!==[zb,jb].indexOf(y),ae=null!=(J=null==I?void 0:I[x])?J:0,se=oe?re:te-E[ne]-S[ne]-ae+T.altAxis,le=oe?te+E[ne]+S[ne]-ae-T.altAxis:ie,ue=d&&oe?function(e,t,n){var r=Ex(e,t,n);return r>n?n:r}(se,te,le):Ex(d?se:re,te,d?le:ie);w[x]=ue,k[x]=ue-te}t.modifiersData[r]=k}},requiresIfExists:["offset"]},Cx={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=rx(n.placement),l=ox(s),u=[jb,Bb].indexOf(s)>=0?"height":"width";if(o&&a){var c=function(e,t){return _x("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:bx(e,Ub))}(i.padding,n),h=Lb(o),p="y"===l?zb:jb,d="y"===l?Fb:Bb,f=n.rects.reference[u]+n.rects.reference[l]-a[l]-n.rects.popper[u],m=a[l]-n.rects.reference[l],g=Db(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=f/2-m/2,_=c[p],b=y-h[u]-c[d],x=y/2-h[u]/2+v,w=Ex(_,x,b),E=l;n.modifiersData[r]=((t={})[E]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&gx(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tx(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ix(e){return[zb,Bb,Fb,jb].some((function(t){return e[t]>=0}))}var kx=ex({defaultModifiers:[nx,{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=ax({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},ux,cx,hx,wx,Sx,Cx,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=xx(t,{elementContext:"reference"}),s=xx(t,{altBoundary:!0}),l=Tx(a,r),u=Tx(s,i,o),c=Ix(l),h=Ix(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]});const Px=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","TransitionProps"],Lx=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Mx(e){return"function"==typeof e?e():e}const Ax={},Ox=n.forwardRef((function(e,t){const{anchorEl:r,children:o,direction:a,disablePortal:s,modifiers:l,open:u,placement:c,popperOptions:h,popperRef:p,TransitionProps:d}=e,f=(0,le.Z)(e,Px),m=n.useRef(null),g=(0,Pf.Z)(m,t),y=n.useRef(null),v=(0,Pf.Z)(y,p),_=n.useRef(v);(0,Of.Z)((()=>{_.current=v}),[v]),n.useImperativeHandle(p,(()=>y.current),[]);const b=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(c,a),[x,w]=n.useState(b);n.useEffect((()=>{y.current&&y.current.forceUpdate()})),(0,Of.Z)((()=>{if(!r||!u)return;Mx(r);let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:e})=>{w(e.placement)}}];null!=l&&(e=e.concat(l)),h&&null!=h.modifiers&&(e=e.concat(h.modifiers));const t=kx(Mx(r),m.current,(0,i.Z)({placement:b},h,{modifiers:e}));return _.current(t),()=>{t.destroy(),_.current(null)}}),[r,s,l,u,h,b]);const E={placement:x};return null!==d&&(E.TransitionProps=d),(0,ye.jsx)("div",(0,i.Z)({ref:g,role:"tooltip"},f,{children:"function"==typeof o?o(E):o}))})),Rx=n.forwardRef((function(e,t){const{anchorEl:r,children:o,container:a,direction:s="ltr",disablePortal:l=!1,keepMounted:u=!1,modifiers:c,open:h,placement:p="bottom",popperOptions:d=Ax,popperRef:f,style:m,transition:g=!1}=e,y=(0,le.Z)(e,Lx),[v,_]=n.useState(!0);if(!u&&!h&&(!g||v))return null;const b=a||(r?(0,Lf.Z)(Mx(r)).body:void 0);return(0,ye.jsx)(Df,{disablePortal:l,container:b,children:(0,ye.jsx)(Ox,(0,i.Z)({anchorEl:r,direction:s,disablePortal:l,modifiers:c,ref:t,open:g?!v:h,placement:p,popperOptions:d,popperRef:f},y,{style:(0,i.Z)({position:"fixed",top:0,left:0,display:h||!u||g&&!v?null:"none"},m),TransitionProps:g?{in:h,onEnter:()=>{_(!1)},onExited:()=>{_(!0)}}:null,children:o}))})})),Nx=Rx,Dx=n.forwardRef((function(e,t){const n=(0,qe.Z)();return(0,ye.jsx)(Nx,(0,i.Z)({direction:null==n?void 0:n.direction},e,{ref:t}))}));function zx(e){return e.substring(2).toLowerCase()}const Fx=function(e){const{children:t,disableReactTree:r=!1,mouseEvent:i="onClick",onClickAway:o,touchEvent:a="onTouchEnd"}=e,s=n.useRef(!1),l=n.useRef(null),u=n.useRef(!1),c=n.useRef(!1);n.useEffect((()=>(setTimeout((()=>{u.current=!0}),0),()=>{u.current=!1})),[]);const h=(0,Pf.Z)(t.ref,l),p=(0,Mf.Z)((e=>{const t=c.current;c.current=!1;const n=(0,Lf.Z)(l.current);if(!u.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(s.current)return void(s.current=!1);let i;i=e.composedPath?e.composedPath().indexOf(l.current)>-1:!n.documentElement.contains(e.target)||l.current.contains(e.target),i||!r&&t||o(e)})),d=e=>n=>{c.current=!0;const r=t.props[e];r&&r(n)},f={ref:h};return!1!==a&&(f[a]=d(a)),n.useEffect((()=>{if(!1!==a){const e=zx(a),t=(0,Lf.Z)(l.current),n=()=>{s.current=!0};return t.addEventListener(e,p),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,p),t.removeEventListener("touchmove",n)}}}),[p,a]),!1!==i&&(f[i]=d(i)),n.useEffect((()=>{if(!1!==i){const e=zx(i),t=(0,Lf.Z)(l.current);return t.addEventListener(e,p),()=>{t.removeEventListener(e,p)}}}),[p,i]),(0,ye.jsx)(n.Fragment,{children:n.cloneElement(t,f)})};var Bx=Lo((function(e){var t;return{popupHolder:{zIndex:500,borderRadius:e.spacing(.5)},popupBox:(t={width:"450px",borderRadius:e.spacing(.5)},ka(t,e.breakpoints.down("md"),{width:"300px"}),ka(t,"backgroundColor",e.palette.CRESTLight.main),ka(t,"color",e.palette.CRESTLight.contrastText),ka(t,"border","1px solid ".concat(e.palette.CRESTLightBorderColor.main)),t),popupHeader:{backgroundColor:"#E6E6E6",padding:e.spacing(1),display:"flex",justifyContent:"center",alignItems:"center",borderTopRightRadius:e.spacing(.5),borderTopLeftRadius:e.spacing(.5)},popupTitle:{fontSize:"1.1rem",fontWeight:500,width:"100%",borderTopRightRadius:e.spacing(.5),borderTopLeftRadius:e.spacing(.5)},popupContent:{backgroundColor:e.palette.CRESTLight.main,color:e.palette.CRESTLight.contrastText,padding:e.spacing(1),borderBottomRightRadius:e.spacing(.5),borderBottomLeftRadius:e.spacing(.5)},rightActionButton:{color:e.palette.CRESTLight.contrastText,height:e.spacing(4.5),padding:e.spacing(.375),justifyContent:"end"},descriptionButton:{padding:e.spacing(.5)}}}));function jx(e){var t=e.layerName,r=e.layerDescription,i=Bx(),o=Xe((0,n.useState)(null),2),a=o[0],s=o[1],l=Xe((0,n.useState)(!1),2),u=l[0],c=l[1],h=Boolean(a),p=h?"simple-popper":void 0;return n.createElement(Fx,{onClickAway:null===a?function(){}:function(){s(null),c(!1)}},n.createElement(Id,{variant:"contained","aria-owns":h?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:function(e){s(e.currentTarget)},onMouseLeave:function(){u||s(null)},onClick:function(){c(!u)},className:i.descriptionButton},n.createElement(db,null),n.createElement(Dx,{id:p,open:h,placement:"bottom-end",anchorEl:a,className:i.popupHolder},n.createElement(we,{className:i.popupBox},n.createElement(we,{className:i.popupHeader},n.createElement(we,{className:i.popupTitle},t),n.createElement(Id,{variant:"contained",color:"CRESTPrimary",className:i.rightActionButton,"aria-label":"Minimize",onClick:function(){s(null)}},n.createElement(fb,null))),n.createElement(we,{className:i.popupContent},r)))))}jx.propTypes={layerName:Oo().string.isRequired,layerDescription:Oo().string.isRequired};var Zx=a(8267),Ux=a(1898),qx=Zx.act;function Vx(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a.g)return a.g;throw new Error("unable to locate global object")}function Gx(e){Vx().IS_REACT_ACT_ENVIRONMENT=e}function Hx(){return Vx().IS_REACT_ACT_ENVIRONMENT}var Wx,$x=(Wx=qx,function(e){var t=Hx();Gx(!0);try{var n=!1,r=Wx((function(){var t=e();return null!==t&&"object"==typeof t&&"function"==typeof t.then&&(n=!0),t}));if(n){var i=r;return{then:function(e,n){i.then((function(n){Gx(t),e(n)}),(function(e){Gx(t),n(e)}))}}}return Gx(t),r}catch(e){throw Gx(t),e}}),Xx=function(){return Ux.BX.apply(void 0,arguments)};Object.keys(Ux.BX).forEach((function(e){Xx[e]=function(){return Ux.BX[e].apply(Ux.BX,arguments)}}));var Yx=Xx.mouseEnter,Kx=Xx.mouseLeave;Xx.mouseEnter=function(){return Yx.apply(void 0,arguments),Xx.mouseOver.apply(Xx,arguments)},Xx.mouseLeave=function(){return Kx.apply(void 0,arguments),Xx.mouseOut.apply(Xx,arguments)};var Jx=Xx.pointerEnter,Qx=Xx.pointerLeave;Xx.pointerEnter=function(){return Jx.apply(void 0,arguments),Xx.pointerOver.apply(Xx,arguments)},Xx.pointerLeave=function(){return Qx.apply(void 0,arguments),Xx.pointerOut.apply(Xx,arguments)};var ew=Xx.select;Xx.select=function(e,t){ew(e,t),e.focus(),Xx.keyUp(e,t)};var tw,nw=Xx.blur,rw=Xx.focus;Xx.blur=function(){return Xx.focusOut.apply(Xx,arguments),nw.apply(void 0,arguments)},Xx.focus=function(){return Xx.focusIn.apply(Xx,arguments),rw.apply(void 0,arguments)},(0,Ux.jQ)({unstable_advanceTimersWrapper:function(e){return $x(e)},asyncWrapper:(tw=(0,Jc.Z)(eh().mark((function e(t){var n;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Hx(),Gx(!1),e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,Gx(n),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[2,,6,9]])}))),function(e){return tw.apply(this,arguments)}),eventWrapper:function(e){var t;return $x((function(){t=e()})),t}});var iw,ow=new Set,aw=[];function sw(){aw.forEach((function(e){var t=e.root,n=e.container;$x((function(){t.unmount()})),n.parentNode===document.body&&document.body.removeChild(n)})),aw.length=0,ow.clear()}if(("undefined"==typeof process||null==(iw=process.env)||!iw.RTL_SKIP_AUTO_CLEANUP)&&("function"==typeof afterEach?afterEach((function(){sw()})):"function"==typeof teardown&&teardown((function(){sw()})),"function"==typeof beforeAll&&"function"==typeof afterAll)){var lw=Hx();beforeAll((function(){lw=Hx(),Gx(!0)})),afterAll((function(){Gx(lw)}))}var uw=Lo((function(e){return{legendHolder:{transition:"all 0.75s ease",willChange:"transform",padding:e.spacing(1),display:"flex",justifyContent:"center",alignItems:"center"},low:{fontSize:"1rem",display:"flex",justifyContent:"start"},high:{fontSize:"1rem",display:"flex",justifyContent:"end"},legend:{height:"48px"},legendBoxLight:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,color:"#ffffff"},legendBoxDark:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:12,color:"#000000"},legendIsNotRreal:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600}}}));function cw(e){var t=e.layer,r=uw(),i=Object.values(t.chartCSSColor).slice(1),o=Object.entries(t.chartCSSColor).slice(1).map((function(e){var t=Xe(e,2),n=t[0];return[t[1],n]})),a=Object.fromEntries(o),s=Object.values(t.chartCSSColor).slice(1).map((function(e){return[e,a[e]]})),l=Object();l=Object.fromEntries(s);var u=Array.from(new Set(Object.values(i)));function c(e){var t="#"===e.charAt(0)?e.substring(1,7):e,n=[parseInt(t.substring(0,2),16)/255,parseInt(t.substring(2,4),16)/255,parseInt(t.substring(4,6),16)/255].map((function(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*n[0]+.7152*n[1]+.0722*n[2]>.12?r.legendBoxDark:r.legendBoxLight}return n.createElement(we,{m:1.5},n.createElement(ct,{container:!0,spacing:0},n.createElement(ct,{item:!0,xs:2,className:r.low},"Low"),n.createElement(ct,{item:!0,xs:8,className:r.legendIsNotRreal}),n.createElement(ct,{item:!0,xs:2,className:r.high},"High"),n.createElement(ct,{item:!0,xs:12,className:r.legendHolder},n.createElement(ct,{container:!0,spacing:0,m:0,p:0,className:r.legend},u.map((function(e){return n.createElement(ct,{item:!0,xs:12/u.length,key:t.id.concat("-",e),sx:{backgroundColor:e},className:c(e)},l[e])}))))))}cw.propTypes={layer:Oo().object.isRequired};var hw=Lo((function(e){return{layer:{height:"250px",padding:e.spacing(0),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"},layerName:{fontWeight:"400",fontSize:"0.9rem",letterSpacing:"0.02857em",width:"100%",cursor:"pointer",minHeight:"36px",height:"auto"},layerHolder:{minHeight:"36px",height:"auto",padding:"".concat(e.spacing(0)," ").concat(e.spacing(0)," ").concat(e.spacing(0)," ").concat(e.spacing(0)),display:"flex",flexWrap:"nowrap",alignItems:"center"},legendButton:{padding:e.spacing(.5)}}}));function pw(e){var t=e.layerData,r=hw(),i=ne(),o=ae((function(e){return e.mapLayerList.activeLayerList})),a=ae((function(e){return e.mapLayerList.displayedLegends})),s=t.id in o,l=function(e){i(Zd(t)),e.stopPropagation()};return n.createElement("div",null,n.createElement(we,{className:r.layerHolder},n.createElement(we,{component:"div",className:r.layerName,onClick:l},n.createElement(Dg,{color:"CRESTPrimary",checked:s,onClick:l}),t.label),n.createElement(we,null,n.createElement(Id,{onClick:function(e){i(qd(t)),e.stopPropagation()},className:r.legendButton},t.id in a?n.createElement(hb,null):n.createElement(pb,null))),n.createElement(jx,{layerName:t.label,layerDescription:t.description})),n.createElement(U_,{in:t.id in a},n.createElement(cw,{layer:t})))}pw.propTypes={layerData:Oo().object.isRequired};var dw=Lo((function(e){return{drivers:{backgroundColor:e.palette.CRESTDarkAlt.main,color:e.palette.CRESTDarkAlt.contrastText,marginTop:e.spacing(1),borderRadius:e.spacing(.5)},driverHeader:{height:"46px",minHeight:"46px",'& [class$="MuiAccordionSummary-content"]':{margin:e.spacing(.5)},"&:hover":{backgroundColor:"#6f6f6f",borderRadius:e.spacing(.5)}},subHeading:{fontWeight:"500",fontSize:"1rem",letterSpacing:"0.02857em"},darkDivder:{borderColor:"#FFFFFF"},driverAccordion:{paddong:e.spacing(0)}}}));function fw(e){var t=e.chartInputLabel,r=e.chartLayerList,i=dw(),o=ne(),a=ae((function(e){return e.mapLayerList.expandedCharts})).includes(t);return n.createElement(J_,{expanded:a,onChange:function(){o(Ud(t))},className:i.drivers,disableGutters:!0},n.createElement(ob,{expandIcon:n.createElement(cb.Z,null),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{height:"36px"},className:i.driverHeader},n.createElement(we,{className:i.subHeading},t)),n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center"},n.createElement(ct,{item:!0,xs:12},n.createElement($o,{variant:"middle",className:i.darkDivder}))),n.createElement(ub,{className:i.driverAccordion},n.createElement(we,{p:.5},r.map((function(e){return n.createElement(pw,{key:e.id,layerData:e})})))))}fw.propTypes={chartInputLabel:Oo().string.isRequired,chartLayerList:Oo().array.isRequired};var mw=Lo((function(e){return{subHeading:{fontWeight:"500",fontSize:"1rem",letterSpacing:"0.02857em"}}}));function gw(e){var t=e.subHeading,r=e.subLayers,i=mw();return n.createElement(we,{component:"div",pt:2},n.createElement(we,{component:"div",className:i.subHeading},t),function(e){return r.map((function(t){return n.createElement(pw,{key:t.id,layerData:t,layerName:e})}))}(t))}function yw(e){var t=e.chartLayerList,r={};return t.forEach((function(e){e.ChartInputSubHeading in r?r[e.ChartInputSubHeading].push(e):r[e.ChartInputSubHeading]=[e]})),n.createElement(we,{px:.5},Object.entries(r).map((function(e){var t=Xe(e,2),r=t[0],i=t[1];return n.createElement(gw,{key:r,subHeading:r,subLayers:i})})))}gw.propTypes={subLayers:Oo().array.isRequired,subHeading:Oo().string.isRequired},yw.propTypes={chartLayerList:Oo().array.isRequired};const vw=a.p+"assets/images/zoomregion-alaska.b3d5423e.png",_w=a.p+"assets/images/zoomregion-as.2c0ff8c1.png",bw=a.p+"assets/images/zoomregion-cus.466512c5.png",xw=a.p+"assets/images/zoomregion-guam.e5c08460.png",ww=a.p+"assets/images/zoomregion-hawaii.fa1703cd.png",Ew=a.p+"assets/images/zoomregion-cnmi.62a0d8cd.png",Sw=a.p+"assets/images/zoomregion-pr.9a976d6f.png",Cw=a.p+"assets/images/zoomregion-uvi.18eb36d0.png",Tw=a.p+"assets/images/basemap-dark.04a10eb0.png",Iw=a.p+"assets/images/basemap-imagery.f8c5e82e.png",kw=a.p+"assets/images/basemap-street.90bad225.jpg",Pw=a.p+"assets/images/basemap-topo.57aa59bc.jpg";var Lw=Lo((function(e){return{gridHolder:{height:"100%",paddingRight:e.spacing(0),overflowY:"scroll",backgroundColor:e.palette.CRESTGridBackground.dark,border:"1px solid ".concat(e.palette.CRESTBorderColor.main),placeContent:"flex-start"},rightActionButton:{height:e.spacing(4.5),padding:e.spacing(.375),justifyContent:"end"},titleBox:{display:"flex",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",height:"54px",paddingBottom:e.spacing(.5)},titleBoxTypography:{cursor:"default",display:"flex",width:"100%",fontWeight:"bold"},changeItemIcon:{fontSize:"1.75rem"}}})),Mw=[{label:"Dark Gray",image:Tw},{label:"Imagery",image:Iw},{label:"Topographic",image:Pw},{label:"Streets",image:kw}],Aw=[{label:"Alaska",image:vw},{label:"American Samoa",image:_w},{label:"Continental U.S",image:bw},{label:"Guam",image:xw},{label:"Hawai'i",image:ww},{label:"Northern Mariana Islands",image:Ew},{label:"Puerto Rico",image:Sw},{label:"US Virgin Islands",image:Cw}],Ow=th.regions;function Rw(){var e=Lw(),t=Xe((0,n.useState)(!1),2),r=t[0],i=t[1],o=Xe((0,n.useState)(!1),2),a=o[0],s=o[1],l=ne(),u=ae((function(e){return e.selectedRegion.value})),c=ae((function(e){return e.mapProperties.basemap})),h=Ow[u].layerList,p=Ow[u].chartInputs,d=p.filter((function(e){return"summary"===e.chartInputName})),f=p.filter((function(e){return"summary"!==e.chartInputName})),m=function(e){var t,r,i=(t=e,r=[],h.map((function(e){return e.ChartInputLabel===t&&(r.push(e),!0)})),r.length>0?r:[]);return"Summary"===e?n.createElement(yw,{key:e,chartInputLabel:e,chartLayerList:i}):n.createElement(fw,{key:e,chartInputLabel:e,chartLayerList:i})};return n.createElement(ct,{container:!0,spacing:0,className:e.gridHolder},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{px:1,py:.75,className:e.titleBox},n.createElement(Rd,null),n.createElement(Uo,{px:1,variant:"h6",component:"div",className:e.titleBoxTypography},"Map Layers"),n.createElement(Id,{variant:"contained",color:"CRESTPrimary",className:e.rightActionButton,"aria-label":"Minimize",onClick:function(){l(jd())}},n.createElement(og,{sx:{transform:"rotate(-180deg)"}}))),n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center"},n.createElement(ct,{item:!0,xs:12},n.createElement($o,{variant:"middle"})))),n.createElement(ct,{item:!0,xs:12,pt:2,px:2},n.createElement(H_,{buttonMainLabel:"Change Basemap",buttonNameLabel:c,buttonName:"Change Basemap",showMenu:r,menuItems:Mw,onClick:function(e){i(!r),e.stopPropagation()},itemOnClick:function(e){l(Dp(e))}},n.createElement(R_,{className:e.changeItemIcon}))),n.createElement(ct,{item:!0,xs:12,pt:1,px:2},n.createElement(H_,{buttonMainLabel:"Change Region",buttonNameLabel:u,buttonName:"Change Region",showMenu:a,menuItems:Aw,onClick:function(e){s(!a),e.stopPropagation()},itemOnClick:function(e){return Ow[e]?(l(hd(Ow[e].label)),l(pd(!0)),l(Mp(Ow[e].mapProperties.zoom)),l(Ap(Ow[e].mapProperties.center)),null):null}},n.createElement(N_,{className:e.changeItemIcon}))),n.createElement(ct,{item:!0,xs:12,px:2,pt:1},d.map((function(e){return m(e.ChartInputLabel)}))),n.createElement(ct,{item:!0,xs:12,px:2,pt:1,mt:2,mb:1},f.map((function(e){return m(e.ChartInputLabel)}))))}var Nw=a(15498),Dw=Ip({name:"analyzeArea",initialState:{isEmptyState:!0,isMore:{},isItAGraph:!0,isSortASC:!0,sortBy:"Resilience Hubs"},reducers:{changeEmptyState:function(e,t){e.isEmptyState=!e.isEmptyState},changeMore:function(e,t){e.isMore[t.payload]=!e.isMore[t.payload]},changeGraphTable:function(e,t){e.isItAGraph=!e.isItAGraph},changeSortDirection:function(e,t){e.isSortASC=!e.isSortASC},changeSortBy:function(e,t){e.sortBy=t.payload}}}),zw=Dw.actions,Fw=zw.changeEmptyState,Bw=zw.changeMore,jw=zw.changeGraphTable,Zw=zw.changeSortDirection;zw.changeSortBy;const Uw=Dw.reducer;var qw=Lo((function(e){return{actionButton:{borderRadius:0,maxHeight:e.spacing(8),textTransform:"none",flexWrap:"wrap","&:hover":{backgroundColor:"#6f6f6f"}},buttonHolder:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"}}}));function Vw(e){var t=qw(),r=e.children,i=e.buttonLabel,o=e.buttonName,a=e.onClick;return n.createElement(we,{className:t.buttonHolder},n.createElement(ss,{variant:"text",color:"CRESTPrimary",fullWidth:!0,"aria-label":o,className:t.actionButton,onClick:function(e){a(e)}},n.createElement(we,{component:"div",className:t.button,pt:.5},r),n.createElement(we,{component:"div",sclassName:t.button,pb:.5},i)))}Vw.propTypes={children:Oo().node.isRequired,buttonLabel:Oo().string.isRequired,buttonName:Oo().string.isRequired,onClick:Oo().func.isRequired};var Gw=Lo((function(e){return{CardBackground:{padding:e.spacing(1),backgroundColor:e.palette.CRESTGridBackground.dark,color:e.palette.CRESTGridBackground.contrastText,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px",height:"100%"},tempButtonBox:{padding:e.spacing(2),backgroundColor:e.palette.CRESTBlack.dark},EmptyStateBodyText:ka({},e.breakpoints.between("md","lg"),{fontSize:"0.9rem"})}}));function Hw(e){var t=Gw(),r=ne();return n.createElement(we,{variant:"outlined",square:!1,className:t.CardBackground},n.createElement(Uo,{variant:"h6",gutterBottom:!0},"To get started"),n.createElement(Uo,{variant:"body1",className:t.EmptyStateBodyText,gutterBottom:!0},"If you are interested in getting detailed statistics about a specfic place or a potential project site, you must add an area. This requires you to sketch an area on the map, upload a shapefile, or search for county or watershed."),n.createElement(Uo,{variant:"body1",className:t.EmptyStateBodyText,gutterBottom:!0},"The results will allow you to examine and compare your project site(s) by proximity to Resilience Hubs and explore and compare the Community Exposure and Fish and Wildlife Indices in the surrounding area."),n.createElement(ct,{container:!0,spacing:0,p:0,mt:0,mb:0,className:t.tempButtonBox},n.createElement(ct,{item:!0,xs:12},n.createElement(Vw,{buttonLabel:"View Chart UI",buttonName:"View Chart UI",onClick:function(e){e.stopPropagation(),r(Fw())}},n.createElement(Nw.Z,null)))))}var Ww=a(23279),$w=a.n(Ww),Xw=a(94184),Yw=a.n(Xw),Kw=function(e,t){return Kw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Kw(e,t)};var Jw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==a.g?a.g:"undefined"!=typeof self?self:{},Qw=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},eE="object"==typeof Jw&&Jw&&Jw.Object===Object&&Jw,tE="object"==typeof self&&self&&self.Object===Object&&self,nE=eE||tE||Function("return this")(),rE=nE,iE=/\s/,oE=function(e){for(var t=e.length;t--&&iE.test(e.charAt(t)););return t},aE=/^\s+/,sE=nE.Symbol,lE=sE,uE=Object.prototype,cE=uE.hasOwnProperty,hE=uE.toString,pE=lE?lE.toStringTag:void 0,dE=Object.prototype.toString,fE=function(e){var t=cE.call(e,pE),n=e[pE];try{e[pE]=void 0;var r=!0}catch(e){}var i=hE.call(e);return r&&(t?e[pE]=n:delete e[pE]),i},mE=function(e){return dE.call(e)},gE=sE?sE.toStringTag:void 0,yE=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":gE&&gE in Object(e)?fE(e):mE(e)},vE=function(e){return null!=e&&"object"==typeof e},_E=function(e){return e?e.slice(0,oE(e)+1).replace(aE,""):e},bE=Qw,xE=function(e){return"symbol"==typeof e||vE(e)&&"[object Symbol]"==yE(e)},wE=/^[-+]0x[0-9a-f]+$/i,EE=/^0b[01]+$/i,SE=/^0o[0-7]+$/i,CE=parseInt,TE=Qw,IE=function(){return rE.Date.now()},kE=function(e){if("number"==typeof e)return e;if(xE(e))return NaN;if(bE(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=bE(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=_E(e);var n=EE.test(e);return n||SE.test(e)?CE(e.slice(2),n?2:8):wE.test(e)?NaN:+e},PE=Math.max,LE=Math.min,ME=function(e,t,n){var r,i,o,a,s,l,u=0,c=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,u=t,a=e.apply(o,n)}function f(e){return u=e,s=setTimeout(g,t),c?d(e):a}function m(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function g(){var e=IE();if(m(e))return y(e);s=setTimeout(g,function(e){var n=t-(e-l);return h?LE(n,o-(e-u)):n}(e))}function y(e){return s=void 0,p&&r?d(e):(r=i=void 0,a)}function v(){var e=IE(),n=m(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return f(l);if(h)return clearTimeout(s),s=setTimeout(g,t),d(l)}return void 0===s&&(s=setTimeout(g,t)),a}return t=kE(t)||0,TE(n)&&(c=!!n.leading,o=(h="maxWait"in n)?PE(kE(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:y(IE())},v},AE=ME,OE=Qw,RE=function(e,t,n,r){switch(t){case"debounce":return ME(e,n,r);case"throttle":return function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return OE(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),AE(e,t,{leading:r,maxWait:t,trailing:i})}(e,n,r);default:return e}},NE=function(e){return"function"==typeof e},DE=function(){return"undefined"==typeof window},zE=function(e){return e instanceof Element||e instanceof HTMLDocument},FE=function(e){function t(t){var r=e.call(this,t)||this;r.cancelHandler=function(){r.resizeHandler&&r.resizeHandler.cancel&&(r.resizeHandler.cancel(),r.resizeHandler=null)},r.attachObserver=function(){var e=r.props,t=e.targetRef,n=e.observerOptions;if(!DE()){t&&t.current&&(r.targetRef.current=t.current);var i=r.getElement();i&&(r.observableElement&&r.observableElement===i||(r.observableElement=i,r.resizeObserver.observe(i,n)))}},r.getElement=function(){var e=r.props,t=e.querySelector,n=e.targetDomEl;if(DE())return null;if(t)return document.querySelector(t);if(n&&zE(n))return n;if(r.targetRef&&zE(r.targetRef.current))return r.targetRef.current;var i=(0,se.findDOMNode)(r);if(!i)return null;switch(r.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},r.createResizeHandler=function(e){var t=r.props,n=t.handleWidth,i=void 0===n||n,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var l=function(e,t,n,r){return function(i){var o=i.width,a=i.height;t((function(t){return t.width===o&&t.height===a||t.width===o&&!r||t.height===a&&!n?t:(e&&NE(e)&&e(o,a),{width:o,height:a})}))}}(s,r.setState.bind(r),i,a);e.forEach((function(e){var t=e&&e.contentRect||{},n=t.width,i=t.height;!r.skipOnMount&&!DE()&&l({width:n,height:i}),r.skipOnMount=!1}))}},r.getRenderType=function(){var e=r.props,t=e.render,i=e.children;return NE(t)?"renderProp":NE(i)?"childFunction":(0,n.isValidElement)(i)?"child":Array.isArray(i)?"childArray":"parent"};var i=t.skipOnMount,o=t.refreshMode,a=t.refreshRate,s=void 0===a?1e3:a,l=t.refreshOptions;return r.state={width:void 0,height:void 0},r.skipOnMount=i,r.targetRef=(0,n.createRef)(),r.observableElement=null,DE()||(r.resizeHandler=RE(r.createResizeHandler,o,s,l),r.resizeObserver=new window.ResizeObserver(r.resizeHandler)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Kw(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){DE()||(this.observableElement=null,this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,r=t.render,i=t.children,o=t.nodeType,a=void 0===o?"div":o,s=this.state,l={width:s.width,height:s.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return r&&r(l);case"childFunction":return(e=i)(l);case"child":if((e=i).type&&"string"==typeof e.type){var u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(l,["targetRef"]);return(0,n.cloneElement)(e,u)}return(0,n.cloneElement)(e,l);case"childArray":return(e=i).map((function(e){return!!e&&(0,n.cloneElement)(e,l)}));default:return n.createElement(a,null)}},t}(n.PureComponent);DE()?n.useEffect:n.useLayoutEffect;var BE=a(27361),jE=a.n(BE),ZE=a(1469),UE=a.n(ZE),qE=a(7654),VE=a.n(qE),GE=a(81763),HE=a.n(GE),WE=a(47037),$E=a.n(WE),XE=function(e){return 0===e?0:e>0?1:-1},YE=function(e){return $E()(e)&&e.indexOf("%")===e.length-1},KE=function(e){return HE()(e)&&!VE()(e)},JE=function(e){return KE(e)||$E()(e)},QE=0,eS=function(e){var t=++QE;return"".concat(e||"").concat(t)},tS=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!KE(e)&&!$E()(e))return r;if(YE(e)){var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return VE()(n)&&(n=r),i&&n>t&&(n=t),n},nS=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},rS=function(e,t){return KE(e)&&KE(t)?function(n){return e+n*(t-e)}:function(){return t}};function iS(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"==typeof t?t(e):jE()(e,t))===n})):null}var oS=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]};function aS(){return aS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aS.apply(this,arguments)}function sS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return lS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var uS=(0,n.forwardRef)((function(e,t){var r=e.aspect,i=e.width,o=void 0===i?"100%":i,a=e.height,s=void 0===a?"100%":a,l=e.minWidth,u=e.minHeight,c=e.maxHeight,h=e.children,p=e.debounce,d=void 0===p?0:p,f=e.id,m=e.className,g=sS((0,n.useState)({containerWidth:-1,containerHeight:-1}),2),y=g[0],v=g[1],_=(0,n.useRef)(null);(0,n.useImperativeHandle)(t,(function(){return _}),[_]);var b=sS((0,n.useState)(!1),2),x=b[0],w=b[1],E=function(){return _.current?{containerWidth:_.current.clientWidth,containerHeight:_.current.clientHeight}:null},S=function(){if(x){var e=E();if(e){var t=y.containerWidth,n=y.containerHeight,r=e.containerWidth,i=e.containerHeight;r===t&&i===n||v({containerWidth:r,containerHeight:i})}}},C=d>0?$w()(S,d):S;(0,n.useEffect)((function(){if(x){var e=E();e&&v(e)}}),[x]),(0,n.useEffect)((function(){w(!0)}),[]);var T={width:o,height:s,minWidth:l,minHeight:u,maxHeight:c};return n.createElement(FE,{handleWidth:!0,handleHeight:!0,onResize:C,targetRef:_},n.createElement("div",aS({},null!=f?{id:"".concat(f)}:{},{className:Yw()("recharts-responsive-container",m),style:T,ref:_}),function(){var e=y.containerWidth,t=y.containerHeight;if(e<0||t<0)return null;oS(YE(o)||YE(s),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",o,s),oS(!r||r>0,"The aspect(%s) must be greater than zero.",r);var i=YE(o)?e:o,a=YE(s)?t:s;return r&&r>0&&(i?a=i/r:a&&(i=a*r),c&&a>c&&(a=c)),oS(i>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,a,o,s,l,u,r),(0,n.cloneElement)(h,{width:i,height:a})}()))})),cS=a(711),hS=a.n(cS),pS=a(13311),dS=a.n(pS),fS=a(23560),mS=a.n(fS),gS=a(23493),yS=a.n(gS),vS=a(89734),_S=a.n(vS),bS=a(96026),xS=a.n(bS),wS=a(14293),ES=a.n(wS),SS=a(51584),CS=a.n(SS),TS=a(13218),IS=a.n(TS);function kS(e){return kS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kS(e)}var PS=["viewBox","children"],LS=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","type","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","points","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],AS=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var i=e;if((0,n.isValidElement)(e)&&(i=e.props),!IS()(i))return null;var o={};return Object.keys(i).forEach((function(e){(LS.includes(e)||r&&PS.includes(e)||t&&MS.includes(e))&&(o[e]=i[e])})),o},OS=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if((0,n.isValidElement)(e)&&(r=e.props),!IS()(r))return null;var i={};return Object.keys(r).forEach((function(e){MS.includes(e)&&(i[e]=t||function(t){return r[e](r,t)})})),i},RS=function(e,t,n){if(!IS()(e)||"object"!==kS(e))return null;var r=null;return Object.keys(e).forEach((function(i){var o=e[i];MS.includes(i)&&"function"==typeof o&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(o,t,n))})),r};function NS(){return NS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS.apply(this,arguments)}function DS(e){var t=e.children,r=e.width,i=e.height,o=e.viewBox,a=e.className,s=e.style,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","width","height","viewBox","className","style"]),u=o||{width:r,height:i,x:0,y:0},c=Yw()("recharts-surface",a);return n.createElement("svg",NS({},AS(l,!0,!0),{className:c,width:r,height:i,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height),version:"1.1"}),n.createElement("title",null,e.title),n.createElement("desc",null,e.desc),t)}function zS(){return zS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(this,arguments)}var FS=n.forwardRef((function(e,t){var r=e.children,i=e.className,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","className"]),a=Yw()("recharts-layer",i);return n.createElement("g",zS({className:a},AS(o,!0),{ref:t}),r)})),BS=a(45578),jS=a.n(BS),ZS=a(58367);function US(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,r=function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):requestAnimationFrame(r)};requestAnimationFrame(r)}function qS(e){return qS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qS(e)}function VS(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GS(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=function(e){if(Array.isArray(e))return e}(s=r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return VS(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VS(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],a=i.slice(1);return"number"==typeof o?void US(n.bind(null,a),o):(n(o),void US(n.bind(null,a)))}"object"===qS(r)&&e(r),"function"==typeof r&&r()}var s};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function HS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HS(Object(n),!0).forEach((function(t){$S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XS=["Webkit","Moz","O","ms"],YS=["-webkit-","-moz-","-o-","-ms-"],KS=["transform","transformOrigin","transition"],JS=function(e){return e},QS=function(e,t){return Object.keys(t).reduce((function(n,r){return WS(WS({},n),{},$S({},r,e(r,t[r])))}),{})},eC=function(e){return Object.keys(e).reduce((function(e,t){return WS(WS({},e),function(e,t){if(-1===KS.indexOf(e))return $S({},e,t);var n="transition"===e,r=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),i=t;return XS.reduce((function(e,o,a){return n&&(i=t.replace(/(transform|transform-origin)/gim,"".concat(YS[a],"$1"))),WS(WS({},e),{},$S({},o+r,i))}),{})}(t,e[t]))}),e)},tC=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function nC(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||rC(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rC(e,t){if(e){if("string"==typeof e)return iC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iC(e,t):void 0}}function iC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oC=1e-4,aC=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},sC=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},lC=function(e,t){return function(n){var r=aC(e,t);return sC(r,n)}},uC=function(e,t){return function(n){var r,i=aC(e,t),o=[].concat(function(e){if(Array.isArray(e))return iC(e)}(r=i.map((function(e,t){return e*t})).slice(1))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||rC(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[0]);return sC(o,n)}},cC=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],o=t[2],a=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,o=1,a=1;break;case"ease":r=.25,i=.1,o=.25,a=1;break;case"ease-in":r=.42,i=0,o=1,a=1;break;case"ease-out":r=.42,i=0,o=.58,a=1;break;case"ease-in-out":r=0,i=0,o=.58,a=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),u=nC(l,4);r=u[0],i=u[1],o=u[2],a=u[3]}}[r,o,i,a].every((function(e){return"number"==typeof e&&e>=0&&e<=1}));var c=lC(r,o),h=lC(i,a),p=uC(r,o),d=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=c(n)-t,o=p(n);if(Math.abs(i-t)<oC||o<oC)return h(n);n=d(n-i/o)}return h(n)};return f.isStepper=!1,f},hC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,o=e.dt,a=void 0===o?17:o,s=function(e,t,r){var o=r+(-(e-t)*n-r*i)*a/1e3,s=r*a/1e3+e;return Math.abs(s-t)<oC&&Math.abs(o)<oC?[t,0]:[s,o]};return s.isStepper=!0,s.dt=a,s};function pC(e){return function(e){if(Array.isArray(e))return yC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||gC(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dC(Object(n),!0).forEach((function(t){mC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gC(e,t){if(e){if("string"==typeof e)return yC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yC(e,t):void 0}}function yC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vC=function(e,t,n){return e+(t-e)*n},_C=function(e){return e.from!==e.to},bC=function e(t,n,r){var i=QS((function(e,n){if(_C(n)){var r=(a=t(n.from,n.to,n.velocity),s=2,function(e){if(Array.isArray(e))return e}(a)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(a,s)||gC(a,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],o=r[1];return fC(fC({},n),{},{from:i,velocity:o})}var a,s;return n}),n);return r<1?QS((function(e,t){return _C(t)?fC(fC({},t),{},{velocity:vC(t.velocity,i[e].velocity,r),from:vC(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};function xC(e){return xC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xC(e)}function wC(e){return function(e){if(Array.isArray(e))return EC(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return EC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?EC(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SC(Object(n),!0).forEach((function(t){TC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kC(e,t){return kC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kC(e,t)}function PC(e,t){return!t||"object"!==xC(t)&&"function"!=typeof t?LC(e):t}function LC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MC(e){return MC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},MC(e)}var AC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kC(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=MC(i);if(o){var n=MC(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return PC(this,e)});function s(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var r=(n=a.call(this,e,t)).props,i=r.isActive,o=r.attributeName,l=r.from,u=r.to,c=r.steps,h=r.children;if(n.handleStyleChange=n.handleStyleChange.bind(LC(n)),n.changeStyle=n.changeStyle.bind(LC(n)),!i)return n.state={style:{}},"function"==typeof h&&(n.state={style:u}),PC(n);if(c&&c.length)n.state={style:c[0].style};else if(l){if("function"==typeof h)return n.state={style:l},PC(n);n.state={style:o?TC({},o,l):l}}else n.state={style:{}};return n}return t=s,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,o=t.shouldReAnimate;if(r)if(n){if(!((0,ZS.deepEqual)(e.to,this.props.to)&&e.canBegin&&e.isActive)){var a=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var s=a||o?this.props.from:e.to;if(this.state&&this.state.style){var l={style:i?TC({},i,s):s};(i&&this.state.style[i]!==s||!i&&this.state.style!==s)&&this.setState(l)}this.runAnimation(CC(CC({},this.props),{},{from:s,begin:0}))}}else{var u={style:i?TC({},i,this.props.to):this.props.to};this.state&&this.state.style&&(i&&this.state.style[i]!==this.props.to||!i&&this.state.style!==this.props.to)&&this.setState(u)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation()}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,o=e.easing,a=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,u=function(e,t,n,r,i){var o,a,s,l,u=(o=e,a=t,[Object.keys(o),Object.keys(a)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),c=u.reduce((function(n,r){return fC(fC({},n),{},mC({},r,[e[r],t[r]]))}),{}),h=u.reduce((function(n,r){return fC(fC({},n),{},mC({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),p=-1,d=function(){return null};return d=n.isStepper?function(r){s||(s=r);var o=(r-s)/n.dt;h=bC(n,h,o),i(fC(fC(fC({},e),t),QS((function(e,t){return t.from}),h))),s=r,Object.values(h).filter(_C).length&&(p=requestAnimationFrame(d))}:function(o){l||(l=o);var a=(o-l)/r,s=QS((function(e,t){return vC.apply(void 0,pC(t).concat([n(a)]))}),c);if(i(fC(fC(fC({},e),t),s)),a<1)p=requestAnimationFrame(d);else{var u=QS((function(e,t){return vC.apply(void 0,pC(t).concat([n(1)]))}),c);i(fC(fC(fC({},e),t),u))}},function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(p)}}}(n,r,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"==typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return cC(r);case"spring":return hC();default:if("cubic-bezier"===r.split("(")[0])return cC(r)}return"function"==typeof r?r:null}(o),i,this.changeStyle);this.manager.start([l,a,function(){t.stopJSAnimation=u()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,o=n[0],a=o.style,s=o.duration,l=void 0===s?0:s;return this.manager.start([i].concat(wC(n.reduce((function(e,r,i){if(0===i)return e;var o=r.duration,a=r.easing,s=void 0===a?"ease":a,l=r.style,u=r.properties,c=r.onAnimationEnd,h=i>0?n[i-1]:r,p=u||Object.keys(l);if("function"==typeof s||"spring"===s)return[].concat(wC(e),[t.runJSAnimation.bind(t,{from:h.style,to:l,duration:o,easing:s}),o]);var d=tC(p,o,s),f=CC(CC(CC({},h.style),l),{},{transition:d});return[].concat(wC(e),[f,o,c]).filter(JS)}),[a,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=GS());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,o=e.easing,a=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,u=e.children,c=this.manager;if(this.unSubscribe=c.subscribe(this.handleStyleChange),"function"!=typeof o&&"function"!=typeof u&&"spring"!==o)if(l.length>1)this.runStepAnimation(e);else{var h=r?TC({},r,i):i,p=tC(Object.keys(h),n,o);c.start([a,t,CC(CC({},h),{},{transition:p}),n,s])}else this.runJSAnimation(e)}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"render",value:function(){var e=this.props,t=e.children,r=(e.begin,e.duration,e.attributeName,e.easing,e.isActive),i=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"])),o=n.Children.count(t),a=eC(this.state.style);if("function"==typeof t)return t(a);if(!r||0===o)return t;var s=function(e){var t=e.props,r=t.style,o=void 0===r?{}:r,s=t.className;return(0,n.cloneElement)(e,CC(CC({},i),{},{style:CC(CC({},o),a),className:s}))};return 1===o?s(n.Children.only(t)):n.createElement("div",null,n.Children.map(t,(function(e){return s(e)})))}}],r&&IC(t.prototype,r),s}(n.PureComponent);AC.displayName="Animate",AC.propTypes={from:Oo().oneOfType([Oo().object,Oo().string]),to:Oo().oneOfType([Oo().object,Oo().string]),attributeName:Oo().string,duration:Oo().number,begin:Oo().number,easing:Oo().oneOfType([Oo().string,Oo().func]),steps:Oo().arrayOf(Oo().shape({duration:Oo().number.isRequired,style:Oo().object.isRequired,easing:Oo().oneOfType([Oo().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Oo().func]),properties:Oo().arrayOf("string"),onAnimationEnd:Oo().func})),children:Oo().oneOfType([Oo().node,Oo().func]),isActive:Oo().bool,canBegin:Oo().bool,onAnimationEnd:Oo().func,shouldReAnimate:Oo().bool,onAnimationStart:Oo().func,onAnimationReStart:Oo().func},AC.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};const OC=AC;var RC=a(29469);function NC(e){return NC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NC(e)}function DC(){return DC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DC.apply(this,arguments)}function zC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zC(Object(n),!0).forEach((function(t){BC(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BC(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function UC(e,t){return UC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},UC(e,t)}function qC(e,t){return!t||"object"!==NC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function VC(e){return VC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},VC(e)}void 0===Number.isFinite&&(Number.isFinite=function(e){return"number"==typeof e&&isFinite(e)});var GC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.steps,n=e.duration;return t&&t.length?t.reduce((function(e,t){return e+(Number.isFinite(t.duration)&&t.duration>0?t.duration:0)}),0):Number.isFinite(n)?n:0},HC=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UC(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=VC(i);if(o){var n=VC(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return qC(this,e)});function s(){var e;jC(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={isActive:!1},e.handleEnter=function(t,n){var r=e.props,i=r.appearOptions,o=r.enterOptions;e.handleStyleActive(n?i:o)},e.handleExit=function(){e.handleStyleActive(e.props.leaveOptions)},e}return t=s,r=[{key:"handleStyleActive",value:function(e){if(e){var t=e.onAnimationEnd?function(){e.onAnimationEnd()}:null;this.setState(FC(FC({},e),{},{onAnimationEnd:t,isActive:!0}))}}},{key:"parseTimeout",value:function(){var e=this.props,t=e.appearOptions,n=e.enterOptions,r=e.leaveOptions;return GC(t)+GC(n)+GC(r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.children,i=(t.appearOptions,t.enterOptions,t.leaveOptions,function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["children","appearOptions","enterOptions","leaveOptions"]));return n.createElement(RC.Transition,DC({},i,{onEnter:this.handleEnter,onExit:this.handleExit,timeout:this.parseTimeout()}),(function(){return n.createElement(OC,e.state,n.Children.only(r))}))}}],r&&ZC(t.prototype,r),s}(n.Component);HC.propTypes={appearOptions:Oo().object,enterOptions:Oo().object,leaveOptions:Oo().object,children:Oo().element};const WC=HC;function $C(e){var t=e.component,r=e.children,i=e.appear,o=e.enter,a=e.leave;return n.createElement(RC.TransitionGroup,{component:t},n.Children.map(r,(function(e,t){return n.createElement(WC,{appearOptions:i,enterOptions:o,leaveOptions:a,key:"child-".concat(t)},e)})))}$C.propTypes={appear:Oo().object,enter:Oo().object,leave:Oo().object,children:Oo().oneOfType([Oo().array,Oo().element]),component:Oo().any},$C.defaultProps={component:"span"};const XC=OC;function YC(e){return YC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YC(e)}function KC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?JC(Object(n),!0).forEach((function(t){eT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rT(e,t){return rT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},rT(e,t)}function iT(e,t){return!t||"object"!==YC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oT(e){return oT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oT(e)}function aT(e){return UE()(e)&&JE(e[0])&&JE(e[1])?e.join(" ~ "):e}var sT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rT(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=oT(i);if(o){var n=oT(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return iT(this,e)});function s(){return tT(this,s),a.apply(this,arguments)}return t=s,r=[{key:"renderContent",value:function(){var e=this.props,t=e.payload,r=e.separator,i=e.formatter,o=e.itemStyle,a=e.itemSorter;if(t&&t.length){var s=(a?_S()(t,a):t).map((function(e,a){if("none"===e.type)return null;var s=QC({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},o),l=e.formatter||i||aT,u=e.value,c=e.name;if(l&&u&&c){var h=l(u,c,e,a,t);if(Array.isArray(h)){var p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return KC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KC(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(h,2);u=p[0],c=p[1]}else u=h}return n.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(a),style:s},JE(c)?n.createElement("span",{className:"recharts-tooltip-item-name"},c):null,JE(c)?n.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,n.createElement("span",{className:"recharts-tooltip-item-value"},u),n.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return n.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},s)}return null}},{key:"render",value:function(){var e=this.props,t=e.wrapperClassName,r=e.contentStyle,i=e.labelClassName,o=e.labelStyle,a=e.label,s=e.labelFormatter,l=e.payload,u=QC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),c=QC({margin:0},o),h=!ES()(a),p=h?a:"",d=Yw()("recharts-default-tooltip",t),f=Yw()("recharts-tooltip-label",i);return h&&s&&null!=l&&(p=s(a,l)),n.createElement("div",{className:d,style:u},n.createElement("p",{className:f,style:c},n.isValidElement(p)?p:"".concat(p)),this.renderContent())}}],r&&nT(t.prototype,r),s}(n.PureComponent);sT.displayName="DefaultTooltipContent",sT.defaultProps={separator:" : ",contentStyle:{},itemStyle:{},labelStyle:{}};var lT={isSsr:!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return lT[e]},set:function(e,t){if("string"==typeof e)lT[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){lT[t]=e[t]}))}}};function uT(e){return uT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uT(e)}function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cT(Object(n),!0).forEach((function(t){pT(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mT(e,t){return mT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},mT(e,t)}function gT(e,t){return!t||"object"!==uT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yT(e){return yT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},yT(e)}var vT="recharts-tooltip-wrapper";function _T(e){return e.dataKey}var bT=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mT(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=yT(i);if(o){var n=yT(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return gT(this,e)});function s(){var e;dT(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={boxWidth:-1,boxHeight:-1,dismissed:!1,dismissedAtCoordinate:{x:0,y:0}},e.wrapperNode=void 0,e.getTranslate=function(t){var n=t.key,r=t.tooltipDimension,i=t.viewBoxDimension,o=e.props,a=o.allowEscapeViewBox,s=o.coordinate,l=o.offset,u=o.position,c=o.viewBox;if(u&&KE(u[n]))return u[n];var h=s[n]-r-l,p=s[n]+l;return a[n]?p:s[n]+r+l>c[n]+i?Math.max(h,c[n]):Math.max(p,c[n])},e}return t=s,(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;if(e.dismissed?(this.wrapperNode.blur(),this.props.coordinate.x===this.state.dismissedAtCoordinate.x&&this.props.coordinate.y===this.state.dismissedAtCoordinate.y||this.setState({dismissed:!1})):this.wrapperNode.focus({preventScroll:!0}),this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-t)>1||Math.abs(r.height-n)>1)&&this.setState({boxWidth:r.width,boxHeight:r.height})}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1})}},{key:"render",value:function(){var e,t,r,i=this,o=this.props,a=o.payload,s=o.isAnimationActive,l=o.animationDuration,u=o.animationEasing,c=o.filterNull,h=function(e,t){return!0===e?jS()(t,_T):mS()(e)?jS()(t,e):t}(o.payloadUniqBy,c&&a&&a.length?a.filter((function(e){return!ES()(e.value)})):a),p=h&&h.length,d=this.props,f=d.content,m=d.viewBox,g=d.coordinate,y=d.position,v=d.active,_=d.wrapperStyle,b=hT({pointerEvents:"none",visibility:!this.state.dismissed&&v&&p?"visible":"hidden",position:"absolute",top:0,left:0},_);if(y&&KE(y.x)&&KE(y.y))t=y.x,r=y.y;else{var x=this.state,w=x.boxWidth,E=x.boxHeight;w>0&&E>0&&g?(t=this.getTranslate({key:"x",tooltipDimension:w,viewBoxDimension:m.width}),r=this.getTranslate({key:"y",tooltipDimension:E,viewBoxDimension:m.height})):b.visibility="hidden"}b=hT(hT({},eC({transform:this.props.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")})),b),s&&v&&(b=hT(hT({},eC({transition:"transform ".concat(l,"ms ").concat(u)})),b));var S=Yw()(vT,(pT(e={},"".concat(vT,"-right"),KE(t)&&g&&KE(g.x)&&t>=g.x),pT(e,"".concat(vT,"-left"),KE(t)&&g&&KE(g.x)&&t<g.x),pT(e,"".concat(vT,"-bottom"),KE(r)&&g&&KE(g.y)&&r>=g.y),pT(e,"".concat(vT,"-top"),KE(r)&&g&&KE(g.y)&&r<g.y),e));return n.createElement("div",{tabIndex:-1,role:"dialog",onKeyDown:function(e){"Escape"===e.key&&i.setState({dismissed:!0,dismissedAtCoordinate:hT(hT({},i.state.dismissedAtCoordinate),{},{x:i.props.coordinate.x,y:i.props.coordinate.y})})},className:S,style:b,ref:function(e){i.wrapperNode=e}},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?n.createElement(e,t):n.createElement(sT,t)}(f,hT(hT({},this.props),{},{payload:h})))}}])&&fT(t.prototype,r),s}(n.PureComponent);bT.displayName="Tooltip",bT.defaultProps={active:!1,allowEscapeViewBox:{x:!1,y:!1},offset:10,viewBox:{x1:0,x2:0,y1:0,y2:0},coordinate:{x:0,y:0},cursorStyle:{},separator:" : ",wrapperStyle:{},contentStyle:{},itemStyle:{},labelStyle:{},cursor:!0,trigger:"hover",isAnimationActive:!lT.isSsr,animationEasing:"ease",animationDuration:400,filterNull:!0,useTranslate3d:!1};var xT=a(11700),wT=a.n(xT),ET=(Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt,Math.PI),ST=2*ET;const CT={draw:function(e,t){var n=Math.sqrt(t/ET);e.moveTo(n,0),e.arc(0,0,n,0,ST)}},TT={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}};var IT=Math.sqrt(1/3),kT=2*IT;const PT={draw:function(e,t){var n=Math.sqrt(t/kT),r=n*IT;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},LT={draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}};var MT=Math.sin(ET/10)/Math.sin(7*ET/10),AT=Math.sin(ST/10)*MT,OT=-Math.cos(ST/10)*MT;const RT={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=AT*n,i=OT*n;e.moveTo(0,-n),e.lineTo(r,i);for(var o=1;o<5;++o){var a=ST*o/5,s=Math.cos(a),l=Math.sin(a);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*i,l*r+s*i)}e.closePath()}};var NT=Math.sqrt(3);const DT={draw:function(e,t){var n=-Math.sqrt(t/(3*NT));e.moveTo(0,2*n),e.lineTo(-NT*n,-n),e.lineTo(NT*n,-n),e.closePath()}};var zT=-.5,FT=Math.sqrt(3)/2,BT=1/Math.sqrt(12),jT=3*(BT/2+1);const ZT={draw:function(e,t){var n=Math.sqrt(t/jT),r=n/2,i=n*BT,o=r,a=n*BT+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(zT*r-FT*i,FT*r+zT*i),e.lineTo(zT*o-FT*a,FT*o+zT*a),e.lineTo(zT*s-FT*l,FT*s+zT*l),e.lineTo(zT*r+FT*i,zT*i-FT*r),e.lineTo(zT*o+FT*a,zT*a-FT*o),e.lineTo(zT*s+FT*l,zT*l-FT*s),e.closePath()}},UT=Math.PI,qT=2*UT,VT=1e-6,GT=qT-VT;function HT(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function WT(){return new HT}HT.prototype=WT.prototype={constructor:HT,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,o){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,h=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>VT)if(Math.abs(c*s-l*u)>VT&&i){var p=n-o,d=r-a,f=s*s+l*l,m=p*p+d*d,g=Math.sqrt(f),y=Math.sqrt(h),v=i*Math.tan((UT-Math.acos((f+h-m)/(2*g*y)))/2),_=v/y,b=v/g;Math.abs(_-1)>VT&&(this._+="L"+(e+_*u)+","+(t+_*c)),this._+="A"+i+","+i+",0,0,"+ +(c*p>u*d)+","+(this._x1=e+b*s)+","+(this._y1=t+b*l)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,r,i,o){e=+e,t=+t,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>VT||Math.abs(this._y1-u)>VT)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%qT+qT),h>GT?this._+="A"+n+","+n+",0,1,"+c+","+(e-a)+","+(t-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>VT&&(this._+="A"+n+","+n+",0,"+ +(h>=UT)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const $T=WT;function XT(e){return function(){return e}}function YT(e){return YT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},YT(e)}function KT(){return KT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KT.apply(this,arguments)}function JT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eI(e,t){return eI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},eI(e,t)}function tI(e,t){return!t||"object"!==YT(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nI(e){return nI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nI(e)}var rI={symbolCircle:CT,symbolCross:TT,symbolDiamond:PT,symbolSquare:LT,symbolStar:RT,symbolTriangle:DT,symbolWye:ZT},iI=Math.PI/180,oI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&eI(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nI(i);if(o){var n=nI(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tI(this,e)});function s(){return JT(this,s),a.apply(this,arguments)}return t=s,r=[{key:"getPath",value:function(){var e=this.props,t=e.size,n=e.sizeType,r=e.type,i=function(e){var t="symbol".concat(wT()(e));return rI[t]||CT}(r),o=function(e,t){var n=null;function r(){var r;if(n||(n=r=$T()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:XT(e||CT),t="function"==typeof t?t:XT(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"==typeof t?t:XT(t),r):e},r.size=function(e){return arguments.length?(t="function"==typeof e?e:XT(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}().type(i).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*iI;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(t,n,r));return o()}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.cx,i=e.cy,o=e.size;return r===+r&&i===+i&&o===+o?n.createElement("path",KT({},AS(this.props,!0),{className:Yw()("recharts-symbols",t),transform:"translate(".concat(r,", ").concat(i,")"),d:this.getPath()})):null}}],r&&QT(t.prototype,r),s}(n.PureComponent);function aI(e){return aI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aI(e)}function sI(){return sI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sI.apply(this,arguments)}function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pI(e,t){return pI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pI(e,t)}function dI(e,t){return!t||"object"!==aI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fI(e){return fI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},fI(e)}oI.defaultProps={type:"circle",size:64,sizeType:"area"},oI.registerSymbol=function(e,t){rI["symbol".concat(wT()(e))]=t};var mI=32,gI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pI(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=fI(i);if(o){var n=fI(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return dI(this,e)});function s(){return cI(this,s),a.apply(this,arguments)}return t=s,r=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,i=mI/6,o=mI/3,a=e.inactive?t:e.color;if("plainline"===e.type)return n.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:mI,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return n.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(o,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(r,"\n            H").concat(mI,"M").concat(2*o,",").concat(r,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return n.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(mI,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(n.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lI(Object(n),!0).forEach((function(t){uI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,n.cloneElement(e.legendIcon,s)}return n.createElement(oI,{fill:a,cx:r,cy:r,size:mI,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,i=t.iconSize,o=t.layout,a=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:mI,height:mI},u={display:"horizontal"===o?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((function(t,r){var o,h=t.formatter||a,p=Yw()((uI(o={"recharts-legend-item":!0},"legend-item-".concat(r),!0),uI(o,"inactive",t.inactive),o));if("none"===t.type)return null;var d=t.inactive?s:t.color;return n.createElement("li",sI({className:p,style:u,key:"legend-item-".concat(r)},RS(e.props,t,r)),n.createElement(DS,{width:i,height:i,viewBox:l,style:c},e.renderIcon(t)),n.createElement("span",{className:"recharts-legend-item-text",style:{color:d}},h?h(t.value,t,r):t.value))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,i=e.align;if(!t||!t.length)return null;var o={padding:0,margin:0,textAlign:"horizontal"===r?i:"left"};return n.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}],r&&hI(t.prototype,r),s}(n.PureComponent);function yI(e){return yI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yI(e)}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vI(Object(n),!0).forEach((function(t){bI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bI(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function EI(e,t){return EI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},EI(e,t)}function SI(e,t){return!t||"object"!==yI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CI(e){return CI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},CI(e)}function TI(e){return e.value}function II(e,t){return!0===e?jS()(t,TI):mS()(e)?jS()(t,e):t}gI.displayName="Legend",gI.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"};var kI=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&EI(e,t)}(l,e);var t,r,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=CI(o);if(a){var n=CI(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return SI(this,e)});function l(){var e;xI(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).wrapperNode=void 0,e.state={boxWidth:-1,boxHeight:-1},e}return t=l,r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"getBBoxSnapshot",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight;return t>=0&&n>=0?{width:t,height:n}:null}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,o=r.align,a=r.verticalAlign,s=r.margin,l=r.chartWidth,u=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===o&&"vertical"===i?{left:((l||0)-(this.getBBoxSnapshot()||{width:0}).width)/2}:"right"===o?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===a?{top:((u||0)-(this.getBBoxSnapshot()||{height:0}).height)/2}:"bottom"===a?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),_I(_I({},t),n)}},{key:"updateBBox",value:function(){var e=this.state,t=e.boxWidth,n=e.boxHeight,r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-t)>1||Math.abs(i.height-n)>1)&&this.setState({boxWidth:i.width,boxHeight:i.height},(function(){r&&r(i)}))}else-1===t&&-1===n||this.setState({boxWidth:-1,boxHeight:-1},(function(){r&&r(null)}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,i=t.width,o=t.height,a=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,u=_I(_I({position:"absolute",width:i||"auto",height:o||"auto"},this.getDefaultPosition(a)),a);return n.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(t){e.wrapperNode=t}},function(e,t){if(n.isValidElement(e))return n.cloneElement(e,t);if(mS()(e))return n.createElement(e,t);t.ref;var r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["ref"]);return n.createElement(gI,r)}(r,_I(_I({},this.props),{},{payload:II(s,l)})))}}],i=[{key:"getWithHeight",value:function(e,t){var n=e.props.layout;return"vertical"===n&&KE(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],r&&wI(t.prototype,r),i&&wI(t,i),l}(n.PureComponent);function PI(){}function LI(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function MI(e){this._context=e}function AI(e){this._context=e}function OI(e){this._context=e}function RI(e){this._context=e}function NI(e){this._context=e}function DI(e){return new NI(e)}function zI(e){return e<0?-1:1}function FI(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(zI(o)+zI(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function BI(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jI(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function ZI(e){this._context=e}function UI(e){this._context=new qI(e)}function qI(e){this._context=e}function VI(e){this._context=e}function GI(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function HI(e,t){this._context=e,this._t=t}function WI(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function $I(e){return e[0]}function XI(e){return e[1]}function YI(e,t){var n=XT(!0),r=null,i=DI,o=null;function a(a){var s,l,u,c=(a=WI(a)).length,h=!1;for(null==r&&(o=i(u=$T())),s=0;s<=c;++s)!(s<c&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(l,s,a),+t(l,s,a));if(u)return o=null,u+""||null}return e="function"==typeof e?e:void 0===e?$I:XT(e),t="function"==typeof t?t:void 0===t?XI:XT(t),a.x=function(t){return arguments.length?(e="function"==typeof t?t:XT(+t),a):e},a.y=function(e){return arguments.length?(t="function"==typeof e?e:XT(+e),a):t},a.defined=function(e){return arguments.length?(n="function"==typeof e?e:XT(!!e),a):n},a.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),a):i},a.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),a):r},a}function KI(e,t,n){var r=null,i=XT(!0),o=null,a=DI,s=null;function l(l){var u,c,h,p,d,f=(l=WI(l)).length,m=!1,g=new Array(f),y=new Array(f);for(null==o&&(s=a(d=$T())),u=0;u<=f;++u){if(!(u<f&&i(p=l[u],u,l))===m)if(m=!m)c=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=c;--h)s.point(g[h],y[h]);s.lineEnd(),s.areaEnd()}m&&(g[u]=+e(p,u,l),y[u]=+t(p,u,l),s.point(r?+r(p,u,l):g[u],n?+n(p,u,l):y[u]))}if(d)return s=null,d+""||null}function u(){return YI().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?$I:XT(+e),t="function"==typeof t?t:XT(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?XI:XT(+n),l.x=function(t){return arguments.length?(e="function"==typeof t?t:XT(+t),r=null,l):e},l.x0=function(t){return arguments.length?(e="function"==typeof t?t:XT(+t),l):e},l.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:XT(+e),l):r},l.y=function(e){return arguments.length?(t="function"==typeof e?e:XT(+e),n=null,l):t},l.y0=function(e){return arguments.length?(t="function"==typeof e?e:XT(+e),l):t},l.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:XT(+e),l):n},l.lineX0=l.lineY0=function(){return u().x(e).y(t)},l.lineY1=function(){return u().x(e).y(n)},l.lineX1=function(){return u().x(r).y(t)},l.defined=function(e){return arguments.length?(i="function"==typeof e?e:XT(!!e),l):i},l.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),l):a},l.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),l):o},l}function JI(e){return JI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JI(e)}function QI(){return QI=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(this,arguments)}function ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(n),!0).forEach((function(t){nk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ek(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nk(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ik(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ok(e,t){return ok=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ok(e,t)}function ak(e,t){return!t||"object"!==JI(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sk(e){return sk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},sk(e)}kI.displayName="Legend",kI.defaultProps={iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"},MI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:LI(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:LI(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},AI.prototype={areaStart:PI,areaEnd:PI,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:LI(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},OI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:LI(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},RI.prototype={areaStart:PI,areaEnd:PI,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},NI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},ZI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jI(this,this._t0,BI(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jI(this,BI(this,n=FI(this,e,t)),n);break;default:jI(this,this._t0,n=FI(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(UI.prototype=Object.create(ZI.prototype)).point=function(e,t){ZI.prototype.point.call(this,t,e)},qI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},VI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=GI(e),i=GI(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},HI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}},Array.prototype.slice;var lk={curveBasisClosed:function(e){return new AI(e)},curveBasisOpen:function(e){return new OI(e)},curveBasis:function(e){return new MI(e)},curveLinearClosed:function(e){return new RI(e)},curveLinear:DI,curveMonotoneX:function(e){return new ZI(e)},curveMonotoneY:function(e){return new UI(e)},curveNatural:function(e){return new VI(e)},curveStep:function(e){return new HI(e,.5)},curveStepAfter:function(e){return new HI(e,1)},curveStepBefore:function(e){return new HI(e,0)}},uk=function(e){return e.x===+e.x&&e.y===+e.y},ck=function(e){return e.x},hk=function(e){return e.y},pk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ok(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=sk(i);if(o){var n=sk(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ak(this,e)});function s(){return rk(this,s),a.apply(this,arguments)}return t=s,(r=[{key:"getPath",value:function(){var e,t=this.props,n=t.type,r=t.points,i=t.baseLine,o=t.layout,a=t.connectNulls,s=function(e,t){if(mS()(e))return e;var n="curve".concat(wT()(e));return"curveMonotone"===n&&t?lk["".concat(n).concat("vertical"===t?"Y":"X")]:lk[n]||DI}(n,o),l=a?r.filter((function(e){return uk(e)})):r;if(UE()(i)){var u=a?i.filter((function(e){return uk(e)})):i,c=l.map((function(e,t){return tk(tk({},e),{},{base:u[t]})}));return(e="vertical"===o?KI().y(hk).x1(ck).x0((function(e){return e.base.x})):KI().x(ck).y1(hk).y0((function(e){return e.base.y}))).defined(uk).curve(s),e(c)}return(e="vertical"===o&&KE(i)?KI().y(hk).x1(ck).x0(i):KE(i)?KI().x(ck).y1(hk).y0(i):YI().x(ck).y(hk)).defined(uk).curve(s),e(l)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.points,i=e.path,o=e.pathRef;if(!(r&&r.length||i))return null;var a=r&&r.length?this.getPath():i;return n.createElement("path",QI({},AS(this.props),OS(this.props),{className:Yw()("recharts-curve",t),d:a,ref:o}))}}])&&ik(t.prototype,r),s}(n.PureComponent);function dk(e){return dk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dk(e)}function fk(){return fk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fk.apply(this,arguments)}function mk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yk(e,t){return yk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yk(e,t)}function vk(e,t){return!t||"object"!==dk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _k(e){return _k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_k(e)}pk.defaultProps={type:"linear",points:[],connectNulls:!1};var bk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yk(e,t)}(l,e);var t,r,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=_k(o);if(a){var n=_k(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return vk(this,e)});function l(){return mk(this,l),s.apply(this,arguments)}return t=l,r=[{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,i=e.width,o=e.height,a=e.top,s=e.left,u=e.className;return KE(t)&&KE(r)&&KE(i)&&KE(o)&&KE(a)&&KE(s)?n.createElement("path",fk({},AS(this.props,!0),{className:Yw()("recharts-cross",u),d:l.getPath(t,r,i,o,a,s)})):null}}],i=[{key:"getPath",value:function(e,t,n,r,i,o){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n)}}],r&&gk(t.prototype,r),i&&gk(t,i),l}(n.PureComponent);function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xk(Object(n),!0).forEach((function(t){Ek(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ek(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}bk.defaultProps={x:0,y:0,top:0,left:0,width:0,height:0};var Sk=Math.PI/180,Ck=function(e){return 180*e/Math.PI},Tk=function(e,t,n,r){return{x:e+Math.cos(-Sk*r)*n,y:t+Math.sin(-Sk*r)*n}},Ik=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},kk=function(e,t){var n=function(e,t){var n=e.x,r=e.y,i=t.cx,o=t.cy,a=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-o,2))}({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:Ck(l),angleInRadian:l}}({x:e.x,y:e.y},t),r=n.radius,i=n.angle,o=t.innerRadius,a=t.outerRadius;if(r<o||r>a)return!1;if(0===r)return!0;var s,l=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}}(t),u=l.startAngle,c=l.endAngle,h=i;if(u<=c){for(;h>c;)h-=360;for(;h<u;)h+=360;s=h>=u&&h<=c}else{for(;h>u;)h-=360;for(;h<c;)h+=360;s=h>=c&&h<=u}return s?wk(wk({},t),{},{radius:r,angle:Ik(h,t)}):null};function Pk(e){return Pk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pk(e)}function Lk(){return Lk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lk.apply(this,arguments)}function Mk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ak(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ok(e,t){return Ok=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ok(e,t)}function Rk(e,t){return!t||"object"!==Pk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nk(e){return Nk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Nk(e)}var Dk=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,o=e.sign,a=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,u=s*(a?1:-1)+r,c=Math.asin(s/u)/Sk,h=l?i:i+o*c,p=l?i-o*c:i;return{center:Tk(t,n,u,h),circleTangency:Tk(t,n,r,h),lineTangency:Tk(t,n,u*Math.cos(c*Sk),p),theta:c}},zk=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.startAngle,a=function(e,t){return XE(t-e)*Math.min(Math.abs(t-e),359.999)}(o,e.endAngle),s=o+a,l=Tk(t,n,i,o),u=Tk(t,n,i,s),c="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(a)>180),",").concat(+(o>s),",\n    ").concat(u.x,",").concat(u.y,"\n  ");if(r>0){var h=Tk(t,n,r,o),p=Tk(t,n,r,s);c+="L ".concat(p.x,",").concat(p.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(a)>180),",").concat(+(o<=s),",\n            ").concat(h.x,",").concat(h.y," Z")}else c+="L ".concat(t,",").concat(n," Z");return c},Fk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ok(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nk(i);if(o){var n=Nk(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Rk(this,e)});function s(){return Mk(this,s),a.apply(this,arguments)}return t=s,(r=[{key:"render",value:function(){var e=this.props,t=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,h=e.className;if(o<i||u===c)return null;var p,d=Yw()("recharts-sector",h),f=o-i,m=tS(a,f,0,!0);return p=m>0&&Math.abs(u-c)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,u=e.endAngle,c=XE(u-l),h=Dk({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),p=h.circleTangency,d=h.lineTangency,f=h.theta,m=Dk({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,_=s?Math.abs(l-u):Math.abs(l-u)-f-v;if(_<0)return a?"M ".concat(d.x,",").concat(d.y,"\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*o,",0\n        a").concat(o,",").concat(o,",0,0,1,").concat(2*-o,",0\n      "):zk({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b="M ".concat(d.x,",").concat(d.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(p.x,",").concat(p.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(c<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var x=Dk({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),w=x.circleTangency,E=x.lineTangency,S=x.theta,C=Dk({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=C.circleTangency,I=C.lineTangency,k=C.theta,P=s?Math.abs(l-u):Math.abs(l-u)-S-k;if(P<0&&0===o)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+="L".concat(I.x,",").concat(I.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(P>180),",").concat(+(c>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(o,",").concat(o,",0,0,").concat(+(c<0),",").concat(E.x,",").concat(E.y,"Z")}else b+="L".concat(t,",").concat(n,"Z");return b}({cx:t,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,f/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):zk({cx:t,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),n.createElement("path",Lk({},AS(this.props,!0),{className:d,d:p}))}}])&&Ak(t.prototype,r),s}(n.PureComponent);function Bk(e){return Bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bk(e)}function jk(){return jk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jk.apply(this,arguments)}function Zk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qk(e,t){return qk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qk(e,t)}function Vk(e,t){return!t||"object"!==Bk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gk(e){return Gk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Gk(e)}Fk.defaultProps={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1};var Hk=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qk(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Gk(i);if(o){var n=Gk(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Vk(this,e)});function s(){return Zk(this,s),a.apply(this,arguments)}return t=s,(r=[{key:"render",value:function(){var e=this.props,t=e.cx,r=e.cy,i=e.r,o=e.className,a=Yw()("recharts-dot",o);return t===+t&&r===+r&&i===+i?n.createElement("circle",jk({},AS(this.props),OS(this.props),{className:a,cx:t,cy:r,r:i})):null}}])&&Uk(t.prototype,r),s}(n.PureComponent);function Wk(e){return Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wk(e)}function $k(){return $k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$k.apply(this,arguments)}function Xk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kk(e,t){return Kk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Kk(e,t)}function Jk(e,t){return!t||"object"!==Wk(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qk(e){return Qk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Qk(e)}var eP=function(e,t,n,r,i){var o,a=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,u=r>=0&&n>=0||r<0&&n<0?1:0;if(a>0&&i instanceof Array){for(var c=[0,0,0,0],h=0;h<4;h++)c[h]=i[h]>a?a:i[h];o="M".concat(e,",").concat(t+s*c[0]),c[0]>0&&(o+="A ".concat(c[0],",").concat(c[0],",0,0,").concat(u,",").concat(e+l*c[0],",").concat(t)),o+="L ".concat(e+n-l*c[1],",").concat(t),c[1]>0&&(o+="A ".concat(c[1],",").concat(c[1],",0,0,").concat(u,",\n        ").concat(e+n,",").concat(t+s*c[1])),o+="L ".concat(e+n,",").concat(t+r-s*c[2]),c[2]>0&&(o+="A ".concat(c[2],",").concat(c[2],",0,0,").concat(u,",\n        ").concat(e+n-l*c[2],",").concat(t+r)),o+="L ".concat(e+l*c[3],",").concat(t+r),c[3]>0&&(o+="A ".concat(c[3],",").concat(c[3],",0,0,").concat(u,",\n        ").concat(e,",").concat(t+r-s*c[3])),o+="Z"}else if(a>0&&i===+i&&i>0){var p=Math.min(a,i);o="M ".concat(e,",").concat(t+s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+l*p,",").concat(t,"\n            L ").concat(e+n-l*p,",").concat(t,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n,",").concat(t+s*p,"\n            L ").concat(e+n,",").concat(t+r-s*p,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e+n-l*p,",").concat(t+r,"\n            L ").concat(e+l*p,",").concat(t+r,"\n            A ").concat(p,",").concat(p,",0,0,").concat(u,",").concat(e,",").concat(t+r-s*p," Z")}else o="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return o},tP=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,o=t.y,a=t.width,s=t.height;if(Math.abs(a)>0&&Math.abs(s)>0){var l=Math.min(i,i+a),u=Math.max(i,i+a),c=Math.min(o,o+s),h=Math.max(o,o+s);return n>=l&&n<=u&&r>=c&&r<=h}return!1},nP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kk(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Qk(i);if(o){var n=Qk(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Jk(this,e)});function s(){var e;Xk(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={totalLength:-1},e.node=void 0,e}return t=s,r=[{key:"componentDidMount",value:function(){if(this.node&&this.node.getTotalLength)try{var e=this.node.getTotalLength();e&&this.setState({totalLength:e})}catch(e){}}},{key:"render",value:function(){var e=this,t=this.props,r=t.x,i=t.y,o=t.width,a=t.height,s=t.radius,l=t.className,u=this.state.totalLength,c=this.props,h=c.animationEasing,p=c.animationDuration,d=c.animationBegin,f=c.isAnimationActive,m=c.isUpdateAnimationActive;if(r!==+r||i!==+i||o!==+o||a!==+a||0===o||0===a)return null;var g=Yw()("recharts-rectangle",l);return m?n.createElement(XC,{canBegin:u>0,from:{width:o,height:a,x:r,y:i},to:{width:o,height:a,x:r,y:i},duration:p,animationEasing:h,isActive:m},(function(t){var r=t.width,i=t.height,o=t.x,a=t.y;return n.createElement(XC,{canBegin:u>0,from:"0px ".concat(-1===u?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:d,duration:p,isActive:f,easing:h},n.createElement("path",$k({},AS(e.props,!0),{className:g,d:eP(o,a,r,i,s),ref:function(t){e.node=t}})))})):n.createElement("path",$k({},AS(this.props,!0),{className:g,d:eP(r,i,o,a,s)}))}}],r&&Yk(t.prototype,r),s}(n.PureComponent);nP.defaultProps={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"};var rP=a(59864);function iP(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function oP(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var aP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},sP=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},lP=null,uP=null,cP=function e(t){if(t===lP&&UE()(uP))return uP;var r=[];return n.Children.forEach(t,(function(t){ES()(t)||((0,rP.isFragment)(t)?r=r.concat(e(t.props.children)):r.push(t))})),uP=r,lP=t,r},hP=function(e,t){var n=[],r=[];return r=UE()(t)?t.map((function(e){return sP(e)})):[sP(t)],cP(e).forEach((function(e){var t=jE()(e,"type.displayName")||jE()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n},pP=function(e,t){var n=hP(e,t);return n&&n[0]},dP=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!KE(n)||n<=0||!KE(r)||r<=0)},fP=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mP=function e(t,r){if(t===r)return!0;var i=n.Children.count(t);if(i!==n.Children.count(r))return!1;if(0===i)return!0;if(1===i)return gP(UE()(t)?t[0]:t,UE()(r)?r[0]:r);for(var o=0;o<i;o++){var a=t[o],s=r[o];if(UE()(a)||UE()(s)){if(!e(a,s))return!1}else if(!gP(a,s))return!1}return!0},gP=function(e,t){if(ES()(e)&&ES()(t))return!0;if(!ES()(e)&&!ES()(t)){var n=e.props||{},r=n.children,i=oP(n,["children"]),o=t.props||{},a=o.children,s=oP(o,["children"]);return r&&a?iP(i,s)&&mP(r,a):!r&&!a&&iP(i,s)}return!1},yP=function(e,t){var n=[],r={};return cP(e).forEach((function(e,i){if(function(e){return e&&e.type&&$E()(e.type)&&fP.indexOf(e.type)>=0}(e))n.push(e);else if(e){var o=sP(e.type),a=t[o]||{},s=a.handler,l=a.once;if(s&&(!l||!r[o])){var u=s(e,o,i);n.push(u),r[o]=!0}}})),n};function vP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(n),!0).forEach((function(t){bP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xP(e){return function(e){if(Array.isArray(e))return wP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return wP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wP(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var EP={widthCache:{},cacheCount:0},SP={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CP=["minWidth","maxWidth","width","minHeight","maxHeight","height","top","left","fontSize","lineHeight","padding","margin","paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom"],TP="recharts_measurement_span",IP=function(e){return Object.keys(e).reduce((function(t,n){return"".concat(t).concat((r=n,r.split("").reduce((function(e,t){return t===t.toUpperCase()?[].concat(xP(e),["-",t.toLowerCase()]):[].concat(xP(e),[t])}),[]).join("")),":").concat(function(e,t){return CP.indexOf(e)>=0&&t===+t?"".concat(t,"px"):t}(n,e[n]),";");var r}),"")},kP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||lT.isSsr)return{width:0,height:0};var n="".concat(e),r=IP(t),i="".concat(n,"-").concat(r);if(EP.widthCache[i])return EP.widthCache[i];try{var o=document.getElementById(TP);o||((o=document.createElement("span")).setAttribute("id",TP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=_P(_P({},SP),t);Object.keys(a).map((function(e){return o.style[e]=a[e],e})),o.textContent=n;var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return EP.widthCache[i]=l,++EP.cacheCount>2e3&&(EP.cacheCount=0,EP.widthCache={}),l}catch(e){return{width:0,height:0}}},PP=a(84275),LP=a.n(PP);function MP(e){return MP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MP(e)}function AP(){return AP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AP.apply(this,arguments)}function OP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function NP(e,t){return NP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},NP(e,t)}function DP(e,t){return!t||"object"!==MP(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zP(e){return zP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zP(e)}function FP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return BP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?BP(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ZP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jP(Object(n),!0).forEach((function(t){UP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qP=/[ \f\n\r\t\v\u2028\u2029]+/,VP=function(e){try{var t=[];return ES()(e.children)||(t=e.breakAll?e.children.toString().split(""):e.children.toString().split(qP)),{wordsWithComputedWidth:t.map((function(t){return{word:t,width:kP(t,e.style).width}})),spaceWidth:e.breakAll?0:kP(" ",e.style).width}}catch(e){return null}},GP=function(e){return[{words:ES()(e)?[]:e.toString().split(qP)}]},HP=function(e,t){if((e.width||e.scaleToFit)&&!lT.isSsr&&t){var n=VP(e);return n?function(e,t,n,r,i){var o=KE(e.maxLines),a=e.children,s=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var o=t.word,a=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+a+n<r))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e}),[])},l=s(t);if(!o)return l;for(var u,c=function(t){var n=a.slice(0,t),i=VP(ZP(ZP({},e),{},{children:n+"…"})).wordsWithComputedWidth,o=s(i),l=o.length>e.maxLines||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(o).width>r;return[l,o]},h=0,p=a.length-1,d=0;h<=p&&d<=a.length-1;){var f=Math.floor((h+p)/2),m=FP(c(f-1),2),g=m[0],y=m[1],v=FP(c(f),1)[0];if(g||v||(h=f+1),g&&v&&(p=f-1),!g&&v){u=y;break}d++}return u||l}(e,n.wordsWithComputedWidth,n.spaceWidth,e.width,e.scaleToFit):GP(e.children)}return GP(e.children)},WP=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&NP(e,t)}(l,e);var t,r,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zP(o);if(a){var n=zP(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return DP(this,e)});function l(){var e;OP(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).state={},e}return t=l,r=[{key:"render",value:function(){var e=this.props,t=e.dx,r=e.dy,i=e.textAnchor,o=e.verticalAnchor,a=e.scaleToFit,s=e.angle,l=e.lineHeight,u=e.capHeight,c=e.className,h=e.breakAll,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["dx","dy","textAnchor","verticalAnchor","scaleToFit","angle","lineHeight","capHeight","className","breakAll"]),d=this.state.wordsByLines;if(!JE(p.x)||!JE(p.y))return null;var f,m=p.x+(KE(t)?t:0),g=p.y+(KE(r)?r:0);switch(o){case"start":f=LP()("calc(".concat(u,")"));break;case"middle":f=LP()("calc(".concat((d.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:f=LP()("calc(".concat(d.length-1," * -").concat(l,")"))}var y=[];if(a){var v=d[0].width,_=this.props.width;y.push("scale(".concat((KE(_)?_/v:1)/v,")"))}return s&&y.push("rotate(".concat(s,", ").concat(m,", ").concat(g,")")),y.length&&(p.transform=y.join(" ")),n.createElement("text",AP({},AS(p,!0),{x:m,y:g,className:Yw()("recharts-text",c),textAnchor:i}),d.map((function(e,t){return n.createElement("tspan",{x:m,dy:0===t?f:l,key:t},e.words.join(h?"":" "))})))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){if(e.width!==t.prevWidth||e.scaleToFit!==t.prevScaleToFit||e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll){var n=e.children!==t.prevChildren||e.style!==t.prevStyle||e.breakAll!==t.prevBreakAll;return{prevWidth:e.width,prevScaleToFit:e.scaleToFit,prevChildren:e.children,prevStyle:e.style,wordsByLines:HP(e,n)}}return null}}],r&&RP(t.prototype,r),i&&RP(t,i),l}(n.Component);function $P(e){return function(e){if(Array.isArray(e))return XP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return XP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XP(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YP(Object(n),!0).forEach((function(t){JP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QP(){return QP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QP.apply(this,arguments)}WP.defaultProps={x:0,y:0,lineHeight:"1em",capHeight:"0.71em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end"};function eL(e){var t,r=e.viewBox,i=e.position,o=e.value,a=e.children,s=e.content,l=e.className,u=void 0===l?"":l,c=e.textBreakAll;if(!r||ES()(o)&&ES()(a)&&!(0,n.isValidElement)(s)&&!mS()(s))return null;if((0,n.isValidElement)(s))return(0,n.cloneElement)(s,e);if(mS()(s)){if(t=(0,n.createElement)(s,e),(0,n.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=ES()(e.children)?t:e.children;return mS()(n)?n(r):r}(e);var h=function(e){return KE(e.cx)}(r),p=AS(e,!0);if(h&&("insideStart"===i||"insideEnd"===i||"end"===i))return function(e,t,r){var i,o,a=e.position,s=e.viewBox,l=e.offset,u=e.className,c=s,h=c.cx,p=c.cy,d=c.innerRadius,f=c.outerRadius,m=c.startAngle,g=c.endAngle,y=c.clockWise,v=(d+f)/2,_=function(e,t){return XE(t-e)*Math.min(Math.abs(t-e),360)}(m,g),b=_>=0?1:-1;"insideStart"===a?(i=m+b*l,o=y):"insideEnd"===a?(i=g-b*l,o=!y):"end"===a&&(i=g+b*l,o=y),o=_<=0?o:!o;var x=Tk(h,p,v,i),w=Tk(h,p,v,i+359*(o?1:-1)),E="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(w.x,",").concat(w.y),S=ES()(e.id)?eS("recharts-radial-line-"):e.id;return n.createElement("text",QP({},r,{dominantBaseline:"central",className:Yw()("recharts-radial-bar-label",u)}),n.createElement("defs",null,n.createElement("path",{id:S,d:E})),n.createElement("textPath",{xlinkHref:"#".concat(S)},t))}(e,t,p);var d=h?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,o=i.cx,a=i.cy,s=i.innerRadius,l=i.outerRadius,u=(i.startAngle+i.endAngle)/2;if("outside"===r){var c=Tk(o,a,l+n,u),h=c.x;return{x:h,y:c.y,textAnchor:h>=o?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=Tk(o,a,(s+l)/2,u);return{x:p.x,y:p.y,textAnchor:"middle",verticalAnchor:"middle"}}(e):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,o=t,a=o.x,s=o.y,l=o.width,u=o.height,c=u>=0?1:-1,h=c*r,p=c>0?"end":"start",d=c>0?"start":"end",f=l>=0?1:-1,m=f*r,g=f>0?"end":"start",y=f>0?"start":"end";if("top"===i)return KP(KP({},{x:a+l/2,y:s-c*r,textAnchor:"middle",verticalAnchor:p}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return KP(KP({},{x:a+l/2,y:s+u+h,textAnchor:"middle",verticalAnchor:d}),n?{height:Math.max(n.y+n.height-(s+u),0),width:l}:{});if("left"===i){var v={x:a-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"};return KP(KP({},v),n?{width:Math.max(v.x-n.x,0),height:u}:{})}if("right"===i){var _={x:a+l+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"};return KP(KP({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:u}:{})}var b=n?{width:l,height:u}:{};return"insideLeft"===i?KP({x:a+m,y:s+u/2,textAnchor:y,verticalAnchor:"middle"},b):"insideRight"===i?KP({x:a+l-m,y:s+u/2,textAnchor:g,verticalAnchor:"middle"},b):"insideTop"===i?KP({x:a+l/2,y:s+h,textAnchor:"middle",verticalAnchor:d},b):"insideBottom"===i?KP({x:a+l/2,y:s+u-h,textAnchor:"middle",verticalAnchor:p},b):"insideTopLeft"===i?KP({x:a+m,y:s+h,textAnchor:y,verticalAnchor:d},b):"insideTopRight"===i?KP({x:a+l-m,y:s+h,textAnchor:g,verticalAnchor:d},b):"insideBottomLeft"===i?KP({x:a+m,y:s+u-h,textAnchor:y,verticalAnchor:p},b):"insideBottomRight"===i?KP({x:a+l-m,y:s+u-h,textAnchor:g,verticalAnchor:p},b):IS()(i)&&(KE(i.x)||YE(i.x))&&(KE(i.y)||YE(i.y))?KP({x:a+tS(i.x,l),y:s+tS(i.y,u),textAnchor:"end",verticalAnchor:"end"},b):KP({x:a+l/2,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},b)}(e);return n.createElement(WP,QP({className:Yw()("recharts-label",u)},p,d,{breakAll:c}),t)}eL.displayName="Label",eL.defaultProps={offset:5};var tL=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,o=e.endAngle,a=e.r,s=e.radius,l=e.innerRadius,u=e.outerRadius,c=e.x,h=e.y,p=e.top,d=e.left,f=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(KE(f)&&KE(m)){if(KE(c)&&KE(h))return{x:c,y:h,width:f,height:m};if(KE(p)&&KE(d))return{x:p,y:d,width:f,height:m}}return KE(c)&&KE(h)?{x:c,y:h,width:0,height:0}:KE(t)&&KE(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:o||r||0,innerRadius:l||0,outerRadius:u||s||a||0,clockWise:g}:e.viewBox?e.viewBox:{}},nL=function(e,t){return e?!0===e?n.createElement(eL,{key:"label-implicit",viewBox:t}):JE(e)?n.createElement(eL,{key:"label-implicit",viewBox:t,value:e}):(0,n.isValidElement)(e)?e.type===eL?(0,n.cloneElement)(e,{key:"label-implicit",viewBox:t}):n.createElement(eL,{key:"label-implicit",content:e,viewBox:t}):mS()(e)?n.createElement(eL,{key:"label-implicit",content:e,viewBox:t}):IS()(e)?n.createElement(eL,QP({viewBox:t},e,{key:"label-implicit"})):null:null};function rL(e){return rL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rL(e)}function iL(){return iL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iL.apply(this,arguments)}function oL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oL(Object(n),!0).forEach((function(t){sL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cL(e,t){return cL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cL(e,t)}function hL(e,t){return!t||"object"!==rL(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function pL(e){return pL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},pL(e)}eL.parseViewBox=tL,eL.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=tL(e),a=hP(i,eL.displayName).map((function(e,r){return(0,n.cloneElement)(e,{viewBox:t||o,key:"label-".concat(r)})}));if(!r)return a;var s=nL(e.label,t||o);return[s].concat($P(a))};var dL=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cL(e,t)}(l,e);var t,r,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=pL(o);if(a){var n=pL(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hL(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).layerReference=void 0,t.state={fontSize:"",letterSpacing:""},t}return t=l,r=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=lL(e,["viewBox"]),i=this.props,o=i.viewBox,a=lL(i,["viewBox"]);return!iP(n,o)||!iP(r,a)||!iP(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,o,a,s=this.props,l=s.x,u=s.y,c=s.width,h=s.height,p=s.orientation,d=s.tickSize,f=s.mirror,m=s.tickMargin,g=f?-1:1,y=e.tickSize||d,v=KE(e.tickCoord)?e.tickCoord:e.coordinate;switch(p){case"top":t=n=e.coordinate,a=(r=(i=u+ +!f*h)-g*y)-g*m,o=v;break;case"left":r=i=e.coordinate,o=(t=(n=l+ +!f*c)-g*y)-g*m,a=v;break;case"right":r=i=e.coordinate,o=(t=(n=l+ +f*c)+g*y)+g*m,a=v;break;default:t=n=e.coordinate,a=(r=(i=u+ +f*h)+g*y)+g*m,o=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:o,y:a}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,i=e.width,o=e.height,a=e.orientation,s=e.mirror,l=e.axisLine,u=aL(aL(aL({},AS(this.props)),AS(l)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!s||"bottom"===a&&s);u=aL(aL({},u),{},{x1:t,y1:r+c*o,x2:t+i,y2:r+c*o})}else{var h=+("left"===a&&!s||"right"===a&&s);u=aL(aL({},u),{},{x1:t+h*i,y1:r,x2:t+h*i,y2:r+o})}return n.createElement("line",iL({},u,{className:Yw()("recharts-cartesian-axis-line",jE()(l,"className"))}))}},{key:"renderTicks",value:function(e,t,r){var i=this,o=this.props,a=o.tickLine,s=o.stroke,u=o.tick,c=o.tickFormatter,h=o.unit,p=l.getTicks(aL(aL({},this.props),{},{ticks:e}),t,r),d=this.getTickTextAnchor(),f=this.getTickVerticalAnchor(),m=AS(this.props),g=AS(u),y=aL(aL({},m),{},{fill:"none"},AS(a)),v=p.map((function(e,t){var r=i.getTickLineCoord(e),o=r.line,v=r.tick,_=aL(aL(aL(aL({textAnchor:d,verticalAnchor:f},m),{},{stroke:"none",fill:s},g),v),{},{index:t,payload:e,visibleTicksCount:p.length,tickFormatter:c});return n.createElement(FS,iL({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t)},RS(i.props,e,t)),a&&n.createElement("line",iL({},y,o,{className:Yw()("recharts-cartesian-axis-tick-line",jE()(a,"className"))})),u&&l.renderTickItem(u,_,"".concat(mS()(c)?c(e.value,t):e.value).concat(h||"")))}));return n.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,i=t.width,o=t.height,a=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,u=l.ticks,c=lL(l,["ticks"]),h=u;return mS()(a)&&(h=u&&u.length>0?a(this.props):a(c)),i<=0||o<=0||!h||!h.length?null:n.createElement(FS,{className:Yw()("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(h,this.state.fontSize,this.state.letterSpacing),eL.renderCallByParent(this.props))}}],i=[{key:"getTicks",value:function(e,t,n){var r=e.tick,i=e.ticks,o=e.viewBox,a=e.minTickGap,s=e.orientation,u=e.interval,c=e.tickFormatter,h=e.unit;return i&&i.length&&r?KE(u)||lT.isSsr?l.getNumberIntervalTicks(i,"number"==typeof u&&KE(u)?u:0):"preserveStartEnd"===u?l.getTicksStart({ticks:i,tickFormatter:c,viewBox:o,orientation:s,minTickGap:a,unit:h,fontSize:t,letterSpacing:n},!0):"preserveStart"===u?l.getTicksStart({ticks:i,tickFormatter:c,viewBox:o,orientation:s,minTickGap:a,unit:h,fontSize:t,letterSpacing:n}):l.getTicksEnd({ticks:i,tickFormatter:c,viewBox:o,orientation:s,minTickGap:a,unit:h,fontSize:t,letterSpacing:n}):[]}},{key:"getNumberIntervalTicks",value:function(e,t){return e.filter((function(e,n){return n%(t+1)==0}))}},{key:"getTicksStart",value:function(e,t){var n,r,i=e.ticks,o=e.tickFormatter,a=e.viewBox,s=e.orientation,l=e.minTickGap,u=e.unit,c=e.fontSize,h=e.letterSpacing,p=a.x,d=a.y,f=a.width,m=a.height,g="top"===s||"bottom"===s?"width":"height",y=(i||[]).slice(),v=u&&"width"===g?kP(u,{fontSize:c,letterSpacing:h})[g]:0,_=y.length,b=_>=2?XE(y[1].coordinate-y[0].coordinate):1;if(1===b?(n="width"===g?p:d,r="width"===g?p+f:d+m):(n="width"===g?p+f:d+m,r="width"===g?p:d),t){var x=i[_-1],w=mS()(o)?o(x.value,_-1):x.value,E=kP(w,{fontSize:c,letterSpacing:h})[g]+v,S=b*(x.coordinate+b*E/2-r);y[_-1]=x=aL(aL({},x),{},{tickCoord:S>0?x.coordinate-S*b:x.coordinate}),b*(x.tickCoord-b*E/2-n)>=0&&b*(x.tickCoord+b*E/2-r)<=0&&(r=x.tickCoord-b*(E/2+l),y[_-1]=aL(aL({},x),{},{isShow:!0}))}for(var C=t?_-1:_,T=0;T<C;T++){var I=y[T],k=mS()(o)?o(I.value,T):I.value,P=kP(k,{fontSize:c,letterSpacing:h})[g]+v;if(0===T){var L=b*(I.coordinate-b*P/2-n);y[T]=I=aL(aL({},I),{},{tickCoord:L<0?I.coordinate-L*b:I.coordinate})}else y[T]=I=aL(aL({},I),{},{tickCoord:I.coordinate});b*(I.tickCoord-b*P/2-n)>=0&&b*(I.tickCoord+b*P/2-r)<=0&&(n=I.tickCoord+b*(P/2+l),y[T]=aL(aL({},I),{},{isShow:!0}))}return y.filter((function(e){return e.isShow}))}},{key:"getTicksEnd",value:function(e){var t,n,r=e.ticks,i=e.tickFormatter,o=e.viewBox,a=e.orientation,s=e.minTickGap,l=e.unit,u=e.fontSize,c=e.letterSpacing,h=o.x,p=o.y,d=o.width,f=o.height,m="top"===a||"bottom"===a?"width":"height",g=l&&"width"===m?kP(l,{fontSize:u,letterSpacing:c})[m]:0,y=(r||[]).slice(),v=y.length,_=v>=2?XE(y[1].coordinate-y[0].coordinate):1;1===_?(t="width"===m?h:p,n="width"===m?h+d:p+f):(t="width"===m?h+d:p+f,n="width"===m?h:p);for(var b=v-1;b>=0;b--){var x=y[b],w=mS()(i)?i(x.value,v-b-1):x.value,E=kP(w,{fontSize:u,letterSpacing:c})[m]+g;if(b===v-1){var S=_*(x.coordinate+_*E/2-n);y[b]=x=aL(aL({},x),{},{tickCoord:S>0?x.coordinate-S*_:x.coordinate})}else y[b]=x=aL(aL({},x),{},{tickCoord:x.coordinate});_*(x.tickCoord-_*E/2-t)>=0&&_*(x.tickCoord+_*E/2-n)<=0&&(n=x.tickCoord-_*(E/2+s),y[b]=aL(aL({},x),{},{isShow:!0}))}return y.filter((function(e){return e.isShow}))}},{key:"renderTickItem",value:function(e,t,r){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?e(t):n.createElement(WP,iL({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],r&&uL(t.prototype,r),i&&uL(t,i),l}(n.Component);function fL(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}function mL(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function gL(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}dL.displayName="CartesianAxis",dL.defaultProps={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};const yL=Symbol("implicit");function vL(){var e=new Map,t=[],n=[],r=yL;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==yL)return r;e.set(o,a=t.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const r of n){const n=r+"";e.has(n)||e.set(n,t.push(r))}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return vL(t,n).unknown(r)},mL.apply(i,arguments),i}function _L(){var e,t,n=vL().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function h(){var n=r().length,h=a<o,p=h?a:o,d=h?o:a;e=(d-p)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),p+=(d-p-e*(n-l))*c,t=e*(1-l),s&&(p=Math.round(p),t=Math.round(t));var f=fL(n).map((function(t){return p+e*t}));return i(h?f.reverse():f)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,h()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,h()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),h()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),h()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,h()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},n.copy=function(){return _L(r(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},mL.apply(h(),arguments)}function bL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return bL(t())},e}function xL(){return bL(_L.apply(null,arguments).paddingInner(1))}var wL=a(18446),EL=a.n(wL),SL=a(6162),CL=a.n(SL),TL=a(53632),IL=a.n(TL),kL=a(94654),PL=a.n(kL),LL=a(29887),ML=a.n(LL);function AL(e){return function(e){if(Array.isArray(e))return OL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return OL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OL(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var RL=function(e){return e},NL={"@@functional/placeholder":!0},DL=function(e){return e===NL},zL=function(e){return function t(){return 0===arguments.length||1===arguments.length&&DL(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},FL=function e(t,n){return 1===t?n:zL((function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter((function(e){return e!==NL})).length;return a>=t?n.apply(void 0,i):e(t-a,zL((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=i.map((function(e){return DL(e)?t.shift():e}));return n.apply(void 0,AL(o).concat(t))})))}))},BL=function(e){return FL(e.length,e)},jL=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ZL=BL((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),UL=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return RL;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},qL=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},VL=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};BL((function(e,t,n){var r=+e;return r+n*(+t-r)})),BL((function(e,t,n){var r=t-+e;return(n-e)/(r||1/0)})),BL((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const GL=function(e,t,n){for(var r=new(ML())(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o},HL=function(e){return 0===e?1:Math.floor(new(ML())(e).abs().log(10).toNumber())+1};function WL(e){return function(e){if(Array.isArray(e))return YL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||XL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||XL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XL(e,t){if(e){if("string"==typeof e)return YL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YL(e,t):void 0}}function YL(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KL(e){var t=$L(e,2),n=t[0],r=t[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function JL(e,t,n){if(e.lte(0))return new(ML())(0);var r=HL(e.toNumber()),i=new(ML())(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new(ML())(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return t?s:new(ML())(Math.ceil(s))}function QL(e,t,n){var r=1,i=new(ML())(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new(ML())(10).pow(HL(e)-1),i=new(ML())(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new(ML())(Math.floor(e)))}else 0===e?i=new(ML())(Math.floor((t-1)/2)):n||(i=new(ML())(Math.floor(e)));var a=Math.floor((t-1)/2),s=UL(ZL((function(e){return i.add(new(ML())(e-a).mul(r)).toNumber()})),jL);return s(0,t)}function eM(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(ML())(0),tickMin:new(ML())(0),tickMax:new(ML())(0)};var o,a=JL(new(ML())(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new(ML())(0):(o=new(ML())(e).add(t).div(2)).sub(new(ML())(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new(ML())(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?eM(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new(ML())(s).mul(a)),tickMax:o.add(new(ML())(l).mul(a))})}var tM=VL((function(e){var t=$L(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=KL([n,r]),l=$L(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var h=c===1/0?[u].concat(WL(jL(0,i-1).map((function(){return 1/0})))):[].concat(WL(jL(0,i-1).map((function(){return-1/0}))),[c]);return n>r?qL(h):h}if(u===c)return QL(u,i,o);var p=eM(u,c,a,o),d=p.step,f=p.tickMin,m=p.tickMax,g=GL(f,m.add(new(ML())(.1).mul(d)),d);return n>r?qL(g):g})),nM=(VL((function(e){var t=$L(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(i,2),s=KL([n,r]),l=$L(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0)return[n,r];if(u===c)return QL(u,i,o);var h=JL(new(ML())(c).sub(u).div(a-1),o,0),p=UL(ZL((function(e){return new(ML())(u).add(new(ML())(e).mul(h)).toNumber()})),jL),d=p(0,a).filter((function(e){return e>=u&&e<=c}));return n>r?qL(d):d})),VL((function(e,t){var n=$L(e,2),r=n[0],i=n[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=KL([r,i]),s=$L(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(t,2),h=JL(new(ML())(u).sub(l).div(c-1),o,0),p=[].concat(WL(GL(new(ML())(l),new(ML())(u).sub(new(ML())(.99).mul(h)),h)),[u]);return r>i?qL(p):p}))),rM=Math.sqrt(50),iM=Math.sqrt(10),oM=Math.sqrt(2);function aM(e,t,n){var r,i,o,a,s=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(a=sM(e,t,n))||!isFinite(a))return[];if(a>0){let n=Math.round(e/a),r=Math.round(t/a);for(n*a<e&&++n,r*a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(e*a),r=Math.round(t*a);for(n/a<e&&++n,r/a>t&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}function sM(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=rM?10:o>=iM?5:o>=oM?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=rM?10:o>=iM?5:o>=oM?2:1)}function lM(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=rM?i*=10:o>=iM?i*=5:o>=oM&&(i*=2),t<e?-i:i}function uM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cM(e){let t=e,n=e;function r(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)<0?r=o+1:i=o}return r}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>uM(e(t),n)}(e)),{left:r,center:function(e,n,i,o){null==i&&(i=0),null==o&&(o=e.length);const a=r(e,n,i,o-1);return a>i&&t(e[a-1],n)>-t(e[a],n)?a-1:a},right:function(e,t,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){const o=r+i>>>1;n(e[o],t)>0?i=o:r=o+1}return r}}}function hM(e){return null===e?NaN:+e}const pM=cM(uM),dM=pM.right,fM=(pM.left,cM(hM).center,dM);function mM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function yM(){}var vM=.7,_M=1/vM,bM="\\s*([+-]?\\d+)\\s*",xM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",wM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",EM=/^#([0-9a-f]{3,8})$/,SM=new RegExp("^rgb\\("+[bM,bM,bM]+"\\)$"),CM=new RegExp("^rgb\\("+[wM,wM,wM]+"\\)$"),TM=new RegExp("^rgba\\("+[bM,bM,bM,xM]+"\\)$"),IM=new RegExp("^rgba\\("+[wM,wM,wM,xM]+"\\)$"),kM=new RegExp("^hsl\\("+[xM,wM,wM]+"\\)$"),PM=new RegExp("^hsla\\("+[xM,wM,wM,xM]+"\\)$"),LM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function MM(){return this.rgb().formatHex()}function AM(){return this.rgb().formatRgb()}function OM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=EM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?RM(t):3===n?new FM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?NM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?NM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=SM.exec(e))?new FM(t[1],t[2],t[3],1):(t=CM.exec(e))?new FM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=TM.exec(e))?NM(t[1],t[2],t[3],t[4]):(t=IM.exec(e))?NM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=kM.exec(e))?UM(t[1],t[2]/100,t[3]/100,1):(t=PM.exec(e))?UM(t[1],t[2]/100,t[3]/100,t[4]):LM.hasOwnProperty(e)?RM(LM[e]):"transparent"===e?new FM(NaN,NaN,NaN,0):null}function RM(e){return new FM(e>>16&255,e>>8&255,255&e,1)}function NM(e,t,n,r){return r<=0&&(e=t=n=NaN),new FM(e,t,n,r)}function DM(e){return e instanceof yM||(e=OM(e)),e?new FM((e=e.rgb()).r,e.g,e.b,e.opacity):new FM}function zM(e,t,n,r){return 1===arguments.length?DM(e):new FM(e,t,n,null==r?1:r)}function FM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function BM(){return"#"+ZM(this.r)+ZM(this.g)+ZM(this.b)}function jM(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function ZM(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function UM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new VM(e,t,n,r)}function qM(e){if(e instanceof VM)return new VM(e.h,e.s,e.l,e.opacity);if(e instanceof yM||(e=OM(e)),!e)return new VM;if(e instanceof VM)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new VM(a,s,l,e.opacity)}function VM(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function GM(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function HM(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}mM(yM,OM,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:MM,formatHex:MM,formatHsl:function(){return qM(this).formatHsl()},formatRgb:AM,toString:AM}),mM(FM,zM,gM(yM,{brighter:function(e){return e=null==e?_M:Math.pow(_M,e),new FM(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?vM:Math.pow(vM,e),new FM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BM,formatHex:BM,formatRgb:jM,toString:jM})),mM(VM,(function(e,t,n,r){return 1===arguments.length?qM(e):new VM(e,t,n,null==r?1:r)}),gM(yM,{brighter:function(e){return e=null==e?_M:Math.pow(_M,e),new VM(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?vM:Math.pow(vM,e),new VM(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new FM(GM(e>=240?e-240:e+120,i,r),GM(e,i,r),GM(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));const WM=e=>()=>e;function $M(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):WM(isNaN(e)?t:e)}const XM=function e(t){var n=function(e){return 1==(e=+e)?$M:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):WM(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=zM(e)).r,(t=zM(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=$M(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function YM(e){return function(t){var n,r,i=t.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=zM(t[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=e(o),a=e(a),s=e(s),r.opacity=1,function(e){return r.r=o(e),r.g=a(e),r.b=s(e),r+""}}}function KM(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=oA(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function JM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function QM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eA(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=oA(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}YM((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,s=r<t-1?e[r+2]:2*o-i;return HM((n-r/t)*t,a,i,o,s)}})),YM((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],a=e[(r+1)%t],s=e[(r+2)%t];return HM((n-r/t)*t,i,o,a,s)}}));var tA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nA=new RegExp(tA.source,"g");function rA(e,t){var n,r,i,o=tA.lastIndex=nA.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=tA.exec(e))&&(r=nA.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:QM(n,r)})),o=nA.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function iA(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function oA(e,t){var n,r=typeof t;return null==t||"boolean"===r?WM(t):("number"===r?QM:"string"===r?(n=OM(t))?(t=n,XM):rA:t instanceof OM?XM:t instanceof Date?JM:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?iA:Array.isArray(t)?KM:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?eA:QM)(e,t)}function aA(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function sA(e){return+e}var lA=[0,1];function uA(e){return e}function cA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function hA(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=cA(i,r),o=n(a,o)):(r=cA(r,i),o=n(o,a)),function(e){return o(r(e))}}function pA(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=cA(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=fM(e,t,1,r)-1;return o[n](i[n](t))}}function dA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fA(){var e,t,n,r,i,o,a=lA,s=lA,l=oA,u=uA;function c(){var e=Math.min(a.length,s.length);return u!==uA&&(u=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(a[0],a[e-1])),r=e>2?pA:hA,i=o=null,h}function h(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return h.invert=function(n){return u(t((o||(o=r(s,a.map(e),QM)))(n)))},h.domain=function(e){return arguments.length?(a=Array.from(e,sA),c()):a.slice()},h.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},h.rangeRound=function(e){return s=Array.from(e),l=aA,c()},h.clamp=function(e){return arguments.length?(u=!!e||uA,c()):u!==uA},h.interpolate=function(e){return arguments.length?(l=e,c()):l},h.unknown=function(e){return arguments.length?(n=e,h):n},function(n,r){return e=n,t=r,c()}}function mA(){return fA()(uA,uA)}var gA,yA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vA(e){if(!(t=yA.exec(e)))throw new Error("invalid format: "+e);var t;return new _A({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function _A(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function bA(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xA(e){return(e=bA(Math.abs(e)))?e[1]:NaN}function wA(e,t){var n=bA(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}vA.prototype=_A.prototype,_A.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const EA={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>wA(100*e,t),r:wA,s:function(e,t){var n=bA(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(gA=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bA(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SA(e){return e}var CA,TA,IA,kA=Array.prototype.map,PA=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LA(e,t,n,r){var i,o=lM(e,t,n);switch((r=vA(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xA(t)/3)))-xA(Math.abs(e)))}(o,a))||(r.precision=i),IA(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xA(t)-xA(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-xA(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return TA(r)}function MA(e){var t=e.domain;return e.ticks=function(e){var n=t();return aM(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return LA(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=sM(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function AA(){var e=mA();return e.copy=function(){return dA(e,AA())},mL.apply(e,arguments),MA(e)}function OA(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,sA),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return OA(e).unknown(t)},e=arguments.length?Array.from(e,sA):[0,1],MA(n)}function RA(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function NA(e){return Math.log(e)}function DA(e){return Math.exp(e)}function zA(e){return-Math.log(-e)}function FA(e){return-Math.exp(-e)}function BA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jA(e){return function(t){return-e(-t)}}function ZA(e){var t,n,r=e(NA,DA),i=r.domain,o=10;function a(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(o),n=function(e){return 10===e?BA:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(o),i()[0]<0?(t=jA(t),n=jA(n),e(zA,FA)):e(NA,DA),r}return r.base=function(e){return arguments.length?(o=+e,a()):o},r.domain=function(e){return arguments.length?(i(e),a()):i()},r.ticks=function(e){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(p=s,s=l,l=p);var u,c,h,p=t(s),d=t(l),f=null==e?10:+e,m=[];if(!(o%1)&&d-p<f){if(p=Math.floor(p),d=Math.ceil(d),s>0){for(;p<=d;++p)for(c=1,u=n(p);c<o;++c)if(!((h=u*c)<s)){if(h>l)break;m.push(h)}}else for(;p<=d;++p)for(c=o-1,u=n(p);c>=1;--c)if(!((h=u*c)<s)){if(h>l)break;m.push(h)}2*m.length<f&&(m=aM(s,l,f))}else m=aM(p,d,Math.min(d-p,f)).map(n);return r?m.reverse():m},r.tickFormat=function(e,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=TA(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,o*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*o<o-.5&&(r*=o),r<=a?i(e):""}},r.nice=function(){return i(RA(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function UA(){var e=ZA(fA()).domain([1,10]);return e.copy=function(){return dA(e,UA()).base(e.base())},mL.apply(e,arguments),e}function qA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function VA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function GA(e){var t=1,n=e(qA(t),VA(t));return n.constant=function(n){return arguments.length?e(qA(t=+n),VA(t)):t},MA(n)}function HA(){var e=GA(fA());return e.copy=function(){return dA(e,HA()).constant(e.constant())},mL.apply(e,arguments)}function WA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $A(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function XA(e){return e<0?-e*e:e*e}function YA(e){var t=e(uA,uA),n=1;function r(){return 1===n?e(uA,uA):.5===n?e($A,XA):e(WA(n),WA(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},MA(t)}function KA(){var e=YA(fA());return e.copy=function(){return dA(e,KA()).exponent(e.exponent())},mL.apply(e,arguments),e}function JA(){return KA.apply(null,arguments).exponent(.5)}function QA(e){return Math.sign(e)*e*e}function eO(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function tO(){var e,t=mA(),n=[0,1],r=!1;function i(n){var i=eO(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(QA(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,sA)).map(QA)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return tO(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},mL.apply(i,arguments),MA(i)}function nO(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function rO(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function iO(e,t,n=0,r=e.length-1,i=uM){for(;r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);iO(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}const o=e[t];let a=n,s=r;for(oO(e,n,t),i(e[r],o)>0&&oO(e,n,r);a<s;){for(oO(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?oO(e,n,s):(++s,oO(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function oO(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function aO(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),r=e.length){if((t=+t)<=0||r<2)return rO(e);if(t>=1)return nO(e);var r,i=(r-1)*t,o=Math.floor(i),a=nO(iO(e,o).subarray(0,o+1));return a+(rO(e.subarray(o+1))-a)*(i-o)}}function sO(e,t,n=hM){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function lO(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=sO(t,e/i);return o}function o(t){return null==t||isNaN(t=+t)?e:n[fM(r,t)]}return o.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},o.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(uM),i()},o.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},o.unknown=function(t){return arguments.length?(e=t,o):e},o.quantiles=function(){return r.slice()},o.copy=function(){return lO().domain(t).range(n).unknown(e)},mL.apply(o,arguments)}function uO(){var e,t=0,n=1,r=1,i=[.5],o=[0,1];function a(t){return null!=t&&t<=t?o[fM(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return a}return a.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},a.range=function(e){return arguments.length?(r=(o=Array.from(e)).length-1,s()):o.slice()},a.invertExtent=function(e){var a=o.indexOf(e);return a<0?[NaN,NaN]:a<1?[t,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(t){return arguments.length?(e=t,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return uO().domain([t,n]).range(o).unknown(e)},mL.apply(MA(a),arguments)}function cO(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[fM(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return cO().domain(t).range(n).unknown(e)},mL.apply(i,arguments)}CA=function(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?SA:(t=kA.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?SA:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(kA.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"−":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=vA(e)).fill,n=e.align,h=e.sign,p=e.symbol,d=e.zero,f=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):EA[v]||(void 0===g&&(g=12),y=!0,v="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var _="$"===p?i:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===p?o:/[%p]/.test(v)?l:"",x=EA[v],w=/[defgprs%]/.test(v);function E(e){var i,o,l,p=_,E=b;if("c"===v)E=x(e)+E,e="";else{var S=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:x(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),S&&0==+e&&"+"!==h&&(S=!1),p=(S?"("===h?h:u:"-"===h||"("===h?"":h)+p,E=("s"===v?PA[8+gA/3]:"")+E+(S&&"("===h?")":""),w)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){E=(46===l?a+e.slice(i+1):e.slice(i))+E,e=e.slice(0,i);break}}m&&!d&&(e=r(e,1/0));var C=p.length+e.length+E.length,T=C<f?new Array(f-C+1).join(t):"";switch(m&&d&&(e=r(T+e,T.length?f-E.length:1/0),T=""),n){case"<":e=p+e+E+T;break;case"=":e=p+T+e+E;break;case"^":e=T.slice(0,C=T.length>>1)+p+e+E+T.slice(C);break;default:e=T+p+e+E}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),E.toString=function(){return e+""},E}return{format:h,formatPrefix:function(e,t){var n=h(((e=vA(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(xA(t)/3))),i=Math.pow(10,-r),o=PA[8+r/3];return function(e){return n(i*e)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),TA=CA.format,IA=CA.formatPrefix;const hO=1e3,pO=6e4,dO=36e5,fO=864e5,mO=6048e5,gO=31536e6;var yO=new Date,vO=new Date;function _O(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),t(n,o),e(n)}while(a<n&&n<r);return s},i.filter=function(n){return _O((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return yO.setTime(+t),vO.setTime(+r),e(yO),e(vO),Math.floor(n(yO,vO))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e==0}:function(t){return i.count(0,t)%e==0}):i:null}),i}var bO=_O((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));bO.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?_O((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):bO:null};const xO=bO;bO.range;var wO=_O((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*hO)}),(function(e,t){return(t-e)/hO}),(function(e){return e.getUTCSeconds()}));const EO=wO;wO.range;var SO=_O((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*hO)}),(function(e,t){e.setTime(+e+t*pO)}),(function(e,t){return(t-e)/pO}),(function(e){return e.getMinutes()}));const CO=SO;SO.range;var TO=_O((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*hO-e.getMinutes()*pO)}),(function(e,t){e.setTime(+e+t*dO)}),(function(e,t){return(t-e)/dO}),(function(e){return e.getHours()}));const IO=TO;TO.range;var kO=_O((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pO)/fO),(e=>e.getDate()-1));const PO=kO;function LO(e){return _O((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pO)/mO}))}kO.range;var MO=LO(0),AO=LO(1),OO=LO(2),RO=LO(3),NO=LO(4),DO=LO(5),zO=LO(6),FO=(MO.range,AO.range,OO.range,RO.range,NO.range,DO.range,zO.range,_O((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})));const BO=FO;FO.range;var jO=_O((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));jO.every=function(e){return isFinite(e=Math.floor(e))&&e>0?_O((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const ZO=jO;jO.range;var UO=_O((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*pO)}),(function(e,t){return(t-e)/pO}),(function(e){return e.getUTCMinutes()}));const qO=UO;UO.range;var VO=_O((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*dO)}),(function(e,t){return(t-e)/dO}),(function(e){return e.getUTCHours()}));const GO=VO;VO.range;var HO=_O((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/fO}),(function(e){return e.getUTCDate()-1}));const WO=HO;function $O(e){return _O((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/mO}))}HO.range;var XO=$O(0),YO=$O(1),KO=$O(2),JO=$O(3),QO=$O(4),eR=$O(5),tR=$O(6),nR=(XO.range,YO.range,KO.range,JO.range,QO.range,eR.range,tR.range,_O((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})));const rR=nR;nR.range;var iR=_O((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));iR.every=function(e){return isFinite(e=Math.floor(e))&&e>0?_O((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const oR=iR;function aR(e,t,n,r,i,o){const a=[[EO,1,hO],[EO,5,5e3],[EO,15,15e3],[EO,30,3e4],[o,1,pO],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,dO],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,fO],[r,2,1728e5],[n,1,mO],[t,1,2592e6],[t,3,7776e6],[e,1,gO]];function s(t,n,r){const i=Math.abs(n-t)/r,o=cM((([,,e])=>e)).right(a,i);if(o===a.length)return e.every(lM(t/gO,n/gO,r));if(0===o)return xO.every(Math.max(lM(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}iR.range;const[sR,lR]=aR(oR,rR,XO,WO,GO,qO),[uR,cR]=aR(ZO,BO,MO,PO,IO,CO);function hR(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pR(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dR(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var fR,mR,gR,yR={"-":"",_:" ",0:"0"},vR=/^\s*\d+/,_R=/^%/,bR=/[\\^$*+?|[\]().{}]/g;function xR(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function wR(e){return e.replace(bR,"\\$&")}function ER(e){return new RegExp("^(?:"+e.map(wR).join("|")+")","i")}function SR(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function CR(e,t,n){var r=vR.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function TR(e,t,n){var r=vR.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function IR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function PR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function LR(e,t,n){var r=vR.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function MR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function AR(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function OR(e,t,n){var r=vR.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function RR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function NR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function DR(e,t,n){var r=vR.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function zR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function FR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function BR(e,t,n){var r=vR.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function jR(e,t,n){var r=vR.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function ZR(e,t,n){var r=vR.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function UR(e,t,n){var r=_R.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function qR(e,t,n){var r=vR.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VR(e,t,n){var r=vR.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function GR(e,t){return xR(e.getDate(),t,2)}function HR(e,t){return xR(e.getHours(),t,2)}function WR(e,t){return xR(e.getHours()%12||12,t,2)}function $R(e,t){return xR(1+PO.count(ZO(e),e),t,3)}function XR(e,t){return xR(e.getMilliseconds(),t,3)}function YR(e,t){return XR(e,t)+"000"}function KR(e,t){return xR(e.getMonth()+1,t,2)}function JR(e,t){return xR(e.getMinutes(),t,2)}function QR(e,t){return xR(e.getSeconds(),t,2)}function eN(e){var t=e.getDay();return 0===t?7:t}function tN(e,t){return xR(MO.count(ZO(e)-1,e),t,2)}function nN(e){var t=e.getDay();return t>=4||0===t?NO(e):NO.ceil(e)}function rN(e,t){return e=nN(e),xR(NO.count(ZO(e),e)+(4===ZO(e).getDay()),t,2)}function iN(e){return e.getDay()}function oN(e,t){return xR(AO.count(ZO(e)-1,e),t,2)}function aN(e,t){return xR(e.getFullYear()%100,t,2)}function sN(e,t){return xR((e=nN(e)).getFullYear()%100,t,2)}function lN(e,t){return xR(e.getFullYear()%1e4,t,4)}function uN(e,t){var n=e.getDay();return xR((e=n>=4||0===n?NO(e):NO.ceil(e)).getFullYear()%1e4,t,4)}function cN(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xR(t/60|0,"0",2)+xR(t%60,"0",2)}function hN(e,t){return xR(e.getUTCDate(),t,2)}function pN(e,t){return xR(e.getUTCHours(),t,2)}function dN(e,t){return xR(e.getUTCHours()%12||12,t,2)}function fN(e,t){return xR(1+WO.count(oR(e),e),t,3)}function mN(e,t){return xR(e.getUTCMilliseconds(),t,3)}function gN(e,t){return mN(e,t)+"000"}function yN(e,t){return xR(e.getUTCMonth()+1,t,2)}function vN(e,t){return xR(e.getUTCMinutes(),t,2)}function _N(e,t){return xR(e.getUTCSeconds(),t,2)}function bN(e){var t=e.getUTCDay();return 0===t?7:t}function xN(e,t){return xR(XO.count(oR(e)-1,e),t,2)}function wN(e){var t=e.getUTCDay();return t>=4||0===t?QO(e):QO.ceil(e)}function EN(e,t){return e=wN(e),xR(QO.count(oR(e),e)+(4===oR(e).getUTCDay()),t,2)}function SN(e){return e.getUTCDay()}function CN(e,t){return xR(YO.count(oR(e)-1,e),t,2)}function TN(e,t){return xR(e.getUTCFullYear()%100,t,2)}function IN(e,t){return xR((e=wN(e)).getUTCFullYear()%100,t,2)}function kN(e,t){return xR(e.getUTCFullYear()%1e4,t,4)}function PN(e,t){var n=e.getUTCDay();return xR((e=n>=4||0===n?QO(e):QO.ceil(e)).getUTCFullYear()%1e4,t,4)}function LN(){return"+0000"}function MN(){return"%"}function AN(e){return+e}function ON(e){return Math.floor(+e/1e3)}function RN(e){return new Date(e)}function NN(e){return e instanceof Date?+e:+new Date(+e)}function DN(e,t,n,r,i,o,a,s,l,u){var c=mA(),h=c.invert,p=c.domain,d=u(".%L"),f=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),_=u("%B"),b=u("%Y");function x(e){return(l(e)<e?d:s(e)<e?f:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?_:b)(e)}return c.invert=function(e){return new Date(h(e))},c.domain=function(e){return arguments.length?p(Array.from(e,NN)):p().map(RN)},c.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?x:u(t)},c.nice=function(e){var n=p();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?p(RA(n,e)):c},c.copy=function(){return dA(c,DN(e,t,n,r,i,o,a,s,l,u))},c}function zN(){return mL.apply(DN(uR,cR,ZO,BO,MO,PO,IO,CO,EO,mR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FN(){return mL.apply(DN(sR,lR,oR,rR,XO,WO,GO,qO,EO,gR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function BN(){var e,t,n,r,i,o=0,a=1,s=uA,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(oA),u.rangeRound=c(aA),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function jN(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZN(){var e=MA(BN()(uA));return e.copy=function(){return jN(e,ZN())},gL.apply(e,arguments)}function UN(){var e=ZA(BN()).domain([1,10]);return e.copy=function(){return jN(e,UN()).base(e.base())},gL.apply(e,arguments)}function qN(){var e=GA(BN());return e.copy=function(){return jN(e,qN()).constant(e.constant())},gL.apply(e,arguments)}function VN(){var e=YA(BN());return e.copy=function(){return jN(e,VN()).exponent(e.exponent())},gL.apply(e,arguments)}function GN(){return VN.apply(null,arguments).exponent(.5)}function HN(){var e=[],t=uA;function n(n){if(null!=n&&!isNaN(n=+n))return t((fM(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(uM),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>aO(e,r/t)))},n.copy=function(){return HN(t).domain(e)},gL.apply(n,arguments)}function WN(e,t){void 0===t&&(t=e,e=oA);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}function $N(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,h=uA,p=!1;function d(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),h(p?Math.max(0,Math.min(1,e)):e))}function f(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,h=WN(e,[n,r,i]),d):[h(0),h(.5),h(1)]}}return d.domain=function(a){return arguments.length?([s,l,u]=a,e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,d):[s,l,u]},d.clamp=function(e){return arguments.length?(p=!!e,d):p},d.interpolator=function(e){return arguments.length?(h=e,d):h},d.range=f(oA),d.rangeRound=f(aA),d.unknown=function(e){return arguments.length?(a=e,d):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,d}}function XN(){var e=MA($N()(uA));return e.copy=function(){return jN(e,XN())},gL.apply(e,arguments)}function YN(){var e=ZA($N()).domain([.1,1,10]);return e.copy=function(){return jN(e,YN()).base(e.base())},gL.apply(e,arguments)}function KN(){var e=GA($N());return e.copy=function(){return jN(e,KN()).constant(e.constant())},gL.apply(e,arguments)}function JN(){var e=YA($N());return e.copy=function(){return jN(e,JN()).exponent(e.exponent())},gL.apply(e,arguments)}function QN(){return JN.apply(null,arguments).exponent(.5)}function eD(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function tD(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function nD(e,t){return e[t]}function rD(e){const t=[];return t.key=e,t}function iD(e){return function(e){if(Array.isArray(e))return oD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oD(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aD(Object(n),!0).forEach((function(t){lD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uD(e,t,n){return ES()(e)||ES()(t)?n:JE(t)?jE()(e,t,n):mS()(t)?t(e):n}function cD(e,t,n,r){var i=PL()(e,(function(e){return uD(e,t)}));if("number"===n){var o=i.filter((function(e){return KE(e)||parseFloat(e)}));return o.length?[IL()(o),CL()(o)]:[1/0,-1/0]}return(r?i.filter((function(e){return!ES()(e)})):i).map((function(e){return JE(e)||e instanceof Date?e:""}))}fR=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=ER(i),c=SR(i),h=ER(o),p=SR(o),d=ER(a),f=SR(a),m=ER(s),g=SR(s),y=ER(l),v=SR(l),_={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:GR,e:GR,f:YR,g:sN,G:uN,H:HR,I:WR,j:$R,L:XR,m:KR,M:JR,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:AN,s:ON,S:QR,u:eN,U:tN,V:rN,w:iN,W:oN,x:null,X:null,y:aN,Y:lN,Z:cN,"%":MN},b={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:hN,e:hN,f:gN,g:IN,G:PN,H:pN,I:dN,j:fN,L:mN,m:yN,M:vN,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:AN,s:ON,S:_N,u:bN,U:xN,V:EN,w:SN,W:CN,x:null,X:null,y:TN,Y:kN,Z:LN,"%":MN},x={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=h.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return S(e,t,n,r)},d:NR,e:NR,f:ZR,g:MR,G:LR,H:zR,I:zR,j:DR,L:jR,m:RR,M:FR,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:OR,Q:qR,s:VR,S:BR,u:TR,U:IR,V:kR,w:CR,W:PR,x:function(e,t,r){return S(e,n,t,r)},X:function(e,t,n){return S(e,r,t,n)},y:MR,Y:LR,Z:AR,"%":UR};function w(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=yR[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function E(e,t){return function(n){var r,i,o=dR(1900,void 0,1);if(S(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=pR(dR(o.y,0,1))).getUTCDay(),r=i>4||0===i?YO.ceil(r):YO(r),r=WO.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=hR(dR(o.y,0,1))).getDay(),r=i>4||0===i?AO.ceil(r):AO(r),r=PO.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?pR(dR(o.y,0,1)).getUTCDay():hR(dR(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,pR(o)):hR(o)}}function S(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=x[i in yR?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=w(n,_),_.X=w(r,_),_.c=w(t,_),b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),{format:function(e){var t=w(e+="",_);return t.toString=function(){return e},t},parse:function(e){var t=E(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=E(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),mR=fR.format,fR.parse,gR=fR.utcFormat,fR.utcParse;var hD=function(e){var t,n=e.type.displayName,r=e.props,i=r.stroke,o=r.fill;switch(n){case"Line":t=i;break;case"Area":case"Radar":t=i&&"none"!==i?i:o;break;default:t=o}return t},pD=function(e){var t,n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=pP(n,kI.displayName);return a?(t=a.props&&a.props.payload?a.props&&a.props.payload:"children"===o?(r||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(r||[]).map((function(e){var t=e.item,n=t.props,r=n.dataKey,i=n.name,o=n.legendType;return{inactive:n.hide,dataKey:r,type:a.props.iconType||o||"square",color:hD(t),value:i||r,payload:t.props}})),sD(sD(sD({},a.props),kI.getWithHeight(a,i)),{},{payload:t,item:a})):null},dD=function(e,t,n,r,i){var o=t.props.children,a=hP(o,"ErrorBar").filter((function(e){return function(e,t,n){return!!ES()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(a&&a.length){var s=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=uD(t,n,0),i=UE()(r)?[IL()(r),CL()(r)]:[r,r],o=s.reduce((function(e,n){var r=uD(t,n,0),o=i[0]-Math.abs(UE()(r)?r[0]:r),a=i[1]+Math.abs(UE()(r)?r[1]:r);return[Math.min(o,e[0]),Math.max(a,e[1])]}),[1/0,-1/0]);return[Math.min(o[0],e[0]),Math.max(o[1],e[1])]}),[1/0,-1/0])}return null},fD=function(e,t,n,r,i){var o=t.map((function(t){var o=t.props.dataKey;return"number"===n&&o&&dD(e,t,o,r)||cD(e,o,n,i)}));if("number"===n)return o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var a={};return o.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)a[t[n]]||(a[t[n]]=!0,e.push(t[n]));return e}),[])},mD=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},gD=function(e,t,n){var r,i,o=e.map((function(e){return e.coordinate===t&&(r=!0),e.coordinate===n&&(i=!0),e.coordinate}));return r||o.push(t),i||o.push(n),o},yD=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,o=e.type,a=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===o&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType?2*XE(a[0]-a[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},vD=function(e,t,n){var r;return mS()(n)?r=n:mS()(t)&&(r=t),mS()(e)||r?function(t,n,i,o){mS()(e)&&e(t,n,i,o),mS()(r)&&r(t,n,i,o)}:null},_D=1e-4,bD={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0,a=0;a<t;++a){var s=VE()(e[a][n][1])?e[a][n][0]:e[a][n][1];s>=0?(e[a][n][0]=i,e[a][n][1]=i+s,i=e[a][n][1]):(e[a][n][0]=o,e[a][n][1]=o+s,o=e[a][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}eD(e,t)}},none:eD,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}eD(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],h=c[a][1]||0,p=(h-(c[a-1][1]||0))/2,d=0;d<s;++d){var f=e[t[d]];p+=(f[a][1]||0)-(f[a-1][1]||0)}l+=h,u+=p*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,eD(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,o=0;o<t;++o){var a=VE()(e[o][n][1])?e[o][n][0]:e[o][n][1];a>=0?(e[o][n][0]=i,e[o][n][1]=i+a,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}}},xD=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=function(){var e=XT([]),t=tD,n=eD,r=nD;function i(i){var o,a,s=Array.from(e.apply(this,arguments),rD),l=s.length,u=-1;for(const e of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(e,s[o].key,u,i)]).data=e;for(o=0,a=WI(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:XT(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:XT(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?tD:"function"==typeof e?e:XT(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?eD:e,i):n},i}().keys(r).value((function(e,t){return+uD(e,t,0)})).order(tD).offset(bD[n]);return i(e)},wD=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,o=e.entry,a=e.index;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=uD(o,t.dataKey,t.domain[a]);return ES()(s)?null:t.scale(s)-i/2+r},ED=function(e,t,n){return Object.keys(e).reduce((function(r,i){var o=e[i].stackedData.reduce((function(e,r){var i=r.slice(t,n+1).reduce((function(e,t){return[IL()(t.concat([e[0]]).filter(KE)),CL()(t.concat([e[1]]).filter(KE))]}),[1/0,-1/0]);return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},SD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TD=function(e,t,n){if(mS()(e))return e(t,n);if(!UE()(e))return t;var r=[];if(KE(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(SD.test(e[0])){var i=+SD.exec(e[0])[1];r[0]=t[0]-i}else mS()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(KE(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(CD.test(e[1])){var o=+CD.exec(e[1])[1];r[1]=t[1]+o}else mS()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},ID=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=_S()(t,(function(e){return e.coordinate})),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min((l.coordinate||0)-(u.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},kD=function(e,t,n){return e&&e.length?EL()(e,jE()(n,"type.defaultProps.domain"))?t:e:t},PD=function(e,t){var n=e.props,r=n.dataKey,i=n.name,o=n.unit,a=n.formatter,s=n.tooltipType,l=n.chartType;return sD(sD({},AS(e)),{},{dataKey:r,unit:o,formatter:a,name:i||r,color:hD(e),value:uD(t,r),type:s,payload:t,chartType:l})};function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LD(Object(n),!0).forEach((function(t){AD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OD=["Webkit","Moz","O","ms"];function RD(e){return RD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RD(e)}function ND(){return ND=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ND.apply(this,arguments)}function DD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?DD(Object(n),!0).forEach((function(t){FD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function FD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jD(e,t){return jD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jD(e,t)}function ZD(e,t){return!t||"object"!==RD(t)&&"function"!=typeof t?UD(e):t}function UD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qD(e){return qD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},qD(e)}var VD=function(e){return e.changedTouches&&!!e.changedTouches.length},GD=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jD(e,t)}(l,e);var t,r,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=qD(o);if(a){var n=qD(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ZD(this,e)});function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,e)).leaveTimer=void 0,t.travellerDragStartHandlers=void 0,t.handleDrag=function(e){t.leaveTimer&&(clearTimeout(t.leaveTimer),t.leaveTimer=null),t.state.isTravellerMoving?t.handleTravellerMove(e):t.state.isSlideMoving&&t.handleSlideDrag(e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleDrag(e.changedTouches[0])},t.handleDragEnd=function(){t.setState({isTravellerMoving:!1,isSlideMoving:!1}),t.detachDragEndListener()},t.handleLeaveWrapper=function(){(t.state.isTravellerMoving||t.state.isSlideMoving)&&(t.leaveTimer=window.setTimeout(t.handleDragEnd,t.props.leaveTimeOut))},t.handleEnterSlideOrTraveller=function(){t.setState({isTextActive:!0})},t.handleLeaveSlideOrTraveller=function(){t.setState({isTextActive:!1})},t.handleSlideDragStart=function(e){var n=VD(e)?e.changedTouches[0]:e;t.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:n.pageX}),t.attachDragEndListener()},t.travellerDragStartHandlers={startX:t.handleTravellerDragStart.bind(UD(t),"startX"),endX:t.handleTravellerDragStart.bind(UD(t),"endX")},t.state={},t}return t=l,r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var t=e.startX,n=e.endX,r=this.state.scaleValues,i=this.props,o=i.gap,a=i.data.length-1,s=Math.min(t,n),u=Math.max(t,n),c=l.getIndexInRange(r,s),h=l.getIndexInRange(r,u);return{startIndex:c-c%o,endIndex:h===a?a:h-h%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,o=uD(n[e],i,e);return mS()(r)?r(o,e):o}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,o=this.props,a=o.x,s=o.width,l=o.travellerWidth,u=o.startIndex,c=o.endIndex,h=o.onChange,p=e.pageX-n;p>0?p=Math.min(p,a+s-l-i,a+s-l-r):p<0&&(p=Math.max(p,a-r,a-i));var d=this.getIndex({startX:r+p,endX:i+p});d.startIndex===u&&d.endIndex===c||!h||h(d),this.setState({startX:r+p,endX:i+p,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=VD(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t,n=this.state,r=n.brushMoveStartX,i=n.movingTravellerId,o=n.endX,a=n.startX,s=this.state[i],l=this.props,u=l.x,c=l.width,h=l.travellerWidth,p=l.onChange,d=l.gap,f=l.data,m={startX:this.state.startX,endX:this.state.endX},g=e.pageX-r;g>0?g=Math.min(g,u+c-h-s):g<0&&(g=Math.max(g,u-s)),m[i]=s+g;var y=this.getIndex(m),v=y.startIndex,_=y.endIndex;this.setState((FD(t={},i,s+g),FD(t,"brushMoveStartX",e.pageX),t),(function(){var e;p&&(e=f.length-1,("startX"===i&&(o>a?v%d==0:_%d==0)||o<a&&_===e||"endX"===i&&(o>a?_%d==0:v%d==0)||o>a&&_===e)&&p(y))}))}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,i=e.width,o=e.height,a=e.fill,s=e.stroke;return n.createElement("rect",{stroke:s,fill:a,x:t,y:r,width:i,height:o})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,i=e.width,o=e.height,a=e.data,s=e.children,l=e.padding,u=n.Children.only(s);return u?n.cloneElement(u,{x:t,y:r,width:i,height:o,margin:l,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(e,t){var r=this.props,i=r.y,o=r.travellerWidth,a=r.height,s=r.traveller,u=Math.max(e,this.props.x),c=zD(zD({},AS(this.props)),{},{x:u,y:i,width:o,height:a});return n.createElement(FS,{className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[t],onTouchStart:this.travellerDragStartHandlers[t],style:{cursor:"col-resize"}},l.renderTraveller(s,c))}},{key:"renderSlide",value:function(e,t){var r=this.props,i=r.y,o=r.height,a=r.stroke,s=r.travellerWidth,l=Math.min(e,t)+s,u=Math.max(Math.abs(t-e)-s,0);return n.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:l,y:i,width:u,height:o})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,i=e.y,o=e.height,a=e.travellerWidth,s=e.stroke,l=this.state,u=l.startX,c=l.endX,h={pointerEvents:"none",fill:s};return n.createElement(FS,{className:"recharts-brush-texts"},n.createElement(WP,ND({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,c)-5,y:i+o/2},h),this.getTextOfTick(t)),n.createElement(WP,ND({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,c)+a+5,y:i+o/2},h),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,i=e.children,o=e.x,a=e.y,s=e.width,l=e.height,u=e.alwaysShowText,c=this.state,h=c.startX,p=c.endX,d=c.isTextActive,f=c.isSlideMoving,m=c.isTravellerMoving;if(!t||!t.length||!KE(o)||!KE(a)||!KE(s)||!KE(l)||s<=0||l<=0)return null;var g=Yw()("recharts-brush",r),y=1===n.Children.count(i),v=function(e,t){var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=OD.reduce((function(e,r){return MD(MD({},e),{},AD({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return n.createElement(FS,{className:g,onMouseMove:this.handleDrag,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:v},this.renderBackground(),y&&this.renderPanorama(),this.renderSlide(h,p),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(p,"endX"),(d||f||m||u)&&this.renderText())}}],i=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,i=e.width,o=e.height,a=e.stroke,s=Math.floor(r+o/2)-1;return n.createElement(n.Fragment,null,n.createElement("rect",{x:t,y:r,width:i,height:o,fill:a,stroke:"none"}),n.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),n.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?e(t):l.renderDefaultTraveller(t)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,o=e.travellerWidth,a=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||a!==t.prevUpdateId)return zD({prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,o=e.width,a=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=xL().domain(xS()(0,s)).range([i,i+o-a]),u=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,startX:l(n),endX:l(r),scale:l,scaleValues:u}}({data:n,width:r,x:i,travellerWidth:o,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||o!==t.prevTravellerWidth)){t.scale.range([i,i+r-o]);var u=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:o,prevUpdateId:a,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:u}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],r&&BD(t.prototype,r),i&&BD(t,i),l}(n.PureComponent);GD.displayName="Brush",GD.defaultProps={height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1};var HD=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},WD=a(66604),$D=a.n(WD);function XD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(n),!0).forEach((function(t){JD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function JD(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var QD=function(e,t){var n=e.x,r=e.y,i=t.x,o=t.y;return{x:Math.min(n,i),y:Math.min(r,o),width:Math.abs(i-n),height:Math.abs(o-r)}},ez=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=void 0,this.scale=t}var t,n,r;return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var o=this.bandwidth?this.bandwidth():0;return this.scale(e)+o}if(n){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&XD(t.prototype,n),r&&XD(t,r),e}();ez.EPS=1e-4;var tz=function(e){var t=Object.keys(e).reduce((function(t,n){return KD(KD({},t),{},JD({},n,ez.create(e[n])))}),{});return KD(KD({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return $D()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return hS()(e,(function(e,n){return t[n].isInRange(e)}))}})};function nz(){return nz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nz.apply(this,arguments)}function rz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rz(Object(n),!0).forEach((function(t){oz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function az(e){var t=e.x,r=e.y,i=e.r,o=e.alwaysShow,a=e.clipPathId,s=JE(t),l=JE(r);if(oS(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,o=tz({x:r.scale,y:i.scale}),a=o.apply({x:t,y:n},{bandAware:!0});return HD(e,"discard")&&!o.isInRange(a)?null:a}(e);if(!u)return null;var c=u.x,h=u.y,p=e.shape,d=e.className,f=iz(iz({clipPath:HD(e,"hidden")?"url(#".concat(a,")"):void 0},AS(e,!0)),{},{cx:c,cy:h});return n.createElement(FS,{className:Yw()("recharts-reference-dot",d)},az.renderDot(p,f),eL.renderCallByParent(e,{x:c-i,y:h-i,width:2*i,height:2*i}))}az.displayName="ReferenceDot",az.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1},az.renderDot=function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?e(t):n.createElement(Hk,nz({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))};var sz=a(59704),lz=a.n(sz);function uz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uz(Object(n),!0).forEach((function(t){hz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dz(){return dz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dz.apply(this,arguments)}function fz(e){var t=e.x,r=e.y,i=e.segment,o=e.xAxis,a=e.yAxis,s=e.shape,l=e.className,u=e.alwaysShow,c=e.clipPathId;oS(void 0===u,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,n,r,i){var o=i.viewBox,a=o.x,s=o.y,l=o.width,u=o.height,c=i.position;if(n){var h=i.y,p=i.yAxis.orientation,d=e.y.apply(h,{position:c});if(HD(i,"discard")&&!e.y.isInRange(d))return null;var f=[{x:a+l,y:d},{x:a,y:d}];return"left"===p?f.reverse():f}if(t){var m=i.x,g=i.xAxis.orientation,y=e.x.apply(m,{position:c});if(HD(i,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:s+u},{x:y,y:s}];return"top"===g?v.reverse():v}if(r){var _=i.segment.map((function(t){return e.apply(t,{position:c})}));return HD(i,"discard")&&lz()(_,(function(t){return!e.isInRange(t)}))?null:_}return null}(tz({x:o.scale,y:a.scale}),JE(t),JE(r),i&&2===i.length,e);if(!h)return null;var p,d,f,m=(d=2,function(e){if(Array.isArray(e))return e}(p=h)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(p,d)||function(e,t){if(e){if("string"==typeof e)return pz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pz(e,t):void 0}}(p,d)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),g=m[0],y=g.x,v=g.y,_=m[1],b=_.x,x=_.y,w=cz(cz({clipPath:HD(e,"hidden")?"url(#".concat(c,")"):void 0},AS(e,!0)),{},{x1:y,y1:v,x2:b,y2:x});return n.createElement(FS,{className:Yw()("recharts-reference-line",l)},function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?e(t):n.createElement("line",dz({},t,{className:"recharts-reference-line-line"}))}(s,w),eL.renderCallByParent(e,(f={x1:y,y1:v,x2:b,y2:x},QD({x:f.x1,y:f.y1},{x:f.x2,y:f.y2}))))}function mz(){return mz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mz.apply(this,arguments)}function gz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gz(Object(n),!0).forEach((function(t){vz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _z(e){var t=e.x1,r=e.x2,i=e.y1,o=e.y2,a=e.className,s=e.alwaysShow,l=e.clipPathId;oS(void 0===s,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=JE(t),c=JE(r),h=JE(i),p=JE(o),d=e.shape;if(!(u||c||h||p||d))return null;var f=function(e,t,n,r,i){var o=i.x1,a=i.x2,s=i.y1,l=i.y2,u=i.xAxis,c=i.yAxis;if(!u||!c)return null;var h=tz({x:u.scale,y:c.scale}),p={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(s,{position:"start"}):h.y.rangeMin},d={x:t?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:r?h.y.apply(l,{position:"end"}):h.y.rangeMax};return!HD(i,"discard")||h.isInRange(p)&&h.isInRange(d)?QD(p,d):null}(u,c,h,p,e);if(!f&&!d)return null;var m=HD(e,"hidden")?"url(#".concat(l,")"):void 0;return n.createElement(FS,{className:Yw()("recharts-reference-area",a)},_z.renderRect(d,yz(yz({clipPath:m},AS(e,!0)),f)),eL.renderCallByParent(e,f))}fz.displayName="ReferenceLine",fz.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"},_z.displayName="ReferenceArea",_z.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1},_z.renderRect=function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?e(t):n.createElement(nP,mz({},t,{className:"recharts-reference-area-rect"}))};var bz=function(e,t,n,r,i){var o=hP(e,fz.displayName),a=hP(e,az.displayName),s=o.concat(a),l=hP(e,_z.displayName),u="".concat(r,"Id"),c=r[0],h=t;if(s.length&&(h=s.reduce((function(e,t){if(t.props[u]===n&&HD(t.props,"extendDomain")&&KE(t.props[c])){var r=t.props[c];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),h)),l.length){var p="".concat(c,"1"),d="".concat(c,"2");h=l.reduce((function(e,t){if(t.props[u]===n&&HD(t.props,"extendDomain")&&KE(t.props[p])&&KE(t.props[d])){var r=t.props[p],i=t.props[d];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),h)}return i&&i.length&&(h=i.reduce((function(e,t){return KE(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),h)),h},xz=a(26729),wz=new(a.n(xz)());wz.setMaxListeners&&wz.setMaxListeners(10);var Ez="recharts.syncMouseEvents";function Sz(e){return Sz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sz(e)}function Cz(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Rz(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tz(){return Tz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tz.apply(this,arguments)}function Iz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pz(e,t){return Pz=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Pz(e,t)}function Lz(e,t){return!t||"object"!==Sz(t)&&"function"!=typeof t?Mz(e):t}function Mz(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Az(e){return Az=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Az(e)}function Oz(e){return function(e){if(Array.isArray(e))return Nz(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Rz(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rz(e,t){if(e){if("string"==typeof e)return Nz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nz(e,t):void 0}}function Nz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dz(Object(n),!0).forEach((function(t){Fz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bz={xAxis:["bottom","top"],yAxis:["left","right"]},jz={x:0,y:0},Zz=Number.isFinite?Number.isFinite:isFinite,Uz="function"==typeof requestAnimationFrame?requestAnimationFrame:"function"==typeof setImmediate?setImmediate:setTimeout,qz="function"==typeof cancelAnimationFrame?cancelAnimationFrame:"function"==typeof clearImmediate?clearImmediate:clearTimeout,Vz=function(e,t,n){var r=t.graphicalItems,i=t.dataStartIndex,o=t.dataEndIndex,a=(r||[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(Oz(e),Oz(n)):e}),[]);return a&&a.length>0?a:n&&n.props&&n.props.data&&n.props.data.length>0?n.props.data:e&&e.length&&KE(i)&&KE(o)?e.slice(i,o+1):[]},Gz=function(e,t,n,r){var i=e.graphicalItems,o=e.tooltipAxis,a=Vz(t,e);return n<0||!i||!i.length||n>=a.length?null:i.reduce((function(e,t){if(t.props.hide)return e;var i,s=t.props.data;return(i=o.dataKey&&!o.allowDuplicatedCategory?iS(void 0===s?a:s,o.dataKey,r):s&&s[n]||a[n])?[].concat(Oz(e),[PD(t,i)]):e}),[])},Hz=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},o=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),a=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,a=null!==(t=null==n?void 0:n.length)&&void 0!==t?t:0;if(a>1){if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<a;l++){var u=l>0?r[l-1].coordinate:r[a-1].coordinate,c=r[l].coordinate,h=l>=a-1?r[0].coordinate:r[l+1].coordinate,p=void 0;if(XE(c-u)!==XE(h-c)){var d=[];if(XE(h-c)===XE(s[1]-s[0])){p=h;var f=c+s[1]-s[0];d[0]=Math.min(f,(f+u)/2),d[1]=Math.max(f,(f+u)/2)}else{p=u;var m=h+s[1]-s[0];d[0]=Math.min(c,(m+c)/2),d[1]=Math.max(c,(m+c)/2)}var g=[Math.min(c,(p+c)/2),Math.max(c,(p+c)/2)];if(e>g[0]&&e<=g[1]||e>=d[0]&&e<=d[1]){o=r[l].index;break}}else{var y=Math.min(u,h),v=Math.max(u,h);if(e>(y+c)/2&&e<=(v+c)/2){o=r[l].index;break}}}else for(var _=0;_<a;_++)if(0===_&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<a-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===a-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}}else o=0;return o}(o,a,l,s);if(u>=0&&l){var c=l[u]&&l[u].value,h=Gz(e,t,u,c),p=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var o=i.coordinate,a=r.radius;return zz(zz(zz({},r),Tk(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,l=r.angle;return zz(zz(zz({},r),Tk(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return jz}(n,a,u,i);return{activeTooltipIndex:u,activeLabel:c,activePayload:h,activeCoordinate:p}}return null},Wz=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,o=t.graphicalItems,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.children,c="".concat(r,"Id"),h=hP(u,i),p={};return h&&h.length?p=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,h=e.stackOffset,p=mD(u,i),d=n.reduce((function(t,n){var d=n.props,f=d.type,m=d.dataKey,g=d.allowDataOverflow,y=d.allowDuplicatedCategory,v=d.scale,_=d.ticks,b=n.props[o],x=Vz(e.data,{graphicalItems:r.filter((function(e){return e.props[o]===b})),dataStartIndex:s,dataEndIndex:l}),w=x.length;if(!t[b]){var E,S,C;if(m){if(E=cD(x,m,f),"category"===f&&p){var T=function(e){if(!UE()(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(E);y&&T?(S=E,E=xS()(0,w)):y||(E=kD(n.props.domain,E,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(Oz(e),[t])}),[]))}else if("category"===f)E=y?E.filter((function(e){return""!==e&&!ES()(e)})):kD(n.props.domain,E,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||ES()(t)?e:[].concat(Oz(e),[t])}),[]);else if("number"===f){var I=function(e,t,n,r,i){var o=t.map((function(t){return dD(e,t,n,i,r)})).filter((function(e){return!ES()(e)}));return o&&o.length?o.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(x,r.filter((function(e){return e.props[o]===b&&!e.props.hide})),m,i,u);I&&(E=I)}!p||"number"!==f&&"auto"===v||(C=cD(x,m,"category"))}else E=p?xS()(0,w):a&&a[b]&&a[b].hasStack&&"number"===f?"expand"===h?[0,1]:ED(a[b].stackGroups,s,l):fD(x,r.filter((function(e){return e.props[o]===b&&!e.props.hide})),f,u,!0);if("number"===f)E=bz(c,E,b,i,_),n.props.domain&&(E=TD(n.props.domain,E,g));else if("category"===f&&n.props.domain){var k=n.props.domain;E.every((function(e){return k.indexOf(e)>=0}))&&(E=k)}return zz(zz({},t),{},Fz({},b,zz(zz({},n.props),{},{axisType:i,domain:E,categoricalDomain:C,duplicateDomain:S,originalDomain:n.props.domain,isCategorical:p,layout:u})))}return t}),{});return d}(e,{axes:h,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l}):o&&o.length&&(p=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,o=t.axisIdKey,a=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,u=e.layout,c=e.children,h=Vz(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),p=h.length,d=mD(u,i),f=-1;return n.reduce((function(e,t){var m,g=t.props[o];return e[g]?e:(f++,d?m=xS()(0,p):a&&a[g]&&a[g].hasStack?(m=ED(a[g].stackGroups,s,l),m=bz(c,m,g,i)):(m=TD(r.defaultProps.domain,fD(h,n.filter((function(e){return e.props[o]===g&&!e.props.hide})),"number",u),r.defaultProps.allowDataOverflow),m=bz(c,m,g,i)),zz(zz({},e),{},Fz({},g,zz(zz({axisType:i},r.defaultProps),{},{hide:!0,orientation:jE()(Bz,"".concat(i,".").concat(f%2),null),domain:m,originalDomain:r.defaultProps.domain,isCategorical:d,layout:u}))))}),{})}(e,{Axis:i,graphicalItems:o,axisType:r,axisIdKey:c,stackGroups:a,dataStartIndex:s,dataEndIndex:l})),p},$z=function(e){var t=e.children,n=e.defaultShowTooltip,r=pP(t,GD.displayName);return{chartX:0,chartY:0,dataStartIndex:r&&r.props&&r.props.startIndex||0,dataEndIndex:r&&r.props&&r.props.endIndex||e.data&&e.data.length-1||0,activeTooltipIndex:-1,isTooltipActive:!ES()(n)&&n}},Xz=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}};function Yz(){return Yz=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yz.apply(this,arguments)}function Kz(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jz(e){var t=e.offset,r=e.layout,i=e.width,o=e.dataKey,a=e.data,s=e.dataPointFormatter,l=e.xAxis,u=e.yAxis,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"]),h=AS(c),p=a.map((function(e,a){var c=s(e,o),p=c.x,d=c.y,f=c.value,m=c.errorVal;if(!m)return null;var g,y,v=[];if(Array.isArray(m)){var _=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Kz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kz(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(m,2);g=_[0],y=_[1]}else g=y=m;if("vertical"===r){var b=l.scale,x=d+t,w=x+i,E=x-i,S=b(f-g),C=b(f+y);v.push({x1:C,y1:w,x2:C,y2:E}),v.push({x1:S,y1:x,x2:C,y2:x}),v.push({x1:S,y1:w,x2:S,y2:E})}else if("horizontal"===r){var T=u.scale,I=p+t,k=I-i,P=I+i,L=T(f-g),M=T(f+y);v.push({x1:k,y1:M,x2:P,y2:M}),v.push({x1:I,y1:L,x2:I,y2:M}),v.push({x1:k,y1:L,x2:P,y2:L})}return n.createElement(FS,Yz({className:"recharts-errorBar",key:"bar-".concat(a)},h),v.map((function(e,t){return n.createElement("line",Yz({},e,{key:"line-".concat(t)}))})))}));return n.createElement(FS,{className:"recharts-errorBars"},p)}Jz.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"},Jz.displayName="ErrorBar";var Qz=function(e){return null};Qz.displayName="Cell";var eF=a(10928),tF=a.n(eF);function nF(e){return function(e){if(Array.isArray(e))return rF(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rF(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iF(){return iF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iF.apply(this,arguments)}function oF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oF(Object(n),!0).forEach((function(t){sF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lF={valueAccessor:function(e){return UE()(e.value)?tF()(e.value):e.value}};function uF(e){var t=e.data,r=e.valueAccessor,i=e.dataKey,o=e.clockWise,a=e.id,s=e.textBreakAll,l=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["data","valueAccessor","dataKey","clockWise","id","textBreakAll"]);return t&&t.length?n.createElement(FS,{className:"recharts-label-list"},t.map((function(e,t){var u=ES()(i)?r(e,t):uD(e&&e.payload,i),c=ES()(a)?{}:{id:"".concat(a,"-").concat(t)};return n.createElement(eL,iF({},AS(e,!0),l,c,{parentViewBox:e.parentViewBox,index:t,value:u,textBreakAll:s,viewBox:eL.parseViewBox(ES()(o)?e:aF(aF({},e),{},{clockWise:o})),key:"label-".concat(t)}))}))):null}function cF(e,t){return e?!0===e?n.createElement(uF,{key:"labelList-implicit",data:t}):n.isValidElement(e)||mS()(e)?n.createElement(uF,{key:"labelList-implicit",data:t,content:e}):IS()(e)?n.createElement(uF,iF({data:t},e,{key:"labelList-implicit"})):null:null}function hF(e){return hF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hF(e)}function pF(){return pF=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pF.apply(this,arguments)}function dF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dF(Object(n),!0).forEach((function(t){mF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mF(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vF(e,t){return vF=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},vF(e,t)}function _F(e,t){return!t||"object"!==hF(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bF(e){return bF=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},bF(e)}uF.displayName="LabelList",uF.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=hP(i,uF.displayName).map((function(e,r){return(0,n.cloneElement)(e,{data:t,key:"labelList-".concat(r)})}));if(!r)return o;var a=cF(e.label,t);return[a].concat(nF(o))},uF.defaultProps=lF;var xF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vF(e,t)}(l,e);var t,r,i,o,a,s=(o=l,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=bF(o);if(a){var n=bF(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return _F(this,e)});function l(){var e;gF(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=s.call.apply(s,[this].concat(n))).state={isAnimationFinished:!1},e.id=eS("recharts-bar-"),e.handleAnimationEnd=function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()},e.handleAnimationStart=function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()},e}return t=l,r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props.shape,i=AS(this.props);return e&&e.map((function(e,o){var a=fF(fF(fF({},i),e),{},{index:o});return n.createElement(FS,pF({className:"recharts-bar-rectangle"},RS(t.props,e,o),{key:"rectangle-".concat(o)}),l.renderRectangle(r,a))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,i=t.layout,o=t.isAnimationActive,a=t.animationBegin,s=t.animationDuration,l=t.animationEasing,u=t.animationId,c=this.state.prevData;return n.createElement(XC,{begin:a,duration:s,isActive:o,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var o=t.t,a=r.map((function(e,t){var n=c&&c[t];if(n){var r=rS(n.x,e.x),a=rS(n.y,e.y),s=rS(n.width,e.width),l=rS(n.height,e.height);return fF(fF({},e),{},{x:r(o),y:a(o),width:s(o),height:l(o)})}if("horizontal"===i){var u=rS(0,e.height)(o);return fF(fF({},e),{},{y:e.y+e.height-u,height:u})}var h=rS(0,e.width)(o);return fF(fF({},e),{},{width:h})}));return n.createElement(FS,null,e.renderRectanglesStatically(a))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&EL()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props.data,n=AS(this.props.background);return t.map((function(t,r){t.value;var i=t.background,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["value","background"]);if(!i)return null;var a=fF(fF(fF(fF(fF({},o),{},{fill:"#eee"},i),n),RS(e.props,t,r)),{},{index:r,key:"background-bar-".concat(r),className:"recharts-bar-background-rectangle"});return l.renderRectangle(e.props.background,a)}))}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.data,r=e.xAxis,i=e.yAxis,o=e.layout,a=e.children,s=hP(a,Jz.displayName);if(!s)return null;var l="vertical"===o?t[0].height/2:t[0].width/2;function u(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:uD(e,t)}}return s.map((function(e,a){return n.cloneElement(e,{key:"error-bar-".concat(a),data:t,xAxis:r,yAxis:i,layout:o,offset:l,dataPointFormatter:u})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,i=e.className,o=e.xAxis,a=e.yAxis,s=e.left,l=e.top,u=e.width,c=e.height,h=e.isAnimationActive,p=e.background,d=e.id;if(t||!r||!r.length)return null;var f=this.state.isAnimationFinished,m=Yw()("recharts-bar",i),g=o&&o.allowDataOverflow||a&&a.allowDataOverflow,y=ES()(d)?this.id:d;return n.createElement(FS,{className:m},g?n.createElement("defs",null,n.createElement("clipPath",{id:"clipPath-".concat(y)},n.createElement("rect",{x:s,y:l,width:u,height:c}))):null,n.createElement(FS,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(y,")"):null},p?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(),(!h||f)&&uF.renderCallByParent(this.props,r))}}],i=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}},{key:"renderRectangle",value:function(e,t){return n.isValidElement(e)?n.cloneElement(e,t):mS()(e)?e(t):n.createElement(nP,t)}}],r&&yF(t.prototype,r),i&&yF(t,i),l}(n.PureComponent);xF.displayName="Bar",xF.defaultProps={xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",isAnimationActive:!lT.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"},xF.getComposedData=function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,o=e.xAxis,a=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,u=e.stackedData,c=e.dataStartIndex,h=e.displayedData,p=e.offset,d=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!d)return null;var f=t.layout,m=n.props,g=m.dataKey,y=m.children,v=m.minPointSize,_="horizontal"===f?a:o,b=u?_.scale.domain():null,x=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:_}),w=hP(y,Qz.displayName),E=h.map((function(e,t){var r,h,p,m,y,_;if(u?r=function(e,t){if(!t||2!==t.length||!KE(t[0])||!KE(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!KE(e[0])||e[0]<n)&&(i[0]=n),(!KE(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(u[c+t],b):(r=uD(e,g),UE()(r)||(r=[x,r])),"horizontal"===f){if(h=wD({axis:o,ticks:s,bandSize:i,offset:d.offset,entry:e,index:t}),p=a.scale(r[1]),m=d.size,y=a.scale(r[0])-a.scale(r[1]),_={x:h,y:a.y,width:m,height:a.height},Math.abs(v)>0&&Math.abs(y)<Math.abs(v)){var E=XE(y||v)*(Math.abs(v)-Math.abs(y));p-=E,y+=E}}else h=o.scale(r[0]),p=wD({axis:a,ticks:l,bandSize:i,offset:d.offset,entry:e,index:t}),m=o.scale(r[1])-o.scale(r[0]),y=d.size,_={x:o.x,y:p,width:o.width,height:y},Math.abs(v)>0&&Math.abs(m)<Math.abs(v)&&(m+=XE(m||v)*(Math.abs(v)-Math.abs(m)));return fF(fF(fF({},e),{},{x:h,y:p,width:m,height:y,value:u?r:r[1],payload:e,background:_},w&&w[t]&&w[t].props),{},{tooltipPayload:[PD(n,e)],tooltipPosition:{x:h+m/2,y:p+y/2}})}));return fF({data:E,layout:f},p)};var wF=function(){return null};wF.displayName="XAxis",wF.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",domain:[0,"auto"],padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};var EF=function(){return null};EF.displayName="YAxis",EF.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",domain:[0,"auto"],padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};var SF,CF,TF,IF,kF,PF,LF,MF,AF,OF,RF,NF,DF,zF,FF=(SF={chartName:"BarChart",GraphicalChild:xF,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wF},{axisType:"yAxis",AxisComp:EF}],formatAxisMap:function(t,n,r,i,o){var a=t.width,s=t.height,l=t.layout,u=t.children,c=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},p=!!pP(u,"Bar");return c.reduce((function(a,s){var u,c,d,f,m,g=n[s],y=g.orientation,v=g.domain,_=g.padding,b=void 0===_?{}:_,x=g.mirror,w=g.reversed,E="".concat(y).concat(x?"Mirror":"");if("number"===g.type&&("gap"===g.padding||"no-gap"===g.padding)){var S=v[1]-v[0],C=1/0,T=g.categoricalDomain.sort();T.forEach((function(e,t){t>0&&(C=Math.min((e||0)-(T[t-1]||0),C))}));var I=C/S,k="vertical"===g.layout?r.height:r.width;if("gap"===g.padding&&(u=I*k/2),"no-gap"===g.padding){var P=tS(t.barCategoryGap,I*k),L=I*k/2;u=L-P-(L-P)/k*P}}c="xAxis"===i?[r.left+(b.left||0)+(u||0),r.left+r.width-(b.right||0)-(u||0)]:"yAxis"===i?"horizontal"===l?[r.top+r.height-(b.bottom||0),r.top+(b.top||0)]:[r.top+(b.top||0)+(u||0),r.top+r.height-(b.bottom||0)-(u||0)]:g.range,w&&(c=[c[1],c[0]]);var M=function(t,n,r){var i=t.scale,o=t.type,a=t.layout,s=t.axisType;if("auto"===i)return"radial"===a&&"radiusAxis"===s?{scale:_L(),realScaleType:"band"}:"radial"===a&&"angleAxis"===s?{scale:AA(),realScaleType:"linear"}:"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:xL(),realScaleType:"point"}:"category"===o?{scale:_L(),realScaleType:"band"}:{scale:AA(),realScaleType:"linear"};if($E()(i)){var l="scale".concat(wT()(i));return{scale:(e[l]||xL)(),realScaleType:e[l]?l:"point"}}return mS()(i)?{scale:i}:{scale:xL(),realScaleType:"point"}}(g,o,p),A=M.scale,O=M.realScaleType;A.domain(v).range(c),function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-_D,o=Math.max(r[0],r[1])+_D,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}}(A);var R=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,o=t.originalDomain,a=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&o&&("auto"===o[0]||"auto"===o[1])){var l=e.domain();if(!l.length)return null;var u=tM(l,i,a);return e.domain(function(e,t){return"number"===t?[IL()(e),CL()(e)]:e}(u,r)),{niceTicks:u}}if(i&&"number"===r){var c=e.domain();return{niceTicks:nM(c,i,a)}}return null}(A,KD(KD({},g),{},{realScaleType:O}));"xAxis"===i?(m="top"===y&&!x||"bottom"===y&&x,d=r.left,f=h[E]-m*g.height):"yAxis"===i&&(m="left"===y&&!x||"right"===y&&x,d=h[E]-m*g.width,f=r.top);var N=KD(KD(KD({},g),R),{},{realScaleType:O,x:d,y:f,scale:A,width:"xAxis"===i?r.width:g.width,height:"yAxis"===i?r.height:g.height});return N.bandSize=ID(N,R),g.hide||"xAxis"!==i?g.hide||(h[E]+=(m?-1:1)*N.width):h[E]+=(m?-1:1)*N.height,KD(KD({},a),{},JD({},s,N))}),{})}},IF=SF.chartName,kF=SF.GraphicalChild,LF=void 0===(PF=SF.defaultTooltipEventType)?"axis":PF,AF=void 0===(MF=SF.validateTooltipEventTypes)?["axis"]:MF,OF=SF.axisComponents,RF=SF.legendContent,NF=SF.formatAxisMap,DF=SF.defaultProps,zF=function(e,t){var n=e.props,r=e.dataStartIndex,i=e.dataEndIndex,o=e.updateId;if(!dP({props:n}))return null;var a=n.children,s=n.layout,l=n.stackOffset,u=n.data,c=n.reverseStackOrder,h=Xz(s),p=h.numericAxisName,d=h.cateAxisName,f=hP(a,kF),m=function(e,t,n,r,i,o){if(!e)return null;var a=(o?t.reverse():t).reduce((function(e,t){var i=t.props,o=i.stackId;if(i.hide)return e;var a=t.props[n],s=e[a]||{hasStack:!1,stackGroups:{}};if(JE(o)){var l=s.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};l.items.push(t),s.hasStack=!0,s.stackGroups[o]=l}else s.stackGroups[eS("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return sD(sD({},e),{},lD({},a,s))}),{});return Object.keys(a).reduce((function(t,o){var s=a[o];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,o){var a=s.stackGroups[o];return sD(sD({},t),{},lD({},o,{numericAxisId:n,cateAxisId:r,items:a.items,stackedData:xD(e,a.items,i)}))}),{})),sD(sD({},t),{},lD({},o,s))}),{})}(u,f,"".concat(p,"Id"),"".concat(d,"Id"),l,c),g=OF.reduce((function(e,t){var o="".concat(t.axisType,"Map");return zz(zz({},e),{},Fz({},o,Wz(n,zz(zz({},t),{},{graphicalItems:f,stackGroups:t.axisType===p&&m,dataStartIndex:r,dataEndIndex:i}))))}),{}),y=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,o=e.yAxisMap,a=void 0===o?{}:o,s=n.width,l=n.height,u=n.children,c=n.margin||{},h=pP(u,GD.displayName),p=pP(u,kI.displayName),d=Object.keys(a).reduce((function(e,t){var n=a[t],r=n.orientation;return n.mirror||n.hide?e:zz(zz({},e),{},Fz({},r,e[r]+n.width))}),{left:c.left||0,right:c.right||0}),f=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:zz(zz({},e),{},Fz({},r,jE()(e,"".concat(r))+n.height))}),{top:c.top||0,bottom:c.bottom||0}),m=zz(zz({},f),d),g=m.bottom;return h&&(m.bottom+=h.props.height||GD.defaultProps.height),p&&t&&(m=function(e,t,n,r){var i=n.children,o=n.width,a=n.margin,s=o-(a.left||0)-(a.right||0),l=pD({children:i,legendWidth:s}),u=e;if(l){var c=r||{},h=l.align,p=l.verticalAlign,d=l.layout;("vertical"===d||"horizontal"===d&&"center"===p)&&KE(e[h])&&(u=sD(sD({},e),{},lD({},h,u[h]+(c.width||0)))),("horizontal"===d||"vertical"===d&&"center"===h)&&KE(e[p])&&(u=sD(sD({},e),{},lD({},p,u[p]+(c.height||0))))}return u}(m,0,n,t)),zz(zz({brushBottom:g},m),{},{width:s-m.left-m.right,height:l-m.top-m.bottom})}(zz(zz({},g),{},{props:n,graphicalItems:f}),null==t?void 0:t.legendBBox);Object.keys(g).forEach((function(e){g[e]=NF(n,g[e],y,e.replace("Map",""),IF)}));var v,_,b=g["".concat(d,"Map")],x=(v=nS(b),{tooltipTicks:_=yD(v,!1,!0),orderedTooltipTicks:_S()(_,(function(e){return e.coordinate})),tooltipAxis:v,tooltipAxisBandSize:ID(v,_)}),w=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,o=t.updateId,a=t.dataStartIndex,s=t.dataEndIndex,l=e.barSize,u=e.layout,c=e.barGap,h=e.barCategoryGap,p=e.maxBarSize,d=Xz(u),f=d.numericAxisName,m=d.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some((function(e){var t=sP(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),y=g&&function(e){var t=e.barSize,n=e.stackGroups,r=void 0===n?{}:n;if(!r)return{};for(var i={},o=Object.keys(r),a=0,s=o.length;a<s;a++)for(var l=r[o[a]].stackGroups,u=Object.keys(l),c=0,h=u.length;c<h;c++){var p=l[u[c]],d=p.items,f=p.cateAxisId,m=d.filter((function(e){return sP(e.type).indexOf("Bar")>=0}));if(m&&m.length){var g=m[0].props.barSize,y=m[0].props[f];i[y]||(i[y]=[]),i[y].push({item:m[0],stackList:m.slice(1),barSize:ES()(g)?t:g})}}return i}({barSize:l,stackGroups:r}),v=[];return n.forEach((function(n,l){var d=Vz(e.data,{dataStartIndex:a,dataEndIndex:s},n),g=n.props,_=g.dataKey,b=g.maxBarSize,x=n.props["".concat(f,"Id")],w=n.props["".concat(m,"Id")],E=OF.reduce((function(e,r){var i,o=t["".concat(r.axisType,"Map")],a=n.props["".concat(r.axisType,"Id")],s=o&&o[a];return zz(zz({},e),{},(Fz(i={},r.axisType,s),Fz(i,"".concat(r.axisType,"Ticks"),yD(s)),i))}),{}),S=E[m],C=E["".concat(m,"Ticks")],T=r&&r[x]&&r[x].hasStack&&function(e,t){var n=e.props.stackId;if(JE(n)){var r=t[n];if(r&&r.items.length){for(var i=-1,o=0,a=r.items.length;o<a;o++)if(r.items[o]===e){i=o;break}return i>=0?r.stackedData[i]:null}}return null}(n,r[x].stackGroups),I=sP(n.type).indexOf("Bar")>=0,k=ID(S,C),P=[];if(I){var L,M,A=ES()(b)?p:b,O=null!==(L=null!==(M=ID(S,C,!0))&&void 0!==M?M:A)&&void 0!==L?L:0;P=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,o=void 0===i?[]:i,a=e.maxBarSize,s=o.length;if(s<1)return null;var l,u=tS(t,r,0,!0);if(o[0].barSize===+o[0].barSize){var c=!1,h=r/s,p=o.reduce((function(e,t){return e+t.barSize||0}),0);(p+=(s-1)*u)>=r&&(p-=(s-1)*u,u=0),p>=r&&h>0&&(c=!0,p=s*(h*=.9));var d={offset:((r-p)/2>>0)-u,size:0};l=o.reduce((function(e,t){var n=[].concat(iD(e),[{item:t.item,position:{offset:d.offset+d.size+u,size:c?h:t.barSize}}]);return d=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){n.push({item:e,position:d})})),n}),[])}else{var f=tS(n,r,0,!0);r-2*f-(s-1)*u<=0&&(u=0);var m=(r-2*f-(s-1)*u)/s;m>1&&(m>>=0);var g=a===+a?Math.min(m,a):m;l=o.reduce((function(e,t,n){var r=[].concat(iD(e),[{item:t.item,position:{offset:f+(m+u)*n+(m-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),[])}return l}({barGap:c,barCategoryGap:h,bandSize:O!==k?O:k,sizeList:y[w],maxBarSize:A}),O!==k&&(P=P.map((function(e){return zz(zz({},e),{},{position:zz(zz({},e.position),{},{offset:e.position.offset-O/2})})})))}var R,N,D,z=n&&n.type&&n.type.getComposedData;z&&v.push({props:zz(zz({},z(zz(zz({},E),{},{displayedData:d,props:e,dataKey:_,item:n,bandSize:k,barPosition:P,offset:i,stackedData:T,layout:u,dataStartIndex:a,dataEndIndex:s}))),{},(R={key:n.key||"item-".concat(l)},Fz(R,f,E[f]),Fz(R,m,E[m]),Fz(R,"animationId",o),R)),childIndex:(N=n,D=e.children,cP(D).indexOf(N)),item:n})})),v}(n,zz(zz({},g),{},{dataStartIndex:r,dataEndIndex:i,updateId:o,graphicalItems:f,stackGroups:m,offset:y}));return zz(zz({formattedGraphicalItems:w,graphicalItems:f,offset:y,stackGroups:m},x),g)},TF=CF=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pz(e,t)}(s,e);var t,r,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Az(i);if(o){var n=Az(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lz(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this,e)).uniqueChartId=void 0,t.clipPathId=void 0,t.legendInstance=void 0,t.deferId=void 0,t.container=void 0,t.clearDeferId=function(){!ES()(t.deferId)&&qz&&qz(t.deferId),t.deferId=null},t.handleLegendBBoxUpdate=function(e){if(e){var n=t.state,r=n.dataStartIndex,i=n.dataEndIndex,o=n.updateId;t.setState(zz({legendBBox:e},zF({props:t.props,dataStartIndex:r,dataEndIndex:i,updateId:o},zz(zz({},t.state),{},{legendBBox:e}))))}},t.handleReceiveSyncEvent=function(e,n,r){t.props.syncId===e&&n!==t.uniqueChartId&&(t.clearDeferId(),t.deferId=Uz&&Uz(t.applySyncEvent.bind(Mz(t),r)))},t.handleBrushChange=function(e){var n=e.startIndex,r=e.endIndex;if(n!==t.state.dataStartIndex||r!==t.state.dataEndIndex){var i=t.state.updateId;t.setState((function(){return zz({dataStartIndex:n,dataEndIndex:r},zF({props:t.props,dataStartIndex:n,dataEndIndex:r,updateId:i},t.state))})),t.triggerSyncEvent({dataStartIndex:n,dataEndIndex:r})}},t.handleMouseEnter=function(e){var n=t.props.onMouseEnter,r=t.getMouseInfo(e);if(r){var i=zz(zz({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),mS()(n)&&n(i,e)}},t.triggeredAfterMouseMove=function(e){var n=t.props.onMouseMove,r=t.getMouseInfo(e),i=r?zz(zz({},r),{},{isTooltipActive:!0}):{isTooltipActive:!1};t.setState(i),t.triggerSyncEvent(i),mS()(n)&&n(i,e)},t.handleItemMouseEnter=function(e){t.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))},t.handleItemMouseLeave=function(){t.setState((function(){return{isTooltipActive:!1}}))},t.handleMouseMove=function(e){e&&mS()(e.persist)&&e.persist(),t.triggeredAfterMouseMove(e)},t.handleMouseLeave=function(e){var n=t.props.onMouseLeave,r={isTooltipActive:!1};t.setState(r),t.triggerSyncEvent(r),mS()(n)&&n(r,e),t.cancelThrottledTriggerAfterMouseMove()},t.handleOuterEvent=function(e){var n=function(e){var t=e&&e.type;return t&&aP[t]?aP[t]:null}(e),r=jE()(t.props,"".concat(n));n&&mS()(r)&&r(/.*touch.*/i.test(n)?t.getMouseInfo(e.changedTouches[0]):t.getMouseInfo(e),e)},t.handleClick=function(e){var n=t.props.onClick,r=t.getMouseInfo(e);if(r){var i=zz(zz({},r),{},{isTooltipActive:!0});t.setState(i),t.triggerSyncEvent(i),mS()(n)&&n(i,e)}},t.handleMouseDown=function(e){var n=t.props.onMouseDown;mS()(n)&&n(t.getMouseInfo(e),e)},t.handleMouseUp=function(e){var n=t.props.onMouseUp;mS()(n)&&n(t.getMouseInfo(e),e)},t.handleTouchMove=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseMove(e.changedTouches[0])},t.handleTouchStart=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseDown(e.changedTouches[0])},t.handleTouchEnd=function(e){null!=e.changedTouches&&e.changedTouches.length>0&&t.handleMouseUp(e.changedTouches[0])},t.verticalCoordinatesGenerator=function(e){var t=e.xAxis,n=e.width,r=e.height,i=e.offset;return gD(dL.getTicks(zz(zz(zz({},dL.defaultProps),t),{},{ticks:yD(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.left,i.left+i.width)},t.horizontalCoordinatesGenerator=function(e){var t=e.yAxis,n=e.width,r=e.height,i=e.offset;return gD(dL.getTicks(zz(zz(zz({},dL.defaultProps),t),{},{ticks:yD(t,!0),viewBox:{x:0,y:0,width:n,height:r}})),i.top,i.top+i.height)},t.axesTicksGenerator=function(e){return yD(e,!0)},t.renderCursor=function(e){var r=t.state,i=r.isTooltipActive,o=r.activeCoordinate,a=r.activePayload,s=r.offset,l=r.activeTooltipIndex,u=t.getTooltipEventType();if(!e||!e.props.cursor||!i||!o||"ScatterChart"!==IF&&"axis"!==u)return null;var c,h=t.props.layout,p=pk;if("ScatterChart"===IF)c=o,p=bk;else if("BarChart"===IF)c=t.getCursorRectangle(),p=nP;else if("radial"===h){var d=t.getCursorPoints(),f=d.cx,m=d.cy,g=d.radius;c={cx:f,cy:m,startAngle:d.startAngle,endAngle:d.endAngle,innerRadius:g,outerRadius:g},p=Fk}else c={points:t.getCursorPoints()},p=pk;var y=e.key||"_recharts-cursor",v=zz(zz(zz(zz({stroke:"#ccc",pointerEvents:"none"},s),c),AS(e.props.cursor)),{},{payload:a,payloadIndex:l,key:y,className:"recharts-tooltip-cursor"});return(0,n.isValidElement)(e.props.cursor)?(0,n.cloneElement)(e.props.cursor,v):(0,n.createElement)(p,v)},t.renderPolarAxis=function(e,r,i){var o=jE()(e,"type.axisType"),a=jE()(t.state,"".concat(o,"Map"))[e.props["".concat(o,"Id")]];return(0,n.cloneElement)(e,zz(zz({},a),{},{className:o,key:e.key||"".concat(r,"-").concat(i),ticks:yD(a,!0)}))},t.renderXAxis=function(e,n,r){var i=t.state.xAxisMap[e.props.xAxisId];return t.renderAxis(i,e,n,r)},t.renderYAxis=function(e,n,r){var i=t.state.yAxisMap[e.props.yAxisId];return t.renderAxis(i,e,n,r)},t.renderGrid=function(e){var r=t.state,i=r.xAxisMap,o=r.yAxisMap,a=r.offset,s=t.props,l=s.width,u=s.height,c=nS(i),h=dS()(o,(function(e){return hS()(e.domain,Zz)}))||nS(o),p=e.props||{};return(0,n.cloneElement)(e,{key:e.key||"grid",x:KE(p.x)?p.x:a.left,y:KE(p.y)?p.y:a.top,width:KE(p.width)?p.width:a.width,height:KE(p.height)?p.height:a.height,xAxis:c,yAxis:h,offset:a,chartWidth:l,chartHeight:u,verticalCoordinatesGenerator:p.verticalCoordinatesGenerator||t.verticalCoordinatesGenerator,horizontalCoordinatesGenerator:p.horizontalCoordinatesGenerator||t.horizontalCoordinatesGenerator})},t.renderPolarGrid=function(e){var r=e.props,i=r.radialLines,o=r.polarAngles,a=r.polarRadius,s=t.state,l=s.radiusAxisMap,u=s.angleAxisMap,c=nS(l),h=nS(u),p=h.cx,d=h.cy,f=h.innerRadius,m=h.outerRadius;return(0,n.cloneElement)(e,{polarAngles:UE()(o)?o:yD(h,!0).map((function(e){return e.coordinate})),polarRadius:UE()(a)?a:yD(c,!0).map((function(e){return e.coordinate})),cx:p,cy:d,innerRadius:f,outerRadius:m,key:e.key||"polar-grid",radialLines:i})},t.renderLegend=function(){var e=t.state.formattedGraphicalItems,r=t.props,i=r.children,o=r.width,a=r.height,s=t.props.margin||{},l=o-(s.left||0)-(s.right||0),u=pD({children:i,formattedGraphicalItems:e,legendWidth:l,legendContent:RF});if(!u)return null;var c=u.item,h=Iz(u,["item"]);return(0,n.cloneElement)(c,zz(zz({},h),{},{chartWidth:o,chartHeight:a,margin:s,ref:function(e){t.legendInstance=e},onBBoxUpdate:t.handleLegendBBoxUpdate}))},t.renderTooltip=function(){var e=t.props.children,r=pP(e,bT.displayName);if(!r)return null;var i=t.state,o=i.isTooltipActive,a=i.activeCoordinate,s=i.activePayload,l=i.activeLabel,u=i.offset;return(0,n.cloneElement)(r,{viewBox:zz(zz({},u),{},{x:u.left,y:u.top}),active:o,label:l,payload:o?s:[],coordinate:a})},t.renderBrush=function(e){var r=t.props,i=r.margin,o=r.data,a=t.state,s=a.offset,l=a.dataStartIndex,u=a.dataEndIndex,c=a.updateId;return(0,n.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:vD(t.handleBrushChange,null,e.props.onChange),data:o,x:KE(e.props.x)?e.props.x:s.left,y:KE(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(i.bottom||0),width:KE(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:u,updateId:"brush-".concat(c)})},t.renderReferenceElement=function(e,r,i){if(!e)return null;var o=Mz(t).clipPathId,a=t.state,s=a.xAxisMap,l=a.yAxisMap,u=a.offset,c=e.props,h=c.xAxisId,p=c.yAxisId;return(0,n.cloneElement)(e,{key:e.key||"".concat(r,"-").concat(i),xAxis:s[h],yAxis:l[p],viewBox:{x:u.left,y:u.top,width:u.width,height:u.height},clipPathId:o})},t.renderActivePoints=function(e){var t=e.item,n=e.activePoint,r=e.basePoint,i=e.childIndex,o=e.isRange,a=[],l=t.props.key,u=t.item.props,c=u.activeDot,h=zz(zz({index:i,dataKey:u.dataKey,cx:n.x,cy:n.y,r:4,fill:hD(t.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value,key:"".concat(l,"-activePoint-").concat(i)},AS(c)),OS(c));return a.push(s.renderActiveDot(c,h)),r?a.push(s.renderActiveDot(c,zz(zz({},h),{},{cx:r.x,cy:r.y,key:"".concat(l,"-basePoint-").concat(i)}))):o&&a.push(null),a},t.renderGraphicChild=function(e,r,i){var o=t.filterFormatItem(e,r,i);if(!o)return null;var a=t.getTooltipEventType(),s=t.state,l=s.isTooltipActive,u=s.tooltipAxis,c=s.activeTooltipIndex,h=s.activeLabel,p=t.props.children,d=pP(p,bT.displayName),f=o.props,m=f.points,g=f.isRange,y=f.baseLine,v=o.item.props,_=v.activeDot,b=!v.hide&&l&&d&&_&&c>=0,x={};"axis"!==a&&d&&"click"===d.props.trigger?x={onClick:vD(t.handleItemMouseEnter,null,e.props.onCLick)}:"axis"!==a&&(x={onMouseLeave:vD(t.handleItemMouseLeave,null,e.props.onMouseLeave),onMouseEnter:vD(t.handleItemMouseEnter,null,e.props.onMouseEnter)});var w=(0,n.cloneElement)(e,zz(zz({},o.props),x));if(b){var E,S;if(u.dataKey&&!u.allowDuplicatedCategory){var C="function"==typeof u.dataKey?function(e){return"function"==typeof u.dataKey?u.dataKey(e.payload):null}:"payload.".concat(u.dataKey.toString());E=iS(m,C,h),S=g&&y&&iS(y,C,h)}else E=m[c],S=g&&y&&y[c];if(!ES()(E))return[w].concat(Oz(t.renderActivePoints({item:o,activePoint:E,basePoint:S,childIndex:c,isRange:g})))}return g?[w,null,null]:[w,null]},t.renderCustomized=function(e,r,i){return(0,n.cloneElement)(e,zz(zz({key:"recharts-customized-".concat(i)},t.props),t.state))},t.uniqueChartId=ES()(e.id)?eS("recharts"):e.id,t.clipPathId="".concat(t.uniqueChartId,"-clip"),e.throttleDelay&&(t.triggeredAfterMouseMove=yS()(t.triggeredAfterMouseMove,e.throttleDelay)),t.state={},t}return t=s,r=[{key:"componentDidMount",value:function(){ES()(this.props.syncId)||this.addListener()}},{key:"componentDidUpdate",value:function(e){ES()(e.syncId)&&!ES()(this.props.syncId)&&this.addListener(),!ES()(e.syncId)&&ES()(this.props.syncId)&&this.removeListener()}},{key:"componentWillUnmount",value:function(){this.clearDeferId(),ES()(this.props.syncId)||this.removeListener(),this.cancelThrottledTriggerAfterMouseMove()}},{key:"cancelThrottledTriggerAfterMouseMove",value:function(){"function"==typeof this.triggeredAfterMouseMove.cancel&&this.triggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=pP(this.props.children,bT.displayName);if(e&&CS()(e.props.shared)){var t=e.props.shared?"axis":"item";return AF.indexOf(t)>=0?t:LF}return LF}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t=function(e){var t=e.ownerDocument.documentElement,n={top:0,left:0};return void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),{top:n.top+window.pageYOffset-t.clientTop,left:n.left+window.pageXOffset-t.clientLeft}}(this.container),n=function(e,t){return{chartX:Math.round(e.pageX-t.left),chartY:Math.round(e.pageY-t.top)}}(e,t),r=this.inRange(n.chartX,n.chartY);if(!r)return null;var i=this.state,o=i.xAxisMap,a=i.yAxisMap;if("axis"!==this.getTooltipEventType()&&o&&a){var s=nS(o).scale,l=nS(a).scale,u=s&&s.invert?s.invert(n.chartX):null,c=l&&l.invert?l.invert(n.chartY):null;return zz(zz({},n),{},{xValue:u,yValue:c})}var h=Hz(this.state,this.props.data,this.props.layout,r);return h?zz(zz({},n),h):null}},{key:"getCursorRectangle",value:function(){var e=this.props.layout,t=this.state,n=t.activeCoordinate,r=t.offset,i=t.tooltipAxisBandSize,o=i/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?n.x-o:r.left+.5,y:"horizontal"===e?r.top+.5:n.y-o,width:"horizontal"===e?i:r.width-1,height:"horizontal"===e?r.height-1:i}}},{key:"getCursorPoints",value:function(){var e,t,n,r,i=this.props.layout,o=this.state,a=o.activeCoordinate,s=o.offset;if("horizontal"===i)n=e=a.x,t=s.top,r=s.top+s.height;else if("vertical"===i)r=t=a.y,e=s.left,n=s.left+s.width;else if(!ES()(a.cx)||!ES()(a.cy)){if("centric"!==i){var l=a.cx,u=a.cy,c=a.radius,h=a.startAngle,p=a.endAngle;return{points:[Tk(l,u,c,h),Tk(l,u,c,p)],cx:l,cy:u,radius:c,startAngle:h,endAngle:p}}var d=a.cx,f=a.cy,m=a.innerRadius,g=a.outerRadius,y=a.angle,v=Tk(d,f,m,y),_=Tk(d,f,g,y);e=v.x,t=v.y,n=_.x,r=_.y}return[{x:e,y:t},{x:n,y:r}]}},{key:"inRange",value:function(e,t){var n=this.props.layout;if("horizontal"===n||"vertical"===n){var r=this.state.offset;return e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height?{x:e,y:t}:null}var i=this.state,o=i.angleAxisMap,a=i.radiusAxisMap;if(o&&a){var s=nS(o);return kk({x:e,y:t},s)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=pP(e,bT.displayName),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd}),zz(zz({},OS(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){wz.on(Ez,this.handleReceiveSyncEvent),wz.setMaxListeners&&wz._maxListeners&&wz.setMaxListeners(wz._maxListeners+1)}},{key:"removeListener",value:function(){wz.removeListener(Ez,this.handleReceiveSyncEvent),wz.setMaxListeners&&wz._maxListeners&&wz.setMaxListeners(wz._maxListeners-1)}},{key:"triggerSyncEvent",value:function(e){var t=this.props.syncId;ES()(t)||wz.emit(Ez,t,this.uniqueChartId,e)}},{key:"applySyncEvent",value:function(e){var t=this.props,n=t.layout,r=t.syncMethod,i=this.state.updateId,o=e.dataStartIndex,a=e.dataEndIndex;if(ES()(e.dataStartIndex)&&ES()(e.dataEndIndex))if(ES()(e.activeTooltipIndex))this.setState(e);else{var s=e.chartX,l=e.chartY,u=e.activeTooltipIndex,c=this.state,h=c.offset,p=c.tooltipTicks;if(!h)return;if("function"==typeof r)u=r(p,e);else if("value"===r){u=-1;for(var d=0;d<p.length;d++)if(p[d].value===e.activeLabel){u=d;break}}var f=zz(zz({},h),{},{x:h.left,y:h.top}),m=Math.min(s,f.x+f.width),g=Math.min(l,f.y+f.height),y=p[u]&&p[u].value,v=Gz(this.state,this.props.data,u),_=p[u]?{x:"horizontal"===n?p[u].coordinate:m,y:"horizontal"===n?g:p[u].coordinate}:jz;this.setState(zz(zz({},e),{},{activeLabel:y,activeCoordinate:_,activePayload:v,activeTooltipIndex:u}))}else this.setState(zz({dataStartIndex:o,dataEndIndex:a},zF({props:this.props,dataStartIndex:o,dataEndIndex:a,updateId:i},this.state)))}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,o=r.length;i<o;i++){var a=r[i];if(a.item===e||a.props.key===e.key||t===sP(a.item.type)&&n===a.childIndex)return a}return null}},{key:"renderAxis",value:function(e,t,r,i){var o=this.props,a=o.width,s=o.height;return n.createElement(dL,Tz({},e,{className:"recharts-".concat(e.axisType," ").concat(e.axisType),key:t.key||"".concat(r,"-").concat(i),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:this.axesTicksGenerator}))}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,i=t.top,o=t.height,a=t.width;return n.createElement("defs",null,n.createElement("clipPath",{id:e},n.createElement("rect",{x:r,y:i,height:o,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Cz(t,2),r=n[0],i=n[1];return zz(zz({},e),{},Fz({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=Cz(t,2),r=n[0],i=n[1];return zz(zz({},e),{},Fz({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.xAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getYScaleByAxisId",value:function(e){var t,n;return null===(t=this.state.yAxisMap)||void 0===t||null===(n=t[e])||void 0===n?void 0:n.scale}},{key:"getItemByXY",value:function(e){var t=this.state.formattedGraphicalItems;if(t&&t.length)for(var n=0,r=t.length;n<r;n++){var i=t[n],o=i.props,a=i.item,s=sP(a.type);if("Bar"===s){var l=(o.data||[]).find((function(t){return tP(e,t)}));if(l)return{graphicalItem:i,payload:l}}else if("RadialBar"===s){var u=(o.data||[]).find((function(t){return kk(e,t)}));if(u)return{graphicalItem:i,payload:u}}}return null}},{key:"render",value:function(){var e=this;if(!dP(this))return null;var t=this.props,r=t.children,i=t.className,o=t.width,a=t.height,s=t.style,l=t.compact,u=t.title,c=t.desc,h=Iz(t,["children","className","width","height","style","compact","title","desc"]),p=AS(h),d={CartesianGrid:{handler:this.renderGrid,once:!0},ReferenceArea:{handler:this.renderReferenceElement},ReferenceLine:{handler:this.renderReferenceElement},ReferenceDot:{handler:this.renderReferenceElement},XAxis:{handler:this.renderXAxis},YAxis:{handler:this.renderYAxis},Brush:{handler:this.renderBrush,once:!0},Bar:{handler:this.renderGraphicChild},Line:{handler:this.renderGraphicChild},Area:{handler:this.renderGraphicChild},Radar:{handler:this.renderGraphicChild},RadialBar:{handler:this.renderGraphicChild},Scatter:{handler:this.renderGraphicChild},Pie:{handler:this.renderGraphicChild},Funnel:{handler:this.renderGraphicChild},Tooltip:{handler:this.renderCursor,once:!0},PolarGrid:{handler:this.renderPolarGrid,once:!0},PolarAngleAxis:{handler:this.renderPolarAxis},PolarRadiusAxis:{handler:this.renderPolarAxis},Customized:{handler:this.renderCustomized}};if(l)return n.createElement(DS,Tz({},p,{width:o,height:a,title:u,desc:c}),this.renderClipPath(),yP(r,d));var f=this.parseEventsOfWrapper();return n.createElement("div",Tz({className:Yw()("recharts-wrapper",i),style:zz({position:"relative",cursor:"default",width:o,height:a},s)},f,{ref:function(t){e.container=t}}),n.createElement(DS,Tz({},p,{width:o,height:a,title:u,desc:c}),this.renderClipPath(),yP(r,d)),this.renderLegend(),this.renderTooltip())}}],r&&kz(t.prototype,r),s}(n.Component),CF.displayName=IF,CF.defaultProps=zz({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},DF),CF.getDerivedStateFromProps=function(e,t){var n=e.data,r=e.children,i=e.width,o=e.height,a=e.layout,s=e.stackOffset,l=e.margin;if(ES()(t.updateId)){var u=$z(e);return zz(zz(zz({},u),{},{updateId:0},zF(zz(zz({props:e},u),{},{updateId:0}),t)),{},{prevData:n,prevWidth:i,prevHeight:o,prevLayout:a,prevStackOffset:s,prevMargin:l,prevChildren:r})}if(n!==t.prevData||i!==t.prevWidth||o!==t.prevHeight||a!==t.prevLayout||s!==t.prevStackOffset||!iP(l,t.prevMargin)){var c=$z(e),h={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},p=zz(zz({},Hz(t,n,a)),{},{updateId:t.updateId+1}),d=zz(zz(zz({},c),h),p);return zz(zz(zz({},d),zF(zz({props:e},d),t)),{},{prevData:n,prevWidth:i,prevHeight:o,prevLayout:a,prevStackOffset:s,prevMargin:l,prevChildren:r})}if(!mP(r,t.prevChildren)){var f=ES()(n)?t.updateId+1:t.updateId;return zz(zz({updateId:f},zF(zz(zz({props:e},t),{},{updateId:f}),t)),{},{prevChildren:r})}return null},CF.renderActiveDot=function(e,t){var r;return r=(0,n.isValidElement)(e)?(0,n.cloneElement)(e,t):mS()(e)?e(t):n.createElement(Hk,t),n.createElement(FS,{className:"recharts-active-dot",key:t.key},r)},TF);function BF(e,t={},n){return kf(e)?t:(0,i.Z)({},t,{ownerState:(0,i.Z)({},t.ownerState,n)})}var jF=a(27909);function ZF(e){return(0,et.Z)("MuiTooltip",e)}const UF=(0,tt.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),qF=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function VF(e){return Math.round(1e5*e)/1e5}const GF=(0,Je.ZP)(Dx,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((({theme:e,ownerState:t,open:n})=>(0,i.Z)({zIndex:e.zIndex.tooltip,pointerEvents:"none"},!t.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},t.arrow&&{[`&[data-popper-placement*="bottom"] .${UF.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${UF.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${UF.arrow}`]:(0,i.Z)({},t.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${UF.arrow}`]:(0,i.Z)({},t.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})}))),HF=(0,Je.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${(0,qt.Z)(n.placement.split("-")[0])}`]]}})((({theme:e,ownerState:t})=>(0,i.Z)({backgroundColor:(0,qo.Fq)(e.palette.grey[700],.92),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},t.arrow&&{position:"relative",margin:0},t.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:`${VF(16/14)}em`,fontWeight:e.typography.fontWeightRegular},{[`.${UF.popper}[data-popper-placement*="left"] &`]:(0,i.Z)({transformOrigin:"right center"},t.isRtl?(0,i.Z)({marginLeft:"14px"},t.touch&&{marginLeft:"24px"}):(0,i.Z)({marginRight:"14px"},t.touch&&{marginRight:"24px"})),[`.${UF.popper}[data-popper-placement*="right"] &`]:(0,i.Z)({transformOrigin:"left center"},t.isRtl?(0,i.Z)({marginRight:"14px"},t.touch&&{marginRight:"24px"}):(0,i.Z)({marginLeft:"14px"},t.touch&&{marginLeft:"24px"})),[`.${UF.popper}[data-popper-placement*="top"] &`]:(0,i.Z)({transformOrigin:"center bottom",marginBottom:"14px"},t.touch&&{marginBottom:"24px"}),[`.${UF.popper}[data-popper-placement*="bottom"] &`]:(0,i.Z)({transformOrigin:"center top",marginTop:"14px"},t.touch&&{marginTop:"24px"})}))),WF=(0,Je.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((({theme:e})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,qo.Fq)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let $F=!1,XF=null;function YF(e,t){return n=>{t&&t(n),e(n)}}const KF=n.forwardRef((function(e,t){var r,o,a,s,l,u;const c=(0,Ee.Z)({props:e,name:"MuiTooltip"}),{arrow:h=!1,children:p,components:d={},componentsProps:f={},describeChild:m=!1,disableFocusListener:g=!1,disableHoverListener:y=!1,disableInteractive:v=!1,disableTouchListener:_=!1,enterDelay:b=100,enterNextDelay:x=0,enterTouchDelay:w=700,followCursor:E=!1,id:S,leaveDelay:C=0,leaveTouchDelay:T=1500,onClose:I,onOpen:k,open:P,placement:L="bottom",PopperComponent:M,PopperProps:A={},title:O,TransitionComponent:R=_v,TransitionProps:N}=c,D=(0,le.Z)(c,qF),z=Yt(),F="rtl"===z.direction,[B,j]=n.useState(),[Z,U]=n.useState(null),q=n.useRef(!1),V=v||E,G=n.useRef(),H=n.useRef(),W=n.useRef(),$=n.useRef(),[X,Y]=(0,vg.Z)({controlled:P,default:!1,name:"Tooltip",state:"open"});let K=X;const J=(0,jF.Z)(S),Q=n.useRef(),ee=n.useCallback((()=>{void 0!==Q.current&&(document.body.style.WebkitUserSelect=Q.current,Q.current=void 0),clearTimeout($.current)}),[]);n.useEffect((()=>()=>{clearTimeout(G.current),clearTimeout(H.current),clearTimeout(W.current),ee()}),[ee]);const te=e=>{clearTimeout(XF),$F=!0,Y(!0),k&&!K&&k(e)},ne=(0,pt.Z)((e=>{clearTimeout(XF),XF=setTimeout((()=>{$F=!1}),800+C),Y(!1),I&&K&&I(e),clearTimeout(G.current),G.current=setTimeout((()=>{q.current=!1}),z.transitions.duration.shortest)})),re=e=>{q.current&&"touchstart"!==e.type||(B&&B.removeAttribute("title"),clearTimeout(H.current),clearTimeout(W.current),b||$F&&x?H.current=setTimeout((()=>{te(e)}),$F?x:b):te(e))},ie=e=>{clearTimeout(H.current),clearTimeout(W.current),W.current=setTimeout((()=>{ne(e)}),C)},{isFocusVisibleRef:oe,onBlur:ae,onFocus:se,ref:ce}=(0,dt.Z)(),[,he]=n.useState(!1),pe=e=>{ae(e),!1===oe.current&&(he(!1),ie(e))},de=e=>{B||j(e.currentTarget),se(e),!0===oe.current&&(he(!0),re(e))},fe=e=>{q.current=!0;const t=p.props;t.onTouchStart&&t.onTouchStart(e)},me=re,ge=ie;n.useEffect((()=>{if(K)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||ne(e)}}),[ne,K]);const ve=(0,ht.Z)(j,t),_e=(0,ht.Z)(ce,ve),be=(0,ht.Z)(p.ref,_e);""===O&&(K=!1);const xe=n.useRef({x:0,y:0}),we=n.useRef(),Se={},Ce="string"==typeof O;m?(Se.title=K||!Ce||y?null:O,Se["aria-describedby"]=K?J:null):(Se["aria-label"]=Ce?O:null,Se["aria-labelledby"]=K&&!Ce?J:null);const Te=(0,i.Z)({},Se,D,p.props,{className:(0,ue.Z)(D.className,p.props.className),onTouchStart:fe,ref:be},E?{onMouseMove:e=>{const t=p.props;t.onMouseMove&&t.onMouseMove(e),xe.current={x:e.clientX,y:e.clientY},we.current&&we.current.update()}}:{}),Ie={};_||(Te.onTouchStart=e=>{fe(e),clearTimeout(W.current),clearTimeout(G.current),ee(),Q.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",$.current=setTimeout((()=>{document.body.style.WebkitUserSelect=Q.current,re(e)}),w)},Te.onTouchEnd=e=>{p.props.onTouchEnd&&p.props.onTouchEnd(e),ee(),clearTimeout(W.current),W.current=setTimeout((()=>{ne(e)}),T)}),y||(Te.onMouseOver=YF(me,Te.onMouseOver),Te.onMouseLeave=YF(ge,Te.onMouseLeave),V||(Ie.onMouseOver=me,Ie.onMouseLeave=ge)),g||(Te.onFocus=YF(de,Te.onFocus),Te.onBlur=YF(pe,Te.onBlur),V||(Ie.onFocus=de,Ie.onBlur=pe));const ke=n.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(Z),options:{element:Z,padding:4}}];return null!=(e=A.popperOptions)&&e.modifiers&&(t=t.concat(A.popperOptions.modifiers)),(0,i.Z)({},A.popperOptions,{modifiers:t})}),[Z,A]),Pe=(0,i.Z)({},c,{isRtl:F,arrow:h,disableInteractive:V,placement:L,PopperComponentProp:M,touch:q.current}),Le=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:i,placement:o}=e,a={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${(0,qt.Z)(o.split("-")[0])}`],arrow:["arrow"]};return(0,Ke.Z)(a,ZF,t)})(Pe),Me=null!=(r=d.Popper)?r:GF,Ae=null!=(o=null!=(a=d.Transition)?a:R)?o:_v,Oe=null!=(s=d.Tooltip)?s:HF,Re=null!=(l=d.Arrow)?l:WF,Ne=BF(Me,(0,i.Z)({},A,f.popper),Pe),De=BF(Ae,(0,i.Z)({},N,f.transition),Pe),ze=BF(Oe,(0,i.Z)({},f.tooltip),Pe),Fe=BF(Re,(0,i.Z)({},f.arrow),Pe);return(0,ye.jsxs)(n.Fragment,{children:[n.cloneElement(p,Te),(0,ye.jsx)(Me,(0,i.Z)({as:null!=M?M:Dx,placement:L,anchorEl:E?{getBoundingClientRect:()=>({top:xe.current.y,left:xe.current.x,right:xe.current.x,bottom:xe.current.y,width:0,height:0})}:B,popperRef:we,open:!!B&&K,id:J,transition:!0},Ie,Ne,{className:(0,ue.Z)(Le.popper,null==A?void 0:A.className,null==(u=f.popper)?void 0:u.className),popperOptions:ke,children:({TransitionProps:e})=>{var t,n;return(0,ye.jsx)(Ae,(0,i.Z)({timeout:z.transitions.duration.shorter},e,De,{children:(0,ye.jsxs)(Oe,(0,i.Z)({},ze,{className:(0,ue.Z)(Le.tooltip,null==(t=f.tooltip)?void 0:t.className),children:[O,h?(0,ye.jsx)(Re,(0,i.Z)({},Fe,{className:(0,ue.Z)(Le.arrow,null==(n=f.arrow)?void 0:n.className),ref:U})):null]}))}))}}))]})}));var JF=["className"];function QF(e){var t=e.x,r=e.y,i=(e.stroke,e.payload),o=Xe((0,n.useState)(!1),2),a=(o[0],o[1],i.value.match(/\b(\w+)\b/g)),s={};return a.map((function(e,t){return function(e,t,n,r){e[t]=10*n}(s,e,t)})),n.createElement("g",{transform:"translate(".concat(t,",").concat(r,")")},Object.entries(s).map((function(e){var t=Xe(e,2),r=t[0],i=t[1];return n.createElement("text",{key:r,x:0,y:8,dy:16,style:{fontSize:"10px"},textAnchor:"middle",fill:"#FFF"},n.createElement("tspan",{textAnchor:"middle",x:"0",dy:i},r))})))}(0,Je.ZP)((function(e){var t=e.className,r=Mo(e,JF);return n.createElement(KF,(0,i.Z)({},r,{classes:{popper:t}}))}))((function(e){var t=e.theme;return ka({},"& .".concat(UF.tooltip),{backgroundColor:"#f5f5f9",color:"rgba(0, 0, 0, 0.87)",maxWidth:220,fontSize:t.typography.pxToRem(12),border:"1px solid #dadde9"})})),QF.propTypes={x:Oo().number,y:Oo().number,stroke:Oo().string,payload:Oo().object};var eB=th.regions,tB=Lo((function(e){return{contentBox:{display:"flex",width:"100%",height:"350px",maxHeight:"350px",padding:e.spacing(0),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px",justifyContent:"center",alignItems:"center"}}}));function nB(e){var t=tB(),r=Xe((0,n.useState)([]),2),i=r[0],o=r[1],a=e.areaName,s=e.zonalStatsData,l=e.chartRegion,u=e.chartIndices,c=e.chartType,h=eB[l],p=Xe((0,n.useState)([]),2),d=p[0],f=p[1],m=(0,n.useRef)(!0),g="".concat(c," ").concat(a),y=h.layerList,v={color:"black",backgroundColor:"white",padding:"5px 0",borderRadius:"6px"},_=function(e){var t=e.active,r=e.payload,i=e.label;return t&&r&&r.length&&Number.isFinite(r[0].value)&&s?n.createElement("div",{className:"custom-tooltip",style:v},n.createElement("p",{className:"label"},i),n.createElement("h4",{className:"desc"},"".concat(r[0].payload.value.toFixed(2)))):null};_.propTypes={active:Oo().bool,payload:Oo().array,label:Oo().any};var b=(0,n.useCallback)((function(e){var t=[],n=[];Object.entries(e).forEach((function(e){var r=Xe(e,2),i=r[0],o=r[1];if(u.includes(i)&&!o.isNaN&&o>0){var a=function(e,t){var n=Math.round(t),r=y.find((function(t){return t.chartCSSSelector===e})),i=r.chartLabel,o=r.chartCSSColor,a=o[n],s=Object.keys(o);return[a,t/s[s.length-1],i]}(i,o),s=a[0],l=a[1],c=a[2];n.push({name:i,value:o,chartValue:l,tickLabel:c}),t.push(s)}})),0===n.length&&(m.current=!1),f(n),o(t)}),[y,u]);return(0,n.useEffect)((function(){b(s)}),[s,b]),m.current?n.createElement(we,{className:t.contentBox,components:"fieldset"},n.createElement(uS,{width:"100%",height:"40%"},n.createElement(FF,{data:d,width:500,height:300,margin:{top:25,right:30,left:20,bottom:5}},n.createElement("text",{x:200,y:10,fill:"white",textAnchor:"middle",dominantBaseline:"central"},n.createElement("tspan",{fontSize:"14"},g)),n.createElement(wF,{dataKey:"tickLabel",tick:n.createElement(QF,null),style:{fontSize:"8px"},interval:0,height:80}),n.createElement(EF,{domain:[0,1],tickFormatter:function(e){switch(e){case 1:return"High";case 0:return"Low";default:return""}},style:{fontSize:"10px"},interval:0}),n.createElement(bT,{content:n.createElement(_,null)}),n.createElement(xF,{dataKey:"chartValue"},d.map((function(e,t){return n.createElement(Qz,{key:"cell-".concat(t),fill:i[t]})})))))):n.createElement("h3",null,g," - No Data")}nB.propTypes={areaName:Oo().string.isRequired,zonalStatsData:Oo().object,chartRegion:Oo().string.isRequired,chartIndices:Oo().array.isRequired,chartType:Oo().string};var rB=Lo((function(e){return{contentBox:{display:"flex",height:e.spacing(8),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px",borderTop:"0px !important",justifyContent:"center",alignItems:"center"},titleText:{display:"flex"}}})),iB=th.regions,oB=function(e){return e.selectedRegion.value};function aB(e){var t=e.areaIndex,r=e.data,i=e.chartIndices,o=e.chartType,a=rB(),s=ae(oB);return n.createElement(ct,{container:!0,spacing:0,p:0,mt:0,mb:0,className:a.contentBox},n.createElement(ct,{item:!0,xs:4.5}),n.createElement(ct,{item:!0,xs:3},n.createElement(Vw,{buttonLabel:"Export",buttonName:"Export",onClick:function(e){e.stopPropagation();var n=[];Object.entries(r).map((function(e){var t,r=Xe(e,2),o=r[0],a=r[1],l=[];return i.includes(o)&&(l.push((t=o,iB[s].layerList.find((function(e){return e.chartCSSSelector===t})).label)),l.push(Number.isNaN(Number(a))?"No Data":a.toFixed(3)),l.push(function(e){var t=iB[s].layerList.find((function(t){return t.chartCSSSelector===e})).chartCSSColor,n=Object.keys(t);return"".concat(n[0],"-").concat(n[n.length-1])}(o)),n.push(l)),l}));var a=[["Index","Values","Range(s)"]];n.map((function(e){return a.push(e),a}));var l=(new Date).toLocaleString().replace(/ |\/|,|:/g,"-"),u="".concat(o.replace(/ /g,"-"),"-Area-").concat(t+1,"-").concat(l,".csv"),c=a.map((function(e){return e.join(",")})).join("\n"),h="data:text/csv;charset=utf-8,".concat(c),p=encodeURI(h),d=document.createElement("a");d.setAttribute("href",p),d.setAttribute("download",u),document.body.appendChild(d),d.click()}},n.createElement(Od,null))),n.createElement(ct,{item:!0,xs:4.5}))}aB.propTypes={data:Oo().object.isRequired,areaIndex:Oo().number.isRequired,chartIndices:Oo().array.isRequired,chartType:Oo().string.isRequired};var sB=Lo((function(e){return{contentBox:{display:"flex",width:"100%",height:"350px",maxHeight:"350px",padding:e.spacing(0),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px",borderBottom:"0px !important",justifyContent:"center",alignItems:"center"},ChartDetailsButton:{display:"flex",width:"100%"}}}));function lB(e){var t=sB(),r=e.areaName,i=e.areaIndex,o=e.region,a=e.zonalStatsData,s=(0,n.useRef)({"Summary Chart":["hubs","exposure","threat","asset","wildlife"],"Fish and Wildlife Inputs":["aquatic","terrestrial","marine"],"Threats Inputs":["floodprone_areas","slope","sea_level_rise","low_areas","drainage","impermeable","storm_surge","erosion","tsunami","permafrost","wave_flooding","geostress"],"Community Assets Inputs":["pop_density","crit_infra","transportation","social_vuln","crit_facilities"],Landcover:[]});return n.createElement("div",null,n.createElement(we,{className:t.contentBox},n.createElement(nB,{areaName:r,areaIndex:i,chartRegion:o,zonalStatsData:a,chartType:"Summary Chart",chartIndices:s.current["Summary Chart"]})),n.createElement(aB,{areaIndex:i,data:a,chartIndices:s.current["Summary Chart"],chartType:"Summary Chart"}),n.createElement(we,{className:t.contentBox},n.createElement(nB,{areaName:r,areaIndex:i,chartRegion:o,zonalStatsData:a,chartIndices:s.current["Fish and Wildlife Inputs"],chartType:"Fish and Wildlife Inputs"})),n.createElement(aB,{areaIndex:i,data:a,chartIndices:s.current["Fish and Wildlife Inputs"],chartType:"Fish and Wildlife Inputs"}),n.createElement(we,{className:t.contentBox},n.createElement(nB,{areaName:r,areaIndex:i,chartRegion:o,zonalStatsData:a,chartIndices:s.current["Threats Inputs"],chartType:"Threats Inputs"})),n.createElement(aB,{areaIndex:i,data:a,chartIndices:s.current["Threats Inputs"],chartType:"Threats Inputs"}),n.createElement(we,{className:t.contentBox},n.createElement(nB,{areaName:r,areaIndex:i,chartRegion:o,zonalStatsData:a,chartIndices:s.current["Community Assets Inputs"],chartType:"Community Assets Inputs"})),n.createElement(aB,{areaIndex:i,data:a,chartIndices:s.current["Community Assets Inputs"],chartType:"Community Assets Inputs"}),n.createElement(we,{className:t.contentBox},"Landcover Chart ",r),n.createElement(aB,{areaIndex:i,data:a,chartIndices:s.current.Landcover,chartType:"Landcover"}))}lB.propTypes={areaName:Oo().string.isRequired,areaIndex:Oo().number.isRequired,region:Oo().string.isRequired,zonalStatsData:Oo().object.isRequired};const uB=(0,an.Z)((0,ye.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHorizOutlined"),cB=(0,an.Z)((0,ye.jsx)("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm-7 7H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"}),"CenterFocusStrong"),hB=(0,an.Z)((0,ye.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");var pB=Lo((function(e){return{contentBox:{height:e.spacing(8),maxHeight:e.spacing(8),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"}}})),dB=th.regions,fB=function(e){return e.selectedRegion.value},mB=function(e){return e.AnalyzeArea};function gB(e){var t=e.areaName,r=e.areaIndex,i=e.data,o=e.leafletDrawFeatureGroupRef,a=e.leafletIds,s=pB(),l=ne(),u=ae(mB),c=ae(fB);return n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",p:0,className:s.contentBox},n.createElement(ct,{item:!0,xs:3},n.createElement(Vw,{buttonLabel:u.isMore[t]?"Less":"More",buttonName:u.isMore[t]?"Less":"More",onClick:function(){l(Bw(t))}},n.createElement(uB,null))),n.createElement(ct,{item:!0,xs:3},n.createElement(Vw,{buttonLabel:"Export",buttonName:"Export",onClick:function(e){e.stopPropagation();var t=[];Object.entries(i).map((function(e){var n,r=Xe(e,2),i=r[0],o=r[1],a=[];return a.push((n=i,dB[c].layerList.find((function(e){return e.chartCSSSelector===n})).label)),a.push(Number.isNaN(Number(o))?"No Data":o.toFixed(3)),a.push(function(e){var t=dB[c].layerList.find((function(t){return t.chartCSSSelector===e})).chartCSSColor,n=Object.keys(t);return"".concat(n[0],"-").concat(n[n.length-1])}(i)),t.push(a),a}));var n=[["Index","Values","Range(s)"]];t.map((function(e){return n.push(e),n}));var o=(new Date).toLocaleString().replace(/ |\/|,|:/g,"-"),a="ALL-DATA-Area-".concat(r+1,"-").concat(o,".csv"),s=n.map((function(e){return e.join(",")})).join("\n"),l="data:text/csv;charset=utf-8,".concat(s),u=encodeURI(l),h=document.createElement("a");h.setAttribute("href",u),h.setAttribute("download",a),document.body.appendChild(h),h.click()}},n.createElement(Od,null))),n.createElement(ct,{item:!0,xs:3},n.createElement(Vw,{buttonLabel:"Zoom",buttonName:"Zoom",onClick:function(e){e.stopPropagation(),console.log("clicked")}},n.createElement(cB,null))),n.createElement(ct,{item:!0,xs:3},n.createElement(Vw,{buttonLabel:"Remove",buttonName:"Remove",onClick:function(e){e.stopPropagation();var t=o.current;a.forEach((function(e){t.removeLayer(e)})),l(jp(r)),l(Up(r))}},n.createElement(hB,null))))}gB.defaultProps={data:null},gB.propTypes={areaName:Oo().string.isRequired,areaIndex:Oo().number.isRequired,data:Oo().object,leafletDrawFeatureGroupRef:Oo().object,leafletIds:Oo().array};var yB=function(e){return e.AnalyzeArea},vB=function(e){return e.selectedRegion.value};function _B(e){var t=e.areaName,r=e.areaIndex,i=e.leafletIds,o=e.zonalStatsData,a=e.region,s=e.leafletDrawFeatureGroupRef,l=ae(yB);if(a===ae(vB))return n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:0,pb:4},l.isMore[t]?n.createElement("div",{style:{width:"100%"}},n.createElement(ct,{item:!0,xs:12},n.createElement(lB,{areaName:t,areaIndex:r,region:a,zonalStatsData:o})),n.createElement(ct,{item:!0,xs:12},n.createElement(gB,{areaName:t,areaIndex:r,data:o,leafletDrawFeatureGroupRef:s}))):n.createElement("div",{style:{width:"100%"}},n.createElement(ct,{item:!0,xs:12},n.createElement(nB,{areaName:t,areaIndex:r,zonalStatsData:o,chartRegion:a,chartIndices:["hubs","exposure","threat","asset","wildlife"],chartType:"Summary Chart"})),n.createElement(ct,{item:!0,xs:12},n.createElement(gB,{areaName:t,areaIndex:r,data:o,leafletDrawFeatureGroupRef:s,leafletIds:i}))))}_B.propTypes={areaName:Oo().string.isRequired,areaIndex:Oo().number.isRequired,leafletIds:Oo().array,zonalStatsData:Oo().object,region:Oo().string,leafletDrawFeatureGroupRef:Oo().object};const bB=(0,an.Z)((0,ye.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"SortOutlined"),xB=(0,an.Z)((0,ye.jsx)("path",{d:"M10 10.02h5V21h-5zM17 21h3c1.1 0 2-.9 2-2v-9h-5v11zm3-18H5c-1.1 0-2 .9-2 2v3h19V5c0-1.1-.9-2-2-2zM3 19c0 1.1.9 2 2 2h3V10H3v9z"}),"TableChart"),wB=(0,an.Z)((0,ye.jsx)("path",{d:"M5 9.2h3V19H5zM10.6 5h2.8v14h-2.8zm5.6 8H19v6h-2.8z"}),"BarChart");var EB=Lo((function(e){return{actionButton:{borderRadius:0,maxHeight:e.spacing(8),textTransform:"none",flexWrap:"wrap","&:hover":{backgroundColor:"#6f6f6f"}},buttonHolder:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},button:ka({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%"},e.breakpoints.between("md","lg"),{fontSize:"0.75rem"})}}));function SB(e){var t=EB(),r=e.children,i=e.buttonLabel,o=e.buttonName,a=e.onClick;return n.createElement(we,{className:t.buttonHolder},n.createElement(ss,{variant:"text",color:"CRESTPrimary",fullWidth:!0,"aria-label":o,value:o,className:t.actionButton,onClick:function(e){a(e)}},n.createElement(we,{component:"div",className:t.button,pt:.5},r),n.createElement(we,{component:"div",className:t.button,pb:.5},i)))}SB.propTypes={children:Oo().node.isRequired,buttonLabel:Oo().string.isRequired,buttonName:Oo().string.isRequired,onClick:Oo().func.isRequired};var CB=Lo((function(e){return{contentBox:{display:"flex",height:e.spacing(14),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"},titleText:{display:"flex"}}})),TB=function(e){return e.AnalyzeArea};function IB(e){var t=CB(),r=e.handleSortClick,i=e.handleGraphOrTableClick,o=e.HandleRemoveAllClick,a=e.handleGenericClick,s=ae(TB);return n.createElement(ct,{container:!0,spacing:0,p:0,mt:1,mb:1,className:t.contentBox},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"body1",component:"div",justifyContent:"center",alignItems:"center",p:1,className:t.titleText},"Analzyed project sites")),n.createElement(ct,{item:!0,xs:3},n.createElement(SB,{buttonLabel:"Sort",buttonName:"Sort",onClick:r},s.isSortASC?n.createElement(bB,null):n.createElement(bB,{sx:{transform:"rotate(-180deg)"}}))),n.createElement(ct,{item:!0,xs:3},n.createElement(SB,{buttonLabel:"Export",buttonName:"Export",onClick:a},n.createElement(Od,null))),n.createElement(ct,{item:!0,xs:3},n.createElement(SB,{buttonLabel:s.isItAGraph?"Table":"Chart",buttonName:s.isItAGraph?"Table":"Chart",onClick:i},s.isItAGraph?n.createElement(xB,null):n.createElement(wB,null))),n.createElement(ct,{item:!0,xs:3},n.createElement(SB,{buttonLabel:"Remove All",buttonName:"Remove All",onClick:o},n.createElement(hB,null))))}IB.propTypes={handleSortClick:Oo().func.isRequired,handleGraphOrTableClick:Oo().func.isRequired,handleGenericClick:Oo().func.isRequired,HandleRemoveAllClick:Oo().func.isRequired};const kB=["name"],PB=["children","className","clone","component"],LB=n.createContext();function MB(e){return(0,et.Z)("MuiTable",e)}(0,tt.Z)("MuiTable",["root","stickyHeader"]);const AB=["className","component","padding","size","stickyHeader"],OB=(0,Je.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,i.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"}))),RB="table",NB=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiTable"}),{className:o,component:a=RB,padding:s="normal",size:l="medium",stickyHeader:u=!1}=r,c=(0,le.Z)(r,AB),h=(0,i.Z)({},r,{component:a,padding:s,size:l,stickyHeader:u}),p=(e=>{const{classes:t,stickyHeader:n}=e,r={root:["root",n&&"stickyHeader"]};return(0,Ke.Z)(r,MB,t)})(h),d=n.useMemo((()=>({padding:s,size:l,stickyHeader:u})),[s,l,u]);return(0,ye.jsx)(LB.Provider,{value:d,children:(0,ye.jsx)(OB,(0,i.Z)({as:a,role:a===RB?null:"table",ref:t,className:(0,ue.Z)(p.root,o),ownerState:h},c))})})),DB=n.createContext();function zB(e){return(0,et.Z)("MuiTableBody",e)}(0,tt.Z)("MuiTableBody",["root"]);const FB=["className","component"],BB=(0,Je.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),jB={variant:"body"},ZB="tbody",UB=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiTableBody"}),{className:r,component:o=ZB}=n,a=(0,le.Z)(n,FB),s=(0,i.Z)({},n,{component:o}),l=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"]},zB,t)})(s);return(0,ye.jsx)(DB.Provider,{value:jB,children:(0,ye.jsx)(BB,(0,i.Z)({className:(0,ue.Z)(l.root,r),as:o,ref:t,role:o===ZB?null:"rowgroup",ownerState:s},a))})}));function qB(e){return(0,et.Z)("MuiTableCell",e)}const VB=(0,tt.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),GB=["align","className","component","padding","scope","size","sortDirection","variant"],HB=(0,Je.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${(0,qt.Z)(n.size)}`],"normal"!==n.padding&&t[`padding${(0,qt.Z)(n.padding)}`],"inherit"!==n.align&&t[`align${(0,qt.Z)(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:`1px solid\n    ${"light"===e.palette.mode?(0,qo.$n)((0,qo.Fq)(e.palette.divider,1),.88):(0,qo._j)((0,qo.Fq)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:e.palette.text.primary},"footer"===t.variant&&{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${VB.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:e.palette.background.default}))),WB=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiTableCell"}),{align:o="inherit",className:a,component:s,padding:l,scope:u,size:c,sortDirection:h,variant:p}=r,d=(0,le.Z)(r,GB),f=n.useContext(LB),m=n.useContext(DB),g=m&&"head"===m.variant;let y;y=s||(g?"th":"td");let v=u;!v&&g&&(v="col");const _=p||m&&m.variant,b=(0,i.Z)({},r,{align:o,component:y,padding:l||(f&&f.padding?f.padding:"normal"),size:c||(f&&f.size?f.size:"medium"),sortDirection:h,stickyHeader:"head"===_&&f&&f.stickyHeader,variant:_}),x=(e=>{const{classes:t,variant:n,align:r,padding:i,size:o,stickyHeader:a}=e,s={root:["root",n,a&&"stickyHeader","inherit"!==r&&`align${(0,qt.Z)(r)}`,"normal"!==i&&`padding${(0,qt.Z)(i)}`,`size${(0,qt.Z)(o)}`]};return(0,Ke.Z)(s,qB,t)})(b);let w=null;return h&&(w="asc"===h?"ascending":"descending"),(0,ye.jsx)(HB,(0,i.Z)({as:y,ref:t,className:(0,ue.Z)(x.root,a),"aria-sort":w,scope:v,ownerState:b},d))})),$B=WB;function XB(e){return(0,et.Z)("MuiTableContainer",e)}(0,tt.Z)("MuiTableContainer",["root"]);const YB=["className","component"],KB=(0,Je.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),JB=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiTableContainer"}),{className:r,component:o="div"}=n,a=(0,le.Z)(n,YB),s=(0,i.Z)({},n,{component:o}),l=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"]},XB,t)})(s);return(0,ye.jsx)(KB,(0,i.Z)({ref:t,as:o,className:(0,ue.Z)(l.root,r),ownerState:s},a))}));function QB(e){return(0,et.Z)("MuiTableHead",e)}(0,tt.Z)("MuiTableHead",["root"]);const ej=["className","component"],tj=(0,Je.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),nj={variant:"head"},rj="thead",ij=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiTableHead"}),{className:r,component:o=rj}=n,a=(0,le.Z)(n,ej),s=(0,i.Z)({},n,{component:o}),l=(e=>{const{classes:t}=e;return(0,Ke.Z)({root:["root"]},QB,t)})(s);return(0,ye.jsx)(DB.Provider,{value:nj,children:(0,ye.jsx)(tj,(0,i.Z)({as:o,className:(0,ue.Z)(l.root,r),ref:t,role:o===rj?null:"rowgroup",ownerState:s},a))})}));function oj(e){return(0,et.Z)("MuiTableRow",e)}const aj=(0,tt.Z)("MuiTableRow",["root","selected","hover","head","footer"]),sj=["className","component","hover","selected"],lj=(0,Je.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${aj.hover}:hover`]:{backgroundColor:e.palette.action.hover},[`&.${aj.selected}`]:{backgroundColor:(0,qo.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:(0,qo.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}}))),uj="tr",cj=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiTableRow"}),{className:o,component:a=uj,hover:s=!1,selected:l=!1}=r,u=(0,le.Z)(r,sj),c=n.useContext(DB),h=(0,i.Z)({},r,{component:a,hover:s,selected:l,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),p=(e=>{const{classes:t,selected:n,hover:r,head:i,footer:o}=e,a={root:["root",n&&"selected",r&&"hover",i&&"head",o&&"footer"]};return(0,Ke.Z)(a,oj,t)})(h);return(0,ye.jsx)(lj,(0,i.Z)({as:a,ref:t,className:(0,ue.Z)(p.root,o),role:a===uj?null:"row",ownerState:h},u))})),hj=cj;var pj,dj=th.regions,fj=function(e){return e.selectedRegion.value},mj=Lo((function(e){return{contentBox:{padding:e.spacing(2),backgroundColor:e.palette.CRESTBlack.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"},tableHead:{backgroundColor:e.palette.CRESTBlack.dark,borderBottomColor:e.palette.CRESTLight.main,borderBottomStyle:"solid",borderBottomWidth:"2px",paddingBottom:e.spacing(2)}}})),gj=(pj=hj,(e,t={})=>{const{name:r}=t,o=(0,le.Z)(t,kB);let a=r;const s=Lo("function"==typeof e?t=>({root:n=>e((0,i.Z)({theme:t},n))}):{root:e},(0,i.Z)({Component:pj,name:r||pj.displayName,classNamePrefix:a},o));let l;e.filterProps&&(l=e.filterProps,delete e.filterProps),e.propTypes&&(e.propTypes,delete e.propTypes);const u=n.forwardRef((function(e,t){const{children:r,className:o,clone:a,component:u}=e,c=(0,le.Z)(e,PB),h=s(e),p=(0,ue.Z)(h.root,o);let d=c;if(l&&(d=function(e,t){const n={};return Object.keys(e).forEach((r=>{-1===t.indexOf(r)&&(n[r]=e[r])})),n}(d,l)),a)return n.cloneElement(r,(0,i.Z)({className:(0,ue.Z)(r.props.className,p)},d));if("function"==typeof r)return r((0,i.Z)({className:p},d));const f=u||pj;return(0,ye.jsx)(f,(0,i.Z)({ref:t,className:p},d,{children:r}))}));return K()(u,pj),u})((function(e){var t=e.theme;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.CRESTDarkAlt.main},"&:nth-of-type(even)":{backgroundColor:t.palette.CRESTGridBackground.dark},"&:last-child td, &:last-child th":{border:0}}}));function yj(e){var t=mj(),r=e.data,i=ae(fj);return n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:0,pb:4,className:t.contentBox},n.createElement(ct,{item:!0,xs:12},n.createElement(JB,{component:xa},n.createElement(NB,{sx:{width:"100%"},"aria-label":"customized table"},n.createElement(ij,{className:t.tableHead},n.createElement(hj,null,n.createElement($B,{align:"left"},"Area Name"),n.createElement($B,{align:"left"},"Index"),n.createElement($B,{align:"left"},"Value"),n.createElement($B,{align:"left"},"Range"))),n.createElement(UB,null,r.map((function(e){return e.region===i?Object.entries(e.zonalStatsData).map((function(t){var r,i=Xe(t,2),o=i[0],a=i[1];return n.createElement(n.Fragment,{key:e.areaName+o},n.createElement(gj,{key:"".concat(e.areaName,"-").concat(e.name)},n.createElement($B,{align:"left"},e.areaName),n.createElement($B,{align:"left"},(r=o,dj[e.region].layerList.find((function(e){return e.chartCSSSelector===r})).label)),n.createElement($B,{align:"left"},Number.isNaN(Number(a))?"No Data":a.toFixed(3)),n.createElement($B,{align:"left"},function(e,t){var n=dj[e.region].layerList.find((function(e){return e.chartCSSSelector===t})).chartCSSColor,r=Object.keys(n);return"".concat(r[0],"-").concat(r[r.length-1])}(e,o))))})):null})))))))}yj.propTypes={data:Oo().array.isRequired};var vj=Lo((function(e){return{gridHolder:{height:"100%"},contentBox:{height:"calc(100% - 112px)",paddingRight:e.spacing(1.5),overflowY:"scroll"}}})),_j=th.regions,bj=function(e){return e.AnalyzeArea},xj=function(e){return e.mapProperties.drawnLayers},wj=function(e){return e.selectedRegion.value};function Ej(e){var t=e.leafletDrawFeatureGroupRef,r=ae(xj),i=ae(wj),o=r.features,a=Xe((0,n.useState)([]),2),s=a[0],l=a[1],u=vj(),c=(0,n.useCallback)((function(e){if(e){var t=[];e.forEach((function(e,n){t.push({areaName:e.properties.areaName,areaIndex:n,leafletIds:e.properties.leafletIds,region:e.properties.region,zonalStatsData:e.properties.zonalStatsData})})),l(t)}}),[]);(0,n.useEffect)((function(){c(o)}),[o,c]);var h=ne(),p=ae(bj);return n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:0,pb:2,className:u.gridHolder},n.createElement(ct,{item:!0,xs:12},n.createElement(IB,{handleSortClick:function(e){h(Zw())},handleGraphOrTableClick:function(e){h(jw())},HandleRemoveAllClick:function(e){e.stopPropagation(),t.current.clearLayers(),h(Bp()),h(qp()),h(Fw())},handleGenericClick:function(e){e.stopPropagation();var t=[];s.map((function(e){return Object.entries(e.zonalStatsData).map((function(n){var r=Xe(n,2),o=r[0],a=r[1],s=[];return e.region===i&&(s.push(e.areaName),s.push(function(e,t){return _j[e.region].layerList.find((function(e){return e.chartCSSSelector===t})).label}(e,o)),s.push(Number.isNaN(Number(a))?"No Data":a.toFixed(3)),s.push(function(e,t){var n=_j[e.region].layerList.find((function(e){return e.chartCSSSelector===t})).chartCSSColor,r=Object.keys(n);return"".concat(r[0],"-").concat(r[r.length-1])}(e,o)),t.push(s)),s})),t}));var n=[["Area","Index","Values","Range(s)"]];t.map((function(e){return n.push(e),n}));var r=(new Date).toLocaleString().replace(/ |\/|,|:/g,"-"),o="ALL-DATA-".concat(i.replace(/ |\/|,|:|\./g,"-"),"-").concat(r,".csv"),a=n.map((function(e){return e.join(",")})).join("\n"),l="data:text/csv;charset=utf-8,".concat(a),u=encodeURI(l),c=document.createElement("a");c.setAttribute("href",u),c.setAttribute("download",o),document.body.appendChild(c),c.click()}})),p.isItAGraph?n.createElement(ct,{item:!0,xs:12,className:u.contentBox},n.createElement(we,null,s.map((function(e){var r=e.areaName,i=e.areaIndex,o=e.leafletIds,a=e.zonalStatsData,s=e.region;return n.createElement(_B,{key:r,areaName:r,areaIndex:i,leafletIds:o,region:s,zonalStatsData:a,leafletDrawFeatureGroupRef:t})})))):n.createElement(ct,{item:!0,xs:12,className:u.contentBox},n.createElement(we,null,n.createElement(yj,{data:s}))))}Ej.propTypes={leafletDrawFeatureGroupRef:Oo().object};var Sj=function(e){return e.AnalyzeArea};function Cj(e){var t=e.boxHeight,r=e.boxMarginTop,i=e.leafletDrawFeatureGroupRef,o=ae(Sj);return n.createElement(we,{style:{height:t,marginTop:r}},o.isEmptyState?n.createElement(Hw,null):n.createElement(Ej,{boxHeight:t,leafletDrawFeatureGroupRef:i}))}Cj.propTypes={boxHeight:Oo().string.isRequired,boxMarginTop:Oo().string,leafletDrawFeatureGroupRef:Oo().object};var Tj=Lo((function(e){return{threeColumnHolder:{padding:e.spacing(.2),height:"100%"},contentHolder:ka({height:"calc(100% - 115px)"},e.breakpoints.down("md"),{height:"calc(100% - 56px)"}),contentBox:{padding:e.spacing(1),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"},contentmapBox:{height:"100%",padding:e.spacing(0),backgroundColor:e.palette.CRESTGridBackground.dark,borderColor:e.palette.CRESTBorderColor.main,borderStyle:"solid",borderWidth:"1px"},guttter:ka({padding:"".concat(e.spacing(0)," !important"),height:e.spacing(0)},e.breakpoints.down("md"),{height:e.spacing(1)})}}));function Ij(e){var t=Tj(),r=Xe((0,n.useState)(null),2),i=r[0],o=r[1],a=Xe((0,n.useState)(!0),2),s=a[0],l=a[1],u=Xe((0,n.useState)(!1),2),c=u[0],h=u[1],p=Xe((0,n.useState)(!1),2),d=p[0],f=p[1],m=(0,n.useRef)(),g=ae((function(e){return e.mapLayerList.visible}));return n.createElement(ct,{container:!0,spacing:0,rowSpacing:{xs:1,sm:1,md:0},px:1,pb:{xs:1,sm:1,md:0},pt:{xs:.5,sm:.5,md:0},justify:"space-between",alignItems:"stretch",className:t.contentHolder},n.createElement(ct,{item:!0,xs:12,sm:12,md:4,lg:3.75,xl:3,order:{xs:3,sm:3,md:1},className:t.threeColumnHolder},n.createElement(O_,{map:i,bufferCheckbox:s,setBufferCheckbox:l,drawAreaDisabled:c,setTooLargeLayerOpen:f}),n.createElement(Cj,{boxHeight:"calc(100% - 258px)",boxMarginTop:"8px",leafletDrawFeatureGroupRef:m})),n.createElement(ct,{item:!0,xs:12,sm:12,md:4.5,lg:g?5.25:8.25,xl:g?6.25:9,order:{xs:1,sm:1,md:2},className:t.threeColumnHolder},n.createElement(we,{className:t.contentmapBox},n.createElement(rg,{map:i,setMap:o,leafletDrawFeatureGroupRef:m,bufferCheckbox:s,setDrawAreaDisabled:h,tooLargeLayerOpen:d,setTooLargeLayerOpen:f}))),n.createElement(ct,{item:!0,xs:12,sm:12,md:3.5,lg:3,xl:2.75,sx:{display:{xs:g?"flex":"none"}},order:{xs:2,sm:2,md:3},className:t.threeColumnHolder},n.createElement(Rw,null)),n.createElement(ct,{item:!0,xs:12,order:4,className:t.guttter}))}function kj(){var e=Xe((0,n.useState)(!1),2),t=e[0],r=e[1],i=Xe(Z(),2),o=i[0],a=i[1];(0,n.useEffect)((function(){t&&o.has("shareUrl")&&(o.delete("shareUrl"),a(o))}),[t,o,a]);var s=new Proxy(new URLSearchParams(window.location.search),{get:function(e,t){return e.get(t)}}).shareUrl;return s&&cf(s,r),s&&!t?n.createElement("div",null,"Loading Share Link. We need to eventually style this."):n.createElement(Ij,null)}const Pj=(0,be.Z)({palette:{mode:"dark",text:{primary:"#ffffff",CRESTLightText:"#ffffff",CRESTMedText:"#F8F9FA",CRESTDarkText:"#000000"},background:{default:"#323232",paper:"#0a0a0a",contrastText:"#fff"},CRESTBlack:{main:"#000000",dark:"#000000",light:"#000000",contrastText:"#000000"},CRESTGridBackground:{main:"#323232",dark:"#0a0a0a",light:"#5b5b5b",contrastText:"#fff"},CRESTCta:{main:"#17A2B8",dark:"#007388",light:"#60d4ea",contrastText:"#fff"},CRESTPrimary:{main:"#F8F9FA",dark:"#c5c6c7",light:"#ffffff",contrastText:"#000000"},CRESTSecondary:{main:"#657A8E",dark:"#394e61",light:"#93a9be",contrastText:"#000000"},CRESTLight:{main:"#F8F9FA",dark:"#c5c6c7",light:"#ffffff",contrastText:"#000000"},CRESTDark:{main:"#000000",dark:"#000000",light:"#2c2c2c",contrastText:"#fff"},CRESTDarkAlt:{main:"#444444",dark:"#6f6f6f",light:"#818181",contrastText:"#fff"},CRESTBorderColor:{main:"#555555",dark:"#2c2c2c",light:"#1d1d1d",contrastText:"#fff"},CRESTLightBorderColor:{main:"#2c2c2c",dark:"#000000",light:"#555555",contrastText:"#fff"},CRESTExampleCurrentSteps:{main:"#858585",dark:"#585858",light:"#C4C4C4",contrastText:"#000000"},CRESTExampleOtherSteps:{main:"#ffffff",dark:"#858585",light:"#C4C4C4",contrastText:"#000000"}},components:{MuiCssBaseline:{styleOverrides:{body:{scrollbarWidth:"thin","&::-webkit-scrollbar, & *::-webkit-scrollbar":{width:"12px"},"&::-webkit-scrollbar-track, & *::-webkit-scrollbar-track":{background:"#0A0A0A"},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{backgroundColor:"#F8F9FA",borderRadius:"4px"},"&::-webkit-scrollbar-thumb:hover, &::-webkit-scrollbar-thumb:focus, &::-webkit-scrollbar-thumb:active":{background:"#F8F9FA"},"& *::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:focus, & *::-webkit-scrollbar-thumb:active":{background:"#F8F9FA"}}}},MuiLink:{styleOverrides:{root:{color:"#17A2B8",fontWeight:"500",textDecorationColor:"#17A2B8","&:hover":{color:"#007388",textDecorationColor:"#007388"}}}},MuiPaper:{styleOverrides:{root:{borderColor:"#555555"}}},MuiDivider:{styleOverrides:{root:{borderColor:"#555555"}}},MuiTabs:{styleOverrides:{indicator:{backgroundColor:"#60d4ea"}}},MuiTab:{styleOverrides:{root:{color:"#F8F9FA",textTransform:"capitalize","&:hover":{backgroundColor:"#6f6f6f"},"&.Mui-selected":{color:"#60D4EA",textTransform:"capitalize"}}}}}}),Lj=(0,an.Z)((0,ye.jsx)("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"FileDownload"),Mj=(0,an.Z)((0,ye.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5v1zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5v3zm4-3H19v1h1.5V11H19v2h-1.5V7h3v1.5zM9 9.5h1v-1H9v1zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm10 5.5h1v-3h-1v3z"}),"PictureAsPdf");var Aj=Lo((function(e){return{CardBackground:{padding:"20px",backgroundColor:e.palette.CRESTGridBackground.dark,color:e.palette.CRESTGridBackground.contrastText,borderColor:e.palette.CRESTBorderColor.main},descriptionBox:{justifyContent:"start",alignItems:"start",display:"flex",width:"100%"},iconColor:{color:e.palette.CRESTCta.main}}}));function Oj(e){var t=e.regionName,r=e.dataLink,i=e.dataFileSize,o=e.NativeLanguageText,a=e.NativeLanguageLink,s=e.EnglishLink,l=Aj();return n.createElement(we,null,n.createElement(xa,{variant:"outlined",square:!1,className:l.CardBackground},n.createElement(Uo,{variant:"h5",component:"div",gutterBottom:!0},t),n.createElement(we,{className:l.descriptionBox},n.createElement(Uo,{variant:"body1",component:"div",gutterBottom:!0},"The download contains all data for the ",t,". The file also contains a readme file describing use.")),n.createElement(ct,{container:!0,justifyContent:"start",alignItems:"start",pt:3},n.createElement(ct,{item:!0,xs:1,sm:.5},n.createElement(Lj,{className:l.iconColor})),n.createElement(ct,{item:!0,xs:11,sm:11.5},n.createElement(na,{href:r},t," Data Download (",i,")"))),o?n.createElement(ct,{container:!0,justifyContent:"start",alignItems:"start",pt:1},n.createElement(ct,{item:!0,xs:1,sm:.5},n.createElement(Mj,{sx:{color:"CRESTCta.main"}})),n.createElement(ct,{item:!0,xs:11,sm:11.5},n.createElement(na,{href:a,target:"_blank"},o))):n.createElement(n.Fragment,null),n.createElement(ct,{container:!0,justifyContent:"start",alignItems:"start",pt:1},n.createElement(ct,{item:!0,xs:1,sm:.5},n.createElement(Mj,{sx:{color:"CRESTCta.main"}})),n.createElement(ct,{item:!0,xs:11,sm:11.5},n.createElement(na,{href:s,target:"_blank"},t," Coastal Resilience Assessment")))))}function Rj(e){var t=e.cardConfig;return n.createElement(ct,{container:!0,spacing:1,justifyContent:"center",alignItems:"center",px:.25,py:.75},t.map((function(e){return n.createElement(ct,{item:!0,xs:12,key:e.regionName},n.createElement(Oj,{regionName:e.regionName,dataFileSize:e.dataFileSize,NativeLanguageText:e.NativeLanguageText,dataLink:e.dataLink,EnglishLink:e.EnglishLink}))})))}Oj.propTypes={regionName:Oo().string.isRequired,dataLink:Oo().string.isRequired,dataFileSize:Oo().string.isRequired,NativeLanguageText:Oo().string,NativeLanguageLink:Oo().string,EnglishLink:Oo().string.isRequired},Rj.propTypes={cardConfig:Oo().array.isRequired};var Nj=Lo((function(e){return{title:{padding:e.spacing(2.5),backgroundColor:e.palette.CRESTGridBackground.main,color:e.palette.CRESTGridBackground.contrastText,borderColor:e.palette.CRESTBorderColor.main}}})),Dj=[{regionName:"American Somoa",dataFileSize:"100 MB",dataLink:"https://www.google.com/",NativeLanguageText:"Amerika Samoa Su’esu’ega o Malosi Gafataulima i Nofoaga Tumatāfaga",NativeLanguageLink:"https://www.google.com/",EnglishLink:"https://www.google.com/"},{regionName:"Continental United States (CONUS)",dataFileSize:"15 GB",dataLink:"https://www.google.com/",EnglishLink:"https://www.google.com/"},{regionName:"Guam",dataFileSize:"10 MB",dataLink:"https://www.google.com/",EnglishLink:"https://www.google.com/"},{regionName:"Hawai'i",dataFileSize:"25 MB",dataLink:"https://www.google.com/",EnglishLink:"https://www.google.com/"}],zj=[{regionName:"Cape Fear Watershed",dataFileSize:"122 MB",dataLink:"https://www.google.com/",NativeLanguageLink:"https://www.google.com/",EnglishLink:"https://www.google.com/"}];function Fj(){var e=Nj();return n.createElement("div",null,n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:3,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(we,null,n.createElement(xa,{square:!1,elevation:0,className:e.title},n.createElement(Uo,{variant:"h4",component:"div",align:"center",gutterBottom:!0},"Regional Coastal Resilience Assessment Data Downloads and Reports"))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:1.5,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(Rj,{cardConfig:Dj}))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:3,pt:6,pb:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(we,null,n.createElement(xa,{square:!1,elevation:0,className:e.title},n.createElement(Uo,{variant:"h4",component:"div",align:"center",gutterBottom:!0},"Targeted Watershed Assessment Data Downloads"))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:1.5,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(Rj,{cardConfig:zj}))))}function Bj(){return n.createElement("div",null,"Welcome to the Examples page of Crest V2")}const jj=(0,an.Z)((0,ye.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"InfoOutlined");function Zj(e){return(0,et.Z)("MuiListItem",e)}const Uj=(0,tt.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),qj=(0,tt.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Vj(e){return(0,et.Z)("MuiListItemSecondaryAction",e)}(0,tt.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);const Gj=["className"],Hj=(0,Je.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((({ownerState:e})=>(0,i.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0}))),Wj=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=r,a=(0,le.Z)(r,Gj),s=n.useContext(nv),l=(0,i.Z)({},r,{disableGutters:s.disableGutters}),u=(e=>{const{disableGutters:t,classes:n}=e,r={root:["root",t&&"disableGutters"]};return(0,Ke.Z)(r,Vj,n)})(l);return(0,ye.jsx)(Hj,(0,i.Z)({className:(0,ue.Z)(u.root,o),ownerState:l,ref:t},a))}));Wj.muiName="ListItemSecondaryAction";const $j=Wj,Xj=["className"],Yj=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected"],Kj=(0,Je.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((({theme:e,ownerState:t})=>(0,i.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&(0,i.Z)({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${qj.root}`]:{paddingRight:48}},{[`&.${Uj.focusVisible}`]:{backgroundColor:e.palette.action.focus},[`&.${Uj.selected}`]:{backgroundColor:(0,qo.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Uj.focusVisible}`]:{backgroundColor:(0,qo.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Uj.disabled}`]:{opacity:e.palette.action.disabledOpacity}},"flex-start"===t.alignItems&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${e.palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Uj.selected}:hover`]:{backgroundColor:(0,qo.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,qo.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48}))),Jj=(0,Je.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Qj=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:a=!1,button:s=!1,children:l,className:u,component:c,components:h={},componentsProps:p={},ContainerComponent:d="li",ContainerProps:{className:f}={},dense:m=!1,disabled:g=!1,disableGutters:y=!1,disablePadding:v=!1,divider:_=!1,focusVisibleClassName:b,secondaryAction:x,selected:w=!1}=r,E=(0,le.Z)(r.ContainerProps,Xj),S=(0,le.Z)(r,Yj),C=n.useContext(nv),T={dense:m||C.dense||!1,alignItems:o,disableGutters:y},I=n.useRef(null);(0,Ge.Z)((()=>{a&&I.current&&I.current.focus()}),[a]);const k=n.Children.toArray(l),P=k.length&&(0,Gy.Z)(k[k.length-1],["ListItemSecondaryAction"]),L=(0,i.Z)({},r,{alignItems:o,autoFocus:a,button:s,dense:T.dense,disabled:g,disableGutters:y,disablePadding:v,divider:_,hasSecondaryAction:P,selected:w}),M=(e=>{const{alignItems:t,button:n,classes:r,dense:i,disabled:o,disableGutters:a,disablePadding:s,divider:l,hasSecondaryAction:u,selected:c}=e,h={root:["root",i&&"dense",!a&&"gutters",!s&&"padding",l&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]};return(0,Ke.Z)(h,Zj,r)})(L),A=(0,ht.Z)(I,t),O=h.Root||Kj,R=p.root||{},N=(0,i.Z)({className:(0,ue.Z)(M.root,R.className,u),disabled:g},S);let D=c||"li";return s&&(N.component=c||"div",N.focusVisibleClassName=(0,ue.Z)(Uj.focusVisible,b),D=Ut),P?(D=N.component||c?D:"div","li"===d&&("li"===D?D="div":"li"===N.component&&(N.component="div")),(0,ye.jsx)(nv.Provider,{value:T,children:(0,ye.jsxs)(Jj,(0,i.Z)({as:d,className:(0,ue.Z)(M.container,f),ref:A,ownerState:L},E,{children:[(0,ye.jsx)(O,(0,i.Z)({},R,!kf(O)&&{as:D,ownerState:(0,i.Z)({},L,R.ownerState)},N,{children:k})),k.pop()]}))})):(0,ye.jsx)(nv.Provider,{value:T,children:(0,ye.jsxs)(O,(0,i.Z)({},R,{as:D,ref:A,ownerState:L},!kf(O)&&{ownerState:(0,i.Z)({},L,R.ownerState)},N,{children:[k,x&&(0,ye.jsx)($j,{children:x})]}))})}));function eZ(e){return(0,et.Z)("MuiListItemIcon",e)}(0,tt.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);const tZ=["className"],nZ=(0,Je.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((({theme:e,ownerState:t})=>(0,i.Z)({minWidth:56,color:e.palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8}))),rZ=n.forwardRef((function(e,t){const r=(0,Ee.Z)({props:e,name:"MuiListItemIcon"}),{className:o}=r,a=(0,le.Z)(r,tZ),s=n.useContext(nv),l=(0,i.Z)({},r,{alignItems:s.alignItems}),u=(e=>{const{alignItems:t,classes:n}=e,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,Ke.Z)(r,eZ,n)})(l);return(0,ye.jsx)(nZ,(0,i.Z)({className:(0,ue.Z)(u.root,o),ownerState:l,ref:t},a))}));var iZ=Lo((function(e){return{CardBackground:{padding:"20px",backgroundColor:e.palette.CRESTGridBackground.dark,color:e.palette.CRESTGridBackground.contrastText,borderColor:e.palette.CRESTBorderColor.main},regionImageBox:{justifyContent:"center",alignItems:"center",display:"flex",width:"100%",height:"150px"}}}));function oZ(e){var t=iZ(),r=e.regionName,i=e.regionImage,o=e.onClick;return n.createElement(we,null,n.createElement(xa,{variant:"outlined",square:!1,className:t.CardBackground},n.createElement(Uo,{variant:"h6",component:"div",align:"center",gutterBottom:!0},r),n.createElement($o,null),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{className:t.regionImageBox},n.createElement("img",{src:i,style:{maxWidth:"50%",alignSelf:"center"}})))),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement(ss,{variant:"contained",color:"CRESTCta",fullWidth:!0,to:"/AnalyzeProjectSites",component:j,onClick:function(e){!function(e){o(e)}(r)}},r)))))}oZ.propTypes={regionName:Oo().string.isRequired,regionImage:Oo().string.isRequired,onClick:Oo().func.isRequired};var aZ=[{label:"Alaska",image:vw},{label:"American Samoa",image:_w},{label:"Continental U.S",image:bw},{label:"Guam",image:xw},{label:"Hawai'i",image:ww},{label:"Northern Mariana Islands",image:Ew},{label:"Puerto Rico",image:Sw},{label:"US Virgin Islands",image:Cw}],sZ=th.regions;function lZ(){var e=ne(),t=function(t){return e(rf("AnalyzeProjectSites")),e(hd(sZ[t].label)),e(pd(!0)),null};return n.createElement(ct,{container:!0,spacing:6,justifyContent:"center",alignItems:"center",px:.25,py:.75},aZ.map((function(e){return n.createElement(ct,{item:!0,xs:12,sm:12,md:6,lg:3,key:e.label},n.createElement(oZ,{regionName:e.label,regionImage:e.image,onClick:t}))})))}var uZ=Lo((function(e){return{CardBackground:{padding:"20px",backgroundColor:e.palette.CRESTGridBackground.dark,color:e.palette.CRESTGridBackground.contrastText,borderColor:e.palette.CRESTBorderColor.main},regionImageBox:{justifyContent:"center",alignItems:"center",display:"flex",width:"100%",height:"150px"}}}));function cZ(e){var t=uZ(),r=e.tabLabel,i=e.tabLocation,o=e.tabText,a=e.onClick;return n.createElement(we,null,n.createElement(xa,{variant:"outlined",square:!1,className:t.CardBackground},n.createElement(Uo,{variant:"h6",component:"div",align:"center",gutterBottom:!0,style:{minHeight:"64px"}},r),n.createElement($o,null),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement(we,{className:t.regionImageBox},n.createElement(Uo,{variant:"body",component:"div",gutterBottom:!0},o)))),n.createElement(ct,{container:!0,justifyContent:"center",alignItems:"center",pt:1.5},n.createElement(ct,{item:!0,xs:12},n.createElement(ss,{variant:"contained",color:"CRESTCta",fullWidth:!0,to:"/".concat(i),component:j,onClick:function(e){!function(e){a(e)}(i)},style:{minHeight:"64px"}},r)))))}function hZ(){var e=ne(),t=function(t){return e(rf(t)),null};return n.createElement(ct,{container:!0,spacing:6,justifyContent:"center",alignItems:"center",px:.25,py:.75},n.createElement(ct,{item:!0,xs:12,sm:12,md:6,lg:3},n.createElement(cZ,{tabLabel:"Analyze Project Sites",tabLocation:"AnalyzeProjectSites",tabText:"Examine and compare your project site(s) by proximity to             Resilience Hubs while exploring the Community Exposure and             Fish and Wildlife Indices in the surrounding area.",onClick:t})),n.createElement(ct,{item:!0,xs:12,sm:12,md:6,lg:3},n.createElement(cZ,{tabLabel:"Where Should I Do a Resilience Project?",tabLocation:"ResilienceProject",tabText:"Identify all Resilience Hubs in your study area to find             locations for potential projects that may deliver both human             community and fish and wildlife benefits.",onClick:t})),n.createElement(ct,{item:!0,xs:12,sm:12,md:6,lg:3},n.createElement(cZ,{tabLabel:"Download Data and Access Reports",tabLocation:"DataAndReports",tabText:"Download results for each Regional Assessment to use in your             own GIS application. Review the regional reports for detailed descriptions             of methods, data sources, and results.",onClick:t})),n.createElement(ct,{item:!0,xs:12,sm:12,md:6,lg:3},n.createElement(cZ,{tabLabel:"Learn About the Assessment",tabLocation:"About",tabText:"Learn how the National Coastal Resilience Assessment was created,             including descriptions of the Resilience Hubs, Community Exposure Index,             and Fish and Wildlife Index.",onClick:t})))}function pZ(){return n.createElement("div",null,n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:3,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(we,null,n.createElement(xa,{square:!1,elevation:0,sx:{backgroundColor:"CRESTGridBackground.main",color:"CRESTGridBackground.contrastText",borderColor:"CRESTBorderColor.main"}},n.createElement(Uo,{variant:"h4",component:"div",align:"center",gutterBottom:!0},"Coastal Resilience Evaluation and Siting Tool (CREST)"),n.createElement(Uo,{variant:"body",component:"div",align:"center",gutterBottom:!0},"CREST is used to make informed decisions about the siting of coastal restoration and resilience projects. The tool identifies Resilience Hubs, which are areas of open space where projects may have the greatest potential to benefit both human community resilience and fish and wildlife. Resilience Hubs incorporate multiple indices, all of which are available in CREST."))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:3,pt:4,pb:0},n.createElement(ct,{item:!0,xs:12},n.createElement(we,null,n.createElement(xa,{square:!1,elevation:0,sx:{backgroundColor:"CRESTGridBackground.main",color:"CRESTGridBackground.contrastText",borderColor:"CRESTBorderColor.main"}},n.createElement(Uo,{variant:"h4",component:"div",align:"center",gutterBottom:!0},"Select a region to start using CREST"))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:1.5,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(lZ,null))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:1.5,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(we,null,n.createElement(xa,{variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:"CRESTGridBackground.dark",color:"CRESTGridBackground.contrastText",borderColor:"CRESTBorderColor.main"}},n.createElement(av,null,n.createElement(Qj,{component:"div",disablePadding:!0},n.createElement(rZ,null,n.createElement(jj,null)),n.createElement(Uo,{variant:"body",component:"div",px:1.5,gutterBottom:!0},"Not sure how to get started? Step through a few ",n.createElement(na,{to:"/Examples",component:j},"examples")," to learn how to use CREST.")),n.createElement(Qj,{component:"div",disablePadding:!0},n.createElement(rZ,null,n.createElement(jj,null)),n.createElement(Uo,{variant:"body",component:"div",px:1.5,gutterBottom:!0},"Methods and data sources vary by region, but all assessments allow you to view and interact with all model inputs and results. Assessment for all other US regions are underway and will be added to CREST once available.")),n.createElement(Qj,{component:"div",disablePadding:!0},n.createElement(rZ,null,n.createElement(jj,null)),n.createElement(Uo,{variant:"body",component:"div",px:1.5,gutterBottom:!0},"CREST is intended to be used as a screening-level tool designed to help identify areas that may be well suited for nature-based solutions. As with all GIS analyses, site-level assessments are required to validate results and develop detailed design and engineering plans."))))))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:1.5,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement($o,null))),n.createElement(ct,{container:!0,spacing:2,justifyContent:"center",alignItems:"center",px:3,pt:4,pb:3},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h4",component:"div",align:"center",gutterBottom:!0},"Or choose a topic to start using CREST"),n.createElement(hZ,null))))}function dZ(){var e=Xe((0,n.useState)(!1),2),t=e[0],r=e[1],i=Xe(Z(),2),o=i[0],a=i[1],s=Xe((0,n.useState)(!1),2),l=s[0],u=s[1];(0,n.useEffect)((function(){t&&o.has("shareUrl")&&(o.delete("shareUrl"),a(o))}),[t,o,a]);var c=new Proxy(new URLSearchParams(window.location.search),{get:function(e,t){return e.get(t)}}).shareUrl;return c&&!l&&cf(c,r,u),l&&!t?n.createElement("button",{onClick:function(){u(!1),r(!0)}},"Bad Link. Click to proceed."):c&&!t?n.createElement("div",null,"Loading Share Link. We need to eventually style this."):n.createElement(Ij,null)}cZ.propTypes={tabLabel:Oo().string.isRequired,tabLocation:Oo().string.isRequired,tabText:Oo().string.isRequired,onClick:Oo().func.isRequired};var fZ=a(96774),mZ=a.n(fZ);const gZ=function(e){function t(e,r,l,u,p){for(var d,f,m,g,b,w=0,E=0,S=0,C=0,T=0,A=0,R=m=d=0,D=0,z=0,F=0,B=0,j=l.length,Z=j-1,U="",q="",V="",G="";D<j;){if(f=l.charCodeAt(D),D===Z&&0!==E+C+S+w&&(0!==E&&(f=47===E?10:47),C=S=w=0,j++,Z++),0===E+C+S+w){if(D===Z&&(0<z&&(U=U.replace(h,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(D)}f=59}switch(f){case 123:for(d=(U=U.trim()).charCodeAt(0),m=1,B=++D;D<j;){switch(f=l.charCodeAt(D)){case 123:m++;break;case 125:m--;break;case 47:switch(f=l.charCodeAt(D+1)){case 42:case 47:e:{for(R=D+1;R<Z;++R)switch(l.charCodeAt(R)){case 47:if(42===f&&42===l.charCodeAt(R-1)&&D+2!==R){D=R+1;break e}break;case 10:if(47===f){D=R+1;break e}}D=R}}break;case 91:f++;case 40:f++;case 34:case 39:for(;D++<Z&&l.charCodeAt(D)!==f;);}if(0===m)break;D++}if(m=l.substring(B,D),0===d&&(d=(U=U.replace(c,"").trim()).charCodeAt(0)),64===d){switch(0<z&&(U=U.replace(h,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:z=r;break;default:z=M}if(B=(m=t(r,z,m,f,p+1)).length,0<O&&(b=s(3,m,z=n(M,U,F),r,k,I,B,f,p,u),U=z.join(""),void 0!==b&&0===(B=(m=b.trim()).length)&&(f=0,m="")),0<B)switch(f){case 115:U=U.replace(x,a);case 100:case 109:case 45:m=U+"{"+m+"}";break;case 107:m=(U=U.replace(y,"$1 $2"))+"{"+m+"}",m=1===L||2===L&&o("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=U+m,112===u&&(q+=m,m="")}else m=""}else m=t(r,n(r,U,F),m,u,p+1);V+=m,m=F=z=R=d=0,U="",f=l.charCodeAt(++D);break;case 125:case 59:if(1<(B=(U=(0<z?U.replace(h,""):U).trim()).length))switch(0===R&&(d=U.charCodeAt(0),45===d||96<d&&123>d)&&(B=(U=U.replace(" ",":")).length),0<O&&void 0!==(b=s(1,U,r,e,k,I,q.length,u,p,u))&&0===(B=(U=b.trim()).length)&&(U="\0\0"),d=U.charCodeAt(0),f=U.charCodeAt(1),d){case 0:break;case 64:if(105===f||99===f){G+=U+l.charAt(D);break}default:58!==U.charCodeAt(B-1)&&(q+=i(U,d,f,U.charCodeAt(2)))}F=z=R=d=0,U="",f=l.charCodeAt(++D)}}switch(f){case 13:case 10:47===E?E=0:0===1+d&&107!==u&&0<U.length&&(z=1,U+="\0"),0<O*N&&s(0,U,r,e,k,I,q.length,u,p,u),I=1,k++;break;case 59:case 125:if(0===E+C+S+w){I++;break}default:switch(I++,g=l.charAt(D),f){case 9:case 32:if(0===C+w+E)switch(T){case 44:case 58:case 9:case 32:g="";break;default:32!==f&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===C+E+w&&(z=F=1,g="\f"+g);break;case 108:if(0===C+E+w+P&&0<R)switch(D-R){case 2:112===T&&58===l.charCodeAt(D-3)&&(P=T);case 8:111===A&&(P=A)}break;case 58:0===C+E+w&&(R=D);break;case 44:0===E+S+C+w&&(z=1,g+="\r");break;case 34:case 39:0===E&&(C=C===f?0:0===C?f:C);break;case 91:0===C+E+S&&w++;break;case 93:0===C+E+S&&w--;break;case 41:0===C+E+w&&S--;break;case 40:0===C+E+w&&(0===d&&(2*T+3*A==533||(d=1)),S++);break;case 64:0===E+S+C+w+R+m&&(m=1);break;case 42:case 47:if(!(0<C+w+S))switch(E){case 0:switch(2*f+3*l.charCodeAt(D+1)){case 235:E=47;break;case 220:B=D,E=42}break;case 42:47===f&&42===T&&B+2!==D&&(33===l.charCodeAt(B+2)&&(q+=l.substring(B,D+1)),g="",E=0)}}0===E&&(U+=g)}A=T,T=f,D++}if(0<(B=q.length)){if(z=r,0<O&&void 0!==(b=s(2,q,z,e,k,I,B,u,p,u))&&0===(q=b).length)return G+q+V;if(q=z.join(",")+"{"+q+"}",0!=L*P){switch(2!==L||o(q,2)||(P=0),P){case 111:q=q.replace(_,":-moz-$1")+q;break;case 112:q=q.replace(v,"::-webkit-input-$1")+q.replace(v,"::-moz-$1")+q.replace(v,":-ms-input-$1")+q}P=0}}return G+q+V}function n(e,t,n){var i=t.trim().split(m);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[l++]=r(e[u]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===L||2===L&&o(l,1)?"-webkit-"+l+l:l}if(0===L||2===L&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(T,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return d.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(b,"tb");break;case 232:l=a.replace(b,"tb-rl");break;case 220:l=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(S,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,c){for(var h,p=0,d=t;p<O;++p)switch(h=A[p].call(u,e,d,n,r,i,o,a,s,l,c)){case void 0:case!1:case!0:case null:break;default:d=h}if(d!==t)return d}function l(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!=typeof e?L=1:(L=2,R=e):L=0),l}function u(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=s(-1,n,r,r,k,I,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(M,r,n,0,0);return 0<O&&void 0!==(i=s(-2,o,r,r,k,I,o.length,0,0,0))&&(o=i),P=0,I=k=1,o}var c=/^\0+/g,h=/[\0\r\f]/g,p=/: */g,d=/zoo|gra/,f=/([,: ])(transform)/g,m=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,v=/::(place)/g,_=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,x=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,I=1,k=1,P=0,L=1,M=[],A=[],O=0,R=null,N=0;return u.use=function e(t){switch(t){case void 0:case null:O=A.length=0;break;default:if("function"==typeof t)A[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else N=0|!!t}return e},u.set=l,void 0!==e&&l(e),u};var yZ=a(40351),vZ=a(59122);function _Z(){return(_Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var bZ=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},xZ=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,rP.typeOf)(e)},wZ=Object.freeze([]),EZ=Object.freeze({});function SZ(e){return"function"==typeof e}function CZ(e){return e.displayName||e.name||"Component"}function TZ(e){return e&&"string"==typeof e.styledComponentId}var IZ="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",kZ="undefined"!=typeof window&&"HTMLElement"in window,PZ=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&"false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY);function LZ(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var MZ=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&LZ(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,l=t.length;s<l;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),AZ=new Map,OZ=new Map,RZ=1,NZ=function(e){if(AZ.has(e))return AZ.get(e);for(;OZ.has(RZ);)RZ++;var t=RZ++;return AZ.set(e,t),OZ.set(t,e),t},DZ=function(e){return OZ.get(e)},zZ=function(e,t){t>=RZ&&(RZ=t+1),AZ.set(e,t),OZ.set(t,e)},FZ="style["+IZ+'][data-styled-version="5.3.5"]',BZ=new RegExp("^"+IZ+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),jZ=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},ZZ=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(BZ);if(s){var l=0|parseInt(s[1],10),u=s[2];0!==l&&(zZ(u,l),jZ(e,u,s[3]),e.getTag().insertRules(l,r)),r.length=0}else r.push(a)}}},UZ=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},qZ=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(IZ))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(IZ,"active"),r.setAttribute("data-styled-version","5.3.5");var a=UZ();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},VZ=function(){function e(e){var t=this.element=qZ(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}LZ(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),GZ=function(){function e(e){var t=this.element=qZ(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),HZ=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),WZ=kZ,$Z={isServer:!kZ,useCSSOMInjection:!PZ},XZ=function(){function e(e,t,n){void 0===e&&(e=EZ),void 0===t&&(t={}),this.options=_Z({},$Z,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&kZ&&WZ&&(WZ=!1,function(e){for(var t=document.querySelectorAll(FZ),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(IZ)&&(ZZ(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return NZ(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(_Z({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new HZ(i):r?new VZ(i):new GZ(i),new MZ(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(NZ(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(NZ(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(NZ(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=DZ(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var l=IZ+".g"+i+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),r+=""+s+l+'{content:"'+u+'"}/*!sc*/\n'}}}return r}(this)},e}(),YZ=/(a)(d)/gi,KZ=function(e){return String.fromCharCode(e+(e>25?39:97))};function JZ(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=KZ(t%52)+n;return(KZ(t%52)+n).replace(YZ,"$1-$2")}var QZ=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},eU=function(e){return QZ(5381,e)};function tU(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(SZ(n)&&!TZ(n))return!1}return!0}var nU=eU("5.3.5"),rU=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&tU(e),this.componentId=t,this.baseHash=QZ(nU,t),this.baseStyle=n,XZ.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=bU(this.rules,e,t,n).join(""),a=JZ(QZ(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var l=this.rules.length,u=QZ(this.baseHash,n.hash),c="",h=0;h<l;h++){var p=this.rules[h];if("string"==typeof p)c+=p;else if(p){var d=bU(p,e,t,n),f=Array.isArray(d)?d.join(""):d;u=QZ(u,f+h),c+=f}}if(c){var m=JZ(u>>>0);if(!t.hasNameForId(r,m)){var g=n(c,"."+m,void 0,r);t.insertRules(r,m,g)}i.push(m)}}return i.join(" ")},e}(),iU=/^\s*\/\/.*$/gm,oU=[":","[",".","#"];function aU(e){var t,n,r,i,o=void 0===e?EZ:e,a=o.options,s=void 0===a?EZ:a,l=o.plugins,u=void 0===l?wZ:l,c=new gZ(s),h=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,l,u,c,h){switch(n){case 1:if(0===c&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===u)return r+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+r),"";default:return r+(0===h?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),d=function(e,r,o){return 0===r&&-1!==oU.indexOf(o[n.length])||o.match(i)?e:"."+t};function f(e,o,a,s){void 0===s&&(s="&");var l=e.replace(iU,""),u=o&&a?a+" "+o+" { "+l+" }":l;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),c(a||!o?"":o,u)}return c.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},p,function(e){if(-2===e){var t=h;return h=[],t}}])),f.hash=u.length?u.reduce((function(e,t){return t.name||LZ(15),QZ(e,t.name)}),5381).toString():"",f}var sU=n.createContext(),lU=(sU.Consumer,n.createContext()),uU=(lU.Consumer,new XZ),cU=aU();function hU(){return(0,n.useContext)(sU)||uU}function pU(e){var t=(0,n.useState)(e.stylisPlugins),r=t[0],i=t[1],o=hU(),a=(0,n.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,n.useMemo)((function(){return aU({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,n.useEffect)((function(){mZ()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),n.createElement(sU.Provider,{value:a},n.createElement(lU.Provider,{value:s},e.children))}var dU=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=cU);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return LZ(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=cU),this.name+e.hash},e}(),fU=/([A-Z])/,mU=/([A-Z])/g,gU=/^ms-/,yU=function(e){return"-"+e.toLowerCase()};function vU(e){return fU.test(e)?e.replace(mU,yU).replace(gU,"-ms-"):e}var _U=function(e){return null==e||!1===e||""===e};function bU(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=bU(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return _U(e)?"":TZ(e)?"."+e.styledComponentId:SZ(e)?"function"!=typeof(l=e)||l.prototype&&l.prototype.isReactComponent||!t?e:bU(e(t),t,n,r):e instanceof dU?n?(e.inject(n,r),e.getName(r)):e:xZ(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!_U(t[a])&&(Array.isArray(t[a])&&t[a].isCss||SZ(t[a])?o.push(vU(a)+":",t[a],";"):xZ(t[a])?o.push.apply(o,e(t[a],a)):o.push(vU(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in yZ.Z?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var l}var xU=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function wU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return SZ(e)||xZ(e)?xU(bU(bZ(wZ,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:xU(bU(bZ(e,n)))}new Set;var EU=function(e,t,n){return void 0===n&&(n=EZ),e.theme!==n.theme&&e.theme||t||n.theme},SU=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,CU=/(^-|-$)/g;function TU(e){return e.replace(SU,"-").replace(CU,"")}function IU(e){return"string"==typeof e&&!0}var kU=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},PU=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function LU(e,t,n){var r=e[n];kU(t)&&kU(r)?MU(r,t):e[n]=t}function MU(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(kU(a))for(var s in a)PU(s)&&LU(e,a[s],s)}return e}var AU=n.createContext();AU.Consumer;var OU={};function RU(e,t,r){var i=TZ(e),o=!IU(e),a=t.attrs,s=void 0===a?wZ:a,l=t.componentId,u=void 0===l?function(e,t){var n="string"!=typeof e?"sc":TU(e);OU[n]=(OU[n]||0)+1;var r=n+"-"+function(e){return JZ(eU(e)>>>0)}("5.3.5"+n+OU[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):l,c=t.displayName,h=void 0===c?function(e){return IU(e)?"styled."+e:"Styled("+CZ(e)+")"}(e):c,p=t.displayName&&t.componentId?TU(t.displayName)+"-"+t.componentId:t.componentId||u,d=i&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,f=t.shouldForwardProp;i&&e.shouldForwardProp&&(f=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var m,g=new rU(r,p,i?e.componentStyle:void 0),y=g.isStatic&&0===s.length,v=function(e,t){return function(e,t,r,i){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,l=e.foldedComponentIds,u=e.shouldForwardProp,c=e.styledComponentId,h=e.target,p=function(e,t,n){void 0===e&&(e=EZ);var r=_Z({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in SZ(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(EU(t,(0,n.useContext)(AU),s)||EZ,t,o),d=p[0],f=p[1],m=function(e,t,r,i){var o=hU(),a=(0,n.useContext)(lU)||cU;return t?e.generateAndInjectStyles(EZ,o,a):e.generateAndInjectStyles(r,o,a)}(a,i,d),g=r,y=f.$as||t.$as||f.as||t.as||h,v=IU(y),_=f!==t?_Z({},t,{},f):t,b={};for(var x in _)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?b.as=_[x]:(u?u(x,vZ.Z,y):!v||(0,vZ.Z)(x))&&(b[x]=_[x]));return t.style&&f.style!==t.style&&(b.style=_Z({},t.style,{},f.style)),b.className=Array.prototype.concat(l,c,m!==c?m:null,t.className,f.className).filter(Boolean).join(" "),b.ref=g,(0,n.createElement)(y,b)}(m,e,t,y)};return v.displayName=h,(m=n.forwardRef(v)).attrs=d,m.componentStyle=g,m.displayName=h,m.shouldForwardProp=f,m.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):wZ,m.styledComponentId=p,m.target=i?e.target:e,m.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=n&&n+"-"+(IU(e)?e:TU(CZ(e)));return RU(e,_Z({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(m,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?MU({},e.defaultProps,t):t}}),m.toString=function(){return"."+m.styledComponentId},o&&K()(m,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),m}var NU=function(e){return function e(t,n,r){if(void 0===r&&(r=EZ),!(0,rP.isValidElementType)(n))return LZ(1,String(n));var i=function(){return t(n,r,wU.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,_Z({},r,{},i))},i.attrs=function(i){return e(t,n,_Z({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(RU,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){NU[e]=NU(e)})),function(){var e=function(e,t){this.rules=e,this.componentId=t,this.isStatic=tU(e),XZ.registerId(this.componentId+1)}.prototype;e.createStyles=function(e,t,n,r){var i=r(bU(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},e.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.renderStyles=function(e,t,n,r){e>2&&XZ.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}(),function(){var e=function(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=UZ();return"<style "+[n&&'nonce="'+n+'"',IZ+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?LZ(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return LZ(2);var r=((t={})[IZ]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),i=UZ();return i&&(r.nonce=i),[n.createElement("style",_Z({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new XZ({isServer:!0}),this.sealed=!1}.prototype;e.collectStyles=function(e){return this.sealed?LZ(2):n.createElement(pU,{sheet:this.instance},e)},e.interleaveWithNodeStream=function(e){return LZ(3)}}();var DU=function(e){var t=n.forwardRef((function(t,r){var i=(0,n.useContext)(AU),o=e.defaultProps,a=EU(t,i,o);return n.createElement(e,_Z({},t,{theme:a,ref:r}))}));return K()(t,e),t.displayName="WithTheme("+CZ(e)+")",t};function zU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FU(e){return FU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FU(e)}function BU(e,t){if(t&&("object"===FU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ft(e)}function jU(e){return jU=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},jU(e)}function ZU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?Object(arguments[t]):{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach((function(t){ka(e,t,n[t])}))}return e}function UU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e.reduce((function(e,t){return ZU({},e,n[t])}),t)}function qU(e){return e.join(" ")}function VU(e){var t=e.node,r=e.stylesheet,o=e.style,a=void 0===o?{}:o,s=e.useInlineStyles,l=e.key,u=t.properties,c=t.type,h=t.tagName,p=t.value;if("text"===c)return p;if(h){var d=function(e,t){var n=0;return function(r){return n+=1,r.map((function(r,i){return VU({node:r,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(i)})}))}}(r,s),f=s&&u.className&&u.className.filter((function(e){return!r[e]})),m=f&&f.length?f:void 0,g=s?ZU({},u,{className:m&&qU(m)},{style:UU(u.className,Object.assign({},u.style,a),r)}):ZU({},u,{className:qU(u.className)}),y=d(t.children);return n.createElement(h,(0,i.Z)({key:l},g),y)}}var GU=/\n/g;function HU(e){var t=e.codeString,r=e.codeStyle,o=e.containerProps,a=void 0===o?{}:o,s=e.numberProps,l=e.startingLineNumber;return a.style=a.style||{float:"left",paddingRight:"10px"},n.createElement("code",(0,i.Z)({},a,{style:Object.assign({},r,a.style)}),function(e){var t=e.startingLineNumber,r=e.numberProps,o=void 0===r?{}:r;return e.lines.map((function(e,r){var a=r+t,s="function"==typeof o?o(a):o;return n.createElement("span",(0,i.Z)({key:"line-".concat(r),className:"react-syntax-highlighter-line-number"},s),"".concat(a,"\n"))}))}({lines:t.replace(/\n$/,"").split("\n"),numberProps:s,startingLineNumber:l}))}function WU(e){var t=e.children,n=e.lineNumber,r=e.lineProps,i=e.className,o=void 0===i?[]:i,a=("function"==typeof r?r(n):r)||{};return a.className=a.className?o.concat(a.className):o,{type:"element",tagName:"span",properties:a,children:t}}function $U(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0;r<e.length;r++){var i=e[r];if("text"===i.type)n.push(WU({children:[i],className:t}));else if(i.children){var o=t.concat(i.properties.className);n=n.concat($U(i.children,o))}}return n}function XU(e,t){for(var n=$U(e.value),r=[],i=-1,o=0,a=function(){var e=n[o],a=e.children[0].value;if(a.match(GU)){var s=a.split("\n");s.forEach((function(a,l){var u=r.length+1,c={type:"text",value:"".concat(a,"\n")};if(0===l){var h=n.slice(i+1,o).concat(WU({children:[c],className:e.properties.className}));r.push(WU({children:h,lineNumber:u,lineProps:t}))}else if(l===s.length-1)if(n[o+1]&&n[o+1].children&&n[o+1].children[0]){var p=WU({children:[{type:"text",value:"".concat(a)}],className:e.properties.className});n.splice(o+1,0,p)}else r.push(WU({children:[c],lineNumber:u,lineProps:t,className:e.properties.className}));else r.push(WU({children:[c],lineNumber:u,lineProps:t,className:e.properties.className}))})),i=o}o++};o<n.length;)a();if(i!==n.length-1){var s=n.slice(i+1,n.length);s&&s.length&&r.push(WU({children:s,lineNumber:r.length+1,lineProps:t}))}return r}function YU(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map((function(e,t){return VU({node:e,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(t)})}))}const KU=function(e,t){return function(){var n=(0,Jc.Z)(eh().mark((function n(r){var i;return eh().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:i=n.sent,r(e,i.default||i);case 4:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},JU={abap:KU("abap",(function(){return a.e(3412).then(a.t.bind(a,36167,23))})),actionscript:KU("actionscript",(function(){return a.e(3971).then(a.t.bind(a,5199,23))})),ada:KU("ada",(function(){return a.e(6084).then(a.t.bind(a,89693,23))})),apacheconf:KU("apacheconf",(function(){return a.e(5524).then(a.t.bind(a,35281,23))})),apl:KU("apl",(function(){return a.e(6670).then(a.t.bind(a,84039,23))})),applescript:KU("applescript",(function(){return a.e(4098).then(a.t.bind(a,71336,23))})),arduino:KU("arduino",(function(){return a.e(3384).then(a.t.bind(a,2159,23))})),arff:KU("arff",(function(){return a.e(1438).then(a.t.bind(a,60274,23))})),asciidoc:KU("asciidoc",(function(){return a.e(1554).then(a.t.bind(a,18738,23))})),asm6502:KU("asm6502",(function(){return a.e(5696).then(a.t.bind(a,58572,23))})),aspnet:KU("aspnet",(function(){return a.e(8030).then(a.t.bind(a,78734,23))})),autohotkey:KU("autohotkey",(function(){return a.e(2065).then(a.t.bind(a,6681,23))})),autoit:KU("autoit",(function(){return a.e(8333).then(a.t.bind(a,53358,23))})),bash:KU("bash",(function(){return a.e(8765).then(a.t.bind(a,6979,23))})),basic:KU("basic",(function(){return a.e(7504).then(a.t.bind(a,46241,23))})),batch:KU("batch",(function(){return a.e(400).then(a.t.bind(a,94781,23))})),bison:KU("bison",(function(){return a.e(948).then(a.t.bind(a,62890,23))})),brainfuck:KU("brainfuck",(function(){return a.e(5539).then(a.t.bind(a,61321,23))})),bro:KU("bro",(function(){return a.e(3694).then(a.t.bind(a,90741,23))})),c:KU("c",(function(){return a.e(8950).then(a.t.bind(a,65806,23))})),clike:KU("clike",(function(){return a.e(131).then(a.t.bind(a,29726,23))})),clojure:KU("clojure",(function(){return a.e(7966).then(a.t.bind(a,62849,23))})),coffeescript:KU("coffeescript",(function(){return a.e(6118).then(a.t.bind(a,43576,23))})),cpp:KU("cpp",(function(){return a.e(9692).then(a.t.bind(a,80096,23))})),crystal:KU("crystal",(function(){return a.e(1130).then(a.t.bind(a,99176,23))})),csharp:KU("csharp",(function(){return a.e(3318).then(a.t.bind(a,61958,23))})),csp:KU("csp",(function(){return a.e(5299).then(a.t.bind(a,65447,23))})),cssExtras:KU("cssExtras",(function(){return a.e(7475).then(a.t.bind(a,4762,23))})),css:KU("css",(function(){return a.e(5008).then(a.t.bind(a,12049,23))})),d:KU("d",(function(){return a.e(3717).then(a.t.bind(a,7902,23))})),dart:KU("dart",(function(){return a.e(7769).then(a.t.bind(a,28651,23))})),diff:KU("diff",(function(){return a.e(6247).then(a.t.bind(a,93336,23))})),django:KU("django",(function(){return a.e(7899).then(a.t.bind(a,13294,23))})),docker:KU("docker",(function(){return a.e(2051).then(a.t.bind(a,97266,23))})),eiffel:KU("eiffel",(function(){return a.e(2182).then(a.t.bind(a,50115,23))})),elixir:KU("elixir",(function(){return a.e(6343).then(a.t.bind(a,11974,23))})),elm:KU("elm",(function(){return a.e(7838).then(a.t.bind(a,8645,23))})),erb:KU("erb",(function(){return a.e(2584).then(a.t.bind(a,84790,23))})),erlang:KU("erlang",(function(){return a.e(2013).then(a.t.bind(a,4502,23))})),flow:KU("flow",(function(){return a.e(9742).then(a.t.bind(a,37225,23))})),fortran:KU("fortran",(function(){return a.e(2044).then(a.t.bind(a,16725,23))})),fsharp:KU("fsharp",(function(){return a.e(741).then(a.t.bind(a,95559,23))})),gedcom:KU("gedcom",(function(){return a.e(5867).then(a.t.bind(a,81549,23))})),gherkin:KU("gherkin",(function(){return a.e(6051).then(a.t.bind(a,6024,23))})),git:KU("git",(function(){return a.e(2564).then(a.t.bind(a,13600,23))})),glsl:KU("glsl",(function(){return a.e(158).then(a.t.bind(a,3322,23))})),go:KU("go",(function(){return a.e(6626).then(a.t.bind(a,51519,23))})),graphql:KU("graphql",(function(){return a.e(8921).then(a.t.bind(a,94055,23))})),groovy:KU("groovy",(function(){return a.e(5259).then(a.t.bind(a,43826,23))})),haml:KU("haml",(function(){return a.e(6487).then(a.t.bind(a,29536,23))})),handlebars:KU("handlebars",(function(){return a.e(3846).then(a.t.bind(a,82834,23))})),haskell:KU("haskell",(function(){return a.e(1007).then(a.t.bind(a,58090,23))})),haxe:KU("haxe",(function(){return a.e(3224).then(a.t.bind(a,95121,23))})),hpkp:KU("hpkp",(function(){return a.e(6749).then(a.t.bind(a,76942,23))})),hsts:KU("hsts",(function(){return a.e(3140).then(a.t.bind(a,60561,23))})),http:KU("http",(function(){return a.e(6508).then(a.t.bind(a,49660,23))})),ichigojam:KU("ichigojam",(function(){return a.e(5056).then(a.t.bind(a,30615,23))})),icon:KU("icon",(function(){return a.e(2413).then(a.t.bind(a,93865,23))})),inform7:KU("inform7",(function(){return a.e(2996).then(a.t.bind(a,65175,23))})),ini:KU("ini",(function(){return a.e(6495).then(a.t.bind(a,14970,23))})),io:KU("io",(function(){return a.e(7801).then(a.t.bind(a,30764,23))})),j:KU("j",(function(){return a.e(4701).then(a.t.bind(a,87624,23))})),java:KU("java",(function(){return a.e(3980).then(a.t.bind(a,15909,23))})),javascript:KU("javascript",(function(){return a.e(7279).then(a.t.bind(a,36155,23))})),jolie:KU("jolie",(function(){return a.e(8458).then(a.t.bind(a,75807,23))})),json:KU("json",(function(){return a.e(3657).then(a.t.bind(a,45950,23))})),jsx:KU("jsx",(function(){return a.e(4657).then(a.t.bind(a,96412,23))})),julia:KU("julia",(function(){return a.e(5508).then(a.t.bind(a,39259,23))})),keyman:KU("keyman",(function(){return a.e(3819).then(a.t.bind(a,35760,23))})),kotlin:KU("kotlin",(function(){return a.e(4630).then(a.t.bind(a,19715,23))})),latex:KU("latex",(function(){return a.e(4732).then(a.t.bind(a,42876,23))})),less:KU("less",(function(){return a.e(5951).then(a.t.bind(a,41701,23))})),liquid:KU("liquid",(function(){return a.e(1323).then(a.t.bind(a,34927,23))})),lisp:KU("lisp",(function(){return a.e(3520).then(a.t.bind(a,3848,23))})),livescript:KU("livescript",(function(){return a.e(4698).then(a.t.bind(a,41469,23))})),lolcode:KU("lolcode",(function(){return a.e(7719).then(a.t.bind(a,8789,23))})),lua:KU("lua",(function(){return a.e(8119).then(a.t.bind(a,59803,23))})),makefile:KU("makefile",(function(){return a.e(7576).then(a.t.bind(a,33055,23))})),markdown:KU("markdown",(function(){return a.e(9835).then(a.t.bind(a,90542,23))})),markupTemplating:KU("markupTemplating",(function(){return a.e(3047).then(a.t.bind(a,93205,23))})),markup:KU("markup",(function(){return a.e(2496).then(a.t.bind(a,2717,23))})),matlab:KU("matlab",(function(){return a.e(8404).then(a.t.bind(a,27992,23))})),mel:KU("mel",(function(){return a.e(226).then(a.t.bind(a,606,23))})),mizar:KU("mizar",(function(){return a.e(4069).then(a.t.bind(a,23388,23))})),monkey:KU("monkey",(function(){return a.e(8513).then(a.t.bind(a,95721,23))})),n4js:KU("n4js",(function(){return a.e(5014).then(a.t.bind(a,70896,23))})),nasm:KU("nasm",(function(){return a.e(7253).then(a.t.bind(a,293,23))})),nginx:KU("nginx",(function(){return a.e(4052).then(a.t.bind(a,60221,23))})),nim:KU("nim",(function(){return a.e(3025).then(a.t.bind(a,44188,23))})),nix:KU("nix",(function(){return a.e(3821).then(a.t.bind(a,74426,23))})),nsis:KU("nsis",(function(){return a.e(3502).then(a.t.bind(a,88447,23))})),objectivec:KU("objectivec",(function(){return a.e(8336).then(a.t.bind(a,16032,23))})),ocaml:KU("ocaml",(function(){return a.e(8992).then(a.t.bind(a,33607,23))})),opencl:KU("opencl",(function(){return a.e(8e3).then(a.t.bind(a,22001,23))})),oz:KU("oz",(function(){return a.e(7658).then(a.t.bind(a,23254,23))})),parigp:KU("parigp",(function(){return a.e(9979).then(a.t.bind(a,92694,23))})),parser:KU("parser",(function(){return a.e(672).then(a.t.bind(a,43273,23))})),pascal:KU("pascal",(function(){return a.e(7833).then(a.t.bind(a,60718,23))})),perl:KU("perl",(function(){return a.e(4157).then(a.t.bind(a,74212,23))})),phpExtras:KU("phpExtras",(function(){return a.e(5793).then(a.t.bind(a,5137,23))})),php:KU("php",(function(){return a.e(2227).then(a.t.bind(a,88262,23))})),plsql:KU("plsql",(function(){return a.e(8840).then(a.t.bind(a,59149,23))})),powershell:KU("powershell",(function(){return a.e(342).then(a.t.bind(a,61777,23))})),processing:KU("processing",(function(){return a.e(9770).then(a.t.bind(a,3623,23))})),prolog:KU("prolog",(function(){return a.e(4045).then(a.t.bind(a,82707,23))})),properties:KU("properties",(function(){return a.e(81).then(a.t.bind(a,56267,23))})),protobuf:KU("protobuf",(function(){return a.e(979).then(a.t.bind(a,98809,23))})),pug:KU("pug",(function(){return a.e(9851).then(a.t.bind(a,82161,23))})),puppet:KU("puppet",(function(){return a.e(6861).then(a.t.bind(a,80625,23))})),pure:KU("pure",(function(){return a.e(9315).then(a.t.bind(a,88393,23))})),python:KU("python",(function(){return a.e(2891).then(a.t.bind(a,52992,23))})),q:KU("q",(function(){return a.e(1751).then(a.t.bind(a,55762,23))})),qore:KU("qore",(function(){return a.e(2547).then(a.t.bind(a,28260,23))})),r:KU("r",(function(){return a.e(7882).then(a.t.bind(a,29308,23))})),reason:KU("reason",(function(){return a.e(8811).then(a.t.bind(a,5755,23))})),renpy:KU("renpy",(function(){return a.e(9291).then(a.t.bind(a,35108,23))})),rest:KU("rest",(function(){return a.e(2348).then(a.t.bind(a,46678,23))})),rip:KU("rip",(function(){return a.e(1768).then(a.t.bind(a,47496,23))})),roboconf:KU("roboconf",(function(){return a.e(3236).then(a.t.bind(a,30527,23))})),ruby:KU("ruby",(function(){return a.e(369).then(a.t.bind(a,56939,23))})),rust:KU("rust",(function(){return a.e(1001).then(a.t.bind(a,83648,23))})),sas:KU("sas",(function(){return a.e(8067).then(a.t.bind(a,16009,23))})),sass:KU("sass",(function(){return a.e(9797).then(a.t.bind(a,41720,23))})),scala:KU("scala",(function(){return a.e(3818).then(a.t.bind(a,6054,23))})),scheme:KU("scheme",(function(){return a.e(5085).then(a.t.bind(a,9997,23))})),scss:KU("scss",(function(){return a.e(7286).then(a.t.bind(a,24296,23))})),smalltalk:KU("smalltalk",(function(){return a.e(2822).then(a.t.bind(a,11037,23))})),smarty:KU("smarty",(function(){return a.e(849).then(a.t.bind(a,64020,23))})),soy:KU("soy",(function(){return a.e(1423).then(a.t.bind(a,38181,23))})),sql:KU("sql",(function(){return a.e(7055).then(a.t.bind(a,11114,23))})),stylus:KU("stylus",(function(){return a.e(1621).then(a.t.bind(a,49168,23))})),swift:KU("swift",(function(){return a.e(3327).then(a.t.bind(a,23651,23))})),tap:KU("tap",(function(){return a.e(6975).then(a.t.bind(a,17290,23))})),tcl:KU("tcl",(function(){return a.e(5165).then(a.t.bind(a,67989,23))})),textile:KU("textile",(function(){return a.e(7097).then(a.t.bind(a,31065,23))})),tsx:KU("tsx",(function(){return a.e(2509).then(a.t.bind(a,87041,23))})),tt2:KU("tt2",(function(){return a.e(3444).then(a.t.bind(a,61028,23))})),twig:KU("twig",(function(){return a.e(8827).then(a.t.bind(a,19892,23))})),typescript:KU("typescript",(function(){return a.e(9461).then(a.t.bind(a,4979,23))})),vbnet:KU("vbnet",(function(){return a.e(5896).then(a.t.bind(a,53813,23))})),velocity:KU("velocity",(function(){return a.e(2980).then(a.t.bind(a,46891,23))})),verilog:KU("verilog",(function(){return a.e(8819).then(a.t.bind(a,91824,23))})),vhdl:KU("vhdl",(function(){return a.e(1167).then(a.t.bind(a,9447,23))})),vim:KU("vim",(function(){return a.e(1929).then(a.t.bind(a,53062,23))})),visualBasic:KU("visualBasic",(function(){return a.e(6558).then(a.t.bind(a,46215,23))})),wasm:KU("wasm",(function(){return a.e(206).then(a.t.bind(a,17684,23))})),wiki:KU("wiki",(function(){return a.e(1253).then(a.t.bind(a,18191,23))})),xeora:KU("xeora",(function(){return a.e(6574).then(a.t.bind(a,97202,23))})),xojo:KU("xojo",(function(){return a.e(3116).then(a.t.bind(a,21301,23))})),xquery:KU("xquery",(function(){return a.e(982).then(a.t.bind(a,20349,23))})),yaml:KU("yaml",(function(){return a.e(5983).then(a.t.bind(a,65039,23))}))},QU=(nq=(eq={loader:function(){return a.e(5082).then(a.t.bind(a,11215,23)).then((function(e){return e.default||e}))},isLanguageRegistered:function(e,t){return e.registered(t)},languageLoaders:JU,registerLanguage:function(e,t,n){return e.register(n)}}).loader,rq=eq.isLanguageRegistered,iq=eq.registerLanguage,oq=eq.languageLoaders,aq=eq.noAsyncLoadingLanguages,ka(sq=function(e){function t(){return zU(this,t),BU(this,jU(t).apply(this,arguments))}var r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}(t,e),Rn(t,[{key:"componentDidUpdate",value:function(){!t.isRegistered(this.props.language)&&oq&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var e=this;t.astGeneratorPromise||t.loadAstGenerator(),t.astGenerator||t.astGeneratorPromise.then((function(){e.forceUpdate()})),!t.isRegistered(this.props.language)&&oq&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var e=this,n=this.props.language;"text"!==n&&t.loadLanguage(n).then((function(){e.forceUpdate()}))}},{key:"normalizeLanguage",value:function(e){return t.isSupportedLanguage(e)?e:"text"}},{key:"render",value:function(){return n.createElement(t.highlightInstance,(0,i.Z)({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:t.astGenerator}))}}],[{key:"preload",value:function(){return t.loadAstGenerator()}},{key:"loadLanguage",value:(r=(0,Jc.Z)(eh().mark((function e(n){var r;return eh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(r=oq[n])){e.next=5;break}return e.abrupt("return",r(t.registerLanguage));case 5:throw new Error("Language ".concat(n," not supported"));case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"isSupportedLanguage",value:function(e){return t.isRegistered(e)||"function"==typeof oq[e]}},{key:"loadAstGenerator",value:function(){return t.astGeneratorPromise=nq().then((function(e){t.astGenerator=e,iq&&t.languages.forEach((function(t,n){return iq(e,n,t)}))})),t.astGeneratorPromise}}]),t}(n.PureComponent),"astGenerator",null),ka(sq,"highlightInstance",(null,tq={},function(e){var t=e.language,r=e.children,i=e.style,o=void 0===i?tq:i,a=e.customStyle,s=void 0===a?{}:a,l=e.codeTagProps,u=void 0===l?{style:o['code[class*="language-"]']}:l,c=e.useInlineStyles,h=void 0===c||c,p=e.showLineNumbers,d=void 0!==p&&p,f=e.startingLineNumber,m=void 0===f?1:f,g=e.lineNumberContainerProps,y=e.lineNumberProps,v=e.wrapLines,_=e.lineProps,b=void 0===_?{}:_,x=e.renderer,w=e.PreTag,E=void 0===w?"pre":w,S=e.CodeTag,C=void 0===S?"code":S,T=e.code,I=void 0===T?Array.isArray(r)?r[0]:r:T,k=e.astGenerator,P=Mo(e,["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","startingLineNumber","lineNumberContainerProps","lineNumberProps","wrapLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"]);k=k||null;var L=d?n.createElement(HU,{containerProps:g,codeStyle:u.style||{},numberProps:y,startingLineNumber:m,codeString:I}):null,M=o.hljs||o['pre[class*="language-"]']||{backgroundColor:"#fff"},A=h?Object.assign({},P,{style:Object.assign({},M,s)}):Object.assign({},P,{className:"hljs"});if(!k)return n.createElement(E,A,L,n.createElement(C,u,I));v=!(!x||void 0!==v)||v,x=x||YU;var O=[{type:"text",value:I}],R=function(e){var t=e.astGenerator,n=e.language,r=e.code,i=e.defaultCodeValue;if(t.getLanguage){var o=n&&t.getLanguage(n);return"text"===n?{value:i,language:"text"}:o?t.highlight(n,r):t.highlightAuto(r)}try{return n&&"text"!==n?{value:t.highlight(r,n)}:{value:i}}catch(e){return{value:i}}}({astGenerator:k,language:t,code:I,defaultCodeValue:O});null===R.language&&(R.value=O);var N=v?XU(R,b):R.value;return n.createElement(E,A,L,n.createElement(C,u,x({rows:N,stylesheet:o,useInlineStyles:h})))})),ka(sq,"astGeneratorPromise",null),ka(sq,"languages",new Map),ka(sq,"supportedLanguages",eq.supportedLanguages||Object.keys(oq||{})),ka(sq,"isRegistered",(function(e){if(aq)return!0;if(!iq)throw new Error("Current syntax highlighter doesn't support registration of languages");return sq.astGenerator?rq(sq.astGenerator,e):sq.languages.has(e)})),ka(sq,"registerLanguage",(function(e,t){if(!iq)throw new Error("Current syntax highlighter doesn't support registration of languages");if(sq.astGenerator)return iq(sq.astGenerator,e,t);sq.languages.set(e,t)})),sq);var eq,tq,nq,rq,iq,oq,aq,sq;function lq(){return lq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lq.apply(this,arguments)}function uq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function cq(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function hq(e){var t=e;return function(e){var n=function(e){return lq({mode:"light"},null==e?void 0:e.theme)}(e);return t[n.mode]}}var pq="inherit",dq="inherit",fq={fontSize:dq,fontFamily:pq,lineHeight:20/12,padding:8},mq=function(e){return{fontSize:dq,lineHeight:20/14,color:e.lineNumberColor,backgroundColor:e.lineNumberBgColor,flexShrink:0,padding:8,textAlign:"right",userSelect:"none"}},gq=function(e){return{key:{color:e.keywordColor,fontWeight:"bolder"},keyword:{color:e.keywordColor,fontWeight:"bolder"},"attr-name":{color:e.attributeColor},selector:{color:e.selectorTagColor},comment:{color:e.commentColor,fontFamily:pq,fontStyle:"italic"},"block-comment":{color:e.commentColor,fontFamily:pq,fontStyle:"italic"},"function-name":{color:e.sectionColor},"class-name":{color:e.sectionColor},doctype:{color:e.docTagColor},substr:{color:e.substringColor},namespace:{color:e.nameColor},builtin:{color:e.builtInColor},entity:{color:e.literalColor},bullet:{color:e.bulletColor},code:{color:e.codeColor},addition:{color:e.additionColor},regex:{color:e.regexpColor},symbol:{color:e.symbolColor},variable:{color:e.variableColor},url:{color:e.linkColor},"selector-attr":{color:e.selectorAttributeColor},"selector-pseudo":{color:e.selectorPseudoColor},type:{color:e.typeColor},string:{color:e.stringColor},quote:{color:e.quoteColor},tag:{color:e.templateTagColor},deletion:{color:e.deletionColor},title:{color:e.titleColor},section:{color:e.sectionColor},"meta-keyword":{color:e.metaKeywordColor},meta:{color:e.metaColor},italic:{fontStyle:"italic"},bold:{fontWeight:"bolder"},function:{color:e.functionColor},number:{color:e.numberColor}}},yq=function(e){return{fontSize:dq,fontFamily:pq,background:e.backgroundColor,color:e.textColor,borderRadius:3,display:"flex",lineHeight:20/14,overflowX:"auto",whiteSpace:"pre"}},vq=function(e){return lq({'pre[class*="language-"]':yq(e)},gq(e))},_q=function(e){return lq({'pre[class*="language-"]':lq({},yq(e),{padding:"2px 4px",display:"inline",whiteSpace:"pre-wrap"})},gq(e))};function bq(e){void 0===e&&(e={mode:"light"});var t=lq({},function(e){var t={theme:e};return{lineNumberColor:hq({light:"#383a42",dark:"#abb2bf"})(t),lineNumberBgColor:hq({light:"#fafafa",dark:"#282c34"})(t),backgroundColor:hq({light:"#fafafa",dark:"#282c34"})(t),textColor:hq({light:"#383a42",dark:"#abb2bf"})(t),substringColor:hq({light:"#e45649",dark:"#e06c75"})(t),keywordColor:hq({light:"#a626a4",dark:"#c678dd"})(t),attributeColor:hq({light:"#50a14f",dark:"#98c379"})(t),selectorAttributeColor:hq({light:"#e45649",dark:"#e06c75"})(t),docTagColor:hq({light:"#a626a4",dark:"#c678dd"})(t),nameColor:hq({light:"#e45649",dark:"#e06c75"})(t),builtInColor:hq({light:"#c18401",dark:"#e6c07b"})(t),literalColor:hq({light:"#0184bb",dark:"#56b6c2"})(t),bulletColor:hq({light:"#4078f2",dark:"#61aeee"})(t),codeColor:hq({light:"#383a42",dark:"#abb2bf"})(t),additionColor:hq({light:"#50a14f",dark:"#98c379"})(t),regexpColor:hq({light:"#50a14f",dark:"#98c379"})(t),symbolColor:hq({light:"#4078f2",dark:"#61aeee"})(t),variableColor:hq({light:"#986801",dark:"#d19a66"})(t),templateVariableColor:hq({light:"#986801",dark:"#d19a66"})(t),linkColor:hq({light:"#4078f2",dark:"#61aeee"})(t),selectorClassColor:hq({light:"#986801",dark:"#d19a66"})(t),typeColor:hq({light:"#986801",dark:"#d19a66"})(t),stringColor:hq({light:"#50a14f",dark:"#98c379"})(t),selectorIdColor:hq({light:"#4078f2",dark:"#61aeee"})(t),quoteColor:hq({light:"#a0a1a7",dark:"#5c6370"})(t),templateTagColor:hq({light:"#383a42",dark:"#abb2bf"})(t),deletionColor:hq({light:"#e45649",dark:"#e06c75"})(t),titleColor:hq({light:"#4078f2",dark:"#61aeee"})(t),sectionColor:hq({light:"#e45649",dark:"#e06c75"})(t),commentColor:hq({light:"#a0a1a7",dark:"#5c6370"})(t),metaKeywordColor:hq({light:"#383a42",dark:"#abb2bf"})(t),metaColor:hq({light:"#4078f2",dark:"#61aeee"})(t),functionColor:hq({light:"#383a42",dark:"#abb2bf"})(t),numberColor:hq({light:"#986801",dark:"#d19a66"})(t)}}(e),e);return{lineNumberContainerStyle:mq(t),codeBlockStyle:vq(t),inlineCodeStyle:_q(t),codeContainerStyle:fq}}var xq=Object.freeze([{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"XML",alias:["xml"],value:"xml"},{name:"HTML",alias:["html","htm"],value:"markup"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","sh","ksh","zsh"],value:"bash"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Delphi",alias:["delphi","pas","pascal","objectpascal"],value:"delphi"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts","tsx"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"ObjectPascal",alias:["objectpascal"],value:"delphi"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","vfp","clipper","xbase"],value:"vbnet"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql","gql"],value:"graphql"}]),wq=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._isMounted=!1,t}uq(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0},r.componentWillUnmount=function(){this._isMounted=!1},r.getLineOpacity=function(e){if(!this.props.highlight)return 1;var t=this.props.highlight.split(",").map((function(e){if(e.indexOf("-")>0){var t=e.split("-").map(Number).sort(),n=t[0],r=t[1];return Array(r+1).fill(void 0).map((function(e,t){return t})).slice(n,r+1)}return Number(e)})).reduce((function(e,t){return e.concat(t)}),[]);return 0===t.length||t.includes(e)?1:.3},r.render=function(){var e=this,t=bq(this.props.theme).inlineCodeStyle,r={language:function(e){if(!e)return"";var t=xq.find((function(t){return t.name===e||t.alias.includes(e)}));return t?t.value:e||"text"}(this.props.language),PreTag:this.props.preTag,style:this.props.codeStyle||t,showLineNumbers:this.props.showLineNumbers,startingLineNumber:this.props.startingLineNumber,codeTagProps:this.props.codeTagProps};return n.createElement(QU,Object.assign({},r,{wrapLines:this.props.highlight.length>0,customStyle:this.props.customStyle,lineProps:function(t){return{style:lq({opacity:e.getLineOpacity(t)},e.props.lineNumberContainerStyle)}}}),this.props.text)},t}(n.PureComponent);wq.defaultProps={theme:{},showLineNumbers:!1,startingLineNumber:1,lineNumberContainerStyle:{},codeTagProps:{},preTag:"span",highlight:"",customStyle:{}};var Eq="text",Sq=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._isMounted=!1,t.handleCopy=function(e){var t=e.nativeEvent.clipboardData;if(t){e.preventDefault();var n=window.getSelection();if(null===n)return;var r=n.toString(),i="<!doctype html><html><head></head><body><pre>"+r+"</pre></body></html>";t.clearData(),t.setData("text/html",i),t.setData("text/plain",r)}},t}uq(t,e);var r=t.prototype;return r.componentDidMount=function(){this._isMounted=!0},r.componentWillUnmount=function(){this._isMounted=!1},r.render=function(){var e,t,r,i,o=bq(this.props.theme),a=o.lineNumberContainerStyle,s=o.codeBlockStyle,l=o.codeContainerStyle,u={language:this.props.language||Eq,codeStyle:lq({},s,null===(e=this.props)||void 0===e?void 0:e.codeBlockStyle),customStyle:null===(t=this.props)||void 0===t?void 0:t.customStyle,showLineNumbers:this.props.showLineNumbers,startingLineNumber:this.props.startingLineNumber,codeTagProps:{style:lq({},l,null===(r=this.props)||void 0===r?void 0:r.codeContainerStyle)},lineNumberContainerStyle:lq({},a,null===(i=this.props)||void 0===i?void 0:i.lineNumberContainerStyle),text:this.props.text.toString(),highlight:this.props.highlight};return n.createElement(wq,Object.assign({},u))},t}(n.PureComponent);Sq.displayName="CodeBlock",Sq.defaultProps={showLineNumbers:!0,startingLineNumber:1,language:Eq,theme:{},highlight:"",lineNumberContainerStyle:{},customStyle:{},codeBlockStyle:{}};var Cq=DU(Sq);function Tq(e){return n.createElement(Cq,Object.assign({},e))}var Iq=function(e){var t=e.size,r=e.color,i=cq(e,["size","color"]);return n.createElement("svg",Object.assign({},i,{viewBox:"0 0 384 512",width:t,height:t,fill:r}),n.createElement("path",{d:"M280 240H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zm0 96H168c-4.4 0-8 3.6-8 8v16c0 4.4 3.6 8 8 8h112c4.4 0 8-3.6 8-8v-16c0-4.4-3.6-8-8-8zM112 232c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24 24-10.7 24-24-10.7-24-24-24zM336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 48c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16 7.2-16 16-16zm144 408c0 4.4-3.6 8-8 8H56c-4.4 0-8-3.6-8-8V120c0-4.4 3.6-8 8-8h40v32c0 8.8 7.2 16 16 16h160c8.8 0 16-7.2 16-16v-32h40c4.4 0 8 3.6 8 8v336z"}))};Iq.displayName="ClipboardListIcon",Iq.defaultProps={size:"16pt",color:"currentcolor"};var kq=function(e){var t=e.size,r=e.color,i=cq(e,["size","color"]);return n.createElement("svg",Object.assign({},i,{viewBox:"0 0 384 512",width:t,height:t,fill:r}),n.createElement("path",{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"}))};kq.displayName="ClipboardCheckIcon",kq.defaultProps={size:"16pt",color:"currentcolor"};var Pq={lineNumberColor:"#f8f8f2",lineNumberBgColor:"#2b2b2b",backgroundColor:"#2b2b2b",textColor:"#f8f8f2",substringColor:"#f8f8f2",keywordColor:"#dcc6e0",attributeColor:"#ffd700",selectorAttributeColor:"#dcc6e0",docTagColor:"#f8f8f2",nameColor:"#ffa07a",builtInColor:"#f5ab35",literalColor:"#f5ab35",bulletColor:"#abe338",codeColor:"#f8f8f2",additionColor:"#abe338",regexpColor:"#ffa07a",symbolColor:"#abe338",variableColor:"#ffa07a",templateVariableColor:"#ffa07a",linkColor:"#f5ab35",selectorClassColor:"#ffa07a",typeColor:"#f5ab35",stringColor:"#abe338",selectorIdColor:"#ffa07a",quoteColor:"#d4d0ab",templateTagColor:"#f8f8f2",deletionColor:"#ffa07a",titleColor:"#00e0e0",sectionColor:"#00e0e0",commentColor:"#d4d0ab",metaKeywordColor:"#f8f8f2",metaColor:"#f5ab35",functionColor:"#f8f8f2",numberColor:"#f5ab35"};const Lq=(0,an.Z)((0,ye.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zm-7-2h2v-3h3V9h-3V6h-2v3h-3v2h3z"}),"LibraryAddOutlined"),Mq=(0,an.Z)((0,ye.jsx)("path",{fillRule:"evenodd",d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridView"),Aq=(0,an.Z)((0,ye.jsx)("path",{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm18-4H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}),"FilterNoneOutlined"),Oq=(0,an.Z)((0,ye.jsx)("path",{d:"m19.81 14.99 1.19-.92-1.43-1.43-1.19.92 1.43 1.43zm-.45-4.72L21 9l-9-7-2.91 2.27 7.87 7.88 2.4-1.88zM3.27 1 2 2.27l4.22 4.22L3 9l1.63 1.27L12 16l2.1-1.63 1.43 1.43L12 18.54l-7.37-5.73L3 14.07l9 7 4.95-3.85L20.73 21 22 19.73 3.27 1z"}),"LayersClear"),Rq=(0,an.Z)((0,ye.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined"),Nq=(0,an.Z)((0,ye.jsx)("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined"),Dq=(0,an.Z)((0,ye.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H8V4h12v12zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm12 6V9c0-.55-.45-1-1-1h-2v5h2c.55 0 1-.45 1-1zm-2-3h1v3h-1V9zm4 2h1v-1h-1V9h1V8h-2v5h1zm-8 0h1c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1H9v5h1v-2zm0-2h1v1h-1V9z"}),"PictureAsPdfOutlined"),zq=(0,an.Z)((0,ye.jsx)("path",{d:"M3 3v18h18V3H3zm14 12.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"DisabledByDefault"),Fq=(0,an.Z)((0,ye.jsx)("path",{d:"M19 19H5V5h14v14zM3 3v18h18V3H3zm14 12.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"DisabledByDefaultOutlined"),Bq=(0,an.Z)((0,ye.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),jq=(0,an.Z)((0,ye.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM17.99 9l-1.41-1.42-6.59 6.59-2.58-2.57-1.42 1.41 4 3.99z"}),"CheckBoxOutlined"),Zq=(0,an.Z)((0,ye.jsx)("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12zm10-1h4v2h-4v3l-4-4 4-4v3z"}),"ArrowCircleLeft"),Uq=(0,an.Z)((0,ye.jsx)("path",{d:"M2 12c0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2 2 6.48 2 12zm18 0c0 4.42-3.58 8-8 8s-8-3.58-8-8 3.58-8 8-8 8 3.58 8 8zM8 12l4-4 1.41 1.41L11.83 11H16v2h-4.17l1.59 1.59L12 16l-4-4z"}),"ArrowCircleLeftOutlined"),qq=(0,an.Z)((0,ye.jsx)("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zm-10 1H8v-2h4V8l4 4-4 4v-3z"}),"ArrowCircleRight"),Vq=(0,an.Z)((0,ye.jsx)("path",{d:"M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12s4.48 10 10 10 10-4.48 10-10zM4 12c0-4.42 3.58-8 8-8s8 3.58 8 8-3.58 8-8 8-8-3.58-8-8zm12 0-4 4-1.41-1.41L12.17 13H8v-2h4.17l-1.59-1.59L12 8l4 4z"}),"ArrowCircleRightOutlined"),Gq=(0,an.Z)((0,ye.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3h3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2v6zm-4-6v4h2v-4h-2zm-4 4h2V9h-2v8zm-2 0v-6H7v6h2z"}),"Addchart"),Hq=(0,an.Z)((0,ye.jsx)("path",{d:"M22 5v2h-3v3h-2V7h-3V5h3V2h2v3h3zm-3 14H5V5h6V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6h-2v6zm-4-6v4h2v-4h-2zm-4 4h2V9h-2v8zm-2 0v-6H7v6h2z"}),"AddchartOutlined"),Wq=(0,an.Z)((0,ye.jsx)("path",{d:"M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zm0 8c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}),"ToggleOn"),$q=(0,an.Z)((0,ye.jsx)("path",{d:"M17 7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h10c2.76 0 5-2.24 5-5s-2.24-5-5-5zM7 15c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}),"ToggleOff"),Xq=(0,an.Z)((0,ye.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),Yq=(0,an.Z)((0,ye.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuOutlined"),Kq=(0,an.Z)((0,ye.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info"),Jq=(0,an.Z)((0,ye.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"}),"Map"),Qq=(0,an.Z)((0,ye.jsx)("path",{d:"m20.5 3-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM10 5.47l4 1.4v11.66l-4-1.4V5.47zm-5 .99 3-1.01v11.7l-3 1.16V6.46zm14 11.08-3 1.01V6.86l3-1.16v11.84z"}),"MapOutlined"),eV=(0,an.Z)((0,ye.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),tV=(0,an.Z)((0,ye.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),nV=(0,an.Z)((0,ye.jsx)("path",{d:"M14.12 10.47 12 12.59l-2.13-2.12-1.41 1.41L10.59 14l-2.12 2.12 1.41 1.41L12 15.41l2.12 2.12 1.41-1.41L13.41 14l2.12-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"}),"DeleteForeverOutlined"),rV=(0,an.Z)((0,ye.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),iV=(0,an.Z)((0,ye.jsx)("path",{d:"M11 18V6l-8.5 6 8.5 6zm.5-6 8.5 6V6l-8.5 6z"}),"FastRewind"),oV=(0,an.Z)((0,ye.jsx)("path",{d:"M18 9.86v4.28L14.97 12 18 9.86m-9 0v4.28L5.97 12 9 9.86M20 6l-8.5 6 8.5 6V6zm-9 0-8.5 6 8.5 6V6z"}),"FastRewindOutlined"),aV=(0,an.Z)((0,ye.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"}),"Share"),sV=(0,an.Z)((0,ye.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92c0-1.61-1.31-2.92-2.92-2.92zM18 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM6 13c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm12 7.02c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"ShareOutlined"),lV=(0,an.Z)((0,ye.jsx)("path",{d:"M15 16v1.26l-6-3v-3.17L11.7 8H16V2h-6v4.9L7.3 10H3v6h5l7 3.5V22h6v-6z"}),"Polyline"),uV=(0,an.Z)((0,ye.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"}),"Sort"),cV=(0,an.Z)((0,ye.jsx)("path",{d:"M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"}),"FileUpload"),hV=(0,an.Z)((0,ye.jsx)("path",{d:"M17 12c0-2.76-2.24-5-5-5s-5 2.24-5 5 2.24 5 5 5 5-2.24 5-5zm-5 3c-1.65 0-3-1.35-3-3s1.35-3 3-3 3 1.35 3 3-1.35 3-3 3zm-7 0H3v4c0 1.1.9 2 2 2h4v-2H5v-4zM5 5h4V3H5c-1.1 0-2 .9-2 2v4h2V5zm14-2h-4v2h4v4h2V5c0-1.1-.9-2-2-2zm0 16h-4v2h4c1.1 0 2-.9 2-2v-4h-2v4z"}),"CenterFocusStrongOutlined");function pV(e){var t=e.title,r=e.themeName,i=e.blockBackgroundColor,o='<Button color="'.concat(r,'">Button</Button>\n  <Button variant="contained" color="').concat(r,'">Button</Button>\n  <Button variant="outlined" color="').concat(r,'">Button</Button>');return n.createElement("div",null,n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:3},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(Uo,{variant:"h6",gutterBottom:!0},t))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:0},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:3,pl:0},n.createElement(xa,{variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:i}},n.createElement(ct,{container:!0,justifyContent:"start",alignItems:"start"},n.createElement(ct,{item:!0,xs:4,sx:{backgroundColor:i}},n.createElement(ss,{color:r},"Button")),n.createElement(ct,{item:!0,xs:4,sx:{backgroundColor:i}},n.createElement(ss,{variant:"contained",color:r},"Button")),n.createElement(ct,{item:!0,xs:4,sx:{backgroundColor:i}},n.createElement(ss,{variant:"outlined",color:r},"Button"))))),n.createElement(ct,{item:!0,xs:8}," ")),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:3,px:3,pt:1},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(we,null,n.createElement(Tq,{theme:Pq,text:o,language:"jsx",showLineNumbers:!1})))))}function dV(e){var t=e.title,r=e.SelectedIconName,i=e.UnselectedIconName,o=e.selectedIcon,a=e.unSelectedIcon,s=e.flip,l=e.color,u=s?"rotate(-180deg)":"rotate(0)",c=l?'color="'.concat(l,'"'):"",h=s?"sx={{transform: '".concat(u,"'}}"):"",p="import { ".concat(i,", ").concat(r," } from '@mui/icons-material';\n\n  <").concat(i," ").concat(c," />\n  <").concat(r," ").concat(c," ").concat(h," />");return n.createElement("div",null,n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:3},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(Uo,{variant:"h6",gutterBottom:!0},t))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:0},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:3,pl:0},n.createElement(xa,{variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:"CRESTGridBackground.dark"}},n.createElement(ct,{container:!0,direction:"row",spacing:3,justifyContent:"center",alignItems:"center"},n.createElement(ct,{item:!0,xs:6},n.createElement(we,{alignItems:"center",justifyContent:"center",display:"flex"},a),n.createElement(we,{alignItems:"center",justifyContent:"center",display:"flex",pt:.5},"Unselected")),n.createElement(ct,{item:!0,xs:6},n.createElement(we,{alignItems:"center",justifyContent:"center",display:"flex"},o),n.createElement(we,{alignItems:"center",justifyContent:"center",display:"flex",pt:.5},"Selected"))))),n.createElement(ct,{item:!0,xs:8}," ")),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:3,px:3,pt:1},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(we,null,n.createElement(Tq,{theme:Pq,text:p,language:"jsx",showLineNumbers:!1})))))}function fV(e){var t=e.title,r=e.gridTextColor,i=e.gridBackgroundColor,o=e.gridBorderColor,a=e.blockBackgroundColor,s="<Box >\n      <Paper variant=\"outlined\" square={false} sx={{ padding: '20px', backgroundColor: '".concat(a,"', color: '").concat(r,"', borderColor: '").concat(o,"' }} >\n        ").concat(t,"\n      </Paper>\n    </Box>");return n.createElement("div",null,n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:3},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(Uo,{variant:"h6",gutterBottom:!0},t," and text"))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",pb:1,px:3,pt:0},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:3},n.createElement(we,null,n.createElement(xa,{variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:i,color:r,borderColor:o}},t))),n.createElement(ct,{item:!0,xs:8}," ")),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:1},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(we,null,n.createElement(Tq,{theme:Pq,text:s,language:"jsx",showLineNumbers:!1})))))}function mV(){return n.createElement("div",null,n.createElement(we,{p:3,mt:3},n.createElement(Uo,{variant:"h3",component:"div",gutterBottom:!0},"CREST MUI based Style Guide Version 1.0")),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",p:3},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h4",component:"div",gutterBottom:!0},"Backgrounds and associated text"),n.createElement($o,null))),n.createElement(fV,{title:"Default Background",gridBackgroundColor:"CRESTGridBackground.main",gridTextColor:"CRESTGridBackground.contrastText",blockBackgroundColor:"CRESTGridBackground.main",gridBorderColor:"CRESTBorderColor.main"}),n.createElement(fV,{title:"Dark Background",gridBackgroundColor:"CRESTGridBackground.dark",gridTextColor:"CRESTGridBackground.contrastText",blockBackgroundColor:"CRESTGridBackground.dark",gridBorderColor:"CRESTBorderColor.main"}),n.createElement(fV,{title:"Dark Background Alternate",gridBackgroundColor:"CRESTDarkAlt.main",gridTextColor:"CRESTDarkAlt.contrastText",blockBackgroundColor:"CRESTDarkAlt.main",gridBorderColor:"CRESTBorderColor.main"}),n.createElement(fV,{title:"Light Background",gridBackgroundColor:"CRESTLight.main",gridTextColor:"CRESTLight.contrastText",blockBackgroundColor:"CRESTLight.main",gridBorderColor:"RESTLightBorderColor.main"}),n.createElement(fV,{title:"Examples Current Step",gridBackgroundColor:"CRESTExampleCurrentSteps.main",gridTextColor:"CRESTExampleCurrentSteps.contrastText",blockBackgroundColor:"CRESTExampleCurrentSteps.main",gridBorderColor:"CRESTExampleCurrentSteps.light"}),n.createElement(fV,{title:"Examples Other Steps",gridBackgroundColor:"CRESTExampleOtherSteps.main",gridTextColor:"CRESTExampleOtherSteps.contrastText",blockBackgroundColor:"CRESTExampleOtherSteps.dark",gridBorderColor:"CRESTExampleOtherSteps.main"}),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",p:3},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h3",component:"div",gutterBottom:!0},"Buttons"),n.createElement($o,null))),n.createElement(pV,{title:"Call to action button",themeName:"CRESTCta",blockBackgroundColor:"CRESTGridBackground.dark"}),n.createElement(pV,{title:"Primary button",themeName:"CRESTPrimary",blockBackgroundColor:"CRESTGridBackground.dark"}),n.createElement(pV,{title:"Secondary button",themeName:"CRESTSecondary",blockBackgroundColor:"CRESTGridBackground.dark"}),n.createElement(pV,{title:"Dark button",themeName:"CRESTDarkAlt",blockBackgroundColor:"CRESTGridBackground.dark"}),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",p:3},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h3",component:"div",gutterBottom:!0},"Divider"),n.createElement($o,null))),n.createElement("div",null,n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:3},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(Uo,{variant:"h6",gutterBottom:!0},"Default Divider (color set in styleOverrides)"))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:0},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:3,pl:0},n.createElement(xa,{variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:"CRESTGridBackground.dark"}},n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start"},n.createElement(ct,{item:!0,xs:12},n.createElement($o,null))))),n.createElement(ct,{item:!0,xs:8}," ")),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:1},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(we,null,n.createElement(Tq,{theme:Pq,text:"<Divider />",language:"jsx",showLineNumbers:!1}))))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",p:3},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h3",component:"div",gutterBottom:!0},"Links"),n.createElement($o,null))),n.createElement("div",null,n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:3},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(Uo,{variant:"h6",gutterBottom:!0},"Default Link (color set in styleOverrides)"))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:0},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:3,pl:0},n.createElement(xa,{variant:"outlined",square:!1,sx:{padding:"20px",backgroundColor:"CRESTGridBackground.dark"}},n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start"},n.createElement(ct,{item:!0,xs:12},n.createElement(na,{href:"#"},"Link"))))),n.createElement(ct,{item:!0,xs:8}," ")),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",pb:1,px:3,pt:1},n.createElement(ct,{item:!0,xs:1}," "),n.createElement(ct,{item:!0,xs:11},n.createElement(we,null,n.createElement(Tq,{theme:Pq,text:'<Link href="#" >Link</Link>',language:"jsx",showLineNumbers:!1}))))),n.createElement(ct,{container:!0,spacing:3,justifyContent:"start",alignItems:"start",p:3},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h3",component:"div",gutterBottom:!0},"Icons"),n.createElement($o,null))),n.createElement(dV,{title:"Add Area",SelectedIconName:"LibraryAdd",UnselectedIconName:"LibraryAddOutlined",selectedIcon:n.createElement(Ad,null),unSelectedIcon:n.createElement(Lq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Change Basemap",SelectedIconName:"GridView",UnselectedIconName:"GridViewRounded",selectedIcon:n.createElement(Mq,null),unSelectedIcon:n.createElement(R_,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Change Region",SelectedIconName:"FilterNone",UnselectedIconName:"FilterNoneOutlined",selectedIcon:n.createElement(N_,null),unSelectedIcon:n.createElement(Aq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Clear",SelectedIconName:"LayersClear",UnselectedIconName:"LayersClear",selectedIcon:n.createElement(Oq,null),unSelectedIcon:n.createElement(Oq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Close Modal",SelectedIconName:"Cancel",UnselectedIconName:"CancelOutlined",selectedIcon:n.createElement(fb,null),unSelectedIcon:n.createElement(Rq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Close/Minimize Open/Maximize",SelectedIconName:"ArrowDropDownCircle",UnselectedIconName:"ArrowDropDownCircle",selectedIcon:n.createElement(og,{sx:{transform:"rotate(-180deg)"}}),unSelectedIcon:n.createElement(og,null),blockBackgroundColor:"CRESTGridBackground.main",flip:!0}),n.createElement(dV,{title:"Data Download",SelectedIconName:"FileDownload",UnselectedIconName:"FileDownloadOutlined",selectedIcon:n.createElement(Lj,null),unSelectedIcon:n.createElement(Nq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Download Assesssment",SelectedIconName:"PictureAsPdf",UnselectedIconName:"PictureAsPdfOutlined",selectedIcon:n.createElement(Mj,null),unSelectedIcon:n.createElement(Dq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Error Wrong Descrption",SelectedIconName:"DisabledByDefault",UnselectedIconName:"DisabledByDefaultOutlined",selectedIcon:n.createElement(zq,{color:"error"}),unSelectedIcon:n.createElement(Fq,{color:"error"}),blockBackgroundColor:"CRESTGridBackground.main",color:"error"}),n.createElement(dV,{title:"Error Correct Descrption",SelectedIconName:"CheckBox",UnselectedIconName:"CheckBoxOutlined",selectedIcon:n.createElement(Bq,{color:"success"}),unSelectedIcon:n.createElement(jq,{color:"success"}),blockBackgroundColor:"CRESTGridBackground.main",color:"success"}),n.createElement(dV,{title:"Example Previous",SelectedIconName:"ArrowCircleLeft",UnselectedIconName:"ArrowCircleLeftOutlined",selectedIcon:n.createElement(Zq,null),unSelectedIcon:n.createElement(Uq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Example Next",SelectedIconName:"ArrowCircleRight",UnselectedIconName:"ArrowCircleRightOutlined",selectedIcon:n.createElement(qq,null),unSelectedIcon:n.createElement(Vq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Export",SelectedIconName:"CameraAlt",UnselectedIconName:"CameraAlt",selectedIcon:n.createElement(Od,null),unSelectedIcon:n.createElement(Od,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Get statistcs/charts for location",SelectedIconName:"Addchart",UnselectedIconName:"AddchartOutline",selectedIcon:n.createElement(Gq,null),unSelectedIcon:n.createElement(Hq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Help",SelectedIconName:"Help",UnselectedIconName:"HelpOutlineOutlined",selectedIcon:n.createElement(ig,null),unSelectedIcon:n.createElement(db,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Graph-Table Toggle",SelectedIconName:"ToggleOn",UnselectedIconName:"ToggleOff",selectedIcon:n.createElement(Wq,null),unSelectedIcon:n.createElement($q,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Toggle to Table Alt",SelectedIconName:"TableChart",UnselectedIconName:"TableChart",selectedIcon:n.createElement(xB,null),unSelectedIcon:n.createElement(xB,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Toggle to Chart Alt",SelectedIconName:"BarChart",UnselectedIconName:"BarChart",selectedIcon:n.createElement(wB,null),unSelectedIcon:n.createElement(wB,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Menu - Main Menu for Small Screen Only",SelectedIconName:"Menu",UnselectedIconName:"MenuOutlined",selectedIcon:n.createElement(Xq,null),unSelectedIcon:n.createElement(Yq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"More Information",SelectedIconName:"Info",UnselectedIconName:"InfoOutlined",selectedIcon:n.createElement(Kq,null),unSelectedIcon:n.createElement(jj,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Legend",SelectedIconName:"Ballot",UnselectedIconName:"BallotOutlined",selectedIcon:n.createElement(hb,null),unSelectedIcon:n.createElement(pb,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Map Layers Icon",SelectedIconName:"Layers",UnselectedIconName:"LayersOutlined",selectedIcon:n.createElement(Rd,null),unSelectedIcon:n.createElement(Nd,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Map - go to map view in examples",SelectedIconName:"Map",UnselectedIconName:"MapOutlined",selectedIcon:n.createElement(Jq,null),unSelectedIcon:n.createElement(Qq,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Map Layer Toggle",SelectedIconName:"CheckBox",UnselectedIconName:"CheckBoxOutlineBlank",selectedIcon:n.createElement(Bq,null),unSelectedIcon:n.createElement(eV,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"More - Less (with graphs)",SelectedIconName:"MoreHoriz",UnselectedIconName:"MoreHorizOutlined",selectedIcon:n.createElement(tV,null),unSelectedIcon:n.createElement(uB,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Remove - Remove All",SelectedIconName:"DeleteForever",UnselectedIconName:"DeleteForeverOutlined",selectedIcon:n.createElement(hB,null),unSelectedIcon:n.createElement(nV,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Search Location",SelectedIconName:"Search",UnselectedIconName:"SearchOutlined",selectedIcon:n.createElement(rV,null),unSelectedIcon:n.createElement(Ug,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Search Location Collapse Box",SelectedIconName:"FastRewind",UnselectedIconName:"FastRewindOutlined",selectedIcon:n.createElement(iV,null),unSelectedIcon:n.createElement(oV,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Share Map",SelectedIconName:"Share",UnselectedIconName:"ShareOutlined",selectedIcon:n.createElement(aV,null),unSelectedIcon:n.createElement(sV,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Sketch Area",SelectedIconName:"Polyline",UnselectedIconName:"PolylineOutlined",selectedIcon:n.createElement(lV,null),unSelectedIcon:n.createElement(Bg,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Sort Data",SelectedIconName:"Sort",UnselectedIconName:"SortOutlined",selectedIcon:n.createElement(uV,null),unSelectedIcon:n.createElement(bB,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Upload a shapefile",SelectedIconName:"FileUpload",UnselectedIconName:"FileUploadOutlined",selectedIcon:n.createElement(cV,null),unSelectedIcon:n.createElement(v_,null),blockBackgroundColor:"CRESTGridBackground.main"}),n.createElement(dV,{title:"Zoom",SelectedIconName:"CenterFocusStrong",UnselectedIconName:"CenterFocusStrongOutlined",selectedIcon:n.createElement(cB,null),unSelectedIcon:n.createElement(hV,null),blockBackgroundColor:"CRESTGridBackground.main"}))}pV.propTypes={title:Oo().string.isRequired,themeName:Oo().string.isRequired,blockBackgroundColor:Oo().string.isRequired},dV.propTypes={title:Oo().string.isRequired,SelectedIconName:Oo().string.isRequired,UnselectedIconName:Oo().string.isRequired,selectedIcon:Oo().object.isRequired,unSelectedIcon:Oo().object.isRequired,flip:Oo().bool,color:Oo().string},fV.propTypes={title:Oo().string.isRequired,gridTextColor:Oo().string.isRequired,gridBackgroundColor:Oo().string.isRequired,gridBorderColor:Oo().string.isRequired,blockBackgroundColor:Oo().string.isRequired};var gV=Lo((function(e){return{appTitle:{fontSize:"1rem",paddingLeft:e.spacing(1),paddingTop:e.spacing(2),paddingBottom:e.spacing(0)},navTitle:{fontSize:"1rem",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},navControlIcon:{fontSize:"1.20rem"},navItemClick:{cursor:"pointer",backgroundColor:e.palette.CRESTGridBackground.main},navItemDark:{backgroundColor:e.palette.CRESTDark.main},navPaperFirst:{padding:"6px 6px 3px 6px",backgroundColor:e.palette.CRESTGridBackground.main},navPaper:{padding:"3px 6px 3px 6px",backgroundColor:e.palette.CRESTGridBackground.main},navMenuListItem:{color:"#FFFFFF",backgroundColor:"#000000",textTransform:"capitalize",boxShadow:3,padding:"12px","&:hover":{backgroundColor:"#444444",color:"#FFFFFF",textTransform:"capitalize"},"&.Mui-selected":{color:"#FFFFFF",backgroundColor:"#444444",textTransform:"capitalize"}}}})),yV=function(e){return e.navBar};function vV(e){var t=e.handleClickNavTab,r=gV(),o=ae(yV),a=ne(),s=function(){a(of())};return n.createElement(n.Fragment,null,n.createElement(ct,{item:!0,xs:12},n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:0},n.createElement(ct,{item:!0,xs:12,onClick:s,className:r.navItemClick},n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:0,pb:1,className:r.navItemDark},n.createElement(ct,{item:!0,xs:11,className:r.navItemDark},n.createElement(Uo,{variant:"h6",component:"div",px:1,pt:1,align:"left",gutterBottom:!0,className:r.appTitle},"Coastal Resilience Evaluation and Siting Tool")),n.createElement(ct,{item:!0,xs:1,className:r.navItemDark},n.createElement(Uo,{variant:"h6",component:"div",px:0,pt:2,mb:0,align:"left",gutterBottom:!0},n.createElement(Yq,{fontSize:"medium"}))))),n.createElement(ct,{item:!0,xs:12},n.createElement(U_,{in:o.menuOpen,timeout:"auto",unmountOnExit:!0,sx:{backgroundColor:"CRESTGridBackground.main"}},n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:.75,pt:1,pb:0,onClick:s,className:r.navItemClick},n.createElement(ct,{item:!0,xs:11,className:r.navItemDark},n.createElement(Uo,{variant:"h6",component:"div",px:1,align:"left",className:r.navTitle},"Navigation menu")),n.createElement(ct,{item:!0,xs:1,className:r.navItemDark},n.createElement(Uo,{variant:"h6",component:"div",px:1,align:"left",className:r.navTitle},n.createElement(og,{sx:{transform:"rotate(-180deg)"},className:r.navControlIcon}))),n.createElement(ct,{item:!0,xs:12,className:r.navItemDark},n.createElement(Uo,{variant:"h7",component:"div",px:0,pb:0,mb:0,align:"left",gutterBottom:!0},n.createElement($o,{sx:{borderColor:"CRESTPrimary.main"}})))),n.createElement(av,{value:o.activeTab,"aria-label":"CREST Nabigation Tabs",sx:{paddingTop:"0px"}},n.createElement(xa,{square:!1,elevation:0,className:r.navPaperFirst},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"Home"===o.activeTab,onClick:function(e){return t(e,"Home")},to:"/"},fa(0),{component:j}),"Home")),n.createElement(xa,{square:!1,elevation:0,className:r.navPaper},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"ResilienceProject"===o.activeTab,onClick:function(e){return t(e,"ResilienceProject")},to:"/ResilienceProject"},fa(1),{component:j}),"Where Should I do a Resilience Project?")),n.createElement(xa,{square:!1,elevation:0,className:r.navPaper},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"AnalyzeProjectSites"===o.activeTab,onClick:function(e){return t(e,"AnalyzeProjectSites")},to:"/AnalyzeProjectSites"},fa(2),{component:j}),"Analyze Project Sites")),n.createElement(xa,{square:!1,elevation:0,className:r.navPaper},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"Examples"===o.activeTab,onClick:function(e){return t(e,"Examples")},to:"/Examples"},fa(3),{component:j}),"Examples")),n.createElement(xa,{square:!1,elevation:0,className:r.navPaper},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"DataAndReports"===o.activeTab,onClick:function(e){return t(e,"DataAndReports")},to:"/DataAndReports"},fa(0),{component:j,label:"Data & Reports"}),"Data & Reports")),n.createElement(xa,{square:!1,elevation:0,className:r.navPaper},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"About"===o.activeTab,onClick:function(e){return t(e,"About")},to:"/About"},fa(4),{component:j,label:"About"}),"About")),n.createElement(xa,{square:!1,elevation:0,className:r.navPaper},n.createElement(Qj,(0,i.Z)({className:r.navMenuListItem,selected:"StyleGuide"===o.activeTab,onClick:function(e){return t(e,"StyleGuide")},to:"/StyleGuide"},fa(5),{component:j,label:"Style Guide"}),"Style Guide"))))))))}vV.propTypes={handleClickNavTab:Oo().func.isRequired,logo:Oo().string.isRequired};var _V=Lo((function(e){return{NFWFLogoImageStyle:{marginLeft:e.spacing(1),height:"auto",width:"100%",maxWidth:"65px",minWidth:"45px"},TitleHolder:ka({marginLeft:e.spacing(.5)},e.breakpoints.between("md","lg"),{marginLeft:e.spacing(2)})}})),bV=function(e){return e.navBar};function xV(e){var t=e.handleClickNavTab,r=e.logo,o=_V(),a=ae(bV);return n.createElement(n.Fragment,null,n.createElement(ct,{item:!0,xs:0,sm:.75,sx:{display:{xs:"none",md:"flex"}}},n.createElement(we,{p:1,justifyContent:"center",alignItems:"center"},n.createElement(j,{to:"/"},n.createElement("img",{src:r,className:o.NFWFLogoImageStyle})))),n.createElement(ct,{item:!0,xs:12,sm:11.25},n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center",px:0,py:.75},n.createElement(ct,{item:!0,xs:12},n.createElement(Uo,{variant:"h5",component:"div",px:1,gutterBottom:!0,className:o.TitleHolder},"Coastal Resilience Evaluation and Siting Tool (CREST)")),n.createElement(ct,{item:!0,xs:10},n.createElement(Ln,{orientation:"horizontal",variant:"scrollable",allowScrollButtonsMobile:!0,value:a.activeTab,onChange:t,"aria-label":"CREST Nabigation Tabs"},n.createElement(Xt,(0,i.Z)({value:"Home",to:"/"},fa(0,"crest-tab"),{component:j,label:"Home"})),n.createElement(Xt,(0,i.Z)({value:"ResilienceProject",to:"/ResilienceProject"},fa(1,"crest-tab"),{component:j,label:"Where Should I do a Resilience Project?"})),n.createElement(Xt,(0,i.Z)({value:"AnalyzeProjectSites",to:"/AnalyzeProjectSites"},fa(2,"crest-tab"),{component:j,label:"Analyze Project Sites"})),n.createElement(Xt,(0,i.Z)({value:"Examples",to:"/Examples"},fa(3,"crest-tab"),{component:j,label:"Examples"})),n.createElement(Xt,(0,i.Z)({value:"DataAndReports",to:"/DataAndReports"},fa(0,"crest-tab"),{component:j,label:"Data & Reports"})),n.createElement(Xt,(0,i.Z)({value:"About",to:"/About"},fa(4,"crest-tab"),{component:j,label:"About"})),n.createElement(Xt,(0,i.Z)({value:"StyleGuide",to:"/StyleGuide"},fa(5,"crest-tab"),{component:j,label:"Style Guide"})),n.createElement(Xt,(0,i.Z)({value:"CodeTest",to:"/CodeTest"},fa(6,"crest-tab"),{component:j,label:"Code Test"})))),n.createElement(ct,{item:!0,xs:2,px:5},n.createElement(ss,{variant:"contained",color:"CRESTPrimary",onClick:function(){localStorage.clear()}},"Clear Local Storage")))))}xV.propTypes={handleClickNavTab:Oo().func.isRequired,logo:Oo().string.isRequired};const wV=a.p+"assets/images/NFWF_logo_navbar.3888f738.png";var EV=Lo((function(e){return{CardBackground:ka({backgroundColor:e.palette.CRESTGridBackground.dark,color:e.palette.CRESTGridBackground.contrastText,borderColor:e.palette.CRESTBorderColor.main,minHeight:"115px"},e.breakpoints.down("md"),{minHeight:"56px"})}})),SV=function(e){return e.navBar};function CV(e){var t=ne(),r=ae(SV);(0,n.useEffect)((function(){var e=window.location.pathname.replace("/","");r&&r===e||t(rf(e))}),[t,r]);var i=function(e,n){t(rf(n))},o=He((0,Fe.Z)().breakpoints.down("md")),a=EV();return n.createElement(xa,{square:!1,elevation:3,className:a.CardBackground,px:0,pb:.75},n.createElement(ct,{container:!0,spacing:0,justifyContent:"center",alignItems:"center"},o?n.createElement(vV,{handleClickNavTab:i,logo:wV}):n.createElement(xV,{handleClickNavTab:i,logo:wV})))}function TV(e){return(0,et.Z)("MuiDialogContentText",e)}(0,tt.Z)("MuiDialogContentText",["root"]);const IV=["children"],kV=(0,Je.ZP)(Uo,{shouldForwardProp:e=>(0,Je.FO)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),PV=n.forwardRef((function(e,t){const n=(0,Ee.Z)({props:e,name:"MuiDialogContentText"}),r=(0,le.Z)(n,IV),o=(e=>{const{classes:t}=e,n=(0,Ke.Z)({root:["root"]},TV,t);return(0,i.Z)({},t,n)})(r);return(0,ye.jsx)(kV,(0,i.Z)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:r},n,{classes:o}))}));function LV(e){var t=e.contentTitle,r=e.contentMessage,i=e.buttonMessage,o=e.onClose,a=e.open;return n.createElement(Om,{open:a,onClose:o,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},n.createElement(Fm,null,t),n.createElement(Hm,null,n.createElement(PV,{id:"alert-dialog-description"},r)),n.createElement(Um,null,n.createElement(ss,{onClick:o,autoFocus:!0},i)))}function MV(){var e=Xe(n.useState(0),2),t=e[0],r=e[1],i=Xe(n.useState(!1),2),o=i[0],a=i[1];return 5===t&&(a(!0),r(0)),o?n.createElement(LV,{contentMessage:"ERROR",buttonMessage:"Okay",onClose:function(){a(!1)},open:o}):n.createElement("div",null,n.createElement("button",{onClick:function(){return r(t+1)}},"Increase")," ",n.createElement("br",null),"Value of A: ",t," ",n.createElement("br",null),"Error: ",o)}function AV(){return n.createElement(Ue,{theme:Pj},n.createElement(De,null),n.createElement("div",{className:"App",style:{height:"100%"}},n.createElement(we,{px:0,pb:.75},n.createElement(CV,null)),n.createElement(v,null,n.createElement(g,{path:"/",element:n.createElement(pZ,null)}),n.createElement(g,{path:"ResilienceProject",element:n.createElement(dZ,null)}),n.createElement(g,{path:"/AnalyzeProjectSites",element:n.createElement(kj,null)}),n.createElement(g,{path:"/Examples",element:n.createElement(Bj,null)}),n.createElement(g,{path:"/DataAndReports",element:n.createElement(Fj,null)}),n.createElement(g,{path:"/About",element:n.createElement(Ia,null)}),n.createElement(g,{path:"/StyleGuide",element:n.createElement(mV,null)}),n.createElement(g,{path:"/CodeTest",element:n.createElement(MV,null)}))))}LV.propTypes={contentTitle:Oo().string,contentMessage:Oo().string,buttonMessage:Oo().string,onClose:Oo().func,open:Oo().bool};var OV=function(e){var t,n=function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Sp);return n&&(function(e){return"boolean"==typeof e}(n)?r.push(fp):r.push(fp.withExtraArgument(n.extraArgument))),r}(e)},r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,u=void 0===l||l,c=r.preloadedState,h=void 0===c?void 0:c,p=r.enhancers,d=void 0===p?void 0:p;if("function"==typeof o)t=o;else{if(!function(e){if("object"!=typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=up(o)}var f=s;"function"==typeof f&&(f=f(n));var m=hp.apply(void 0,f),g=cp;u&&(g=Ep(wp({trace:!1},"object"==typeof u&&u)));var y=[m];return Array.isArray(d)?y=gp([m],d):"function"==typeof d&&(y=d(y)),lp(t,h,g.apply(void 0,y))}({devTools:!0,reducer:up({selectedRegion:dd,mapProperties:Gp,AnalyzeArea:Uw,mapLayerList:Gd,navBar:af}),preloadedState:sf()});OV.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(t){console.log("Failed to write ".concat(e," to local storage"))}}(OV.getState())}));var RV=document.getElementById("root");(0,r.s)(RV).render(n.createElement(X,{store:OV},n.createElement(B,null,n.createElement(AV,null))))})()})();